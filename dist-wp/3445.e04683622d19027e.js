"use strict";(self.webpackChunkangular_17_test=self.webpackChunkangular_17_test||[]).push([[3445],{4460:(ne,bt,J)=>{J.d(bt,{e:()=>Et});var Dt,z,et=J(90104),Y={exports:{}};Dt=Y,void 0!==(z=function(){function It(h,_,E){E=E||2;var T,A,m,O,H,W,yt,pt=_&&_.length,Mt=pt?_[0]*E:h.length,ct=ot(h,0,Mt,E,!0),Q=[];if(!ct||ct.next===ct.prev)return Q;if(pt&&(ct=function S(h,_,E,T){var A,m,O,H=[];for(A=0,m=_.length;A<m;A++)(O=ot(h,_[A]*T,A<m-1?_[A+1]*T:h.length,T,!1))===O.next&&(O.steiner=!0),H.push(Ut(O));for(H.sort(tt),A=0;A<H.length;A++)E=M(E=Tt(H[A],E),E.next);return E}(h,_,ct,E)),h.length>80*E){T=m=h[0],A=O=h[1];for(var $=E;$<Mt;$+=E)(H=h[$])<T&&(T=H),(W=h[$+1])<A&&(A=W),H>m&&(m=H),W>O&&(O=W);yt=0!==(yt=Math.max(m-T,O-A))?1/yt:0}return w(ct,Q,E,T,A,yt),Q}function ot(h,_,E,T,A){var m,O;if(A===Ht(h,_,E,T)>0)for(m=_;m<E;m+=T)O=rt(m,h[m],h[m+1],O);else for(m=E-T;m>=_;m-=T)O=rt(m,h[m],h[m+1],O);if(O&&st(O,O.next)){var H=O.next;ht(O),O=H}return O}function M(h,_){if(!h)return h;_||(_=h);var E,T=h;do{if(E=!1,T.steiner||!st(T,T.next)&&0!==j(T.prev,T,T.next))T=T.next;else{var A=T.prev;if(ht(T),(T=_=A)===T.next)break;E=!0}}while(E||T!==_);return _}function w(h,_,E,T,A,m,O){if(h){!O&&m&&function wt(h,_,E,T){var A=h;do{null===A.z&&(A.z=Ct(A.x,A.y,_,E,T)),A.prevZ=A.prev,A.nextZ=A.next,A=A.next}while(A!==h);A.prevZ.nextZ=null,A.prevZ=null,function Nt(h){var _,E,T,A,m,O,H,W,yt=1;do{for(E=h,h=null,m=null,O=0;E;){for(O++,T=E,H=0,_=0;_<yt&&(H++,T=T.nextZ);_++);for(W=yt;H>0||W>0&&T;)0!==H&&(0===W||!T||E.z<=T.z)?(A=E,E=E.nextZ,H--):(A=T,T=T.nextZ,W--),m?m.nextZ=A:h=A,A.prevZ=m,m=A;E=T}m.nextZ=null,yt*=2}while(O>1)}(A)}(h,T,A,m);for(var H,W,yt=h;h.prev!==h.next;)if(H=h.prev,W=h.next,m?P(h,T,A,m):G(h))_.push(H.i/E),_.push(h.i/E),_.push(W.i/E),ht(h),h=W.next,yt=W.next;else if((h=W)===yt){O?1===O?w(h=q(M(h),_,E),_,E,T,A,m,2):2===O&&k(h,_,E,T,A,m):w(M(h),_,E,T,A,m,1);break}}}function G(h){var _=h.prev,E=h,T=h.next;if(j(_,E,T)>=0)return!1;for(var A=h.next.next;A!==h.prev;){if(Lt(_.x,_.y,E.x,E.y,T.x,T.y,A.x,A.y)&&j(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function P(h,_,E,T){var A=h.prev,m=h,O=h.next;if(j(A,m,O)>=0)return!1;for(var yt=A.x>m.x?A.x>O.x?A.x:O.x:m.x>O.x?m.x:O.x,pt=A.y>m.y?A.y>O.y?A.y:O.y:m.y>O.y?m.y:O.y,Mt=Ct(A.x<m.x?A.x<O.x?A.x:O.x:m.x<O.x?m.x:O.x,A.y<m.y?A.y<O.y?A.y:O.y:m.y<O.y?m.y:O.y,_,E,T),ct=Ct(yt,pt,_,E,T),Q=h.prevZ,$=h.nextZ;Q&&Q.z>=Mt&&$&&$.z<=ct;){if(Q!==h.prev&&Q!==h.next&&Lt(A.x,A.y,m.x,m.y,O.x,O.y,Q.x,Q.y)&&j(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,$!==h.prev&&$!==h.next&&Lt(A.x,A.y,m.x,m.y,O.x,O.y,$.x,$.y)&&j($.prev,$,$.next)>=0))return!1;$=$.nextZ}for(;Q&&Q.z>=Mt;){if(Q!==h.prev&&Q!==h.next&&Lt(A.x,A.y,m.x,m.y,O.x,O.y,Q.x,Q.y)&&j(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;$&&$.z<=ct;){if($!==h.prev&&$!==h.next&&Lt(A.x,A.y,m.x,m.y,O.x,O.y,$.x,$.y)&&j($.prev,$,$.next)>=0)return!1;$=$.nextZ}return!0}function q(h,_,E){var T=h;do{var A=T.prev,m=T.next.next;!st(A,m)&&lt(A,T,T.next,m)&&t(A,m)&&t(m,A)&&(_.push(A.i/E),_.push(T.i/E),_.push(m.i/E),ht(T),ht(T.next),T=h=m),T=T.next}while(T!==h);return M(T)}function k(h,_,E,T,A,m){var O=h;do{for(var H=O.next.next;H!==O.prev;){if(O.i!==H.i&&mt(O,H)){var W=kt(O,H);return O=M(O,O.next),W=M(W,W.next),w(O,_,E,T,A,m),void w(W,_,E,T,A,m)}H=H.next}O=O.next}while(O!==h)}function tt(h,_){return h.x-_.x}function _t(h){if(h.next.prev===h)return h;let _=h;for(;;){const E=_.next;if(E.prev===_||E===_||E===h)break;_=E}return _}function Tt(h,_){var E=function At(h,_){var E,T=_,A=h.x,m=h.y,O=-1/0;do{if(m<=T.y&&m>=T.next.y&&T.next.y!==T.y){var H=T.x+(m-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(H<=A&&H>O){if(O=H,H===A){if(m===T.y)return T;if(m===T.next.y)return T.next}E=T.x<T.next.x?T:T.next}}T=T.next}while(T!==_);if(!E)return null;if(A===O)return E;var W,yt=E,pt=E.x,Mt=E.y,ct=1/0;T=E;do{A>=T.x&&T.x>=pt&&A!==T.x&&Lt(m<Mt?A:O,m,pt,Mt,m<Mt?O:A,m,T.x,T.y)&&(W=Math.abs(m-T.y)/(A-T.x),t(T,h)&&(W<ct||W===ct&&(T.x>E.x||T.x===E.x&&Bt(E,T)))&&(E=T,ct=W)),T=T.next}while(T!==yt);return E}(h,_);if(!E)return _;var T=kt(E,h),A=M(E,E.next);let m=_t(T);return M(m,m.next),A=_t(A),_t(_===E?A:_)}function Bt(h,_){return j(h.prev,h,_.prev)<0&&j(_.next,h,h.next)<0}function Ct(h,_,E,T,A){return(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=32767*(h-E)*A)|h<<8))|h<<4))|h<<2))|h<<1))|(_=1431655765&((_=858993459&((_=252645135&((_=16711935&((_=32767*(_-T)*A)|_<<8))|_<<4))|_<<2))|_<<1))<<1}function Ut(h){var _=h,E=h;do{(_.x<E.x||_.x===E.x&&_.y<E.y)&&(E=_),_=_.next}while(_!==h);return E}function Lt(h,_,E,T,A,m,O,H){return(A-O)*(_-H)-(h-O)*(m-H)>=0&&(h-O)*(T-H)-(E-O)*(_-H)>=0&&(E-O)*(m-H)-(A-O)*(T-H)>=0}function mt(h,_){return h.next.i!==_.i&&h.prev.i!==_.i&&!function B(h,_){var E=h;do{if(E.i!==h.i&&E.next.i!==h.i&&E.i!==_.i&&E.next.i!==_.i&&lt(E,E.next,h,_))return!0;E=E.next}while(E!==h);return!1}(h,_)&&(t(h,_)&&t(_,h)&&function Wt(h,_){var E=h,T=!1,A=(h.x+_.x)/2,m=(h.y+_.y)/2;do{E.y>m!=E.next.y>m&&E.next.y!==E.y&&A<(E.next.x-E.x)*(m-E.y)/(E.next.y-E.y)+E.x&&(T=!T),E=E.next}while(E!==h);return T}(h,_)&&(j(h.prev,h,_.prev)||j(h,_.prev,_))||st(h,_)&&j(h.prev,h,h.next)>0&&j(_.prev,_,_.next)>0)}function j(h,_,E){return(_.y-h.y)*(E.x-_.x)-(_.x-h.x)*(E.y-_.y)}function st(h,_){return h.x===_.x&&h.y===_.y}function lt(h,_,E,T){var A=gt(j(h,_,E)),m=gt(j(h,_,T)),O=gt(j(E,T,h)),H=gt(j(E,T,_));return A!==m&&O!==H||!(0!==A||!X(h,E,_))||!(0!==m||!X(h,T,_))||!(0!==O||!X(E,h,T))||!(0!==H||!X(E,_,T))}function X(h,_,E){return _.x<=Math.max(h.x,E.x)&&_.x>=Math.min(h.x,E.x)&&_.y<=Math.max(h.y,E.y)&&_.y>=Math.min(h.y,E.y)}function gt(h){return h>0?1:h<0?-1:0}function t(h,_){return j(h.prev,h,h.next)<0?j(h,_,h.next)>=0&&j(h,h.prev,_)>=0:j(h,_,h.prev)<0||j(h,h.next,_)<0}function kt(h,_){var E=new ft(h.i,h.x,h.y),T=new ft(_.i,_.x,_.y),A=h.next,m=_.prev;return h.next=_,_.prev=h,E.next=A,A.prev=E,T.next=E,E.prev=T,m.next=T,T.prev=m,T}function rt(h,_,E,T){var A=new ft(h,_,E);return T?(A.next=T.next,A.prev=T,T.next.prev=A,T.next=A):(A.prev=A,A.next=A),A}function ht(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function ft(h,_,E){this.i=h,this.x=_,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ht(h,_,E,T){for(var A=0,m=_,O=E-T;m<E;m+=T)A+=(h[O]-h[m])*(h[m+1]+h[O+1]),O=m;return A}return It.deviation=function(h,_,E,T){var A=_&&_.length,O=Math.abs(Ht(h,0,A?_[0]*E:h.length,E));if(A)for(var H=0,W=_.length;H<W;H++)O-=Math.abs(Ht(h,_[H]*E,H<W-1?_[H+1]*E:h.length,E));var Mt=0;for(H=0;H<T.length;H+=3){var ct=T[H]*E,Q=T[H+1]*E,$=T[H+2]*E;Mt+=Math.abs((h[ct]-h[$])*(h[Q+1]-h[ct+1])-(h[ct]-h[Q])*(h[$+1]-h[ct+1]))}return 0===O&&0===Mt?0:Math.abs((Mt-O)/O)},It.flatten=function(h){for(var _=h[0][0].length,E={vertices:[],holes:[],dimensions:_},T=0,A=0;A<h.length;A++){for(var m=0;m<h[A].length;m++)for(var O=0;O<_;O++)E.vertices.push(h[A][m][O]);A>0&&E.holes.push(T+=h[A-1].length)}return E},It}())&&(Dt.exports=z);const Et=(0,et.g)(Y.exports)},40485:(ne,bt,J)=>{J.d(bt,{Z:()=>It});var nt,ot,et=J(14007),Dt=J(51479);(ot=nt||(nt={}))[ot.varint=0]="varint",ot[ot.fixed64=1]="fixed64",ot[ot.delimited=2]="delimited",ot[ot.fixed32=5]="fixed32",ot[ot.unknown=99]="unknown";const z=4294967296,Y=new TextDecoder("utf-8"),Et=(0,et.Z)("safari")||(0,et.Z)("ios")?6:(0,et.Z)("ff")?12:32;class It{constructor(M,w,G=0,P=(M?M.byteLength:0)){this._tag=0,this._dataType=nt.unknown,this._init(M,w,G,P)}_init(M,w,G,P){this._data=M,this._dataView=w,this._pos=G,this._end=P}asUnsafe(){return this}clone(){return new It(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(M){this._pos=M}nextTag(M){for(;;){if(this._pos===this._end)return!1;const w=this._decodeVarint();if(this._tag=w>>3,this._dataType=7&w,!M||M===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const M=this._decodeVarint();return this._tag=M>>3,this._dataType=7&M,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let M=4294967295;return M=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?M:(M=(M|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?M:(M=(M|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?M:(M=(M|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?M:(M=(M|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?M:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const M=this.getUInt32();if(void 0!==M)return M>>>1^-(1&M)|0}getSInt64(){return this._decodeSVarint()}getBool(){const M=0!==this._data[this._pos];return this._skip(1),M}getEnum(){return this._decodeVarint()}getFixed64(){const M=this._dataView,w=this._pos,G=M.getUint32(w,!0)+M.getUint32(w+4,!0)*z;return this._skip(8),G}getSFixed64(){const M=this._dataView,w=this._pos,G=M.getUint32(w,!0)+M.getInt32(w+4,!0)*z;return this._skip(8),G}getDouble(){const M=this._dataView.getFloat64(this._pos,!0);return this._skip(8),M}getFixed32(){const M=this._dataView.getUint32(this._pos,!0);return this._skip(4),M}getSFixed32(){const M=this._dataView.getInt32(this._pos,!0);return this._skip(4),M}getFloat(){const M=this._dataView.getFloat32(this._pos,!0);return this._skip(4),M}getString(){const M=this._getLength(),w=this._pos,G=this._toString(this._data,w,w+M);return this._skip(M),G}getBytes(){const M=this._getLength(),w=this._pos,G=this._toBytes(this._data,w,w+M);return this._skip(M),G}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(M,w,G,P){const q=this.getMessage(),k=M(q,w,G,P);return q.release(),k}processMessage(M){const w=this.getMessage(),G=M(w);return w.release(),G}getMessage(){const M=this._getLength(),w=It.pool.acquire();return w._init(this._data,this._dataView,this._pos,this._pos+M),this._skip(M),w}release(){It.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case nt.varint:this._decodeVarint();break;case nt.fixed64:this._skip(8);break;case nt.delimited:this._skip(this._getLength());break;case nt.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(M){this._skip(M)}_skip(M){if(this._pos+M>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=M}_decodeVarint(){const M=this._data;let w=this._pos,G=0,P=0;if(this._end-w>=10)do{if(P=M[w++],G|=127&P,0==(128&P)||(P=M[w++],G|=(127&P)<<7,0==(128&P))||(P=M[w++],G|=(127&P)<<14,0==(128&P))||(P=M[w++],G|=(127&P)<<21,0==(128&P))||(P=M[w++],G+=268435456*(127&P),0==(128&P))||(P=M[w++],G+=34359738368*(127&P),0==(128&P))||(P=M[w++],G+=4398046511104*(127&P),0==(128&P))||(P=M[w++],G+=562949953421312*(127&P),0==(128&P))||(P=M[w++],G+=72057594037927940*(127&P),0==(128&P))||(P=M[w++],G+=0x8000000000000000*(127&P),0==(128&P)))break;throw new Error("Varint too long!")}while(0);else{let q=1;for(;w!==this._end&&(P=M[w],0!=(128&P));)++w,G+=(127&P)*q,q*=128;if(w===this._end)throw new Error("Varint overrun!");++w,G+=P*q}return this._pos=w,G}_decodeSVarint(){const M=this._data;let w,G=0,P=0;const q=1&M[this._pos];if(P=M[this._pos++],G|=127&P,0==(128&P)||(P=M[this._pos++],G|=(127&P)<<7,0==(128&P))||(P=M[this._pos++],G|=(127&P)<<14,0==(128&P))||(P=M[this._pos++],G|=(127&P)<<21,0==(128&P))||(P=M[this._pos++],G+=268435456*(127&P),0==(128&P))||(P=M[this._pos++],G+=34359738368*(127&P),0==(128&P))||(P=M[this._pos++],G+=4398046511104*(127&P),0==(128&P)))return q?-(G+1)/2:G/2;if(w=BigInt(G),P=M[this._pos++],w+=0x2000000000000n*BigInt(127&P),0==(128&P)||(P=M[this._pos++],w+=0x100000000000000n*BigInt(127&P),0==(128&P))||(P=M[this._pos++],w+=0x8000000000000000n*BigInt(127&P),0==(128&P)))return Number(q?-(w+1n)/2n:w/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==nt.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(M,w,G){if((G=Math.min(this._end,G))-w>Et){const k=M.subarray(w,G);return Y.decode(k)}let P="",q="";for(let k=w;k<G;++k){const S=M[k];128&S?q+="%"+S.toString(16):(P+=decodeURIComponent(q)+String.fromCharCode(S),q="")}return q.length&&(P+=decodeURIComponent(q)),P}_toBytes(M,w,G){return G=Math.min(this._end,G),new Uint8Array(M.buffer,w,G-w)}}It.pool=new Dt.Z(It,void 0,ot=>{ot._data=null,ot._dataView=null})},97244:(ne,bt,J)=>{J.d(bt,{b:()=>G,j:()=>It});var et=J(15861),Dt=J(98930),nt=J(14007);const z=128e3;let Y=null,Et=null;function It(){return ot.apply(this,arguments)}function ot(){return ot=(0,et.Z)(function*(){return Y||(Y=function M(){return w.apply(this,arguments)}()),Y}),ot.apply(this,arguments)}function w(){return(w=(0,et.Z)(function*(){Et=yield((0,nt.Z)("esri-csp-restrictions")?yield J.e(5246).then(J.bind(J,15246)).then(q=>q.l):yield J.e(8392).then(J.bind(J,28392)).then(q=>q.l)).load({locateFile:q=>(0,Dt.V)(`esri/core/libs/libtess/${q}`)})})).apply(this,arguments)}function G(P,q){const k=Math.max(P.length,z);return Et.triangulate(P,q,k)}},35029:(ne,bt,J)=>{J.r(bt),J.d(bt,{default:()=>se});var et=J(15861),Dt=J(79412),nt=J(17866),z=J(80247),Y=J(26128);function It(u){return!(u<11904)&&(u>=12704&&u<=12735||u>=12544&&u<=12591||u>=65072&&u<=65103||u>=63744&&u<=64255||u>=13056&&u<=13311||u>=11904&&u<=12031||u>=12736&&u<=12783||u>=12288&&u<=12351||u>=13312&&u<=19903||u>=19968&&u<=40959||u>=12800&&u<=13055||u>=65280&&u<=65519||u>=12352&&u<=12447||u>=12272&&u<=12287||u>=12032&&u<=12255||u>=12784&&u<=12799||u>=12448&&u<=12543||u>=65040&&u<=65055||u>=42128&&u<=42191||u>=40960&&u<=42127)}function ot(u){switch(u){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1}function M(u){switch(u){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1}var w=J(46117);const G=24;class q{constructor(e,i,r,n,o,a,l){this._glyphItems=e,this._maxWidth=i,this._lineHeight=r,this._letterSpacing=n,this._hAnchor=o,this._vAnchor=a,this._justify=l}getShaping(e,i,r){const n=this._letterSpacing,o=this._lineHeight,a=this._justify,l=this._maxWidth,c=[];let f=0,y=0;for(const N of e){const D=N.codePointAt(0);if(null==D)continue;const F=r&&(746===(u=D)||747===u||!(u<4352)&&(u>=12704&&u<=12735||u>=12544&&u<=12591||u>=65072&&u<=65103&&!(u>=65097&&u<=65103)||u>=63744&&u<=64255||u>=13056&&u<=13311||u>=11904&&u<=12031||u>=12736&&u<=12783||u>=12288&&u<=12351&&!(u>=12296&&u<=12305||u>=12308&&u<=12319||12336===u)||u>=13312&&u<=19903||u>=19968&&u<=40959||u>=12800&&u<=13055||u>=12592&&u<=12687||u>=43360&&u<=43391||u>=55216&&u<=55295||u>=4352&&u<=4607||u>=44032&&u<=55215||u>=12352&&u<=12447||u>=12272&&u<=12287||u>=12688&&u<=12703||u>=12032&&u<=12255||u>=12784&&u<=12799||u>=12448&&u<=12543&&12540!==u||u>=65280&&u<=65519&&!(65288===u||65289===u||65293===u||u>=65306&&u<=65310||65339===u||65341===u||65343===u||u>=65371&&u<=65503||65507===u||u>=65512&&u<=65519)||u>=65104&&u<=65135&&!(u>=65112&&u<=65118||u>=65123&&u<=65126)||u>=5120&&u<=5759||u>=6320&&u<=6399||u>=65040&&u<=65055||u>=19904&&u<=19967||u>=40960&&u<=42127||u>=42128&&u<=42191));let L;for(const v of this._glyphItems)if(L=v[D],L)break;c.push({codePoint:D,x:f,y,vertical:F,glyphMosaicItem:L}),L&&(f+=L.metrics.advance+n)}var u;let d=f;l>0&&(d=f/Math.max(1,Math.ceil(f/l)));const x=e.includes("\u200b"),g=[],p=c.length;for(let N=0;N<p-1;N++){const D=c[N].codePoint,F=It(D);if(ot(D)||F){let L=0;if(10===D)L-=1e4;else if(F&&x)L+=150;else{40!==D&&65288!==D||(L+=50);const v=c[N+1].codePoint;41!==v&&65289!==v||(L+=50)}g.push(this._buildBreak(N+1,c[N].x,d,g,L,!1))}}const I=this._optimalBreaks(this._buildBreak(p,f,d,g,0,!0));let U=0;const R=i?-o:o;let C=0;for(let N=0;N<I.length;N++){const D=I[N];let F=C;for(;F<D&&M(c[F].codePoint);)c[F].glyphMosaicItem=null,++F;let L=D-1;for(;L>F&&M(c[L].codePoint);)c[L].glyphMosaicItem=null,--L;if(F<=L){const v=c[F].x;for(let V=F;V<=L;V++)c[V].x-=v,c[V].y=y;let Z=c[L].x;c[L].glyphMosaicItem&&(Z+=c[L].glyphMosaicItem.metrics.advance),U=Math.max(Z,U),a&&this._applyJustification(c,F,L)}C=D,y+=R}if(c.length>0){const N=I.length-1,D=(a-this._hAnchor)*U;let F=(-this._vAnchor*(N+1)+.5)*o;i&&N&&(F+=N*o);for(const L of c)L.x+=D,L.y+=F}return c.filter(N=>N.glyphMosaicItem)}static getTextBox(e,i){if(!e.length)return null;let r=1/0,n=1/0,o=0,a=0;for(const l of e){const f=l.x,y=l.y-17,d=f+l.glyphMosaicItem.metrics.advance,x=y+i;r=Math.min(r,f),o=Math.max(o,d),n=Math.min(n,y),a=Math.max(a,x)}return{x:r,y:n,width:o-r,height:a-n}}static getBox(e){if(!e.length)return null;let i=1/0,r=1/0,n=0,o=0;for(const a of e){const{height:l,left:c,top:f,width:y}=a.glyphMosaicItem.metrics,d=a.x,x=a.y-(l-Math.abs(f)),g=d+y+c,p=x+l;i=Math.min(i,d),n=Math.max(n,g),r=Math.min(r,x),o=Math.max(o,p)}return{x:i,y:r,width:n-i,height:o-r}}static addDecoration(e,i){const r=e.length;if(0===r)return;let o=e[0].x+e[0].glyphMosaicItem.metrics.left,a=e[0].y;for(let c=1;c<r;c++){const f=e[c];if(f.y!==a){const y=e[c-1].x+e[c-1].glyphMosaicItem.metrics.left+e[c-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:o,y:a+i-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new w.Z(4,0,4,8),metrics:{width:y-o,height:8,left:0,top:0,advance:0},page:0,code:0}}),a=f.y,o=f.x+f.glyphMosaicItem.metrics.left}}const l=e[r-1].x+e[r-1].glyphMosaicItem.metrics.left+e[r-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:o,y:a+i-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new w.Z(4,0,4,8),metrics:{width:l-o,height:8,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(e,i,r,n){const o=(e-i)*(e-i);return n?e<i?o/2:2*o:o+Math.abs(r)*r}_buildBreak(e,i,r,n,o,a){let l=null,c=this._breakScore(i,r,o,a);for(const f of n){const d=this._breakScore(i-f.x,r,o,a)+f.score;d<=c&&(l=f,c=d)}return{index:e,x:i,score:c,previousBreak:l}}_optimalBreaks(e){return e?this._optimalBreaks(e.previousBreak).concat(e.index):[]}_applyJustification(e,i,r){const n=e[r],a=(n.x+(n.vertical?G:n.glyphMosaicItem?n.glyphMosaicItem.metrics.advance:0))*this._justify;for(let l=i;l<=r;l++)e[l].x-=a}}var k=J(9655),S=J(59078);class wt{constructor(e,i,r=0,n=-1,o=.5){this.x=e,this.y=i,this.angle=r,this.segment=n,this.minzoom=o}}class Nt{constructor(e,i,r,n,o,a=.5,l=Y.FM){this.anchor=e,this.labelAngle=i,this.glyphAngle=r,this.page=n,this.alternateVerticalGlyph=o,this.minzoom=a,this.maxzoom=l}}class Ct{constructor(e,i,r,n,o,a,l,c,f,y,d,x){this.tl=e,this.tr=i,this.bl=r,this.br=n,this.mosaicRect=o,this.labelAngle=a,this.minAngle=l,this.maxAngle=c,this.anchor=f,this.minzoom=y,this.maxzoom=d,this.page=x}}class Ut{constructor(e){this.shapes=e}}class Lt{getIconPlacement(e,i,r){const n=new z.E9(e.x,e.y),o=r.rotationAlignment===S.aF.MAP,a=r.keepUpright;let l=r.rotate*Y.nF;o&&(l+=e.angle);const c=new Ut([]);return r.allowOverlap&&r.ignorePlacement||!k.R8||(c.iconColliders=[]),this._addIconPlacement(c,n,i,r,l),o&&a&&this._addIconPlacement(c,n,i,r,l+Y.RD),c}_addIconPlacement(e,i,r,n,o){const a=r.pixelRatio,l=r.width/a,c=r.height/a,f=n.offset;let y=f[0],d=f[1];switch(n.anchor){case S.nR.CENTER:y-=l/2,d-=c/2;break;case S.nR.LEFT:d-=c/2;break;case S.nR.RIGHT:y-=l,d-=c/2;break;case S.nR.TOP:y-=l/2;break;case S.nR.BOTTOM:y-=l/2,d-=c;break;case S.nR.TOP_LEFT:break;case S.nR.BOTTOM_LEFT:d-=c;break;case S.nR.TOP_RIGHT:y-=l;break;case S.nR.BOTTOM_RIGHT:y-=l,d-=c}const x=r.rect,g=2/a,p=y-g,I=d-g,U=p+x.width/a,R=I+x.height/a,C=new z.E9(p,I),N=new z.E9(U,R),D=new z.E9(p,R),F=new z.E9(U,I);if(0!==o){const v=Math.cos(o),Z=Math.sin(o);C.rotate(v,Z),N.rotate(v,Z),D.rotate(v,Z),F.rotate(v,Z)}const L=new Ct(C,F,D,N,x,o,0,256,i,.5,Y.FM,0);if(e.shapes.push(L),(!n.allowOverlap||!n.ignorePlacement)&&k.R8){const v=n.size,Z=n.padding;e.iconColliders.push({xTile:i.x,yTile:i.y,dxPixels:y*v-Z,dyPixels:d*v-Z,hard:!n.optional,partIndex:0,width:l*v+2*Z,height:c*v+2*Z,angle:o,minLod:.5,maxLod:Y.FM})}}getTextPlacement(e,i,r,n){const o=new z.E9(e.x,e.y),a=n.rotate*Y.nF,l=n.rotationAlignment===S.aF.MAP,c=n.keepUpright,f=n.padding;let y=.5;const d=l?e.angle:0,x=e.segment>=0&&l,g=n.allowOverlap&&n.ignorePlacement?null:[],p=[],U=!x;let R=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY,N=R,D=C;const F=(x||l)&&c,L=n.size/G;let v=!1;for(const b of i)if(b.vertical){v=!0;break}let Z,V=0,K=0;if(!x&&v){const b=q.getTextBox(i,n.lineHeight*G);switch(n.anchor){case S.nR.LEFT:V=b.height/2,K=-b.width/2;break;case S.nR.RIGHT:V=-b.height/2,K=b.width/2;break;case S.nR.TOP:V=b.height/2,K=b.width/2;break;case S.nR.BOTTOM:V=-b.height/2,K=-b.width/2;break;case S.nR.TOP_LEFT:V=b.height;break;case S.nR.BOTTOM_LEFT:K=-b.width;break;case S.nR.TOP_RIGHT:K=b.width;break;case S.nR.BOTTOM_RIGHT:V=-b.height}}V+=n.offset[0]*G,K+=n.offset[1]*G;for(const b of i){const dt=b.glyphMosaicItem;if(!dt||dt.rect.isEmpty)continue;const ut=dt.rect,xt=dt.metrics,Gt=dt.page;if(g&&U){if(void 0!==Z&&Z!==b.y){let St,Vt,jt,Qt;v?(St=-D+V,Vt=R+K,jt=D-N,Qt=C-R):(St=R+V,Vt=N+K,jt=C-R,Qt=D-N),g.push({xTile:e.x,yTile:e.y,dxPixels:St*L-f,dyPixels:Vt*L-f,hard:!n.optional,partIndex:1,width:jt*L+2*f,height:Qt*L+2*f,angle:a,minLod:.5,maxLod:Y.FM}),R=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY,N=R,D=C}Z=b.y}const te=[];if(x){const Vt=(b.x+xt.left-4+.5*dt.metrics.width)*L*8;if(y=this._placeGlyph(e,y,Vt,r,e.segment,1,b.vertical,Gt,te),c&&(y=this._placeGlyph(e,y,Vt,r,e.segment,-1,b.vertical,Gt,te)),y>=2)break}else te.push(new Nt(o,d,d,Gt,!1)),l&&c&&te.push(new Nt(o,d+Y.RD,d+Y.RD,Gt,!1));const Zt=b.x+xt.left,Jt=b.y-17-xt.top,ee=Zt+xt.width,fe=Jt+xt.height;let Ft,Kt,ae,le,ie,he,de,Ee;!x&&v?b.vertical?(Ft=new z.E9(-((Jt+fe)/2+xt.width/2)-4+V,(Zt+ee)/2-xt.height/2-4+K),Kt=new z.E9(Ft.x+ut.width,Ft.y+ut.height),ae=new z.E9(Ft.x,Kt.y),le=new z.E9(Kt.x,Ft.y)):(Ft=new z.E9(4-Jt+V,Zt-4+K),Kt=new z.E9(Ft.x-ut.height,Ft.y+ut.width),ae=new z.E9(Kt.x,Ft.y),le=new z.E9(Ft.x,Kt.y)):(Ft=new z.E9(Zt-4+V,Jt-4+K),Kt=new z.E9(Ft.x+ut.width,Ft.y+ut.height),ae=new z.E9(Ft.x,Kt.y),le=new z.E9(Kt.x,Ft.y));for(const St of te){let Vt,jt,Qt,$t;St.alternateVerticalGlyph?(ie||(ie=new z.E9((Zt+ee)/2+V-xt.height/2-4,(Jt+fe)/2+K+xt.width/2+4),he=new z.E9(ie.x+ut.height,ie.y-ut.width),de=new z.E9(he.x,ie.y),Ee=new z.E9(ie.x,he.y)),Vt=ie,jt=de,Qt=Ee,$t=he):(Vt=Ft,jt=ae,Qt=le,$t=Kt);const ce=Jt,ye=fe,ue=St.glyphAngle+a;if(0!==ue){const qt=Math.cos(ue),xe=Math.sin(ue);Vt=Vt.clone(),jt=jt?.clone(),Qt=Qt?.clone(),$t=$t?.clone(),Vt.rotate(qt,xe),$t?.rotate(qt,xe),jt?.rotate(qt,xe),Qt?.rotate(qt,xe)}let re=0,oe=256;x&&v?b.vertical?St.alternateVerticalGlyph?(re=32,oe=96):(re=224,oe=32):(re=224,oe=96):(re=192,oe=64),p.push(new Ct(Vt,Qt,jt,$t,ut,St.labelAngle,re,oe,St.anchor,St.minzoom,St.maxzoom,St.page)),!g||F&&!this._legible(St.labelAngle)||(U?(Zt<R&&(R=Zt),ce<N&&(N=ce),ee>C&&(C=ee),ye>D&&(D=ye)):St.minzoom<2&&g.push({xTile:e.x,yTile:e.y,dxPixels:(Zt+V)*L-f,dyPixels:(ce+V)*L-f,hard:!n.optional,partIndex:1,width:(ee-Zt)*L+2*f,height:(ye-ce)*L+2*f,angle:ue,minLod:St.minzoom,maxLod:St.maxzoom}))}}if(y>=2)return null;if(g&&U){let b,dt,ut,xt;v?(b=-D+V,dt=R+K,ut=D-N,xt=C-R):(b=R+V,dt=N+K,ut=C-R,xt=D-N),g.push({xTile:e.x,yTile:e.y,dxPixels:b*L-f,dyPixels:dt*L-f,hard:!n.optional,partIndex:1,width:ut*L+2*f,height:xt*L+2*f,angle:a,minLod:.5,maxLod:Y.FM})}const it=new Ut(p);return g&&g.length>0&&(it.textColliders=g),it}_legible(e){const i=(0,Y.Or)(e);return i<65||i>=193}_placeGlyph(e,i,r,n,o,a,l,c,f){let y=a;const d=y<0?(0,Y.DQ)(e.angle+Y.RD,Y.yF):e.angle;let x=0;r<0&&(y*=-1,r*=-1,x=Y.RD),y>0&&++o;let g=new z.E9(e.x,e.y),p=n[o],I=Y.FM;if(n.length<=o)return I;for(;;){const U=p.x-g.x,R=p.y-g.y,C=Math.sqrt(U*U+R*R),N=Math.max(r/C,i),L=(0,Y.DQ)(Math.atan2(R/C,U/C)+x,Y.yF);if(f.push(new Nt(g,d,L,c,!1,N,I)),l&&f.push(new Nt(g,d,L,c,!0,N,I)),N<=i)return N;g=p.clone();do{if(n.length<=(o+=y)||o<0)return N;p=n[o]}while(g.isEqual(p));let v=p.x-g.x,Z=p.y-g.y;const V=Math.sqrt(v*v+Z*Z);v*=C/V,Z*=C/V,g.x-=v,g.y-=Z,I=N}}}var st,u,mt=J(40485),j=J(97244);(u=st||(st={}))[u.moveTo=1]="moveTo",u[u.lineTo=2]="lineTo",u[u.close=7]="close";class lt{constructor(e,i){this.values={},this._geometry=void 0,this._pbfGeometry=null;const r=i.keys,n=i.values,o=e.asUnsafe();for(;o.next();)switch(o.tag()){case 1:this.id=o.getUInt64();break;case 2:{const a=o.getMessage().asUnsafe(),l=this.values;for(;!a.empty();){const c=a.getUInt32(),f=a.getUInt32();l[r[c]]=n[f]}a.release();break}case 3:this.type=o.getUInt32();break;case 4:this._pbfGeometry=o.getMessage();break;default:o.skip()}}getGeometry(e){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const i=this._pbfGeometry.asUnsafe();let r,n;this._pbfGeometry=null,e?e.reset(this.type):r=[];let o,a=st.moveTo,l=0,c=0,f=0;for(;!i.empty();){if(0===l){const y=i.getUInt32();a=7&y,l=y>>3}switch(l--,a){case st.moveTo:c+=i.getSInt32(),f+=i.getSInt32(),e?e.moveTo(c,f):r&&(n&&r.push(n),n=[],n.push(new z.E9(c,f)));break;case st.lineTo:c+=i.getSInt32(),f+=i.getSInt32(),e?e.lineTo(c,f):n&&n.push(new z.E9(c,f));break;case st.close:e?e.close():n&&!n[0].equals(c,f)&&n.push(n[0].clone());break;default:throw i.release(),new Error("Invalid path operation")}}return e?o=e.result():r&&(n&&r.push(n),o=r),i.release(),this._geometry=o,o}}var X=J(16190);class gt extends X.Z{constructor(){super(12)}add(e,i,r){const n=this.array;n.push(e),n.push(i),n.push(r)}}class t{constructor(e){this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=e.clone();const i=e.asUnsafe();for(;i.next();)switch(i.tag()){case 1:this.name=i.getString();break;case 3:this.keys.push(i.getString());break;case 4:this.values.push(i.processMessage(t._parseValue));break;case 5:this.extent=i.getUInt32();break;default:i.skip()}}getData(){return this._pbfLayer}static _parseValue(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null}}class Wt extends X.Z{constructor(e){super(e)}add(e,i,r,n,o,a,l,c,f,y,d,x){const g=this.array;let p=X.Z.i1616to32(e,i);g.push(p);const I=31;p=X.Z.i8888to32(Math.round(I*r),Math.round(I*n),Math.round(I*o),Math.round(I*a)),g.push(p),p=X.Z.i8888to32(Math.round(I*l),Math.round(I*c),Math.round(I*f),Math.round(I*y)),g.push(p),p=X.Z.i1616to32(d,0),g.push(p),x&&g.push(...x)}}class kt extends X.Z{constructor(e){super(e)}add(e,i,r){const n=this.array;n.push(X.Z.i1616to32(e,i)),r&&n.push(...r)}}class rt extends X.Z{constructor(e){super(e)}add(e,i,r,n,o,a,l){const c=this.array,f=this.index;let y=X.Z.i1616to32(e,i);return c.push(y),y=X.Z.i8888to32(Math.round(15*r),Math.round(15*n),o,a),c.push(y),l&&c.push(...l),f}}class ht extends X.Z{constructor(e){super(e)}add(e,i,r,n,o,a,l,c,f,y,d,x){const g=this.array;let p=X.Z.i1616to32(e,i);g.push(p),p=X.Z.i1616to32(Math.round(8*r),Math.round(8*n)),g.push(p),p=X.Z.i8888to32(o/4,a/4,c,f),g.push(p),p=X.Z.i8888to32(0,(0,Y.Or)(l),10*y,Math.min(10*d,255)),g.push(p),x&&g.push(...x)}}class ft extends X.Z{constructor(e){super(e)}add(e,i,r,n,o){const a=this.array,l=X.Z.i1616to32(2*e+r,2*i+n);a.push(l),o&&a.push(...o)}}class Ht{constructor(e,i,r){this.layerExtent=4096,this._features=[],this.layer=e,this.zoom=i,this._spriteInfo=r,this._filter=e.getFeatureFilter()}pushFeature(e){this._filter&&!this._filter.filter(e,this.zoom)||this._features.push(e)}hasFeatures(){return this._features.length>0}getResources(e,i,r){}}class h extends Ht{constructor(e,i,r,n,o){super(e,i,r),this.type=nt.al.CIRCLE,this._circleVertexBuffer=n,this._circleIndexBuffer=o}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(e){const i=this._circleVertexBuffer,r=this._circleIndexBuffer;this._circleIndexStart=3*r.index,this._circleIndexCount=0;const n=this.layer,o=this.zoom;e&&e.setExtent(this.layerExtent);for(const a of this._features){const l=a.getGeometry(e);if(!l)continue;const c=n.circleMaterial.encodeAttributes(a,o,n);for(const f of l)if(f)for(const y of f){const d=i.index;i.add(y.x,y.y,0,0,c),i.add(y.x,y.y,0,1,c),i.add(y.x,y.y,1,0,c),i.add(y.x,y.y,1,1,c),r.add(d,d+1,d+2),r.add(d+1,d+2,d+3),this._circleIndexCount+=6}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this._circleVertexBuffer.array.length,e+=this._circleIndexBuffer.array.length;const i=new Uint32Array(e),r=new Int32Array(i.buffer);let n=0;i[n++]=this.type,i[n++]=this.layerUIDs.length;for(let o=0;o<this.layerUIDs.length;o++)i[n++]=this.layerUIDs[o];i[n++]=this._circleIndexStart,i[n++]=this._circleIndexCount,i[n++]=this._circleVertexBuffer.array.length;for(let o=0;o<this._circleVertexBuffer.array.length;o++)r[n++]=this._circleVertexBuffer.array[o];i[n++]=this._circleIndexBuffer.array.length;for(let o=0;o<this._circleIndexBuffer.array.length;o++)i[n++]=this._circleIndexBuffer.array[o];return i.buffer}}var _=J(11667),E=J(4460);class T extends Ht{constructor(e,i,r,n,o,a,l){super(e,i,r),this.type=nt.al.FILL,this._patternMap=new Map,this._fillVertexBuffer=n,this._fillIndexBuffer=o,this._outlineVertexBuffer=a,this._outlineIndexBuffer=l}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(e,i,r){const o=this.zoom,a=this.layer.getPaintProperty("fill-pattern");if(a)if(a.isDataDriven)for(const l of this._features)i(a.getValue(o,l),!0);else i(a.getValue(o),!0)}processFeatures(e){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;const i=this.layer,r=this.zoom,{fillMaterial:n,outlineMaterial:o,hasDataDrivenFill:a,hasDataDrivenOutline:l}=i;e&&e.setExtent(this.layerExtent);const c=i.getPaintProperty("fill-pattern"),f=c?.isDataDriven;let y=!c&&i.getPaintValue("fill-antialias",r);if(i.outlineUsesFillColor){if(y&&!i.hasDataDrivenOpacity){const g=i.getPaintValue("fill-opacity",r),p=i.getPaintValue("fill-opacity",r+1);g<1&&p<1&&(y=!1)}if(y&&!i.hasDataDrivenColor){const g=i.getPaintValue("fill-color",r),p=i.getPaintValue("fill-color",r+1);g[3]<1&&p[3]<1&&(y=!1)}}const d=this._features,x=e?.validateTessellation;if(f){const g=[];for(const p of d){const I=c.getValue(r,p),U=this._spriteInfo[I];if(!U?.rect)continue;const R=n.encodeAttributes(p,r,i,U),C=y&&l?o.encodeAttributes(p,r,i):[],N=p.getGeometry(e);g.push({ddFillAttributes:R,ddOutlineAttributes:C,page:U.page,geometry:N}),g.sort((D,F)=>D.page-F.page);for(const{ddFillAttributes:D,ddOutlineAttributes:F,page:L,geometry:v}of g)this._processFeature(v,y,i.outlineUsesFillColor,D,F,x,L)}}else for(const g of d){const p=a?n.encodeAttributes(g,r,i):null,I=y&&l?o.encodeAttributes(g,r,i):null,U=g.getGeometry(e);this._processFeature(U,y,i.outlineUsesFillColor,p,I,x)}}serialize(){let e=10;e+=this.layerUIDs.length,e+=this._fillVertexBuffer.array.length,e+=this._fillIndexBuffer.array.length,e+=this._outlineVertexBuffer.array.length,e+=this._outlineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const i=new Uint32Array(e),r=new Int32Array(i.buffer);let n=0;i[n++]=this.type,i[n++]=this.layerUIDs.length;for(let l=0;l<this.layerUIDs.length;l++)i[n++]=this.layerUIDs[l];i[n++]=this._fillIndexStart,i[n++]=this._fillIndexCount,i[n++]=this._outlineIndexStart,i[n++]=this._outlineIndexCount;const o=this._patternMap,a=o.size;if(i[n++]=a,a>0)for(const[l,[c,f]]of o)i[n++]=l,i[n++]=c,i[n++]=f;i[n++]=this._fillVertexBuffer.array.length;for(let l=0;l<this._fillVertexBuffer.array.length;l++)r[n++]=this._fillVertexBuffer.array[l];i[n++]=this._fillIndexBuffer.array.length;for(let l=0;l<this._fillIndexBuffer.array.length;l++)i[n++]=this._fillIndexBuffer.array[l];i[n++]=this._outlineVertexBuffer.array.length;for(let l=0;l<this._outlineVertexBuffer.array.length;l++)r[n++]=this._outlineVertexBuffer.array[l];i[n++]=this._outlineIndexBuffer.array.length;for(let l=0;l<this._outlineIndexBuffer.array.length;l++)i[n++]=this._outlineIndexBuffer.array[l];return i.buffer}_processFeature(e,i,r,n,o,a,l){if(!e)return;const c=e.length;if(i&&(!r||!o||0===o.length))for(let x=0;x<c;x++)this._processOutline(e[x],o);let d;for(let x=0;x<c;x++){const g=T._area(e[x]);g>32?(void 0!==d&&this._processFill(e,d,n,a,l),d=[x]):g<-32&&void 0!==d&&d.push(x)}void 0!==d&&this._processFill(e,d,n,a,l)}_processOutline(e,i){const r=this._outlineVertexBuffer,n=this._outlineIndexBuffer,o=n.index;let a,l,c;const f=new z.E9(0,0),y=new z.E9(0,0),d=new z.E9(0,0);let x=-1,g=-1,p=-1,I=-1,U=-1,R=!1,N=e.length;if(N<2)return;const D=e[0];let F=e[N-1];for(;N&&F.isEqual(D);)--N,F=e[N-1];if(!(N-0<2)){for(let L=0;L<N;++L){0===L?(a=e[N-1],l=e[0],c=e[1],f.assignSub(l,a),f.normalize(),f.rightPerpendicular()):(a=l,l=c,c=L!==N-1?e[L+1]:e[0],f.assign(y));const v=this._isClipEdge(a,l);-1===I&&(R=v),y.assignSub(c,l),y.normalize(),y.rightPerpendicular();const Z=f.x*y.y-f.y*y.x;d.assignAdd(f,y),d.normalize();const V=-d.x*-f.x+-d.y*-f.y;let K=Math.abs(0!==V?1/V:1);K>8&&(K=8),Z>=0?(p=r.add(l.x,l.y,f.x,f.y,0,1,i),-1===I&&(I=p),x>=0&&g>=0&&p>=0&&!v&&n.add(x,g,p),g=r.add(l.x,l.y,K*-d.x,K*-d.y,0,-1,i),-1===U&&(U=g),x>=0&&g>=0&&p>=0&&!v&&n.add(x,g,p),x=g,g=p,p=r.add(l.x,l.y,d.x,d.y,0,1,i),x>=0&&g>=0&&p>=0&&!v&&n.add(x,g,p),g=r.add(l.x,l.y,y.x,y.y,0,1,i),x>=0&&g>=0&&p>=0&&!v&&n.add(x,g,p)):(p=r.add(l.x,l.y,K*d.x,K*d.y,0,1,i),-1===I&&(I=p),x>=0&&g>=0&&p>=0&&!v&&n.add(x,g,p),g=r.add(l.x,l.y,-f.x,-f.y,0,-1,i),-1===U&&(U=g),x>=0&&g>=0&&p>=0&&!v&&n.add(x,g,p),x=g,g=p,p=r.add(l.x,l.y,-d.x,-d.y,0,-1,i),x>=0&&g>=0&&p>=0&&!v&&n.add(x,g,p),x=r.add(l.x,l.y,-y.x,-y.y,0,-1,i),x>=0&&g>=0&&p>=0&&!v&&n.add(x,g,p))}x>=0&&g>=0&&I>=0&&!R&&n.add(x,g,I),x>=0&&I>=0&&U>=0&&!R&&n.add(x,U,I),this._outlineIndexCount+=3*(n.index-o)}}_processFill(e,i,r,n,o){let a;i.length>1&&(a=[]);let l=0;for(const d of i)0!==l&&a.push(l),l+=e[d].length;const c=2*l,f=_.Z.acquire();for(const d of i){const x=e[d],g=x.length;for(let p=0;p<g;++p)f.push(x[p].x,x[p].y)}const y=(0,E.e)(f,a,2);if(E.e.deviation(f,a,2,y)>0){const d=i.map(p=>e[p].length),{buffer:x,vertexCount:g}=(0,j.b)(f,d);if(g>0){const p=this._fillVertexBuffer.index;for(let I=0;I<g;I++)this._fillVertexBuffer.add(x[2*I],x[2*I+1],r);for(let I=0;I<g;I+=3){const U=p+I;this._fillIndexBuffer.add(U,U+1,U+2)}if(void 0!==o){const I=this._patternMap,U=I.get(o);U?U[1]+=g:I.set(o,[this._fillIndexStart+this._fillIndexCount,g])}this._fillIndexCount+=g}}else{const d=y.length;if(d>0){const x=this._fillVertexBuffer.index;let g=0;for(;g<c;)this._fillVertexBuffer.add(f[g++],f[g++],r);let p=0;for(;p<d;)this._fillIndexBuffer.add(x+y[p++],x+y[p++],x+y[p++]);if(void 0!==o){const I=this._patternMap,U=I.get(o);U?U[1]+=d:I.set(o,[this._fillIndexStart+this._fillIndexCount,d])}this._fillIndexCount+=d}}_.Z.release(f)}_isClipEdge(e,i){return e.x===i.x?e.x<=-64||e.x>=4160:e.y===i.y&&(e.y<=-64||e.y>=4160)}static _area(e){let i=0;const r=e.length-1;for(let n=0;n<r;n++)i+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return i+=(e[r].x-e[0].x)*(e[r].y+e[0].y),.5*i}}var A=J(28179);class O extends Ht{constructor(e,i,r,n,o){super(e,i,r),this.type=nt.al.LINE,this._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},this._patternMap=new Map,this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},this.tessellationProperties._lineVertexBuffer=n,this.tessellationProperties._lineIndexBuffer=o,this._lineTessellator=new A.z(H(this.tessellationProperties),W(this.tessellationProperties),e.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(e,i,r){const n=this.layer,o=this.zoom,a=n.getPaintProperty("line-pattern"),l=n.getPaintProperty("line-dasharray"),c=n.getLayoutProperty("line-cap");if(!a&&!l)return;const f=c?.getValue(o)||0,y=c?.isDataDriven,d=a?.isDataDriven,x=l?.isDataDriven;if(d||x)for(const g of this._features)i(d?a.getValue(o,g):this._getDashArrayKey(g,o,n,l,y,c,f));else if(a)i(a.getValue(o));else if(l){const g=l.getValue(o);i(n.getDashKey(g,f))}}processFeatures(e){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;const i=this.layer,r=this.zoom,n=this._features,o=this._tessellationOptions,{hasDataDrivenLine:a,lineMaterial:l}=i;e&&e.setExtent(this.layerExtent);const c=i.getPaintProperty("line-pattern"),f=i.getPaintProperty("line-dasharray"),y=c?.isDataDriven,d=f?.isDataDriven;let x;x=i.getLayoutProperty("line-cap");const g=x?.isDataDriven?x:null,p=g?null:i.getLayoutValue("line-cap",r),I=p||0,U=!!g;x=i.getLayoutProperty("line-join");const R=x?.isDataDriven?x:null,C=R?null:i.getLayoutValue("line-join",r);x=i.getLayoutProperty("line-miter-limit");const N=x?.isDataDriven?x:null,D=N?null:i.getLayoutValue("line-miter-limit",r);x=i.getLayoutProperty("line-round-limit");const F=x?.isDataDriven?x:null,L=F?null:i.getLayoutValue("line-round-limit",r);x=i.getPaintProperty("line-width");const v=x?.isDataDriven?x:null,Z=v?null:i.getPaintValue("line-width",r);x=i.getPaintProperty("line-offset");const V=x?.isDataDriven?x:null,K=V?null:i.getPaintValue("line-offset",r);if(y||d){const it=[];for(const b of n){const dt=y?c.getValue(r,b):this._getDashArrayKey(b,r,i,f,U,g,I),ut=this._spriteInfo[dt];if(!ut?.rect)continue;const xt=l.encodeAttributes(b,r,i,ut),Gt=b.getGeometry(e);it.push({ddAttributes:xt,page:ut.page,cap:g?g.getValue(r,b):p,join:R?R.getValue(r,b):C,miterLimit:N?N.getValue(r,b):D,roundLimit:F?F.getValue(r,b):L,halfWidth:.5*(v?v.getValue(r,b):Z),offset:V?V.getValue(r,b):K,geometry:Gt})}it.sort((b,dt)=>b.page-dt.page),o.textured=!0;for(const{ddAttributes:b,page:dt,cap:ut,join:xt,miterLimit:Gt,roundLimit:te,halfWidth:Zt,offset:Jt,geometry:ee}of it)o.capType=ut,o.joinType=xt,o.miterLimit=Gt,o.roundLimit=te,o.halfWidth=Zt,o.offset=Jt,this._processFeature(ee,b,dt)}else{if(c){const it=c.getValue(r);if(!this._spriteInfo[it]?.rect)return}o.textured=!(!c&&!f),o.capType=p,o.joinType=C,o.miterLimit=D,o.roundLimit=L,o.halfWidth=.5*Z,o.offset=K;for(const it of n){const b=a?l.encodeAttributes(it,r,i):null;g&&(o.capType=g.getValue(r,it)),R&&(o.joinType=R.getValue(r,it)),N&&(o.miterLimit=N.getValue(r,it)),F&&(o.roundLimit=F.getValue(r,it)),v&&(o.halfWidth=.5*v.getValue(r,it)),V&&(o.offset=V.getValue(r,it));const dt=it.getGeometry(e);this._processFeature(dt,b)}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this.tessellationProperties._lineVertexBuffer.array.length,e+=this.tessellationProperties._lineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const i=new Uint32Array(e),r=new Int32Array(i.buffer);let n=0;i[n++]=this.type,i[n++]=this.layerUIDs.length;for(let l=0;l<this.layerUIDs.length;l++)i[n++]=this.layerUIDs[l];i[n++]=this._lineIndexStart,i[n++]=this._lineIndexCount;const o=this._patternMap,a=o.size;if(i[n++]=a,a>0)for(const[l,[c,f]]of o)i[n++]=l,i[n++]=c,i[n++]=f;i[n++]=this.tessellationProperties._lineVertexBuffer.array.length;for(let l=0;l<this.tessellationProperties._lineVertexBuffer.array.length;l++)r[n++]=this.tessellationProperties._lineVertexBuffer.array[l];i[n++]=this.tessellationProperties._lineIndexBuffer.array.length;for(let l=0;l<this.tessellationProperties._lineIndexBuffer.array.length;l++)i[n++]=this.tessellationProperties._lineIndexBuffer.array[l];return i.buffer}_processFeature(e,i,r){if(!e)return;const n=e.length;for(let o=0;o<n;o++)this._processGeometry(e[o],i,r)}_processGeometry(e,i,r){if(e.length<2)return;let o,a,l=e[0],c=1;for(;c<e.length;)o=e[c].x-l.x,a=e[c].y-l.y,o*o+a*a<1e-6?e.splice(c,1):(l=e[c],++c);if(e.length<2)return;const f=this.tessellationProperties._lineIndexBuffer,y=3*f.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=i,this._lineTessellator.tessellate(e,this._tessellationOptions);const d=3*f.index-y;if(void 0!==r){const x=this._patternMap,g=x.get(r);g?g[1]+=d:x.set(r,[y+this._lineIndexCount,d])}this._lineIndexCount+=d}_getDashArrayKey(e,i,r,n,o,a,l){const c=o?a.getValue(i,e):l,f=n.getValue(i,e);return r.getDashKey(f,c)}}const H=u=>(e,i,r,n,o,a,l,c,f,y,d)=>(u._lineVertexBuffer.add(e,i,l,c,r,n,o,a,f,y,d,u._ddValues),u._lineVertexBuffer.index-1),W=u=>(e,i,r)=>{u._lineIndexBuffer.add(e,i,r)};var Ot,yt=J(56715),pt=J(51172),Mt=J(72578),ct=J(1884);function $(u,e){return u.iconMosaicItem&&e.iconMosaicItem?u.iconMosaicItem.page===e.iconMosaicItem.page?0:u.iconMosaicItem.page-e.iconMosaicItem.page:u.iconMosaicItem&&!e.iconMosaicItem?1:!u.iconMosaicItem&&e.iconMosaicItem?-1:0}class Rt extends Ht{constructor(e,i,r,n,o,a,l,c){super(e,i,c.getSpriteItems()),this.type=nt.al.SYMBOL,this._markerMap=new Map,this._glyphMap=new Map,this._glyphBufferDataStorage=new Map,this._isIconSDF=!1,this._iconVertexBuffer=r,this._iconIndexBuffer=n,this._textVertexBuffer=o,this._textIndexBuffer=a,this._placementEngine=l,this._workerTileHandler=c}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}getResources(e,i,r){const n=this.layer,o=this.zoom;e&&e.setExtent(this.layerExtent);const a=n.getLayoutProperty("icon-image"),l=n.getLayoutProperty("text-field");let c=n.getLayoutProperty("text-transform"),f=n.getLayoutProperty("text-font");const y=[];let d,x,g,p;a&&!a.isDataDriven&&(d=a.getValue(o)),l&&!l.isDataDriven&&(x=l.getValue(o)),c&&c.isDataDriven||(g=n.getLayoutValue("text-transform",o),c=null),f&&f.isDataDriven||(p=n.getLayoutValue("text-font",o),f=null);for(const I of this._features){const U=I.getGeometry(e);if(!U||0===U.length)continue;let R,C;a&&(R=a.isDataDriven?a.getValue(o,I):this._replaceKeys(d,I.values),R&&i(R));let N=!1;if(l&&(C=l.isDataDriven?l.getValue(o,I):this._replaceKeys(x,I.values),C)){switch(C=C.replaceAll("\\n","\n"),c&&(g=c.getValue(o,I)),g){case S._5.LOWERCASE:C=C.toLowerCase();break;case S._5.UPPERCASE:C=C.toUpperCase()}if(Rt._bidiEngine.hasBidiChar(C)){let L;L="rtl"===Rt._bidiEngine.checkContextual(C)?"IDNNN":"ICNNN",C=Rt._bidiEngine.bidiTransform(C,L,"VLYSN"),N=!0}if(C.length>0){f&&(p=f.getValue(o,I));for(const L of p){let v=r[L];v||(v=r[L]=new Set);for(const Z of C){const V=Z.codePointAt(0);null!=V&&v.add(V)}}}}if(!R&&!C)continue;const D=n.getLayoutValue("symbol-sort-key",o,I),F={feature:I,sprite:R,label:C,rtl:N,geometry:U,hash:(C?(0,Mt.hP)(C):0)^(R?(0,Mt.hP)(R):0),priority:D,textFont:p};y.push(F)}this._symbolFeatures=y}processFeatures(e){e&&e.setExtent(this.layerExtent);const i=this.layer,r=this.zoom,n=i.getLayoutValue("symbol-placement",r),o=n!==S.R.POINT,a=8*i.getLayoutValue("symbol-spacing",r),l=i.getLayoutProperty("icon-image"),c=i.getLayoutProperty("text-field"),f=l?new ct._L(i,r,o):null,y=c?new ct.nj(i,r,o):null,d=this._workerTileHandler;let x;l&&(x=d.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();const g=[];let p=1;y&&y.size&&(p=y.size/G);const I=y?y.maxAngle*Y.nF:0,U=y?8*y.size:0;for(const R of this._symbolFeatures){let C,N;f&&x&&R.sprite&&(C=x[R.sprite],C&&C.sdf&&(this._isIconSDF=!0)),C&&f.update(r,R.feature);let D=0;const F=R.label;if(F){(0,pt.O3)(y),y.update(r,R.feature);const L=o&&y.rotationAlignment===S.aF.MAP?y.keepUpright:y.writingMode&&y.writingMode.includes(S.r1.VERTICAL);let v=.5;switch(y.anchor){case S.nR.TOP_LEFT:case S.nR.LEFT:case S.nR.BOTTOM_LEFT:v=0;break;case S.nR.TOP_RIGHT:case S.nR.RIGHT:case S.nR.BOTTOM_RIGHT:v=1}let Z=.5;switch(y.anchor){case S.nR.TOP_LEFT:case S.nR.TOP:case S.nR.TOP_RIGHT:Z=0;break;case S.nR.BOTTOM_LEFT:case S.nR.BOTTOM:case S.nR.BOTTOM_RIGHT:Z=1}let V=.5;switch(y.justify){case S.vL.AUTO:V=v;break;case S.vL.LEFT:V=0;break;case S.vL.RIGHT:V=1}const K=y.letterSpacing*G,it=o?0:y.maxWidth*G,b=y.lineHeight*G,dt=R.textFont.map(ut=>d.getGlyphItems(ut));if(N=new q(dt,it,b,K,v,Z,V).getShaping(F,R.rtl,L),N&&N.length>0){let ut=1e30,xt=-1e30;for(const Gt of N)ut=Math.min(ut,Gt.x),xt=Math.max(xt,Gt.x);D=(xt-ut+48)*p*8}}for(let L of R.geometry){const v=[];if(n===S.R.LINE){if(N?.length&&y?.size){const Z=8*y.size*(2+Math.min(2,4*Math.abs(y.offset[1])));L=Rt._smoothVertices(L,Z)}Rt._pushAnchors(v,L,a,D)}else n===S.R.LINE_CENTER?Rt._pushCenterAnchor(v,L):R.feature.type===z.Vl.Polygon?Rt._pushCentroid(v,L):v.push(new wt(L[0].x,L[0].y));for(const Z of v){if(Z.x<0||Z.x>4096||Z.y<0||Z.y>4096||o&&D>0&&y?.rotationAlignment===S.aF.MAP&&!Rt._honorsTextMaxAngle(L,Z,D,I,U))continue;const V={shaping:N,line:L,iconMosaicItem:C,anchor:Z,symbolFeature:R,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};g.push(V),this._processFeature(V,f,y)}}}g.sort($),this._addPlacedGlyphs(),this._symbolInstances=g}serialize(){let e=11;e+=this.layerUIDs.length,e+=3*this.markerPageMap.size,e+=3*this.glyphsPageMap.size,e+=Rt._symbolsSerializationLength(this._symbolInstances),e+=this._iconVertexBuffer.array.length,e+=this._iconIndexBuffer.array.length,e+=this._textVertexBuffer.array.length,e+=this._textIndexBuffer.array.length;const i=new Uint32Array(e),r=new Int32Array(i.buffer),n=new Float32Array(i.buffer);let o=0;i[o++]=this.type,i[o++]=this.layerUIDs.length;for(let a=0;a<this.layerUIDs.length;a++)i[o++]=this.layerUIDs[a];i[o++]=this._isIconSDF?1:0,i[o++]=this.markerPageMap.size;for(const[a,[l,c]]of this.markerPageMap)i[o++]=a,i[o++]=l,i[o++]=c;i[o++]=this.glyphsPageMap.size;for(const[a,[l,c]]of this.glyphsPageMap)i[o++]=a,i[o++]=l,i[o++]=c;i[o++]=this._iconVertexBuffer.index/4,i[o++]=this._textVertexBuffer.index/4,o=Rt.serializeSymbols(i,r,n,o,this._symbolInstances),i[o++]=this._iconVertexBuffer.array.length;for(let a=0;a<this._iconVertexBuffer.array.length;a++)r[o++]=this._iconVertexBuffer.array[a];i[o++]=this._iconIndexBuffer.array.length;for(let a=0;a<this._iconIndexBuffer.array.length;a++)i[o++]=this._iconIndexBuffer.array[a];i[o++]=this._textVertexBuffer.array.length;for(let a=0;a<this._textVertexBuffer.array.length;a++)r[o++]=this._textVertexBuffer.array[a];i[o++]=this._textIndexBuffer.array.length;for(let a=0;a<this._textIndexBuffer.array.length;a++)i[o++]=this._textIndexBuffer.array[a];return i.buffer}static _symbolsSerializationLength(e){let i=0;i+=1;for(const r of e||[]){i+=4,i+=1;for(const n of r.textColliders)i+=10;for(const n of r.iconColliders)i+=10;i+=1,i+=2*r.textVertexRanges.length,i+=1,i+=2*r.iconVertexRanges.length}return i}static serializeSymbols(e,i,r,n,o){i[n++]=(o=o||[]).length;for(const a of o){i[n++]=a.anchor.x,i[n++]=a.anchor.y,i[n++]=a.symbolFeature.hash,i[n++]=a.symbolFeature.priority,i[n++]=a.textColliders.length+a.iconColliders.length;for(const l of a.textColliders)i[n++]=l.xTile,i[n++]=l.yTile,i[n++]=l.dxPixels,i[n++]=l.dyPixels,i[n++]=l.hard?1:0,i[n++]=l.partIndex,r[n++]=l.minLod,r[n++]=l.maxLod,i[n++]=l.width,i[n++]=l.height;for(const l of a.iconColliders)i[n++]=l.xTile,i[n++]=l.yTile,i[n++]=l.dxPixels,i[n++]=l.dyPixels,i[n++]=l.hard?1:0,i[n++]=l.partIndex,r[n++]=l.minLod,r[n++]=l.maxLod,i[n++]=l.width,i[n++]=l.height;i[n++]=a.textVertexRanges.length;for(const[l,c]of a.textVertexRanges)i[n++]=l,i[n++]=c;i[n++]=a.iconVertexRanges.length;for(const[l,c]of a.iconVertexRanges)i[n++]=l,i[n++]=c}return n}_replaceKeys(e,i){return e.replaceAll(/{([^{}]+)}/g,(r,n)=>n in i?i[n]:"")}_processFeature(e,i,r){const{line:n,iconMosaicItem:o,shaping:a,anchor:l}=e,c=this.zoom,f=this.layer,y=!!o;let d=!0;y&&(d=i?.optional||!o);const x=a&&a.length>0,g=!x||r?.optional;let p,I;if(y&&(p=this._placementEngine.getIconPlacement(l,o,i)),(p||d)&&(x&&(I=this._placementEngine.getTextPlacement(l,a,n,r)),I||g)){if(p&&I||(g||d?g||I?d||p||(I=null):p=null:(p=null,I=null)),I){const U=f.hasDataDrivenText?f.textMaterial.encodeAttributes(e.symbolFeature.feature,c,f):null;if(this._storePlacedGlyphs(e,I.shapes,c,r.rotationAlignment,U),I.textColliders){e.textColliders=I.textColliders;for(const R of I.textColliders){R.minLod=Math.max(c+(0,Y.k3)(R.minLod),0),R.maxLod=Math.min(c+(0,Y.k3)(R.maxLod),25);const C=R.angle;if(C){const N=Math.cos(C),D=Math.sin(C),F=R.dxPixels*N-R.dyPixels*D,L=R.dxPixels*D+R.dyPixels*N,v=(R.dxPixels+R.width)*N-R.dyPixels*D,Z=(R.dxPixels+R.width)*D+R.dyPixels*N,V=R.dxPixels*N-(R.dyPixels+R.height)*D,K=R.dxPixels*D+(R.dyPixels+R.height)*N,it=(R.dxPixels+R.width)*N-(R.dyPixels+R.height)*D,b=(R.dxPixels+R.width)*D+(R.dyPixels+R.height)*N,dt=Math.min(F,v,V,it),ut=Math.max(F,v,V,it),xt=Math.min(L,Z,K,b),Gt=Math.max(L,Z,K,b);R.dxPixels=dt,R.dyPixels=xt,R.width=ut-dt,R.height=Gt-xt}}}}if(p){const U=f.hasDataDrivenIcon?f.iconMaterial.encodeAttributes(e.symbolFeature.feature,c,f):null;if(this._addPlacedIcons(e,p.shapes,c,o.page,i.rotationAlignment===S.aF.VIEWPORT,U),p.iconColliders){e.iconColliders=p.iconColliders;for(const R of p.iconColliders){R.minLod=Math.max(c+(0,Y.k3)(R.minLod),0),R.maxLod=Math.min(c+(0,Y.k3)(R.maxLod),25);const C=R.angle;if(C){const N=Math.cos(C),D=Math.sin(C),F=R.dxPixels*N-R.dyPixels*D,L=R.dxPixels*D+R.dyPixels*N,v=(R.dxPixels+R.width)*N-R.dyPixels*D,Z=(R.dxPixels+R.width)*D+R.dyPixels*N,V=R.dxPixels*N-(R.dyPixels+R.height)*D,K=R.dxPixels*D+(R.dyPixels+R.height)*N,it=(R.dxPixels+R.width)*N-(R.dyPixels+R.height)*D,b=(R.dxPixels+R.width)*D+(R.dyPixels+R.height)*N,dt=Math.min(F,v,V,it),ut=Math.max(F,v,V,it),xt=Math.min(L,Z,K,b),Gt=Math.max(L,Z,K,b);R.dxPixels=dt,R.dyPixels=xt,R.width=ut-dt,R.height=Gt-xt}}}}}}_addPlacedIcons(e,i,r,n,o,a){const l=Math.max(r-1,0),c=this._iconVertexBuffer,f=this._iconIndexBuffer,y=this._markerMap;for(const d of i){const x=o?0:Math.max(r+(0,Y.k3)(d.minzoom),l),g=o?25:Math.min(r+(0,Y.k3)(d.maxzoom),25);if(g<=x)continue;const p=d.tl,I=d.tr,U=d.bl,R=d.br,C=d.mosaicRect,N=d.labelAngle,D=d.minAngle,F=d.maxAngle,L=d.anchor,v=c.index,Z=C.x,V=C.y,K=Z+C.width,it=V+C.height,b=c.index;c.add(L.x,L.y,p.x,p.y,Z,V,N,D,F,x,g,a),c.add(L.x,L.y,I.x,I.y,K,V,N,D,F,x,g,a),c.add(L.x,L.y,U.x,U.y,Z,it,N,D,F,x,g,a),c.add(L.x,L.y,R.x,R.y,K,it,N,D,F,x,g,a),e.iconVertexRanges.length>0&&e.iconVertexRanges[0][0]+e.iconVertexRanges[0][1]===b?e.iconVertexRanges[0][1]+=4:e.iconVertexRanges.push([b,4]),f.add(v,v+1,v+2),f.add(v+1,v+2,v+3),y.has(n)?y.get(n)[1]+=6:y.set(n,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}_addPlacedGlyphs(){const e=this._textVertexBuffer,i=this._textIndexBuffer,r=this._glyphMap;for(const[n,o]of this._glyphBufferDataStorage)for(const a of o){const l=e.index,c=a.symbolInstance,f=a.ddAttributes,y=e.index;e.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tl[0],a.tl[1],a.xmin,a.ymin,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,f),e.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tr[0],a.tr[1],a.xmax,a.ymin,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,f),e.add(a.glyphAnchor[0],a.glyphAnchor[1],a.bl[0],a.bl[1],a.xmin,a.ymax,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,f),e.add(a.glyphAnchor[0],a.glyphAnchor[1],a.br[0],a.br[1],a.xmax,a.ymax,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,f),c.textVertexRanges.length>0&&c.textVertexRanges[0][0]+c.textVertexRanges[0][1]===y?c.textVertexRanges[0][1]+=4:c.textVertexRanges.push([y,4]),i.add(l,l+1,l+2),i.add(l+1,l+2,l+3),r.has(n)?r.get(n)[1]+=6:r.set(n,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(e,i,r,n,o){const a=Math.max(r-1,0),l=n===S.aF.VIEWPORT;let c,f,y,d,x,g,p,I,U,R,C;for(const N of i)c=l?0:Math.max(r+(0,Y.k3)(N.minzoom),a),f=l?25:Math.min(r+(0,Y.k3)(N.maxzoom),25),!(f<=c)&&(y=N.tl,d=N.tr,x=N.bl,g=N.br,p=N.labelAngle,I=N.minAngle,U=N.maxAngle,R=N.anchor,C=N.mosaicRect,this._glyphBufferDataStorage.has(N.page)||this._glyphBufferDataStorage.set(N.page,[]),this._glyphBufferDataStorage.get(N.page).push({glyphAnchor:[R.x,R.y],tl:[y.x,y.y],tr:[d.x,d.y],bl:[x.x,x.y],br:[g.x,g.y],xmin:C.x,ymin:C.y,xmax:C.x+C.width,ymax:C.y+C.height,labelAngle:p,minAngle:I,maxAngle:U,minLod:c,maxLod:f,placementLod:a,symbolInstance:e,ddAttributes:o}))}static _pushAnchors(e,i,r,n){r+=n;let o=0;const a=i.length-1;for(let x=0;x<a;x++)o+=z.E9.distance(i[x],i[x+1]);let l=n||r;if(l*=.5,o<=l)return;const c=l/o;let f=0,y=-(r=o/Math.max(Math.round(o/r),1))/2;const d=i.length-1;for(let x=0;x<d;x++){const g=i[x],p=i[x+1],I=p.x-g.x,U=p.y-g.y,R=Math.sqrt(I*I+U*U);let C;for(;y+r<f+R;){y+=r;const N=(y-f)/R,D=(0,Y.sX)(g.x,p.x,N),F=(0,Y.sX)(g.y,p.y,N);void 0===C&&(C=Math.atan2(U,I)),e.push(new wt(D,F,C,x,c))}f+=R}}static _pushCenterAnchor(e,i){let r=0;const n=i.length-1;for(let c=0;c<n;c++)r+=z.E9.distance(i[c],i[c+1]);const o=r/2;let a=0;const l=i.length-1;for(let c=0;c<l;c++){const f=i[c],y=i[c+1],d=y.x-f.x,x=y.y-f.y,g=Math.sqrt(d*d+x*x);if(o<a+g){const p=(o-a)/g,I=(0,Y.sX)(f.x,y.x,p),U=(0,Y.sX)(f.y,y.y,p),R=Math.atan2(x,d);return void e.push(new wt(I,U,R,c,0))}a+=g}}static _deviation(e,i,r){return Math.atan2((i.x-e.x)*(r.y-i.y)-(i.y-e.y)*(r.x-i.x),(i.x-e.x)*(r.x-i.x)+(i.y-e.y)*(r.y-i.y))}static _honorsTextMaxAngle(e,i,r,n,o){let a=0;const l=r/2;let c=new z.E9(i.x,i.y),f=i.segment+1;for(;a>-l;){if(--f,f<0)return!1;a-=z.E9.distance(e[f],c),c=e[f]}a+=z.E9.distance(e[f],e[f+1]);const y=[];let d=0;const x=e.length;for(;a<l;){const g=e[f];let p,I=f;do{if(++I,I===x)return!1;p=e[I]}while(p.isEqual(g));let U,R=I;do{if(++R,R===x)return!1;U=e[R]}while(U.isEqual(p));const C=this._deviation(g,p,U);for(y.push({deviation:C,distToAnchor:a}),d+=C;a-y[0].distToAnchor>o;)d-=y.shift().deviation;if(Math.abs(d)>n)return!1;a+=z.E9.distance(p,U),f=I}return!0}static _smoothVertices(e,i){if(i<=0)return e;let r=e.length;if(r<3)return e;const n=[];let o=0,a=0;n.push(0);for(let I=1;I<r;I++){const U=z.E9.distance(e[I],e[I-1]);U>0&&(o+=U,n.push(o),a++,a!==I&&(e[a]=e[I]))}if(r=a+1,r<3)return e;i=Math.min(i,.2*o);const l=e[0].x,c=e[0].y,f=e[r-1].x,y=e[r-1].y,d=z.E9.sub(e[0],e[1]);d.normalize(),e[0].x+=i*d.x,e[0].y+=i*d.y,d.assignSub(e[r-1],e[r-2]),d.normalize(),e[r-1].x+=i*d.x,e[r-1].y+=i*d.y,n[0]-=i,n[r-1]+=i;const x=[];x.push(new z.E9(l,c));const g=1e-6,p=.5*i;for(let I=1;I<r-1;I++){let U=0,R=0,C=0;for(let N=I-1;N>=0;N--){const D=p+n[N+1]-n[I];if(D<0)break;const F=n[N+1]-n[N],L=n[I]-n[N]<p?1:D/F;if(L<g)break;const v=L*L,Z=L*D-.5*v*F,V=L*F/i,K=e[N+1],it=e[N].x-K.x,b=e[N].y-K.y;U+=V/Z*(K.x*L*D+.5*v*(D*it-F*K.x)-v*L*F*it/3),R+=V/Z*(K.y*L*D+.5*v*(D*b-F*K.y)-v*L*F*b/3),C+=V}for(let N=I+1;N<r;N++){const D=p-n[N-1]+n[I];if(D<0)break;const F=n[N]-n[N-1],L=n[N]-n[I]<p?1:D/F;if(L<g)break;const v=L*L,Z=L*D-.5*v*F,V=L*F/i,K=e[N-1],it=e[N].x-K.x,b=e[N].y-K.y;U+=V/Z*(K.x*L*D+.5*v*(D*it-F*K.x)-v*L*F*it/3),R+=V/Z*(K.y*L*D+.5*v*(D*b-F*K.y)-v*L*F*b/3),C+=V}x.push(new z.E9(U/C,R/C))}return x.push(new z.E9(f,y)),e[0].x=l,e[0].y=c,e[r-1].x=f,e[r-1].y=y,x}static _pushCentroid(e,i){const l=i.length-1;let c=0,f=0,y=0,d=i[0].x,x=i[0].y;d>4096&&(d=4096),d<0&&(d=0),x>4096&&(x=4096),x<0&&(x=0);for(let g=1;g<l;g++){let p=i[g].x,I=i[g].y,U=i[g+1].x,R=i[g+1].y;p>4096&&(p=4096),p<0&&(p=0),I>4096&&(I=4096),I<0&&(I=0),U>4096&&(U=4096),U<0&&(U=0),R>4096&&(R=4096),R<0&&(R=0);const C=(p-d)*(R-x)-(U-d)*(I-x);c+=C*(d+p+U),f+=C*(x+I+R),y+=C}c/=3*y,f/=3*y,isNaN(c)||isNaN(f)||e.push(new wt(c,f))}}Rt._bidiEngine=new yt.Z,function(u){u[u.INITIALIZED=0]="INITIALIZED",u[u.NO_DATA=1]="NO_DATA",u[u.READY=2]="READY",u[u.MODIFIED=3]="MODIFIED",u[u.INVALID=4]="INVALID"}(Ot||(Ot={}));class Xt{constructor(e,i,r,n,o){if(this._pbfTiles={},this._tileClippers={},this._client=r,this._tile=i,o){this._styleLayerUIDs=new Set;for(const y of o)this._styleLayerUIDs.add(y)}this._styleRepository=n,this._layers=this._styleRepository?.layers??[];const[a,l,c]=i.tileKey.split("/").map(parseFloat);this._level=a;const f=8+Math.max(16*(this._level-14),0);for(const y of Object.keys(e)){const d=e[y];if(this._pbfTiles[y]=new mt.Z(new Uint8Array(d.protobuff),new DataView(d.protobuff)),d.refKey){const[x]=d.refKey.split("/").map(parseFloat),g=a-x;if(g>0){const p=(1<<g)-1;this._tileClippers[y]=new z.bN(g,l&p,c&p,8,f)}}this._tileClippers[y]||(this._tileClippers[y]=new z.I6)}}_canParseStyleLayer(e){return!this._styleLayerUIDs||this._styleLayerUIDs.has(e)}parse(e){var i=this;return(0,et.Z)(function*(){const r=(0,j.j)(),n=i._initialize(e),{returnedBuckets:o}=n;i._processLayers(n),i._linkReferences(n),i._filterFeatures(n);const a=[],l=new Set,c=(d,x)=>{l.has(d)||(a.push({name:d,repeat:x}),l.add(d))},f={};for(const d of o)d.getResources(d.tileClipper,c,f);if(i._tile.status===Ot.INVALID)return[];const y=i._fetchResources(a,f,e);return Promise.all([...y,r]).then(()=>i._processFeatures(n.returnedBuckets))})()}_initialize(e){return{signal:e?.signal,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(e){const{sourceNameToTileData:i,layers:r,zoom:n,sourceNameToTileClipper:o,sourceNameToUniqueSourceLayerBuckets:a,sourceNameToUniqueSourceLayers:l,returnedBuckets:c,layerIdToBucket:f,referencerUIDToReferencedId:y}=e;for(let d=r.length-1;d>=0;d--){const x=r[d];if(!this._canParseStyleLayer(x.uid)||x.minzoom&&n<Math.floor(x.minzoom)||x.maxzoom&&n>=x.maxzoom||x.type===S.fR.BACKGROUND||!i[x.source]||!o[x.source])continue;const p=o[x.source],I=x.sourceLayer,U=i[x.source][I];if(U){let R=l[x.source];if(R||(R=l[x.source]=new Set),R.add(x.sourceLayer),x.refLayerId)y.set(x.uid,x.refLayerId);else{const C=this._createBucket(x);if(C){C.layerUIDs=[x.uid],C.layerExtent=U.extent,C.tileClipper=p;let N=a[x.source];N||(N=a[x.source]={});let D=N[I];D||(D=N[I]=[]),D.push(C),c.push(C),f[x.id]=C}}}}}_linkReferences(e){const{layerIdToBucket:i,referencerUIDToReferencedId:r}=e;r.forEach((n,o)=>{i[n]&&i[n].layerUIDs.push(o)})}_filterFeatures(e){const{signal:i,sourceNameToTileData:r,sourceNameToUniqueSourceLayerBuckets:n,sourceNameToUniqueSourceLayers:o}=e,a=10*this._level,l=10*(this._level+1),c=[],f=[];for(const y of Object.keys(o))o[y].forEach(d=>{c.push(d),f.push(y)});for(let y=0;y<c.length;y++){const d=f[y],x=c[y];if(!r[d]||!n[d])continue;const g=r[d][x],p=n[d][x];if(!p||0===p.length)continue;if((0,Dt.Hc)(i))return;const I=g.getData();for(;I.nextTag(2);){const U=I.getMessage(),R=new lt(U,g);U.release();const C=R.values;if(C){const N=C._minzoom;if(N&&N>=l)continue;const D=C._maxzoom;if(D&&D<=a)continue}for(const N of p)N.pushFeature(R)}}}_fetchResources(e,i,r){const n=[],o=this._tile.getWorkerTileHandler();let a,l;e.length>0&&(a=o.fetchSprites(e,this._client,r),n.push(a));for(const c in i){const f=i[c];f.size>0&&(l=o.fetchGlyphs(this._tile.tileKey,c,f,this._client,r),n.push(l))}return n}_processFeatures(e){const i=e.filter(r=>r.hasFeatures()||this._canParseStyleLayer(r.layer.uid));for(const r of i)r.processFeatures(r.tileClipper);return i}_parseTileData(e){const i={};for(const r of Object.keys(e)){const n=e[r],o={};for(;n.next();)switch(n.tag()){case 3:{const a=n.getMessage(),l=new t(a);a.release(),o[l.name]=l;break}default:n.skip()}i[r]=o}return i}_createBucket(e){switch(e.type){case S.fR.BACKGROUND:return null;case S.fR.FILL:return this._createFillBucket(e);case S.fR.LINE:return this._createLineBucket(e);case S.fR.CIRCLE:return this._createCircleBucket(e);case S.fR.SYMBOL:return this._createSymbolBucket(e)}}_createFillBucket(e){return new T(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new kt(e.fillMaterial.getStride()),new gt,new rt(e.outlineMaterial.getStride()),new gt)}_createLineBucket(e){return new O(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new Wt(e.lineMaterial.getStride()),new gt)}_createCircleBucket(e){return new h(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new ft(e.circleMaterial.getStride()),new gt)}_createSymbolBucket(e){const i=this._tile;return new Rt(e,this._level,new ht(e.iconMaterial.getStride()),new gt,new ht(e.textMaterial.getStride()),new gt,i.placementEngine,i.getWorkerTileHandler())}}class zt{constructor(e,i,r,n){this.status=Ot.INITIALIZED,this.placementEngine=new Lt,this.tileKey=e,this.refKeys=i,this._workerTileHandler=r,this._styleRepository=n}release(){this.tileKey="",this.refKeys=null,this.status=Ot.INITIALIZED,this._workerTileHandler=null}parse(e,i){var r=this;return(0,et.Z)(function*(){const n=i?.signal;if(null!=n){const d=()=>{n.removeEventListener("abort",d),r.status=Ot.INVALID};n.addEventListener("abort",d)}let o;const a={bucketsWithData:[],emptyBuckets:null};try{o=yield r._parse(e,i)}catch(d){if((0,Dt.D_)(d))throw d;return{result:a,transferList:[]}}r.status=Ot.READY;const l=a.bucketsWithData,c=[];for(const d of o)if(d.hasFeatures()){const x=d.serialize();l.push(x)}else c.push(d.layer.uid);const f=[...l];let y=null;return c.length>0&&(y=Uint32Array.from(c),f.push(y.buffer)),a.emptyBuckets=y,{result:a,transferList:f}})()}setObsolete(){this.status=Ot.INVALID}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}_parse(e,i){var r=this;return(0,et.Z)(function*(){const n=e.sourceName2DataAndRefKey;return 0===Object.keys(n).length?[]:(r.status=Ot.MODIFIED,new Xt(n,r,i.client,r._styleRepository,e.styleLayerUIDs).parse(i))})()}}var Yt=J(14433);class se{constructor(){this._spriteInfo={},this._glyphInfo={}}reset(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}getLayers(){return this._styleRepository?.layers??[]}createTileAndParse(e,i){var r=this;return(0,et.Z)(function*(){const{key:n}=e,o={};for(const l of Object.keys(e.sourceName2DataAndRefKey))o[l]=e.sourceName2DataAndRefKey[l].refKey;const a=new zt(n,o,r,r._styleRepository);try{return yield a.parse(e,i)}catch(l){if(a.setObsolete(),a.release(),!(0,Dt.D_)(l))throw l;return null}})()}updateStyle(e){if(!e||0===e.length||!this._styleRepository)return;const i=this._styleRepository;for(const r of e){const o=r.data;switch(r.type){case nt.Fr.PAINTER_CHANGED:i.setPaintProperties(o.layer,o.paint);break;case nt.Fr.LAYOUT_CHANGED:i.setLayoutProperties(o.layer,o.layout);break;case nt.Fr.LAYER_REMOVED:i.deleteStyleLayer(o.layer);break;case nt.Fr.LAYER_CHANGED:i.setStyleLayer(o.layer,o.index);break;case nt.Fr.SPRITES_CHANGED:this._spriteInfo={}}}}setStyle(e){this._styleRepository=new Yt.Z(e),this._spriteInfo={},this._glyphInfo={}}fetchSprites(e,i,r){const n=[],o=this._spriteInfo;for(const a of e)void 0===o[a.name]&&n.push(a);return 0===n.length?Promise.resolve():i.invoke("getSprites",n,{signal:r?.signal}).then(a=>{for(const l in a)o[l]=a[l]})}getSpriteItems(){return this._spriteInfo}fetchGlyphs(e,i,r,n,o){const a=[];let l=this._glyphInfo[i];return l?r.forEach(c=>{l[c]||a.push(c)}):(l=this._glyphInfo[i]=[],r.forEach(c=>a.push(c))),0===a.length?Promise.resolve():n.invoke("getGlyphs",{tileID:e,font:i,codePoints:a},o).then(c=>{for(let f=0;f<c.length;f++)c[f]&&(l[f]=c[f])})}getGlyphItems(e){return this._glyphInfo[e]}}},9655:(ne,bt,J)=>{J.d(bt,{JM:()=>nt,R8:()=>et,cn:()=>Dt,v7:()=>z});const et=!0,Dt=32,nt=1.5,z=200},28179:(ne,bt,J)=>{J.d(bt,{z:()=>q});var et=J(11196),Dt=J(99657);function nt(k,S){return k.x===S.x&&k.y===S.y}function Y(k,S){return k.x=S.y,k.y=-S.x,k}function Et(k,S){return k.x=-S.y,k.y=S.x,k}function It(k,S){return k.x=S.x,k.y=S.y,k}function ot(k,S){return k.x=-S.x,k.y=-S.y,k}function M(k){return Math.sqrt(k.x*k.x+k.y*k.y)}function w(k,S){return k.x*S.y-k.y*S.x}function G(k,S){return k.x*S.x+k.y*S.y}function P(k,S,tt,_t){return k.x=S.x*tt+S.y*_t,k.y=S.x*_t-S.y*tt,k}class q{constructor(S,tt,_t){this._writeVertex=S,this._writeTriangle=tt,this._canUseThinTessellation=_t,this._prevNormal={x:void 0,y:void 0},this._nextNormal={x:void 0,y:void 0},this._textureNormalLeft={x:0,y:1},this._textureNormalRight={x:0,y:-1},this._textureNormal={x:void 0,y:void 0},this._joinNormal={x:void 0,y:void 0},this._inner={x:void 0,y:void 0},this._outer={x:void 0,y:void 0},this._roundStart={x:void 0,y:void 0},this._roundEnd={x:void 0,y:void 0},this._startBreak={x:void 0,y:void 0},this._endBreak={x:void 0,y:void 0},this._innerPrev={x:void 0,y:void 0},this._innerNext={x:void 0,y:void 0},this._bevelStart={x:void 0,y:void 0},this._bevelEnd={x:void 0,y:void 0},this._bevelMiddle={x:void 0,y:void 0}}tessellate(S,tt){(function z(k){if(!k)return;const S=k.length;if(S<=1)return;let tt=0;for(let _t=1;_t<S;_t++)nt(k[_t],k[tt])||++tt===_t||(k[tt]=k[_t]);k.length=tt+1})(S),this._canUseThinTessellation&&tt.halfWidth<Dt.do&&!tt.offset?this._tessellateThin(S,tt):this._tessellate(S,tt)}_tessellateThin(S,tt){if(S.length<2)return;const _t=tt.wrapDistance||65535;let Tt=tt.initialDistance||0,At=!1,Bt=S[0].x,wt=S[0].y;const Nt=S.length;for(let Ct=1;Ct<Nt;++Ct){At&&(At=!1,Tt=0);let Ut=S[Ct].x,Lt=S[Ct].y,mt=Ut-Bt,j=Lt-wt,st=Math.sqrt(mt*mt+j*j);if(mt/=st,j/=st,Tt+st>_t){At=!0;const t=(_t-Tt)/st;st=_t-Tt,Ut=(1-t)*Bt+t*Ut,Lt=(1-t)*wt+t*Lt,--Ct}const lt=this._writeVertex(Bt,wt,0,0,mt,j,j,-mt,0,-1,Tt),X=this._writeVertex(Bt,wt,0,0,mt,j,-j,mt,0,1,Tt);Tt+=st;const gt=this._writeVertex(Ut,Lt,0,0,mt,j,j,-mt,0,-1,Tt),B=this._writeVertex(Ut,Lt,0,0,mt,j,-j,mt,0,1,Tt);this._writeTriangle(lt,X,gt),this._writeTriangle(X,gt,B),Bt=Ut,wt=Lt}}_tessellate(S,tt){const Tt=S[S.length-1],At=nt(S[0],Tt);if(S.length<(At?3:2))return;const wt=tt.pixelCoordRatio,Nt=null!=tt.capType?tt.capType:et.RL.BUTT,Ct=null!=tt.joinType?tt.joinType:et.AH.MITER,Ut=null!=tt.miterLimit?Math.min(tt.miterLimit,4):2,Lt=null!=tt.roundLimit?Math.min(tt.roundLimit,1.05):1.05,mt=null!=tt.halfWidth?tt.halfWidth:2,j=!!tt.textured;let st,lt,X,gt=null;const B=this._prevNormal,t=this._nextNormal;let Wt=-1,kt=-1;const rt=this._joinNormal;let ht,ft;const Ht=this._textureNormalLeft,h=this._textureNormalRight,_=this._textureNormal;let E=-1,T=-1;const A=tt.wrapDistance||65535;let m=tt.initialDistance||0;const O=this._writeVertex,H=this._writeTriangle,W=(pt,Mt,ct,Q,$,Rt)=>{const Ot=O(lt,X,ht,ft,ct,Q,pt,Mt,$,Rt,m);return E>=0&&T>=0&&Ot>=0&&H(E,T,Ot),E=T,T=Ot,Ot};At&&(st=S[S.length-2],t.x=Tt.x-st.x,t.y=Tt.y-st.y,kt=M(t),t.x/=kt,t.y/=kt);let yt=!1;for(let pt=0;pt<S.length;++pt){if(yt&&(yt=!1,m=0),st&&(B.x=-t.x,B.y=-t.y,Wt=kt,m+Wt>A&&(yt=!0)),yt){const at=(A-m)/Wt;Wt=A-m,st={x:(1-at)*st.x+at*S[pt].x,y:(1-at)*st.y+at*S[pt].y},--pt}else st=S[pt];lt=st.x,X=st.y;const Mt=pt<=0&&!yt,ct=pt===S.length-1;if(Mt||(m+=Wt),gt=ct?At?S[1]:null:S[pt+1],gt?(t.x=gt.x-lt,t.y=gt.y-X,kt=M(t),t.x/=kt,t.y/=kt):(t.x=void 0,t.y=void 0),!At){if(Mt){Et(rt,t),ht=rt.x,ft=rt.y,Nt===et.RL.SQUARE&&(W(-t.y-t.x,t.x-t.y,t.x,t.y,0,-1),W(t.y-t.x,-t.x-t.y,t.x,t.y,0,1)),Nt===et.RL.ROUND&&(W(-t.y-t.x,t.x-t.y,t.x,t.y,-1,-1),W(t.y-t.x,-t.x-t.y,t.x,t.y,-1,1)),Nt!==et.RL.ROUND&&Nt!==et.RL.BUTT||(W(-t.y,t.x,t.x,t.y,0,-1),W(t.y,-t.x,t.x,t.y,0,1));continue}if(ct){Y(rt,B),ht=rt.x,ft=rt.y,Nt!==et.RL.ROUND&&Nt!==et.RL.BUTT||(W(B.y,-B.x,-B.x,-B.y,0,-1),W(-B.y,B.x,-B.x,-B.y,0,1)),Nt===et.RL.SQUARE&&(W(B.y-B.x,-B.x-B.y,-B.x,-B.y,0,-1),W(-B.y-B.x,B.x-B.y,-B.x,-B.y,0,1)),Nt===et.RL.ROUND&&(W(B.y-B.x,-B.x-B.y,-B.x,-B.y,1,-1),W(-B.y-B.x,B.x-B.y,-B.x,-B.y,1,1));continue}}let Q,$,Rt=-w(B,t);if(Math.abs(Rt)<.01)G(B,t)>0?(rt.x=B.x,rt.y=B.y,Rt=1,Q=Number.MAX_VALUE,$=!0):(Et(rt,t),Rt=1,Q=1,$=!1);else{rt.x=(B.x+t.x)/Rt,rt.y=(B.y+t.y)/Rt,Q=M(rt);const at=(Q-1)*mt*wt;$=Q>4||at>Wt&&at>kt}ht=rt.x,ft=rt.y;let Ot=Ct;switch(Ct){case et.AH.BEVEL:Q<1.05&&(Ot=et.AH.MITER);break;case et.AH.ROUND:Q<Lt&&(Ot=et.AH.MITER);break;case et.AH.MITER:Q>Ut&&(Ot=et.AH.BEVEL)}switch(Ot){case et.AH.MITER:if(W(rt.x,rt.y,-B.x,-B.y,0,-1),W(-rt.x,-rt.y,-B.x,-B.y,0,1),ct)break;if(j){const at=yt?0:m;E=this._writeVertex(lt,X,ht,ft,t.x,t.y,rt.x,rt.y,0,-1,at),T=this._writeVertex(lt,X,ht,ft,t.x,t.y,-rt.x,-rt.y,0,1,at)}break;case et.AH.BEVEL:{const at=Rt<0;let Pt,vt,Xt,zt;if(at){const e=E;E=T,T=e,Pt=Ht,vt=h}else Pt=h,vt=Ht;if($)Xt=at?Et(this._innerPrev,B):Y(this._innerPrev,B),zt=at?Y(this._innerNext,t):Et(this._innerNext,t);else{const e=at?ot(this._inner,rt):It(this._inner,rt);Xt=e,zt=e}const Yt=at?Y(this._bevelStart,B):Et(this._bevelStart,B);W(Xt.x,Xt.y,-B.x,-B.y,Pt.x,Pt.y);const se=W(Yt.x,Yt.y,-B.x,-B.y,vt.x,vt.y);if(ct)break;const u=at?Et(this._bevelEnd,t):Y(this._bevelEnd,t);if($){const e=this._writeVertex(lt,X,ht,ft,-B.x,-B.y,0,0,0,0,m);E=this._writeVertex(lt,X,ht,ft,t.x,t.y,zt.x,zt.y,Pt.x,Pt.y,m),T=this._writeVertex(lt,X,ht,ft,t.x,t.y,u.x,u.y,vt.x,vt.y,m),this._writeTriangle(se,e,T)}else{if(j){const e=this._bevelMiddle;e.x=(Yt.x+u.x)/2,e.y=(Yt.y+u.y)/2,P(_,e,-B.x,-B.y),W(e.x,e.y,-B.x,-B.y,_.x,_.y),P(_,e,t.x,t.y),E=this._writeVertex(lt,X,ht,ft,t.x,t.y,e.x,e.y,_.x,_.y,m),T=this._writeVertex(lt,X,ht,ft,t.x,t.y,zt.x,zt.y,Pt.x,Pt.y,m)}else{const e=E;E=T,T=e}W(u.x,u.y,t.x,t.y,vt.x,vt.y)}if(at){const e=E;E=T,T=e}break}case et.AH.ROUND:{const at=Rt<0;let Pt,vt;if(at){const I=E;E=T,T=I,Pt=Ht,vt=h}else Pt=h,vt=Ht;const Xt=at?ot(this._inner,rt):It(this._inner,rt);let zt,Yt;$?(zt=at?Et(this._innerPrev,B):Y(this._innerPrev,B),Yt=at?Y(this._innerNext,t):Et(this._innerNext,t)):(zt=Xt,Yt=Xt);const se=at?Y(this._roundStart,B):Et(this._roundStart,B),u=at?Et(this._roundEnd,t):Y(this._roundEnd,t),e=W(zt.x,zt.y,-B.x,-B.y,Pt.x,Pt.y),i=W(se.x,se.y,-B.x,-B.y,vt.x,vt.y);if(ct)break;const r=this._writeVertex(lt,X,ht,ft,-B.x,-B.y,0,0,0,0,m);$||this._writeTriangle(E,T,r);const n=ot(this._outer,Xt),o=this._writeVertex(lt,X,ht,ft,t.x,t.y,u.x,u.y,vt.x,vt.y,m);let a,l;const c=Q>2;if(c){let I;Q!==Number.MAX_VALUE?(n.x/=Q,n.y/=Q,I=G(B,n),I=(Q*(I*I-1)+1)/I):I=-1,a=at?Y(this._startBreak,B):Et(this._startBreak,B),a.x+=B.x*I,a.y+=B.y*I,l=at?Et(this._endBreak,t):Y(this._endBreak,t),l.x+=t.x*I,l.y+=t.y*I}P(_,n,-B.x,-B.y);const f=this._writeVertex(lt,X,ht,ft,-B.x,-B.y,n.x,n.y,_.x,_.y,m);P(_,n,t.x,t.y);const y=j?this._writeVertex(lt,X,ht,ft,t.x,t.y,n.x,n.y,_.x,_.y,m):f,d=r,x=j?this._writeVertex(lt,X,ht,ft,t.x,t.y,0,0,0,0,m):r;let g=-1,p=-1;if(c&&(P(_,a,-B.x,-B.y),g=this._writeVertex(lt,X,ht,ft,-B.x,-B.y,a.x,a.y,_.x,_.y,m),P(_,l,t.x,t.y),p=this._writeVertex(lt,X,ht,ft,t.x,t.y,l.x,l.y,_.x,_.y,m)),j?c?(this._writeTriangle(d,i,g),this._writeTriangle(d,g,f),this._writeTriangle(x,y,p),this._writeTriangle(x,p,o)):(this._writeTriangle(d,i,f),this._writeTriangle(x,y,o)):c?(this._writeTriangle(r,i,g),this._writeTriangle(r,g,p),this._writeTriangle(r,p,o)):(this._writeTriangle(r,i,f),this._writeTriangle(r,y,o)),$?(E=this._writeVertex(lt,X,ht,ft,t.x,t.y,Yt.x,Yt.y,Pt.x,Pt.y,m),T=o):(E=j?this._writeVertex(lt,X,ht,ft,t.x,t.y,Yt.x,Yt.y,Pt.x,Pt.y,m):e,this._writeTriangle(E,x,o),T=o),at){const I=E;E=T,T=I}break}}}}}},39237:(ne,bt,J)=>{var et,Dt,nt,z,Y,Et,It,ot,M,w,G,P,q,k,S,tt,_t,Tt,At,Bt,t;J.d(bt,{Br:()=>tt,Ho:()=>At,LR:()=>Et,Lu:()=>Lt,MX:()=>Dt,No:()=>q,Se:()=>j,Tg:()=>_t,V1:()=>wt,V7:()=>gt,VI:()=>k,VY:()=>Ct,Wf:()=>It,Xg:()=>Ut,Y5:()=>X,_g:()=>Nt,cw:()=>G,db:()=>z,e8:()=>P,g:()=>ot,l1:()=>Tt,lP:()=>S,lk:()=>et,q_:()=>mt,qi:()=>Bt,w0:()=>Y,wb:()=>M,xS:()=>w,zi:()=>nt}),(t=et||(et={}))[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Dt||(Dt={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(nt||(nt={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(z||(z={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"}(Y||(Y={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(Et||(Et={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(It||(It={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT"}(ot||(ot={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(M||(M={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(w||(w={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(G||(G={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(P||(P={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(q||(q={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(k||(k={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(S||(S={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(tt||(tt={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(_t||(_t={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(Tt||(Tt={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(At||(At={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(Bt||(Bt={}));const wt=33984;var Nt,Ct,Ut;(function(t){t[t.Texture=0]="Texture",t[t.BufferObject=1]="BufferObject",t[t.VertexArrayObject=2]="VertexArrayObject",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.FramebufferObject=5]="FramebufferObject",t[t.Renderbuffer=6]="Renderbuffer",t[t.Sync=7]="Sync",t[t.UNCOUNTED=8]="UNCOUNTED",t[t.LinesOfCode=8]="LinesOfCode",t[t.Uniform=9]="Uniform",t[t.COUNT=10]="COUNT"})(Nt||(Nt={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(Ct||(Ct={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(Ut||(Ut={}));const Lt=33306;var mt,j,st,lt,X,gt,B;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(mt||(mt={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(j||(j={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(st||(st={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(lt||(lt={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(X||(X={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(gt||(gt={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(B||(B={}))}}]);