"use strict";(self.webpackChunkangular_17_test=self.webpackChunkangular_17_test||[]).push([[6625],{26496:(B,m,i)=>{function j(s){return s&&"getAtOrigin"in s&&"originOf"in s}i.d(m,{l:()=>j})},17551:(B,m,i)=>{i.r(m),i.d(m,{default:()=>K});var j=i(15861),s=i(50484),T=i(73903);function L(o,f){return I(o)===I(f)}function I(o){if(null==o)return null;let v=null;return v=null!=o.objectId?o.objectId:null!=o.layer&&"objectIdField"in o.layer&&null!=o.layer.objectIdField&&null!=o.attributes?o.attributes[o.layer.objectIdField]:o.uid,null==v?null:`o-${null!=o.layer?o.layer.id:""}-${v}`}const z={json:{write:{writer:function F(o,f){null!=o?.layer?.objectIdField&&null!=o.attributes&&(f.feature={layerId:o.layer.id,objectId:o.attributes[o.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function N(o){if(null!=o.layerId&&null!=o.objectId)return{uid:null,layer:{id:o.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:o.objectId}}}}}}};var H=i(73514),x=i(25387),W=i(89317),C=i(51172),a=i(80543),O=(i(1535),i(57678),i(14007),i(10141)),E=i(42214),R=i(85039),P=i(86516);let h=class extends((0,W.eC)((0,x.J)(H.Z))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return(0,C._W)(this.position,o.position)&&(0,C._W)(this.elevationInfo,o.elevationInfo)&&L(this.feature,o.feature)}};(0,s._)([(0,a.Cb)({type:R.Z,json:{write:{isRequired:!0}}})],h.prototype,"position",void 0),(0,s._)([(0,a.Cb)({type:P.Z}),(0,E.B)()],h.prototype,"elevationInfo",void 0),(0,s._)([(0,a.Cb)(z)],h.prototype,"feature",void 0),h=(0,s._)([(0,O.j)("esri.analysis.LineOfSightAnalysisObserver")],h);const S=h;let g=class extends((0,W.eC)(x.j)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return(0,C._W)(this.position,o.position)&&(0,C._W)(this.elevationInfo,o.elevationInfo)&&L(this.feature,o.feature)}};(0,s._)([(0,a.Cb)({type:R.Z}),(0,E.B)()],g.prototype,"position",void 0),(0,s._)([(0,a.Cb)({type:P.Z}),(0,E.B)()],g.prototype,"elevationInfo",void 0),(0,s._)([(0,a.Cb)(z)],g.prototype,"feature",void 0),g=(0,s._)([(0,O.j)("esri.analysis.LineOfSightAnalysisTarget")],g);const $=g;var t=i(83944),n=i(18626),r=i(77675),u=i(83821),d=i(27048),c=i(43688);const p=t.Z.ofType($);let l=class extends T.Z{constructor(o){super(o),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,r.YP)(()=>this._computeExtent(),o=>{null==o?.pending&&this._set("extent",null!=o?o.extent:null)},r.tX))}get targets(){return this._get("targets")||new p}set targets(o){this._set("targets",(0,n.Z)(o,this.targets,p))}get spatialReference(){return null!=this.observer?.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}waitComputeExtent(){var o=this;return(0,j.Z)(function*(){const f=o._computeExtent();return null!=f?f.pending:Promise.resolve()})()}_computeExtent(){const o=this.spatialReference;if(null==this.observer?.position||null==o)return null;const f=Z=>"absolute-height"===(0,c.VW)(Z.position,Z.elevationInfo),v=this.observer.position,D=(0,d.al)(v.x,v.y,v.z,v.x,v.y,v.z);for(const Z of this.targets)if(null!=Z.position){const A=(0,u.projectOrLoad)(Z.position,o);if(null!=A.pending)return{pending:A.pending,extent:null};if(null!=A.geometry){const{x:Q,y:k,z:q}=A.geometry;(0,d.pp)(D,[Q,k,q])}}const w=(0,d.HH)(D,o);return f(this.observer)&&this.targets.every(f)||(w.zmin=void 0,w.zmax=void 0),{pending:null,extent:w}}clear(){this.observer=null,this.targets.removeAll()}};(0,s._)([(0,a.Cb)({type:["line-of-sight"]})],l.prototype,"type",void 0),(0,s._)([(0,a.Cb)({type:S,json:{read:!0,write:!0}})],l.prototype,"observer",void 0),(0,s._)([(0,a.Cb)({cast:n.R,type:p,nonNullable:!0,json:{read:!0,write:!0}})],l.prototype,"targets",null),(0,s._)([(0,a.Cb)({value:null,readOnly:!0})],l.prototype,"extent",void 0),(0,s._)([(0,a.Cb)({readOnly:!0})],l.prototype,"spatialReference",null),(0,s._)([(0,a.Cb)({readOnly:!0})],l.prototype,"requiredPropertiesForEditing",null),l=(0,s._)([(0,O.j)("esri.analysis.LineOfSightAnalysis")],l);const b=l;var V=i(3233),X=i(95060),Y=i(80099);const G=t.Z.ofType($);let y=class extends((0,Y.q)((0,V.R)(X.Z))){constructor(o){super(o),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new b,this.opacity=1}initialize(){this.addHandles((0,r.YP)(()=>this.analysis,(o,f)=>{null!=f&&f.parent===this&&(f.parent=null),null!=o&&(o.parent=this)},r.tX))}load(){var o=this;return(0,j.Z)(function*(){return null!=o.analysis&&o.addResolvingPromise(o.analysis.waitComputeExtent()),o})()}get observer(){return this.analysis?.observer}set observer(o){const{analysis:f}=this;f&&(f.observer=o)}get targets(){return null!=this.analysis?this.analysis.targets:new t.Z}set targets(o){(0,n.Z)(o,this.analysis?.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(o){this.analysis===o&&(this.analysis=new b)}};(0,s._)([(0,a.Cb)({json:{read:!1},readOnly:!0})],y.prototype,"type",void 0),(0,s._)([(0,a.Cb)({type:["LineOfSightLayer"]})],y.prototype,"operationalLayerType",void 0),(0,s._)([(0,a.Cb)({type:S,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],y.prototype,"observer",null),(0,s._)([(0,a.Cb)({type:G,json:{read:!0,write:{ignoreOrigin:!0}}})],y.prototype,"targets",null),(0,s._)([(0,a.Cb)({nonNullable:!0,json:{read:!1,write:!1}})],y.prototype,"analysis",void 0),(0,s._)([(0,a.Cb)({readOnly:!0})],y.prototype,"fullExtent",null),(0,s._)([(0,a.Cb)({readOnly:!0})],y.prototype,"spatialReference",null),(0,s._)([(0,a.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],y.prototype,"opacity",void 0),(0,s._)([(0,a.Cb)({type:["show","hide"]})],y.prototype,"listMode",void 0),y=(0,s._)([(0,O.j)("esri.layers.LineOfSightLayer")],y);const K=y},43688:(B,m,i)=>{function I(t,n){return function T(t,n){return n?.mode?n.mode:function s(t){return t?S:g}(t).mode}(null!=t&&t.hasZ,n)}function E(t,n,r){return r&&r.mode!==n?`${t} only support ${n} elevation mode`:null}function R(t,n,r){return r?.mode===n?`${t} do not support ${n} elevation mode`:null}function P(t,n){return null!=n?.featureExpressionInfo&&"0"!==n.featureExpressionInfo.expression?`${t} do not support featureExpressionInfo`:null}function h(t,n){n&&t.warn(".elevationInfo=",n)}i.d(m,{LR:()=>h,Uy:()=>E,VW:()=>I,Wb:()=>R,kf:()=>P}),i(1678);const S={mode:"absolute-height",offset:0},g={mode:"on-the-ground",offset:null}}}]);