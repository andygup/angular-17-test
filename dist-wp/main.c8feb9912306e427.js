(self.webpackChunkangular_17_test=self.webpackChunkangular_17_test||[]).push([[179],{86404:(Ze,me,_)=>{"use strict";let M=null,x=1;function H(p){const y=M;return M=p,y}function I(p){if((!U(p)||p.dirty)&&(p.dirty||p.lastCleanEpoch!==x)){if(!p.producerMustRecompute(p)&&!L(p))return p.dirty=!1,void(p.lastCleanEpoch=x);p.producerRecomputeValue(p),p.dirty=!1,p.lastCleanEpoch=x}}function L(p){X(p);for(let y=0;y<p.producerNode.length;y++){const g=p.producerNode[y],v=p.producerLastReadVersion[y];if(v!==g.version||(I(g),v!==g.version))return!0}return!1}function K(p,y){if(function Y(p){p.liveConsumerNode??=[],p.liveConsumerIndexOfThis??=[]}(p),X(p),1===p.liveConsumerNode.length)for(let v=0;v<p.producerNode.length;v++)K(p.producerNode[v],p.producerIndexOfThis[v]);const g=p.liveConsumerNode.length-1;if(p.liveConsumerNode[y]=p.liveConsumerNode[g],p.liveConsumerIndexOfThis[y]=p.liveConsumerIndexOfThis[g],p.liveConsumerNode.length--,p.liveConsumerIndexOfThis.length--,y<p.liveConsumerNode.length){const v=p.liveConsumerIndexOfThis[y],b=p.liveConsumerNode[y];X(b),b.producerIndexOfThis[v]=y}}function U(p){return p.consumerIsAlwaysLive||(p?.liveConsumerNode?.length??0)>0}function X(p){p.producerNode??=[],p.producerIndexOfThis??=[],p.producerLastReadVersion??=[]}let Q=null;function Me(p){return"function"==typeof p}function He(p){const g=p(v=>{Error.call(v),v.stack=(new Error).stack});return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g}const xe=He(p=>function(g){p(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((v,b)=>`${b+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});function Xe(p,y){if(p){const g=p.indexOf(y);0<=g&&p.splice(g,1)}}class J{constructor(y){this.initialTeardown=y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let y;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const C of g)C.remove(this);else g.remove(this);const{initialTeardown:v}=this;if(Me(v))try{v()}catch(C){y=C instanceof xe?C.errors:[C]}const{_finalizers:b}=this;if(b){this._finalizers=null;for(const C of b)try{Ve(C)}catch(D){y=y??[],D instanceof xe?y=[...y,...D.errors]:y.push(D)}}if(y)throw new xe(y)}}add(y){var g;if(y&&y!==this)if(this.closed)Ve(y);else{if(y instanceof J){if(y.closed||y._hasParent(this))return;y._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(y)}}_hasParent(y){const{_parentage:g}=this;return g===y||Array.isArray(g)&&g.includes(y)}_addParent(y){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(y),g):g?[g,y]:y}_removeParent(y){const{_parentage:g}=this;g===y?this._parentage=null:Array.isArray(g)&&Xe(g,y)}remove(y){const{_finalizers:g}=this;g&&Xe(g,y),y instanceof J&&y._removeParent(this)}}J.EMPTY=(()=>{const p=new J;return p.closed=!0,p})();const ye=J.EMPTY;function Re(p){return p instanceof J||p&&"closed"in p&&Me(p.remove)&&Me(p.add)&&Me(p.unsubscribe)}function Ve(p){Me(p)?p():p.unsubscribe()}const et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fe={setTimeout(p,y,...g){const{delegate:v}=Fe;return v?.setTimeout?v.setTimeout(p,y,...g):setTimeout(p,y,...g)},clearTimeout(p){const{delegate:y}=Fe;return(y?.clearTimeout||clearTimeout)(p)},delegate:void 0};function Qe(p){Fe.setTimeout(()=>{const{onUnhandledError:y}=et;if(!y)throw p;y(p)})}function Ne(){}const ve=je("C",void 0,void 0);function je(p,y,g){return{kind:p,value:y,error:g}}let $e=null;function nt(p){if(et.useDeprecatedSynchronousErrorHandling){const y=!$e;if(y&&($e={errorThrown:!1,error:null}),p(),y){const{errorThrown:g,error:v}=$e;if($e=null,g)throw v}}else p()}class ot extends J{constructor(y){super(),this.isStopped=!1,y?(this.destination=y,Re(y)&&y.add(this)):this.destination=on}static create(y,g,v){return new Ot(y,g,v)}next(y){this.isStopped?kt(function Te(p){return je("N",p,void 0)}(y),this):this._next(y)}error(y){this.isStopped?kt(function Oe(p){return je("E",void 0,p)}(y),this):(this.isStopped=!0,this._error(y))}complete(){this.isStopped?kt(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(y){this.destination.next(y)}_error(y){try{this.destination.error(y)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function mt(p,y){return at.call(p,y)}class Tt{constructor(y){this.partialObserver=y}next(y){const{partialObserver:g}=this;if(g.next)try{g.next(y)}catch(v){Bt(v)}}error(y){const{partialObserver:g}=this;if(g.error)try{g.error(y)}catch(v){Bt(v)}else Bt(y)}complete(){const{partialObserver:y}=this;if(y.complete)try{y.complete()}catch(g){Bt(g)}}}class Ot extends ot{constructor(y,g,v){let b;if(super(),Me(y)||!y)b={next:y??void 0,error:g??void 0,complete:v??void 0};else{let C;this&&et.useDeprecatedNextContext?(C=Object.create(y),C.unsubscribe=()=>this.unsubscribe(),b={next:y.next&&mt(y.next,C),error:y.error&&mt(y.error,C),complete:y.complete&&mt(y.complete,C)}):b=y}this.destination=new Tt(b)}}function Bt(p){et.useDeprecatedSynchronousErrorHandling?function Je(p){et.useDeprecatedSynchronousErrorHandling&&$e&&($e.errorThrown=!0,$e.error=p)}(p):Qe(p)}function kt(p,y){const{onStoppedNotification:g}=et;g&&Fe.setTimeout(()=>g(p,y))}const on={closed:!0,next:Ne,error:function Gt(p){throw p},complete:Ne},ft="function"==typeof Symbol&&Symbol.observable||"@@observable";function dt(p){return p}function Dt(p){return 0===p.length?dt:1===p.length?p[0]:function(g){return p.reduce((v,b)=>b(v),g)}}let xt=(()=>{class p{constructor(g){g&&(this._subscribe=g)}lift(g){const v=new p;return v.source=this,v.operator=g,v}subscribe(g,v,b){const C=function rn(p){return p&&p instanceof ot||function Yt(p){return p&&Me(p.next)&&Me(p.error)&&Me(p.complete)}(p)&&Re(p)}(g)?g:new Ot(g,v,b);return nt(()=>{const{operator:D,source:R}=this;C.add(D?D.call(C,R):R?this._subscribe(C):this._trySubscribe(C))}),C}_trySubscribe(g){try{return this._subscribe(g)}catch(v){g.error(v)}}forEach(g,v){return new(v=nn(v))((b,C)=>{const D=new Ot({next:R=>{try{g(R)}catch(z){C(z),D.unsubscribe()}},error:C,complete:b});this.subscribe(D)})}_subscribe(g){var v;return null===(v=this.source)||void 0===v?void 0:v.subscribe(g)}[ft](){return this}pipe(...g){return Dt(g)(this)}toPromise(g){return new(g=nn(g))((v,b)=>{let C;this.subscribe(D=>C=D,D=>b(D),()=>v(C))})}}return p.create=y=>new p(y),p})();function nn(p){var y;return null!==(y=p??et.Promise)&&void 0!==y?y:Promise}const gn=He(p=>function(){p(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let yn=(()=>{class p extends xt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const v=new Mn(this,this);return v.operator=g,v}_throwIfClosed(){if(this.closed)throw new gn}next(g){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(g)}})}error(g){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:v}=this;for(;v.length;)v.shift().error(g)}})}complete(){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:v,isStopped:b,observers:C}=this;return v||b?ye:(this.currentObservers=null,C.push(g),new J(()=>{this.currentObservers=null,Xe(C,g)}))}_checkFinalizedStatuses(g){const{hasError:v,thrownError:b,isStopped:C}=this;v?g.error(b):C&&g.complete()}asObservable(){const g=new xt;return g.source=this,g}}return p.create=(y,g)=>new Mn(y,g),p})();class Mn extends yn{constructor(y,g){super(),this.destination=y,this.source=g}next(y){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===v||v.call(g,y)}error(y){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===v||v.call(g,y)}complete(){var y,g;null===(g=null===(y=this.destination)||void 0===y?void 0:y.complete)||void 0===g||g.call(y)}_subscribe(y){var g,v;return null!==(v=null===(g=this.source)||void 0===g?void 0:g.subscribe(y))&&void 0!==v?v:ye}}function lr(p){return Me(p?.lift)}function On(p){return y=>{if(lr(y))return y.lift(function(g){try{return p(g,this)}catch(v){this.error(v)}});throw new TypeError("Unable to lift unknown Observable type")}}function zn(p,y,g,v,b){return new Ut(p,y,g,v,b)}class Ut extends ot{constructor(y,g,v,b,C,D){super(y),this.onFinalize=C,this.shouldUnsubscribe=D,this._next=g?function(R){try{g(R)}catch(z){y.error(z)}}:super._next,this._error=b?function(R){try{b(R)}catch(z){y.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=v?function(){try{v()}catch(R){y.error(R)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:g}=this;super.unsubscribe(),!g&&(null===(y=this.onFinalize)||void 0===y||y.call(this))}}}function Xt(p,y){return On((g,v)=>{let b=0;g.subscribe(zn(v,C=>{v.next(p.call(y,C,b++))}))})}function Kt(p){return this instanceof Kt?(this.v=p,this):new Kt(p)}function Rn(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,y=p[Symbol.asyncIterator];return y?y.call(p):(p=function ut(p){var y="function"==typeof Symbol&&Symbol.iterator,g=y&&p[y],v=0;if(g)return g.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&v>=p.length&&(p=void 0),{value:p&&p[v++],done:!p}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),g={},v("next"),v("throw"),v("return"),g[Symbol.asyncIterator]=function(){return this},g);function v(C){g[C]=p[C]&&function(D){return new Promise(function(R,z){!function b(C,D,R,z){Promise.resolve(z).then(function(he){C({value:he,done:R})},D)}(R,z,(D=p[C](D)).done,D.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const hr=p=>p&&"number"==typeof p.length&&"function"!=typeof p;function Ss(p){return Me(p?.then)}function kn(p){return Me(p[ft])}function Do(p){return Symbol.asyncIterator&&Me(p?.[Symbol.asyncIterator])}function pn(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sr=function ri(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function si(p){return Me(p?.[sr])}function ki(p){return function Jt(p,y,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,v=g.apply(p,y||[]),C=[];return b={},D("next"),D("throw"),D("return"),b[Symbol.asyncIterator]=function(){return this},b;function D(Ke){v[Ke]&&(b[Ke]=function(rt){return new Promise(function(pt,Mt){C.push([Ke,rt,pt,Mt])>1||R(Ke,rt)})})}function R(Ke,rt){try{!function z(Ke){Ke.value instanceof Kt?Promise.resolve(Ke.value.v).then(he,Ce):Ie(C[0][2],Ke)}(v[Ke](rt))}catch(pt){Ie(C[0][3],pt)}}function he(Ke){R("next",Ke)}function Ce(Ke){R("throw",Ke)}function Ie(Ke,rt){Ke(rt),C.shift(),C.length&&R(C[0][0],C[0][1])}}(this,arguments,function*(){const g=p.getReader();try{for(;;){const{value:v,done:b}=yield Kt(g.read());if(b)return yield Kt(void 0);yield yield Kt(v)}}finally{g.releaseLock()}})}function Zs(p){return Me(p?.getReader)}function Or(p){if(p instanceof xt)return p;if(null!=p){if(kn(p))return function vi(p){return new xt(y=>{const g=p[ft]();if(Me(g.subscribe))return g.subscribe(y);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if(hr(p))return function In(p){return new xt(y=>{for(let g=0;g<p.length&&!y.closed;g++)y.next(p[g]);y.complete()})}(p);if(Ss(p))return function _i(p){return new xt(y=>{p.then(g=>{y.closed||(y.next(g),y.complete())},g=>y.error(g)).then(null,Qe)})}(p);if(Do(p))return Ha(p);if(si(p))return function Kl(p){return new xt(y=>{for(const g of p)if(y.next(g),y.closed)return;y.complete()})}(p);if(Zs(p))return function Ja(p){return Ha(ki(p))}(p)}throw pn(p)}function Ha(p){return new xt(y=>{(function Ma(p,y){var g,v,b,C;return function yt(p,y,g,v){return new(g||(g=Promise))(function(C,D){function R(Ce){try{he(v.next(Ce))}catch(Ie){D(Ie)}}function z(Ce){try{he(v.throw(Ce))}catch(Ie){D(Ie)}}function he(Ce){Ce.done?C(Ce.value):function b(C){return C instanceof g?C:new g(function(D){D(C)})}(Ce.value).then(R,z)}he((v=v.apply(p,y||[])).next())})}(this,void 0,void 0,function*(){try{for(g=Rn(p);!(v=yield g.next()).done;)if(y.next(v.value),y.closed)return}catch(D){b={error:D}}finally{try{v&&!v.done&&(C=g.return)&&(yield C.call(g))}finally{if(b)throw b.error}}y.complete()})})(p,y).catch(g=>y.error(g))})}function xs(p,y,g,v=0,b=!1){const C=y.schedule(function(){g(),b?p.add(this.schedule(null,v)):this.unsubscribe()},v);if(p.add(C),!b)return C}function Un(p,y,g=1/0){return Me(y)?Un((v,b)=>Xt((C,D)=>y(v,C,b,D))(Or(p(v,b))),g):("number"==typeof y&&(g=y),On((v,b)=>function Ki(p,y,g,v,b,C,D,R){const z=[];let he=0,Ce=0,Ie=!1;const Ke=()=>{Ie&&!z.length&&!he&&y.complete()},rt=Mt=>he<v?pt(Mt):z.push(Mt),pt=Mt=>{C&&y.next(Mt),he++;let Ft=!1;Or(g(Mt,Ce++)).subscribe(zn(y,zt=>{b?.(zt),C?rt(zt):y.next(zt)},()=>{Ft=!0},void 0,()=>{if(Ft)try{for(he--;z.length&&he<v;){const zt=z.shift();D?xs(y,D,()=>pt(zt)):pt(zt)}Ke()}catch(zt){y.error(zt)}}))};return p.subscribe(zn(y,rt,()=>{Ie=!0,Ke()})),()=>{R?.()}}(v,b,p,g)))}function Ya(p=1/0){return Un(dt,p)}const Qn=new xt(p=>p.complete());function us(p){return p[p.length-1]}function jr(p){return function zl(p){return p&&Me(p.schedule)}(us(p))?p.pop():void 0}function ii(p,y=0){return On((g,v)=>{g.subscribe(zn(v,b=>xs(v,p,()=>v.next(b),y),()=>xs(v,p,()=>v.complete(),y),b=>xs(v,p,()=>v.error(b),y)))})}function ct(p,y=0){return On((g,v)=>{v.add(p.schedule(()=>g.subscribe(v),y))})}function ur(p,y){if(!p)throw new Error("Iterable cannot be null");return new xt(g=>{xs(g,y,()=>{const v=p[Symbol.asyncIterator]();xs(g,y,()=>{v.next().then(b=>{b.done?g.complete():g.next(b.value)})},0,!0)})})}function _s(p,y){return y?function Ei(p,y){if(null!=p){if(kn(p))return function Wt(p,y){return Or(p).pipe(ct(y),ii(y))}(p,y);if(hr(p))return function Ln(p,y){return new xt(g=>{let v=0;return y.schedule(function(){v===p.length?g.complete():(g.next(p[v++]),g.closed||this.schedule())})})}(p,y);if(Ss(p))return function Qt(p,y){return Or(p).pipe(ct(y),ii(y))}(p,y);if(Do(p))return ur(p,y);if(si(p))return function Nr(p,y){return new xt(g=>{let v;return xs(g,y,()=>{v=p[sr](),xs(g,y,()=>{let b,C;try{({value:b,done:C}=v.next())}catch(D){return void g.error(D)}C?g.complete():g.next(b)},0,!0)}),()=>Me(v?.return)&&v.return()})}(p,y);if(Zs(p))return function cs(p,y){return ur(ki(p),y)}(p,y)}throw pn(p)}(p,y):Or(p)}class ke extends yn{constructor(y){super(),this._value=y}get value(){return this.getValue()}_subscribe(y){const g=super._subscribe(y);return!g.closed&&y.next(this._value),g}getValue(){const{hasError:y,thrownError:g,_value:v}=this;if(y)throw g;return this._throwIfClosed(),v}next(y){super.next(this._value=y)}}function tt(...p){return _s(p,jr(p))}function Et(p,y,...g){if(!0===y)return void p();if(!1===y)return;const v=new Ot({next:()=>{v.unsubscribe(),p()}});return Or(y(...g)).subscribe(v)}function vt(p,y){return On((g,v)=>{let b=null,C=0,D=!1;const R=()=>D&&!b&&v.complete();g.subscribe(zn(v,z=>{b?.unsubscribe();let he=0;const Ce=C++;Or(p(z,Ce)).subscribe(b=zn(v,Ie=>v.next(y?y(z,Ie,Ce,he++):Ie),()=>{b=null,R()}))},()=>{D=!0,R()}))})}function Nt(p,y){return p===y}function wt(p){for(let y in p)if(p[y]===wt)return y;throw Error("Could not find renamed property on target object.")}function tn(p){if("string"==typeof p)return p;if(Array.isArray(p))return"["+p.map(tn).join(", ")+"]";if(null==p)return""+p;if(p.overriddenName)return`${p.overriddenName}`;if(p.name)return`${p.name}`;const y=p.toString();if(null==y)return""+y;const g=y.indexOf("\n");return-1===g?y:y.substring(0,g)}function En(p,y){return null==p||""===p?null===y?"":y:null==y||""===y?p:p+" "+y}const Jr=wt({__forward_ref__:wt});function ks(p){return p.__forward_ref__=ks,p.toString=function(){return tn(this())},p}function Cn(p){return Wo(p)?p():p}function Wo(p){return"function"==typeof p&&p.hasOwnProperty(Jr)&&p.__forward_ref__===ks}function ds(p){return p&&!!p.\u0275providers}class en extends Error{constructor(y,g){super(function Xa(p,y){return`NG0${Math.abs(p)}${y?": "+y:""}`}(y,g)),this.code=y}}const Hl=wt({\u0275cmp:wt}),$d=wt({\u0275dir:wt}),Zd=wt({\u0275pipe:wt}),kd=wt({\u0275mod:wt}),Ci=wt({\u0275fac:wt}),Jl=wt({__NG_ELEMENT_ID__:wt}),hf=wt({__NG_ENV_ID__:wt});function Er(p){return"function"==typeof p?p.name||p.toString():"object"==typeof p&&null!=p&&"function"==typeof p.type?p.type.name||p.type.toString():function Kn(p){return"string"==typeof p?p:null==p?"":String(p)}(p)}function Kd(p,y){throw new en(-201,!1)}function Qs(p,y){null==p&&function dn(p,y,g,v){throw new Error(`ASSERTION ERROR: ${p}`+(null==v?"":` [Expected=> ${g} ${v} ${y} <=Actual]`))}(y,p,null,"!=")}function An(p){return{token:p.token,providedIn:p.providedIn||null,factory:p.factory,value:void 0}}function ku(p){return{providers:p.providers||[],imports:p.imports||[]}}function el(p){return yf(p,Ku)||yf(p,og)}function yf(p,y){return p.hasOwnProperty(y)?p[y]:null}function Xs(p){return p&&(p.hasOwnProperty(gr)||p.hasOwnProperty(gf))?p[gr]:null}const Ku=wt({\u0275prov:wt}),gr=wt({\u0275inj:wt}),og=wt({ngInjectableDef:wt}),gf=wt({ngInjectorDef:wt});var or=function(p){return p[p.Default=0]="Default",p[p.Host=1]="Host",p[p.Self=2]="Self",p[p.SkipSelf=4]="SkipSelf",p[p.Optional=8]="Optional",p}(or||{});let Gd;function Fr(p){const y=Gd;return Gd=p,y}function Jd(p,y,g){const v=el(p);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:g&or.Optional?null:void 0!==y?y:void Kd(tn(p))}const Ir=globalThis;class Dn{constructor(y,g){this._desc=y,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof g?this.__NG_ELEMENT_ID__=g:void 0!==g&&(this.\u0275prov=An({token:this,providedIn:g.providedIn||"root",factory:g.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tl={},nl="__NG_DI_FLAG__",rl="ngTempTokenPath",Sa=/\n/gm,ql="__source";let Mi;function So(p){const y=Mi;return Mi=p,y}function zu(p,y=or.Default){if(void 0===Mi)throw new en(-203,!1);return null===Mi?Jd(p,void 0,y):Mi.get(p,y&or.Optional?null:void 0,y)}function Xn(p,y=or.Default){return(function Hd(){return Gd}()||zu)(Cn(p),y)}function fn(p,y=or.Default){return Xn(p,Gu(y))}function Gu(p){return typeof p>"u"||"number"==typeof p?p:0|(p.optional&&8)|(p.host&&1)|(p.self&&2)|(p.skipSelf&&4)}function nh(p){const y=[];for(let g=0;g<p.length;g++){const v=Cn(p[g]);if(Array.isArray(v)){if(0===v.length)throw new en(900,!1);let b,C=or.Default;for(let D=0;D<v.length;D++){const R=v[D],z=cg(R);"number"==typeof z?-1===z?b=R.token:C|=z:b=R}y.push(Xn(b,C))}else y.push(Xn(v))}return y}function cg(p){return p[nl]}function ai(p){return{toString:p}.toString()}var eu=function(p){return p[p.OnPush=0]="OnPush",p[p.Default=1]="Default",p}(eu||{}),wo=function(p){return p[p.Emulated=0]="Emulated",p[p.None=2]="None",p[p.ShadowDom=3]="ShadowDom",p}(wo||{});const $o={},mn=[];function ol(p,y,g){let v=p.length;for(;;){const b=p.indexOf(y,g);if(-1===b)return b;if(0===b||p.charCodeAt(b-1)<=32){const C=y.length;if(b+C===v||p.charCodeAt(b+C)<=32)return b}g=b+1}}function Cf(p,y,g){let v=0;for(;v<g.length;){const b=g[v];if("number"==typeof b){if(0!==b)break;v++;const C=g[v++],D=g[v++],R=g[v++];p.setAttribute(y,D,R,C)}else{const C=b,D=g[++v];de(C)?p.setProperty(y,C,D):p.setAttribute(y,C,D),v++}}return v}function Ae(p){return 3===p||4===p||6===p}function de(p){return 64===p.charCodeAt(0)}function Pe(p,y){if(null!==y&&0!==y.length)if(null===p||0===p.length)p=y.slice();else{let g=-1;for(let v=0;v<y.length;v++){const b=y[v];"number"==typeof b?g=b:0===g||We(p,g,b,null,-1===g||2===g?y[++v]:null)}}return p}function We(p,y,g,v,b){let C=0,D=p.length;if(-1===y)D=-1;else for(;C<p.length;){const R=p[C++];if("number"==typeof R){if(R===y){D=-1;break}if(R>y){D=C-1;break}}}for(;C<p.length;){const R=p[C];if("number"==typeof R)break;if(R===g){if(null===v)return void(null!==b&&(p[C+1]=b));if(v===p[C+1])return void(p[C+2]=b)}C++,null!==v&&C++,null!==b&&C++}-1!==D&&(p.splice(D,0,y),C=D+1),p.splice(C++,0,g),null!==v&&p.splice(C++,0,v),null!==b&&p.splice(C++,0,b)}const st="ng-template";function _t(p,y,g){let v=0,b=!0;for(;v<p.length;){let C=p[v++];if("string"==typeof C&&b){const D=p[v++];if(g&&"class"===C&&-1!==ol(D.toLowerCase(),y,0))return!0}else{if(1===C){for(;v<p.length&&"string"==typeof(C=p[v++]);)if(C.toLowerCase()===y)return!0;return!1}"number"==typeof C&&(b=!1)}}return!1}function bt(p){return 4===p.type&&p.value!==st}function At(p,y,g){return y===(4!==p.type||g?p.value:st)}function Vt(p,y,g){let v=4;const b=p.attrs||[],C=function Bn(p){for(let y=0;y<p.length;y++)if(Ae(p[y]))return y;return p.length}(b);let D=!1;for(let R=0;R<y.length;R++){const z=y[R];if("number"!=typeof z){if(!D)if(4&v){if(v=2|1&v,""!==z&&!At(p,z,g)||""===z&&1===y.length){if(Ht(v))return!1;D=!0}}else{const he=8&v?z:y[++R];if(8&v&&null!==p.attrs){if(!_t(p.attrs,he,g)){if(Ht(v))return!1;D=!0}continue}const Ie=xn(8&v?"class":z,b,bt(p),g);if(-1===Ie){if(Ht(v))return!1;D=!0;continue}if(""!==he){let Ke;Ke=Ie>C?"":b[Ie+1].toLowerCase();const rt=8&v?Ke:null;if(rt&&-1!==ol(rt,he,0)||2&v&&he!==Ke){if(Ht(v))return!1;D=!0}}}}else{if(!D&&!Ht(v)&&!Ht(z))return!1;if(D&&Ht(z))continue;D=!1,v=z|1&v}}return Ht(v)||D}function Ht(p){return 0==(1&p)}function xn(p,y,g,v){if(null===y)return-1;let b=0;if(v||!g){let C=!1;for(;b<y.length;){const D=y[b];if(D===p)return b;if(3===D||6===D)C=!0;else{if(1===D||2===D){let R=y[++b];for(;"string"==typeof R;)R=y[++b];continue}if(4===D)break;if(0===D){b+=4;continue}}b+=C?1:2}return-1}return function ws(p,y){let g=p.indexOf(4);if(g>-1)for(g++;g<p.length;){const v=p[g];if("number"==typeof v)return-1;if(v===y)return g;g++}return-1}(y,p)}function ir(p,y,g=!1){for(let v=0;v<y.length;v++)if(Vt(p,y[v],g))return!0;return!1}function Zo(p,y){return p?":not("+y.trim()+")":y}function al(p){let y=p[0],g=1,v=2,b="",C=!1;for(;g<p.length;){let D=p[g];if("string"==typeof D)if(2&v){const R=p[++g];b+="["+D+(R.length>0?'="'+R+'"':"")+"]"}else 8&v?b+="."+D:4&v&&(b+=" "+D);else""!==b&&!Ht(D)&&(y+=Zo(C,b),b=""),v=D,C=C||!Ht(v);g++}return""!==b&&(y+=Zo(C,b)),y}function rh(p){return ai(()=>{const y=fC(p),g={...y,decls:p.decls,vars:p.vars,template:p.template,consts:p.consts||null,ngContentSelectors:p.ngContentSelectors,onPush:p.changeDetection===eu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:y.standalone&&p.dependencies||null,getStandaloneInjector:null,signals:p.signals??!1,data:p.data||{},encapsulation:p.encapsulation||wo.Emulated,styles:p.styles||mn,_:null,schemas:p.schemas||null,tView:null,id:""};mC(g);const v=p.dependencies;return g.directiveDefs=wf(v,!1),g.pipeDefs=wf(v,!0),g.id=function lx(p){let y=0;const g=[p.selectors,p.ngContentSelectors,p.hostVars,p.hostAttrs,p.consts,p.vars,p.decls,p.encapsulation,p.standalone,p.signals,p.exportAs,JSON.stringify(p.inputs),JSON.stringify(p.outputs),Object.getOwnPropertyNames(p.type.prototype),!!p.contentQueries,!!p.viewQuery].join("|");for(const b of g)y=Math.imul(31,y)+b.charCodeAt(0)<<0;return y+=2147483648,"c"+y}(g),g})}function Df(p){return nr(p)||Ls(p)}function pg(p){return null!==p}function sh(p){return ai(()=>({type:p.type,bootstrap:p.bootstrap||mn,declarations:p.declarations||mn,imports:p.imports||mn,exports:p.exports||mn,transitiveCompileScopes:null,schemas:p.schemas||null,id:p.id||null}))}function Sf(p,y){if(null==p)return $o;const g={};for(const v in p)if(p.hasOwnProperty(v)){let b=p[v],C=b;Array.isArray(b)&&(C=b[1],b=b[0]),g[b]=v,y&&(y[b]=C)}return g}function Rs(p){return ai(()=>{const y=fC(p);return mC(y),y})}function nr(p){return p[Hl]||null}function Ls(p){return p[$d]||null}function Ks(p){return p[Zd]||null}function qs(p,y){const g=p[kd]||null;if(!g&&!0===y)throw new Error(`Type ${tn(p)} does not have '\u0275mod' property.`);return g}function fC(p){const y={};return{type:p.type,providersResolver:null,factory:null,hostBindings:p.hostBindings||null,hostVars:p.hostVars||0,hostAttrs:p.hostAttrs||null,contentQueries:p.contentQueries||null,declaredInputs:y,inputTransforms:null,inputConfig:p.inputs||$o,exportAs:p.exportAs||null,standalone:!0===p.standalone,signals:!0===p.signals,selectors:p.selectors||mn,viewQuery:p.viewQuery||null,features:p.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sf(p.inputs,y),outputs:Sf(p.outputs),debugInfo:null}}function mC(p){p.features?.forEach(y=>y(p))}function wf(p,y){if(!p)return null;const g=y?Ks:Df;return()=>("function"==typeof p?p():p).map(v=>g(v)).filter(pg)}const hs=0,an=1,Pn=2,es=3,Di=4,eo=5,Si=6,Hu=7,Wr=8,co=9,Ju=10,Hn=11,oh=12,yC=13,Yu=14,ss=15,ih=16,Qu=17,Gi=18,ah=19,gC=20,ul=21,Tf=22,nu=23,Jn=25,fg=1,Hi=7,Xu=9,Es=10;var qu=function(p){return p[p.None=0]="None",p[p.HasTransplantedViews=2]="HasTransplantedViews",p[p.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",p}(qu||{});function zs(p){return Array.isArray(p)&&"object"==typeof p[fg]}function Vs(p){return Array.isArray(p)&&!0===p[fg]}function mg(p){return 0!=(4&p.flags)}function ru(p){return p.componentOffset>-1}function wi(p){return!!p.template}function yg(p){return 0!=(512&p[Pn])}function su(p,y){return p.hasOwnProperty(Ci)?p[Ci]:null}class hx{constructor(y,g,v){this.previousValue=y,this.currentValue=g,this.firstChange=v}isFirstChange(){return this.firstChange}}function ou(){return bC}function bC(p){return p.type.prototype.ngOnChanges&&(p.setInput=fx),px}function px(){const p=MC(this),y=p?.current;if(y){const g=p.previous;if(g===$o)p.previous=y;else for(let v in y)g[v]=y[v];p.current=null,this.ngOnChanges(y)}}function fx(p,y,g,v){const b=this.declaredInputs[g],C=MC(p)||function mx(p,y){return p[CC]=y}(p,{previous:$o,current:null}),D=C.current||(C.current={}),R=C.previous,z=R[b];D[b]=new hx(z&&z.currentValue,y,R===$o),p[v]=y}ou.ngInherit=!0;const CC="__ngSimpleChanges__";function MC(p){return p[CC]||null}const Ji=function(p,y,g){};function Vr(p){for(;Array.isArray(p);)p=p[hs];return p}function ho(p,y){return Vr(y[p.index])}function ko(p,y){const g=y[p];return zs(g)?g:g[hs]}function bg(p){return 128==(128&p[Pn])}function Yi(p,y){return null==y?null:p[y]}function wC(p){p[Qu]=0}function Ex(p){1024&p[Pn]||(p[Pn]|=1024,bg(p)&&Pf(p))}function OC(p){return 9216&p[Pn]||p[nu]?.dirty}function IC(p){OC(p)&&Pf(p)}function Pf(p){let y=p[es];for(;null!==y&&!(Vs(y)&&y[Pn]&qu.HasChildViewsToRefresh||zs(y)&&8192&y[Pn]);){if(Vs(y))y[Pn]|=qu.HasChildViewsToRefresh;else if(y[Pn]|=8192,!bg(y))break;y=y[es]}}const Fn={lFrame:FC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function AC(){return Fn.bindingsEnabled}function Zt(){return Fn.lFrame.lView}function vr(){return Fn.lFrame.tView}function Pr(){let p=xC();for(;null!==p&&64===p.type;)p=p.parent;return p}function xC(){return Fn.lFrame.currentTNode}function Qi(p,y){const g=Fn.lFrame;g.currentTNode=p,g.isParent=y}function Mg(){return Fn.lFrame.isParent}function Rx(p,y){const g=Fn.lFrame;g.bindingIndex=g.bindingRootIndex=p,Sg(y)}function Sg(p){Fn.lFrame.currentDirectiveIndex=p}function NC(){return Fn.lFrame.currentQueryIndex}function Tg(p){Fn.lFrame.currentQueryIndex=p}function jx(p){const y=p[an];return 2===y.type?y.declTNode:1===y.type?p[eo]:null}function UC(p,y,g){if(g&or.SkipSelf){let b=y,C=p;for(;!(b=b.parent,null!==b||g&or.Host||(b=jx(C),null===b||(C=C[Yu],10&b.type))););if(null===b)return!1;y=b,p=C}const v=Fn.lFrame=BC();return v.currentTNode=y,v.lView=p,!0}function Og(p){const y=BC(),g=p[an];Fn.lFrame=y,y.currentTNode=g.firstChild,y.lView=p,y.tView=g,y.contextLView=p,y.bindingIndex=g.bindingStartIndex,y.inI18n=!1}function BC(){const p=Fn.lFrame,y=null===p?null:p.child;return null===y?FC(p):y}function FC(p){const y={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:p,child:null,inI18n:!1};return null!==p&&(p.child=y),y}function WC(){const p=Fn.lFrame;return Fn.lFrame=p.parent,p.currentTNode=null,p.lView=null,p}const VC=WC;function Ig(){const p=WC();p.isParent=!0,p.tView=null,p.selectedIndex=-1,p.contextLView=null,p.elementDepthCount=0,p.currentDirectiveIndex=-1,p.currentNamespace=null,p.bindingRootIndex=-1,p.bindingIndex=-1,p.currentQueryIndex=0}function iu(p){Fn.lFrame.selectedIndex=p}let ZC=!0;function Rf(p,y){for(let g=y.directiveStart,v=y.directiveEnd;g<v;g++){const C=p.data[g].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:R,ngAfterViewInit:z,ngAfterViewChecked:he,ngOnDestroy:Ce}=C;D&&(p.contentHooks??=[]).push(-g,D),R&&((p.contentHooks??=[]).push(g,R),(p.contentCheckHooks??=[]).push(g,R)),z&&(p.viewHooks??=[]).push(-g,z),he&&((p.viewHooks??=[]).push(g,he),(p.viewCheckHooks??=[]).push(g,he)),null!=Ce&&(p.destroyHooks??=[]).push(g,Ce)}}function Lf(p,y,g){kC(p,y,3,g)}function jf(p,y,g,v){(3&p[Pn])===g&&kC(p,y,g,v)}function Pg(p,y){let g=p[Pn];(3&g)===y&&(g&=16383,g+=1,p[Pn]=g)}function kC(p,y,g,v){const C=v??-1,D=y.length-1;let R=0;for(let z=void 0!==v?65535&p[Qu]:0;z<D;z++)if("number"==typeof y[z+1]){if(R=y[z],null!=v&&R>=v)break}else y[z]<0&&(p[Qu]+=65536),(R<C||-1==C)&&($x(p,g,y,z),p[Qu]=(4294901760&p[Qu])+z+2),z++}function KC(p,y){Ji(4,p,y);const g=H(null);try{y.call(p)}finally{H(g),Ji(5,p,y)}}function $x(p,y,g,v){const b=g[v]<0,C=g[v+1],R=p[b?-g[v]:g[v]];b?p[Pn]>>14<p[Qu]>>16&&(3&p[Pn])===y&&(p[Pn]+=16384,KC(R,C)):KC(R,C)}const nc=-1;class hh{constructor(y,g,v){this.factory=y,this.resolving=!1,this.canSeeViewProviders=g,this.injectImpl=v}}function xg(p){return p!==nc}function ph(p){return 32767&p}function fh(p,y){let g=function Gx(p){return p>>16}(p),v=y;for(;g>0;)v=v[Yu],g--;return v}let Rg=!0;function Nf(p){const y=Rg;return Rg=p,y}const zC=255,GC=5;let Hx=0;const qi={};function Uf(p,y){const g=HC(p,y);if(-1!==g)return g;const v=y[an];v.firstCreatePass&&(p.injectorIndex=y.length,Lg(v.data,p),Lg(y,null),Lg(v.blueprint,null));const b=Bf(p,y),C=p.injectorIndex;if(xg(b)){const D=ph(b),R=fh(b,y),z=R[an].data;for(let he=0;he<8;he++)y[C+he]=R[D+he]|z[D+he]}return y[C+8]=b,C}function Lg(p,y){p.push(0,0,0,0,0,0,0,0,y)}function HC(p,y){return-1===p.injectorIndex||p.parent&&p.parent.injectorIndex===p.injectorIndex||null===y[p.injectorIndex+8]?-1:p.injectorIndex}function Bf(p,y){if(p.parent&&-1!==p.parent.injectorIndex)return p.parent.injectorIndex;let g=0,v=null,b=y;for(;null!==b;){if(v=tM(b),null===v)return nc;if(g++,b=b[Yu],-1!==v.injectorIndex)return v.injectorIndex|g<<16}return nc}function jg(p,y,g){!function Jx(p,y,g){let v;"string"==typeof g?v=g.charCodeAt(0)||0:g.hasOwnProperty(Jl)&&(v=g[Jl]),null==v&&(v=g[Jl]=Hx++);const b=v&zC;y.data[p+(b>>GC)]|=1<<b}(p,y,g)}function JC(p,y,g){if(g&or.Optional||void 0!==p)return p;Kd()}function YC(p,y,g,v){if(g&or.Optional&&void 0===v&&(v=null),!(g&(or.Self|or.Host))){const b=p[co],C=Fr(void 0);try{return b?b.get(y,v,g&or.Optional):Jd(y,v,g&or.Optional)}finally{Fr(C)}}return JC(v,0,g)}function QC(p,y,g,v=or.Default,b){if(null!==p){if(2048&y[Pn]&&!(v&or.Self)){const D=function eR(p,y,g,v,b){let C=p,D=y;for(;null!==C&&null!==D&&2048&D[Pn]&&!(512&D[Pn]);){const R=XC(C,D,g,v|or.Self,qi);if(R!==qi)return R;let z=C.parent;if(!z){const he=D[gC];if(he){const Ce=he.get(g,qi,v);if(Ce!==qi)return Ce}z=tM(D),D=D[Yu]}C=z}return b}(p,y,g,v,qi);if(D!==qi)return D}const C=XC(p,y,g,v,qi);if(C!==qi)return C}return YC(y,g,v,b)}function XC(p,y,g,v,b){const C=function Xx(p){if("string"==typeof p)return p.charCodeAt(0)||0;const y=p.hasOwnProperty(Jl)?p[Jl]:void 0;return"number"==typeof y?y>=0?y&zC:qx:y}(g);if("function"==typeof C){if(!UC(y,p,v))return v&or.Host?JC(b,0,v):YC(y,g,v,b);try{let D;if(D=C(v),null!=D||v&or.Optional)return D;Kd()}finally{VC()}}else if("number"==typeof C){let D=null,R=HC(p,y),z=nc,he=v&or.Host?y[ss][eo]:null;for((-1===R||v&or.SkipSelf)&&(z=-1===R?Bf(p,y):y[R+8],z!==nc&&eM(v,!1)?(D=y[an],R=ph(z),y=fh(z,y)):R=-1);-1!==R;){const Ce=y[an];if(qC(C,R,Ce.data)){const Ie=Qx(R,y,g,D,v,he);if(Ie!==qi)return Ie}z=y[R+8],z!==nc&&eM(v,y[an].data[R+8]===he)&&qC(C,R,y)?(D=Ce,R=ph(z),y=fh(z,y)):R=-1}}return b}function Qx(p,y,g,v,b,C){const D=y[an],R=D.data[p+8],Ce=Ff(R,D,g,null==v?ru(R)&&Rg:v!=D&&0!=(3&R.type),b&or.Host&&C===R);return null!==Ce?au(y,D,Ce,R):qi}function Ff(p,y,g,v,b){const C=p.providerIndexes,D=y.data,R=1048575&C,z=p.directiveStart,Ce=C>>20,Ke=b?R+Ce:p.directiveEnd;for(let rt=v?R:R+Ce;rt<Ke;rt++){const pt=D[rt];if(rt<z&&g===pt||rt>=z&&pt.type===g)return rt}if(b){const rt=D[z];if(rt&&wi(rt)&&rt.type===g)return z}return null}function au(p,y,g,v){let b=p[g];const C=y.data;if(function Zx(p){return p instanceof hh}(b)){const D=b;D.resolving&&function qy(p,y){const g=y?`. Dependency path: ${y.join(" > ")} > ${p}`:"";throw new en(-200,`Circular dependency in DI detected for ${p}${g}`)}(Er(C[g]));const R=Nf(D.canSeeViewProviders);D.resolving=!0;const he=D.injectImpl?Fr(D.injectImpl):null;UC(p,v,or.Default);try{b=p[g]=D.factory(void 0,C,p,v),y.firstCreatePass&&g>=v.directiveStart&&function Vx(p,y,g){const{ngOnChanges:v,ngOnInit:b,ngDoCheck:C}=y.type.prototype;if(v){const D=bC(y);(g.preOrderHooks??=[]).push(p,D),(g.preOrderCheckHooks??=[]).push(p,D)}b&&(g.preOrderHooks??=[]).push(0-p,b),C&&((g.preOrderHooks??=[]).push(p,C),(g.preOrderCheckHooks??=[]).push(p,C))}(g,C[g],y)}finally{null!==he&&Fr(he),Nf(R),D.resolving=!1,VC()}}return b}function qC(p,y,g){return!!(g[y+(p>>GC)]&1<<p)}function eM(p,y){return!(p&or.Self||p&or.Host&&y)}class js{constructor(y,g){this._tNode=y,this._lView=g}get(y,g,v){return QC(this._tNode,this._lView,y,Gu(v),g)}}function qx(){return new js(Pr(),Zt())}function Ng(p){return ai(()=>{const y=p.prototype.constructor,g=y[Ci]||Ug(y),v=Object.prototype;let b=Object.getPrototypeOf(p.prototype).constructor;for(;b&&b!==v;){const C=b[Ci]||Ug(b);if(C&&C!==g)return C;b=Object.getPrototypeOf(b)}return C=>new C})}function Ug(p){return Wo(p)?()=>{const y=Ug(Cn(p));return y&&y()}:su(p)}function tM(p){const y=p[an],g=y.type;return 2===g?y.declTNode:1===g?p[eo]:null}function cc(p,y){p.forEach(g=>Array.isArray(g)?cc(g,y):y(g))}function rM(p,y,g){y>=p.length?p.push(g):p.splice(y,0,g)}function Vf(p,y){return y>=p.length-1?p.pop():p.splice(y,1)[0]}const pc=new Dn("ENVIRONMENT_INITIALIZER"),uM=new Dn("INJECTOR",-1),Kg=new Dn("INJECTOR_DEF_TYPES");class kf{get(y,g=tl){if(g===tl){const v=new Error(`NullInjectorError: No provider for ${tn(y)}!`);throw v.name="NullInjectorError",v}return g}}function zg(p){return{\u0275providers:p}}function CR(...p){return{\u0275providers:cM(0,p),\u0275fromNgModule:!0}}function cM(p,...y){const g=[],v=new Set;let b;const C=D=>{g.push(D)};return cc(y,D=>{const R=D;Kf(R,C,[],v)&&(b||=[],b.push(R))}),void 0!==b&&dM(b,C),g}function dM(p,y){for(let g=0;g<p.length;g++){const{ngModule:v,providers:b}=p[g];Gg(b,C=>{y(C,v)})}}function Kf(p,y,g,v){if(!(p=Cn(p)))return!1;let b=null,C=Xs(p);const D=!C&&nr(p);if(C||D){if(D&&!D.standalone)return!1;b=p}else{const z=p.ngModule;if(C=Xs(z),!C)return!1;b=z}const R=v.has(b);if(D){if(R)return!1;if(v.add(b),D.dependencies){const z="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const he of z)Kf(he,y,g,v)}}else{if(!C)return!1;{if(null!=C.imports&&!R){let he;v.add(b);try{cc(C.imports,Ce=>{Kf(Ce,y,g,v)&&(he||=[],he.push(Ce))})}finally{}void 0!==he&&dM(he,y)}if(!R){const he=su(b)||(()=>new b);y({provide:b,useFactory:he,deps:mn},b),y({provide:Kg,useValue:b,multi:!0},b),y({provide:pc,useValue:()=>Xn(b),multi:!0},b)}const z=C.providers;if(null!=z&&!R){const he=p;Gg(z,Ce=>{y(Ce,he)})}}}return b!==p&&void 0!==p.providers}function Gg(p,y){for(let g of p)ds(g)&&(g=g.\u0275providers),Array.isArray(g)?Gg(g,y):y(g)}const MR=wt({provide:String,useValue:wt});function Hg(p){return null!==p&&"object"==typeof p&&MR in p}function lu(p){return"function"==typeof p}const Jg=new Dn("Set Injector scope."),zf={},SR={};let Yg;function Gf(){return void 0===Yg&&(Yg=new kf),Yg}class Ti{}class fc extends Ti{get destroyed(){return this._destroyed}constructor(y,g,v,b){super(),this.parent=g,this.source=v,this.scopes=b,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xg(y,D=>this.processProvider(D)),this.records.set(uM,mc(void 0,this)),b.has("environment")&&this.records.set(Ti,mc(void 0,this));const C=this.records.get(Jg);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get(Kg,mn,or.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const g of this._ngOnDestroyHooks)g.ngOnDestroy();const y=this._onDestroyHooks;this._onDestroyHooks=[];for(const g of y)g()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(y){return this.assertNotDestroyed(),this._onDestroyHooks.push(y),()=>this.removeOnDestroy(y)}runInContext(y){this.assertNotDestroyed();const g=So(this),v=Fr(void 0);try{return y()}finally{So(g),Fr(v)}}get(y,g=tl,v=or.Default){if(this.assertNotDestroyed(),y.hasOwnProperty(hf))return y[hf](this);v=Gu(v);const C=So(this),D=Fr(void 0);try{if(!(v&or.SkipSelf)){let z=this.records.get(y);if(void 0===z){const he=function PR(p){return"function"==typeof p||"object"==typeof p&&p instanceof Dn}(y)&&el(y);z=he&&this.injectableDefInScope(he)?mc(Qg(y),zf):null,this.records.set(y,z)}if(null!=z)return this.hydrate(y,z)}return(v&or.Self?Gf():this.parent).get(y,g=v&or.Optional&&g===tl?null:g)}catch(R){if("NullInjectorError"===R.name){if((R[rl]=R[rl]||[]).unshift(tn(y)),C)throw R;return function dg(p,y,g,v){const b=p[rl];throw y[ql]&&b.unshift(y[ql]),p.message=function hg(p,y,g,v=null){p=p&&"\n"===p.charAt(0)&&"\u0275"==p.charAt(1)?p.slice(2):p;let b=tn(y);if(Array.isArray(y))b=y.map(tn).join(" -> ");else if("object"==typeof y){let C=[];for(let D in y)if(y.hasOwnProperty(D)){let R=y[D];C.push(D+":"+("string"==typeof R?JSON.stringify(R):tn(R)))}b=`{${C.join(", ")}}`}return`${g}${v?"("+v+")":""}[${b}]: ${p.replace(Sa,"\n  ")}`}("\n"+p.message,b,g,v),p.ngTokenPath=b,p[rl]=null,p}(R,y,"R3InjectorError",this.source)}throw R}finally{Fr(D),So(C)}}resolveInjectorInitializers(){const y=So(this),g=Fr(void 0);try{const b=this.get(pc,mn,or.Self);for(const C of b)C()}finally{So(y),Fr(g)}}toString(){const y=[],g=this.records;for(const v of g.keys())y.push(tn(v));return`R3Injector[${y.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new en(205,!1)}processProvider(y){let g=lu(y=Cn(y))?y:Cn(y&&y.provide);const v=function TR(p){return Hg(p)?mc(void 0,p.useValue):mc(function fM(p,y,g){let v;if(lu(p)){const b=Cn(p);return su(b)||Qg(b)}if(Hg(p))v=()=>Cn(p.useValue);else if(function pM(p){return!(!p||!p.useFactory)}(p))v=()=>p.useFactory(...nh(p.deps||[]));else if(function hM(p){return!(!p||!p.useExisting)}(p))v=()=>Xn(Cn(p.useExisting));else{const b=Cn(p&&(p.useClass||p.provide));if(!function OR(p){return!!p.deps}(p))return su(b)||Qg(b);v=()=>new b(...nh(p.deps))}return v}(p),zf)}(y);if(lu(y)||!0!==y.multi)this.records.get(g);else{let b=this.records.get(g);b||(b=mc(void 0,zf,!0),b.factory=()=>nh(b.multi),this.records.set(g,b)),g=y,b.multi.push(y)}this.records.set(g,v)}hydrate(y,g){return g.value===zf&&(g.value=SR,g.value=g.factory()),"object"==typeof g.value&&g.value&&function IR(p){return null!==p&&"object"==typeof p&&"function"==typeof p.ngOnDestroy}(g.value)&&this._ngOnDestroyHooks.add(g.value),g.value}injectableDefInScope(y){if(!y.providedIn)return!1;const g=Cn(y.providedIn);return"string"==typeof g?"any"===g||this.scopes.has(g):this.injectorDefTypes.has(g)}removeOnDestroy(y){const g=this._onDestroyHooks.indexOf(y);-1!==g&&this._onDestroyHooks.splice(g,1)}}function Qg(p){const y=el(p),g=null!==y?y.factory:su(p);if(null!==g)return g;if(p instanceof Dn)throw new en(204,!1);if(p instanceof Function)return function wR(p){const y=p.length;if(y>0)throw function yh(p,y){const g=[];for(let v=0;v<p;v++)g.push(y);return g}(y,"?"),new en(204,!1);const g=function sg(p){return p&&(p[Ku]||p[og])||null}(p);return null!==g?()=>g.factory(p):()=>new p}(p);throw new en(204,!1)}function mc(p,y,g=!1){return{factory:p,value:y,multi:g?[]:void 0}}function Xg(p,y){for(const g of p)Array.isArray(g)?Xg(g,y):g&&ds(g)?Xg(g.\u0275providers,y):y(g)}function yc(p,y){p instanceof fc&&p.assertNotDestroyed();const v=So(p),b=Fr(void 0);try{return y()}finally{So(v),Fr(b)}}function vM(p,y=null,g=null,v){const b=_M(p,y,g,v);return b.resolveInjectorInitializers(),b}function _M(p,y=null,g=null,v,b=new Set){const C=[g||mn,CR(p)];return v=v||("object"==typeof p?void 0:tn(p)),new fc(C,y||Gf(),v||null,b)}let tv,li=(()=>{class p{static#e=this.THROW_IF_NOT_FOUND=tl;static#t=this.NULL=new kf;static create(g,v){if(Array.isArray(g))return vM({name:""},v,g,"");{const b=g.name??"";return vM({name:b},g.parent,g.providers,b)}}static#n=this.\u0275prov=An({token:p,providedIn:"any",factory:()=>Xn(uM)});static#r=this.__NG_ELEMENT_ID__=-1}return p})();const nv=new Dn("AppId",{providedIn:"root",factory:()=>FR}),FR="ng",bM=new Dn("Platform Initializer"),gc=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CM=new Dn("CSP nonce",{providedIn:"root",factory:()=>function hl(){if(void 0!==tv)return tv;if(typeof document<"u")return document;throw new en(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function zo(p){return p instanceof Function?p():p}function Xf(p){return 128==(128&p.flags)}var ml=function(p){return p[p.Important=1]="Important",p[p.DashCase=2]="DashCase",p}(ml||{});const av=new Map;let XR=0;const uv="__ngContext__";function no(p,y){zs(y)?(p[uv]=y[ah],function eL(p){av.set(p[ah],p)}(y)):p[uv]=y}let cv;function dv(p,y){return cv(p,y)}function Ch(p){const y=p[es];return Vs(y)?y[es]:y}function WM(p){return $M(p[oh])}function VM(p){return $M(p[Di])}function $M(p){for(;null!==p&&!Vs(p);)p=p[Di];return p}function _c(p,y,g,v,b){if(null!=v){let C,D=!1;Vs(v)?C=v:zs(v)&&(D=!0,v=v[hs]);const R=Vr(v);0===p&&null!==g?null==b?zM(y,g,R):uu(y,g,R,b||null,!0):1===p&&null!==g?uu(y,g,R,b||null,!0):2===p?function o0(p,y,g){const v=r0(p,y);v&&function _L(p,y,g,v){p.removeChild(y,g,v)}(p,v,y,g)}(y,R,D):3===p&&y.destroyNode(R),null!=C&&function CL(p,y,g,v,b){const C=g[Hi];C!==Vr(g)&&_c(y,p,v,C,b);for(let R=Es;R<g.length;R++){const z=g[R];Sh(z[an],z,p,y,v,C)}}(y,p,C,g,b)}}function t0(p,y,g){return p.createElement(y,g)}function kM(p,y){const g=p[Xu],v=g.indexOf(y);g.splice(v,1)}function Mh(p,y){if(p.length<=Es)return;const g=Es+y,v=p[g];if(v){const b=v[ih];null!==b&&b!==p&&kM(b,v),y>0&&(p[g-1][Di]=v[Di]);const C=Vf(p,Es+y);!function dL(p,y){Sh(p,y,y[Hn],2,null,null),y[hs]=null,y[eo]=null}(v[an],v);const D=C[Gi];null!==D&&D.detachView(C[an]),v[es]=null,v[Di]=null,v[Pn]&=-129}return v}function n0(p,y){if(!(256&y[Pn])){const g=y[Hn];g.destroyNode&&Sh(p,y,g,3,null,null),function fL(p){let y=p[oh];if(!y)return pv(p[an],p);for(;y;){let g=null;if(zs(y))g=y[oh];else{const v=y[Es];v&&(g=v)}if(!g){for(;y&&!y[Di]&&y!==p;)zs(y)&&pv(y[an],y),y=y[es];null===y&&(y=p),zs(y)&&pv(y[an],y),g=y&&y[Di]}y=g}}(y)}}function pv(p,y){if(!(256&y[Pn])){y[Pn]&=-129,y[Pn]|=256,y[nu]&&function O(p){if(X(p),U(p))for(let y=0;y<p.producerNode.length;y++)K(p.producerNode[y],p.producerIndexOfThis[y]);p.producerNode.length=p.producerLastReadVersion.length=p.producerIndexOfThis.length=0,p.liveConsumerNode&&(p.liveConsumerNode.length=p.liveConsumerIndexOfThis.length=0)}(y[nu]),function vL(p,y){let g;if(null!=p&&null!=(g=p.destroyHooks))for(let v=0;v<g.length;v+=2){const b=y[g[v]];if(!(b instanceof hh)){const C=g[v+1];if(Array.isArray(C))for(let D=0;D<C.length;D+=2){const R=b[C[D]],z=C[D+1];Ji(4,R,z);try{z.call(R)}finally{Ji(5,R,z)}}else{Ji(4,b,C);try{C.call(b)}finally{Ji(5,b,C)}}}}}(p,y),function gL(p,y){const g=p.cleanup,v=y[Hu];if(null!==g)for(let C=0;C<g.length-1;C+=2)if("string"==typeof g[C]){const D=g[C+3];D>=0?v[D]():v[-D].unsubscribe(),C+=2}else g[C].call(v[g[C+1]]);null!==v&&(y[Hu]=null);const b=y[ul];if(null!==b){y[ul]=null;for(let C=0;C<b.length;C++)(0,b[C])()}}(p,y),1===y[an].type&&y[Hn].destroy();const g=y[ih];if(null!==g&&Vs(y[es])){g!==y[es]&&kM(g,y);const v=y[Gi];null!==v&&v.detachView(p)}!function tL(p){av.delete(p[ah])}(y)}}function fv(p,y,g){return function KM(p,y,g){let v=y;for(;null!==v&&40&v.type;)v=(y=v).parent;if(null===v)return g[hs];{const{componentOffset:b}=v;if(b>-1){const{encapsulation:C}=p.data[v.directiveStart+b];if(C===wo.None||C===wo.Emulated)return null}return ho(v,g)}}(p,y.parent,g)}function uu(p,y,g,v,b){p.insertBefore(y,g,v,b)}function zM(p,y,g){p.appendChild(y,g)}function GM(p,y,g,v,b){null!==v?uu(p,y,g,v,b):zM(p,y,g)}function r0(p,y){return p.parentNode(y)}let mv,YM=function JM(p,y,g){return 40&p.type?ho(p,g):null};function s0(p,y,g,v){const b=fv(p,v,y),C=y[Hn],R=function HM(p,y,g){return YM(p,y,g)}(v.parent||y[eo],v,y);if(null!=b)if(Array.isArray(g))for(let z=0;z<g.length;z++)GM(C,b,g[z],R,!1);else GM(C,b,g,R,!1);void 0!==mv&&mv(C,v,y,g,b)}function Dh(p,y){if(null!==y){const g=y.type;if(3&g)return ho(y,p);if(4&g)return yv(-1,p[y.index]);if(8&g){const v=y.child;if(null!==v)return Dh(p,v);{const b=p[y.index];return Vs(b)?yv(-1,b):Vr(b)}}if(32&g)return dv(y,p)()||Vr(p[y.index]);{const v=XM(p,y);return null!==v?Array.isArray(v)?v[0]:Dh(Ch(p[ss]),v):Dh(p,y.next)}}return null}function XM(p,y){return null!==y?p[ss][eo].projection[y.projection]:null}function yv(p,y){const g=Es+p+1;if(g<y.length){const v=y[g],b=v[an].firstChild;if(null!==b)return Dh(v,b)}return y[Hi]}function gv(p,y,g,v,b,C,D){for(;null!=g;){const R=v[g.index],z=g.type;if(D&&0===y&&(R&&no(Vr(R),v),g.flags|=2),32!=(32&g.flags))if(8&z)gv(p,y,g.child,v,b,C,!1),_c(y,p,b,R,C);else if(32&z){const he=dv(g,v);let Ce;for(;Ce=he();)_c(y,p,b,Ce,C);_c(y,p,b,R,C)}else 16&z?eD(p,y,v,g,b,C):_c(y,p,b,R,C);g=D?g.projectionNext:g.next}}function Sh(p,y,g,v,b,C){gv(g,v,p.firstChild,y,b,C,!1)}function eD(p,y,g,v,b,C){const D=g[ss],z=D[eo].projection[v.projection];if(Array.isArray(z))for(let he=0;he<z.length;he++)_c(y,p,b,z[he],C);else{let he=z;const Ce=D[es];Xf(v)&&(he.flags|=128),gv(p,y,he,Ce,b,C,!0)}}function tD(p,y,g){""===g?p.removeAttribute(y,"class"):p.setAttribute(y,"class",g)}function nD(p,y,g){const{mergedAttrs:v,classes:b,styles:C}=g;null!==v&&Cf(p,y,v),null!==b&&tD(p,y,b),null!==C&&function DL(p,y,g){p.setAttribute(y,"style",g)}(p,y,C)}let yD=(p,y,g)=>null;function Av(p,y,g=!1){return yD(p,y,g)}class s3{}class _D{}class i3{resolveComponentFactory(y){throw function o3(p){const y=Error(`No component factory found for ${tn(p)}.`);return y.ngComponent=p,y}(y)}}let m0=(()=>{class p{static#e=this.NULL=new i3}return p})();function a3(){return Dc(Pr(),Zt())}function Dc(p,y){return new gl(ho(p,y))}let gl=(()=>{class p{constructor(g){this.nativeElement=g}static#e=this.__NG_ELEMENT_ID__=a3}return p})();function l3(p){return p instanceof gl?p.nativeElement:p}class bD{}let c3=(()=>{class p{static#e=this.\u0275prov=An({token:p,providedIn:"root",factory:()=>null})}return p})();class g0{constructor(y){this.full=y,this.major=y.split(".")[0],this.minor=y.split(".")[1],this.patch=y.split(".").slice(2).join(".")}}const d3=new g0("17.0.7"),Lv={};function xh(p,y,g,v,b=!1){for(;null!==g;){const C=y[g.index];null!==C&&v.push(Vr(C)),Vs(C)&&ID(C,v);const D=g.type;if(8&D)xh(p,y,g.child,v);else if(32&D){const R=dv(g,y);let z;for(;z=R();)v.push(z)}else if(16&D){const R=XM(y,g);if(Array.isArray(R))v.push(...R);else{const z=Ch(y[ss]);xh(z[an],z,R,v,!0)}}g=b?g.projectionNext:g.next}return v}function ID(p,y){for(let g=Es;g<p.length;g++){const v=p[g],b=v[an].firstChild;null!==b&&xh(v[an],v,b,y)}p[Hi]!==p[hs]&&y.push(p[Hi])}let PD=[];const S3={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:p=>{Pf(p.lView)},consumerOnSignalRead(){this.lView[nu]=this}};function Nv(p){return p.ngOriginalError}class Ia{constructor(){this._console=console}handleError(y){const g=this._findOriginalError(y);this._console.error("ERROR",y),g&&this._console.error("ORIGINAL ERROR",g)}_findOriginalError(y){let g=y&&Nv(y);for(;g&&Nv(g);)g=Nv(g);return g||null}}const xD=new Dn("",{providedIn:"root",factory:()=>fn(Ia).handleError.bind(void 0)}),LD=new Dn("",{providedIn:"root",factory:()=>!1}),qn={};function Nn(p,y=or.Default){const g=Zt();return null===g?Xn(p,y):QC(Pr(),g,Cn(p),y)}function b0(p,y,g,v,b,C,D,R,z,he,Ce){const Ie=y.blueprint.slice();return Ie[hs]=b,Ie[Pn]=140|v,(null!==he||p&&2048&p[Pn])&&(Ie[Pn]|=2048),wC(Ie),Ie[es]=Ie[Yu]=p,Ie[Wr]=g,Ie[Ju]=D||p&&p[Ju],Ie[Hn]=R||p&&p[Hn],Ie[co]=z||p&&p[co]||null,Ie[eo]=C,Ie[ah]=function qR(){return XR++}(),Ie[Si]=Ce,Ie[gC]=he,Ie[ss]=2==y.type?p[ss]:Ie,Ie}function Sc(p,y,g,v,b){let C=p.data[y];if(null===C)C=function Uv(p,y,g,v,b){const C=xC(),D=Mg(),z=p.data[y]=function W3(p,y,g,v,b,C){let D=y?y.injectorIndex:-1,R=0;return function tc(){return null!==Fn.skipHydrationRootTNode}()&&(R|=128),{type:g,index:v,insertBeforeIndex:null,injectorIndex:D,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:R,providerIndexes:0,value:b,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:y,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?C:C&&C.parent,g,y,v,b);return null===p.firstChild&&(p.firstChild=z),null!==C&&(D?null==C.child&&null!==z.parent&&(C.child=z):null===C.next&&(C.next=z,z.prev=C)),z}(p,y,g,v,b),function xx(){return Fn.lFrame.inI18n}()&&(C.flags|=32);else if(64&C.type){C.type=g,C.value=v,C.attrs=b;const D=function dh(){const p=Fn.lFrame,y=p.currentTNode;return p.isParent?y:y.parent}();C.injectorIndex=null===D?-1:D.injectorIndex}return Qi(C,!0),C}function Rh(p,y,g,v){if(0===g)return-1;const b=y.length;for(let C=0;C<g;C++)y.push(v),p.blueprint.push(v),p.data.push(null);return b}function FD(p,y,g,v,b){const C=function to(){return Fn.lFrame.selectedIndex}(),D=2&v;try{iu(-1),D&&y.length>Jn&&function BD(p,y,g,v){if(!v)if(3==(3&y[Pn])){const C=p.preOrderCheckHooks;null!==C&&Lf(y,C,g)}else{const C=p.preOrderHooks;null!==C&&jf(y,C,0,g)}iu(g)}(p,y,Jn,!1),Ji(D?2:0,b),g(v,b)}finally{iu(C),Ji(D?3:1,b)}}function Bv(p,y,g){if(mg(y)){const v=H(null);try{const C=y.directiveEnd;for(let D=y.directiveStart;D<C;D++){const R=p.data[D];R.contentQueries&&R.contentQueries(1,g[D],D)}}finally{H(v)}}}function WD(p){const y=p.tView;return null===y||y.incompleteFirstPass?p.tView=Vv(1,null,p.template,p.decls,p.vars,p.directiveDefs,p.pipeDefs,p.viewQuery,p.schemas,p.consts,p.id):y}function Vv(p,y,g,v,b,C,D,R,z,he,Ce){const Ie=Jn+v,Ke=Ie+b,rt=function L3(p,y){const g=[];for(let v=0;v<y;v++)g.push(v<p?null:qn);return g}(Ie,Ke),pt="function"==typeof he?he():he;return rt[an]={type:p,blueprint:rt,template:g,queries:null,viewQuery:R,declTNode:y,data:rt.slice().fill(null,Ie),bindingStartIndex:Ie,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:z,consts:pt,incompleteFirstPass:!1,ssrId:Ce}}let VD=p=>null;function $D(p,y,g,v){for(let b in p)if(p.hasOwnProperty(b)){g=null===g?{}:g;const C=p[b];null===v?ZD(g,y,b,C):v.hasOwnProperty(b)&&ZD(g,y,v[b],C)}return g}function ZD(p,y,g,v){p.hasOwnProperty(g)?p[g].push(y,v):p[g]=[y,v]}function kD(p,y,g,v,b,C){for(let he=0;he<v.length;he++)jg(Uf(g,y),p,v[he].type);!function X3(p,y,g){p.flags|=1,p.directiveStart=y,p.directiveEnd=y+g,p.providerIndexes=y}(g,p.data.length,v.length);for(let he=0;he<v.length;he++){const Ce=v[he];Ce.providersResolver&&Ce.providersResolver(Ce)}let D=!1,R=!1,z=Rh(p,y,v.length,null);for(let he=0;he<v.length;he++){const Ce=v[he];g.mergedAttrs=Pe(g.mergedAttrs,Ce.hostAttrs),q3(p,g,y,z,Ce),Q3(z,Ce,b),null!==Ce.contentQueries&&(g.flags|=4),(null!==Ce.hostBindings||null!==Ce.hostAttrs||0!==Ce.hostVars)&&(g.flags|=64);const Ie=Ce.type.prototype;!D&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((p.preOrderHooks??=[]).push(g.index),D=!0),!R&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((p.preOrderCheckHooks??=[]).push(g.index),R=!0),z++}!function V3(p,y,g){const b=y.directiveEnd,C=p.data,D=y.attrs,R=[];let z=null,he=null;for(let Ce=y.directiveStart;Ce<b;Ce++){const Ie=C[Ce],Ke=g?g.get(Ie):null,pt=Ke?Ke.outputs:null;z=$D(Ie.inputs,Ce,z,Ke?Ke.inputs:null),he=$D(Ie.outputs,Ce,he,pt);const Mt=null===z||null===D||bt(y)?null:nj(z,Ce,D);R.push(Mt)}null!==z&&(z.hasOwnProperty("class")&&(y.flags|=8),z.hasOwnProperty("style")&&(y.flags|=16)),y.initialInputs=R,y.inputs=z,y.outputs=he}(p,g,C)}function KD(p,y,g){const v=g.directiveStart,b=g.directiveEnd,C=g.index,D=function Lx(){return Fn.lFrame.currentDirectiveIndex}();try{iu(C);for(let R=v;R<b;R++){const z=p.data[R],he=y[R];Sg(R),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&H3(z,he)}}finally{iu(-1),Sg(D)}}function H3(p,y){null!==p.hostBindings&&p.hostBindings(1,y)}function Zv(p,y,g){y.componentOffset=g,(p.components??=[]).push(y.index)}function Q3(p,y,g){if(g){if(y.exportAs)for(let v=0;v<y.exportAs.length;v++)g[y.exportAs[v]]=p;wi(y)&&(g[""]=p)}}function q3(p,y,g,v,b){p.data[v]=b;const C=b.factory||(b.factory=su(b.type)),D=new hh(C,wi(b),Nn);p.blueprint[v]=D,g[v]=D,function K3(p,y,g,v,b){const C=b.hostBindings;if(C){let D=p.hostBindingOpCodes;null===D&&(D=p.hostBindingOpCodes=[]);const R=~y.index;(function z3(p){let y=p.length;for(;y>0;){const g=p[--y];if("number"==typeof g&&g<0)return g}return 0})(D)!=R&&D.push(R),D.push(g,v,C)}}(p,y,v,Rh(p,g,b.hostVars,qn),b)}function tj(p,y,g,v,b,C){const D=C[y];if(null!==D)for(let R=0;R<D.length;)zD(v,g,D[R++],D[R++],D[R++])}function zD(p,y,g,v,b){const C=H(null);try{const D=p.inputTransforms;null!==D&&D.hasOwnProperty(v)&&(b=D[v].call(y,b)),null!==p.setInput?p.setInput(y,b,g,v):y[v]=b}finally{H(C)}}function nj(p,y,g){let v=null,b=0;for(;b<g.length;){const C=g[b];if(0!==C)if(5!==C){if("number"==typeof C)break;if(p.hasOwnProperty(C)){null===v&&(v=[]);const D=p[C];for(let R=0;R<D.length;R+=2)if(D[R]===y){v.push(C,D[R+1],g[b+1]);break}}b+=2}else b+=2;else b+=4}return v}function HD(p,y){const g=p.contentQueries;if(null!==g){const v=H(null);try{for(let b=0;b<g.length;b+=2){const D=g[b+1];if(-1!==D){const R=p.data[D];Tg(g[b]),R.contentQueries(2,y[D],D)}}}finally{H(v)}}}function C0(p,y){return p[oh]?p[yC][Di]=y:p[oh]=y,p[yC]=y,y}function Kv(p,y,g){Tg(0);const v=H(null);try{y(p,g)}finally{H(v)}}function zv(p,y,g,v,b){for(let C=0;C<g.length;){const D=g[C++],R=g[C++];zD(p.data[D],y[D],v,R,b)}}function Gv(p,y=!0){const g=p[Ju],v=g.rendererFactory,b=g.afterRenderEventManager;v.begin?.(),b?.begin();try{!function sj(p){Hv(p,0);let y=0;for(;OC(p);){if(100===y)throw new en(103,!1);y++,Hv(p,1)}}(p)}catch(D){throw y&&function M0(p,y){const g=p[co],v=g?g.get(Ia,null):null;v&&v.handleError(y)}(p,D),D}finally{v.end?.(),g.inlineEffectRunner?.flush(),b?.end()}}function oj(p,y,g,v){const b=y[Pn];if(256==(256&b))return;y[Ju].inlineEffectRunner?.flush(),Og(y);let D=null,R=null;(function ij(p){return 2!==p.type})(p)&&(R=function C3(p){return p[nu]??function M3(p){const y=PD.pop()??Object.create(S3);return y.lView=p,y}(p)}(y),D=function S(p){return p&&(p.nextProducerIndex=0),H(p)}(R));try{wC(y),function LC(p){return Fn.lFrame.bindingIndex=p}(p.bindingStartIndex),null!==g&&FD(p,y,g,2,v);const z=3==(3&b);if(z){const Ie=p.preOrderCheckHooks;null!==Ie&&Lf(y,Ie,null)}else{const Ie=p.preOrderHooks;null!==Ie&&jf(y,Ie,0,null),Pg(y,0)}if(function aj(p){for(let y=WM(p);null!==y;y=VM(y)){if(!(y[Pn]&qu.HasTransplantedViews))continue;const g=y[Xu];for(let v=0;v<g.length;v++){Ex(g[v])}}}(y),XD(y,0),null!==p.contentQueries&&HD(p,y),z){const Ie=p.contentCheckHooks;null!==Ie&&Lf(y,Ie)}else{const Ie=p.contentHooks;null!==Ie&&jf(y,Ie,1),Pg(y,1)}!function R3(p,y){const g=p.hostBindingOpCodes;if(null!==g)try{for(let v=0;v<g.length;v++){const b=g[v];if(b<0)iu(~b);else{const C=b,D=g[++v],R=g[++v];Rx(D,C),R(2,y[C])}}}finally{iu(-1)}}(p,y);const he=p.components;null!==he&&eS(y,he,0);const Ce=p.viewQuery;if(null!==Ce&&Kv(2,Ce,v),z){const Ie=p.viewCheckHooks;null!==Ie&&Lf(y,Ie)}else{const Ie=p.viewHooks;null!==Ie&&jf(y,Ie,2),Pg(y,2)}if(!0===p.firstUpdatePass&&(p.firstUpdatePass=!1),y[Tf]){for(const Ie of y[Tf])Ie();y[Tf]=null}y[Pn]&=-73}catch(z){throw Pf(y),z}finally{null!==R&&(function N(p,y){if(H(y),p&&void 0!==p.producerNode&&void 0!==p.producerIndexOfThis&&void 0!==p.producerLastReadVersion){if(U(p))for(let g=p.nextProducerIndex;g<p.producerNode.length;g++)K(p.producerNode[g],p.producerIndexOfThis[g]);for(;p.producerNode.length>p.nextProducerIndex;)p.producerNode.pop(),p.producerLastReadVersion.pop(),p.producerIndexOfThis.pop()}}(R,D),function D3(p){p.lView[nu]!==p&&(p.lView=null,PD.push(p))}(R)),Ig()}}function XD(p,y){for(let g=WM(p);null!==g;g=VM(g)){g[Pn]&=~qu.HasChildViewsToRefresh;for(let v=Es;v<g.length;v++)qD(g[v],y)}}function lj(p,y,g){qD(ko(y,p),g)}function qD(p,y){bg(p)&&Hv(p,y)}function Hv(p,y){const v=p[an],b=p[Pn],C=p[nu];let D=!!(0===y&&16&b);if(D||=!!(64&b&&0===y),D||=!!(1024&b),D||=!(!C?.dirty||!L(C)),C&&(C.dirty=!1),p[Pn]&=-9217,D)oj(v,p,v.template,p[Wr]);else if(8192&b){XD(p,1);const R=v.components;null!==R&&eS(p,R,1)}}function eS(p,y,g){for(let v=0;v<y.length;v++)lj(p,y[v],g)}function Lh(p){for(;p;){p[Pn]|=64;const y=Ch(p);if(yg(p)&&!y)return p;p=y}return null}class jh{get rootNodes(){const y=this._lView,g=y[an];return xh(g,y,g.firstChild,[])}constructor(y,g,v=!0){this._lView=y,this._cdRefInjectingView=g,this.notifyErrorHandler=v,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wr]}set context(y){this._lView[Wr]=y}get destroyed(){return 256==(256&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const y=this._lView[es];if(Vs(y)){const g=y[8],v=g?g.indexOf(this):-1;v>-1&&(Mh(y,v),Vf(g,v))}this._attachedToViewContainer=!1}n0(this._lView[an],this._lView)}onDestroy(y){!function Af(p,y){if(256==(256&p[Pn]))throw new en(911,!1);null===p[ul]&&(p[ul]=[]),p[ul].push(y)}(this._lView,y)}markForCheck(){Lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pn]&=-129}reattach(){IC(this._lView),this._lView[Pn]|=128}detectChanges(){this._lView[Pn]|=1024,Gv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new en(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pL(p,y){Sh(p,y,y[Hn],2,null,null)}(this._lView[an],this._lView)}attachToAppRef(y){if(this._attachedToViewContainer)throw new en(902,!1);this._appRef=y}}let D0=(()=>{class p{static#e=this.__NG_ELEMENT_ID__=uj}return p})();function uj(p){return function cj(p,y,g){if(ru(p)&&!g){const v=ko(p.index,y);return new jh(v,v)}return 47&p.type?new jh(y[ss],y):null}(Pr(),Zt(),16==(16&p))}const tS=new Set;function Yv(p){return y=>{setTimeout(p,void 0,y)}}const fo=class Ej extends yn{constructor(y=!1){super(),this.__isAsync=y}emit(y){super.next(y)}subscribe(y,g,v){let b=y,C=g||(()=>null),D=v;if(y&&"object"==typeof y){const z=y;b=z.next?.bind(z),C=z.error?.bind(z),D=z.complete?.bind(z)}this.__isAsync&&(C=Yv(C),b&&(b=Yv(b)),D&&(D=Yv(D)));const R=super.subscribe({next:b,error:C,complete:D});return y instanceof J&&y.add(R),R}};function nS(...p){}class Ur{constructor({enableLongStackTrace:y=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fo(!1),this.onMicrotaskEmpty=new fo(!1),this.onStable=new fo(!1),this.onError=new fo(!1),typeof Zone>"u")throw new en(908,!1);Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),y&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!v&&g,b.shouldCoalesceRunChangeDetection=v,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function bj(){const p="function"==typeof Ir.requestAnimationFrame;let y=Ir[p?"requestAnimationFrame":"setTimeout"],g=Ir[p?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&y&&g){const v=y[Zone.__symbol__("OriginalDelegate")];v&&(y=v);const b=g[Zone.__symbol__("OriginalDelegate")];b&&(g=b)}return{nativeRequestAnimationFrame:y,nativeCancelAnimationFrame:g}}().nativeRequestAnimationFrame,function Dj(p){const y=()=>{!function Mj(p){p.isCheckStableRunning||-1!==p.lastRequestAnimationFrameId||(p.lastRequestAnimationFrameId=p.nativeRequestAnimationFrame.call(Ir,()=>{p.fakeTopEventTask||(p.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{p.lastRequestAnimationFrameId=-1,Xv(p),p.isCheckStableRunning=!0,Qv(p),p.isCheckStableRunning=!1},void 0,()=>{},()=>{})),p.fakeTopEventTask.invoke()}),Xv(p))}(p)};p._inner=p._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(g,v,b,C,D,R)=>{if(function wj(p){return!(!Array.isArray(p)||1!==p.length)&&!0===p[0].data?.__ignore_ng_zone__}(R))return g.invokeTask(b,C,D,R);try{return rS(p),g.invokeTask(b,C,D,R)}finally{(p.shouldCoalesceEventChangeDetection&&"eventTask"===C.type||p.shouldCoalesceRunChangeDetection)&&y(),sS(p)}},onInvoke:(g,v,b,C,D,R,z)=>{try{return rS(p),g.invoke(b,C,D,R,z)}finally{p.shouldCoalesceRunChangeDetection&&y(),sS(p)}},onHasTask:(g,v,b,C)=>{g.hasTask(b,C),v===b&&("microTask"==C.change?(p._hasPendingMicrotasks=C.microTask,Xv(p),Qv(p)):"macroTask"==C.change&&(p.hasPendingMacrotasks=C.macroTask))},onHandleError:(g,v,b,C)=>(g.handleError(b,C),p.runOutsideAngular(()=>p.onError.emit(C)),!1)})}(b)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ur.isInAngularZone())throw new en(909,!1)}static assertNotInAngularZone(){if(Ur.isInAngularZone())throw new en(909,!1)}run(y,g,v){return this._inner.run(y,g,v)}runTask(y,g,v,b){const C=this._inner,D=C.scheduleEventTask("NgZoneEvent: "+b,y,Cj,nS,nS);try{return C.runTask(D,g,v)}finally{C.cancelTask(D)}}runGuarded(y,g,v){return this._inner.runGuarded(y,g,v)}runOutsideAngular(y){return this._outer.run(y)}}const Cj={};function Qv(p){if(0==p._nesting&&!p.hasPendingMicrotasks&&!p.isStable)try{p._nesting++,p.onMicrotaskEmpty.emit(null)}finally{if(p._nesting--,!p.hasPendingMicrotasks)try{p.runOutsideAngular(()=>p.onStable.emit(null))}finally{p.isStable=!0}}}function Xv(p){p.hasPendingMicrotasks=!!(p._hasPendingMicrotasks||(p.shouldCoalesceEventChangeDetection||p.shouldCoalesceRunChangeDetection)&&-1!==p.lastRequestAnimationFrameId)}function rS(p){p._nesting++,p.isStable&&(p.isStable=!1,p.onUnstable.emit(null))}function sS(p){p._nesting--,Qv(p)}const oS=new Dn("",{providedIn:"root",factory:iS});function iS(){const p=fn(Ur);let y=!0;return function Ue(...p){const y=jr(p),g=function Qa(p,y){return"number"==typeof us(p)?p.pop():y}(p,1/0),v=p;return v.length?1===v.length?Or(v[0]):Ya(g)(_s(v,y)):Qn}(new xt(b=>{y=p.isStable&&!p.hasPendingMacrotasks&&!p.hasPendingMicrotasks,p.runOutsideAngular(()=>{b.next(y),b.complete()})}),new xt(b=>{let C;p.runOutsideAngular(()=>{C=p.onStable.subscribe(()=>{Ur.assertNotInAngularZone(),queueMicrotask(()=>{!y&&!p.hasPendingMacrotasks&&!p.hasPendingMicrotasks&&(y=!0,b.next(!0))})})});const D=p.onUnstable.subscribe(()=>{Ur.assertInAngularZone(),y&&(y=!1,p.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),D.unsubscribe()}}).pipe(function lt(p={}){const{connector:y=(()=>new yn),resetOnError:g=!0,resetOnComplete:v=!0,resetOnRefCountZero:b=!0}=p;return C=>{let D,R,z,he=0,Ce=!1,Ie=!1;const Ke=()=>{R?.unsubscribe(),R=void 0},rt=()=>{Ke(),D=z=void 0,Ce=Ie=!1},pt=()=>{const Mt=D;rt(),Mt?.unsubscribe()};return On((Mt,Ft)=>{he++,!Ie&&!Ce&&Ke();const zt=z=z??y();Ft.add(()=>{he--,0===he&&!Ie&&!Ce&&(R=Et(pt,b))}),zt.subscribe(Ft),!D&&he>0&&(D=new Ot({next:jt=>zt.next(jt),error:jt=>{Ie=!0,Ke(),R=Et(rt,g,jt),zt.error(jt)},complete:()=>{Ce=!0,Ke(),R=Et(rt,v),zt.complete()}}),Or(Mt).subscribe(D))})(C)}}()))}let S0=(()=>{class p{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const g of this.internalCallbacks)g();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=An({token:p,providedIn:"root",factory:()=>new p})}return p})();function Pj(p,y){const g=ko(y,p),v=g[an];!function Aj(p,y){for(let g=y.length;g<p.blueprint.length;g++)y.push(p.blueprint[g])}(v,g);const b=g[hs];null!==b&&null===g[Si]&&(g[Si]=Av(b,g[co])),qv(v,g,g[Wr])}function qv(p,y,g){Og(y);try{const v=p.viewQuery;null!==v&&Kv(1,v,g);const b=p.template;null!==b&&FD(p,y,b,1,g),p.firstCreatePass&&(p.firstCreatePass=!1),p.staticContentQueries&&HD(p,y),p.staticViewQueries&&Kv(2,p.viewQuery,g);const C=p.components;null!==C&&function xj(p,y){for(let g=0;g<y.length;g++)Pj(p,y[g])}(y,C)}catch(v){throw p.firstCreatePass&&(p.incompleteFirstPass=!0,p.firstCreatePass=!1),v}finally{y[Pn]&=-5,Ig()}}function w0(p,y,g){let v=g?p.styles:null,b=g?p.classes:null,C=0;if(null!==y)for(let D=0;D<y.length;D++){const R=y[D];"number"==typeof R?C=R:1==C?b=En(b,R):2==C&&(v=En(v,R+": "+y[++D]+";"))}g?p.styles=v:p.stylesWithoutHost=v,g?p.classes=b:p.classesWithoutHost=b}class dS extends m0{constructor(y){super(),this.ngModule=y}resolveComponentFactory(y){const g=nr(y);return new Nh(g,this.ngModule)}}function hS(p){const y=[];for(let g in p)p.hasOwnProperty(g)&&y.push({propName:p[g],templateName:g});return y}class Lj{constructor(y,g){this.injector=y,this.parentInjector=g}get(y,g,v){v=Gu(v);const b=this.injector.get(y,Lv,v);return b!==Lv||g===Lv?b:this.parentInjector.get(y,g,v)}}class Nh extends _D{get inputs(){const y=this.componentDef,g=y.inputTransforms,v=hS(y.inputs);if(null!==g)for(const b of v)g.hasOwnProperty(b.propName)&&(b.transform=g[b.propName]);return v}get outputs(){return hS(this.componentDef.outputs)}constructor(y,g){super(),this.componentDef=y,this.ngModule=g,this.componentType=y.type,this.selector=function tu(p){return p.map(al).join(",")}(y.selectors),this.ngContentSelectors=y.ngContentSelectors?y.ngContentSelectors:[],this.isBoundToModule=!!g}create(y,g,v,b){let C=(b=b||this.ngModule)instanceof Ti?b:b?.injector;C&&null!==this.componentDef.getStandaloneInjector&&(C=this.componentDef.getStandaloneInjector(C)||C);const D=C?new Lj(y,C):y,R=D.get(bD,null);if(null===R)throw new en(407,!1);const Ce={rendererFactory:R,sanitizer:D.get(c3,null),inlineEffectRunner:null,afterRenderEventManager:D.get(S0,null)},Ie=R.createRenderer(null,this.componentDef),Ke=this.componentDef.selectors[0][0]||"div",rt=v?function j3(p,y,g,v){const C=v.get(LD,!1)||g===wo.ShadowDom,D=p.selectRootElement(y,C);return function N3(p){VD(p)}(D),D}(Ie,v,this.componentDef.encapsulation,D):t0(Ie,Ke,function Rj(p){const y=p.toLowerCase();return"svg"===y?"svg":"math"===y?"math":null}(Ke)),Ft=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let zt=null;null!==rt&&(zt=Av(rt,D,!0));const jt=Vv(0,null,null,1,0,null,null,null,null,null,null),sn=b0(null,jt,null,Ft,null,null,Ce,Ie,D,null,zt);let cn,Tn;Og(sn);try{const ar=this.componentDef;let Ws,za=null;ar.findHostDirectiveDefs?(Ws=[],za=new Map,ar.findHostDirectiveDefs(ar,Ws,za),Ws.push(ar)):Ws=[ar];const Mo=function Nj(p,y){const g=p[an],v=Jn;return p[v]=y,Sc(g,v,2,"#host",null)}(sn,rt),Vu=function Uj(p,y,g,v,b,C,D){const R=b[an];!function Bj(p,y,g,v){for(const b of p)y.mergedAttrs=Pe(y.mergedAttrs,b.hostAttrs);null!==y.mergedAttrs&&(w0(y,y.mergedAttrs,!0),null!==g&&nD(v,g,y))}(v,p,y,D);let z=null;null!==y&&(z=Av(y,b[co]));const he=C.rendererFactory.createRenderer(y,g);let Ce=16;g.signals?Ce=4096:g.onPush&&(Ce=64);const Ie=b0(b,WD(g),null,Ce,b[p.index],p,C,he,null,null,z);return R.firstCreatePass&&Zv(R,p,v.length-1),C0(b,Ie),b[p.index]=Ie}(Mo,rt,ar,Ws,sn,Ce,Ie);Tn=function ch(p,y){return p.data[y]}(jt,Jn),rt&&function Wj(p,y,g,v){if(v)Cf(p,g,["ng-version",d3.full]);else{const{attrs:b,classes:C}=function Mf(p){const y=[],g=[];let v=1,b=2;for(;v<p.length;){let C=p[v];if("string"==typeof C)2===b?""!==C&&y.push(C,p[++v]):8===b&&g.push(C);else{if(!Ht(b))break;b=C}v++}return{attrs:y,classes:g}}(y.selectors[0]);b&&Cf(p,g,b),C&&C.length>0&&tD(p,g,C.join(" "))}}(Ie,ar,rt,v),void 0!==g&&function Vj(p,y,g){const v=p.projection=[];for(let b=0;b<y.length;b++){const C=g[b];v.push(null!=C?Array.from(C):null)}}(Tn,this.ngContentSelectors,g),cn=function Fj(p,y,g,v,b,C){const D=Pr(),R=b[an],z=ho(D,b);kD(R,b,D,g,null,v);for(let Ce=0;Ce<g.length;Ce++)no(au(b,R,D.directiveStart+Ce,D),b);KD(R,b,D),z&&no(z,b);const he=au(b,R,D.directiveStart+D.componentOffset,D);if(p[Wr]=b[Wr]=he,null!==C)for(const Ce of C)Ce(he,y);return Bv(R,D,p),he}(Vu,ar,Ws,za,sn,[$j]),qv(jt,sn,null)}finally{Ig()}return new jj(this.componentType,cn,Dc(Tn,sn),sn,Tn)}}class jj extends s3{constructor(y,g,v,b,C){super(),this.location=v,this._rootLView=b,this._tNode=C,this.previousInputValues=null,this.instance=g,this.hostView=this.changeDetectorRef=new jh(b,void 0,!1),this.componentType=y}setInput(y,g){const v=this._tNode.inputs;let b;if(null!==v&&(b=v[y])){if(this.previousInputValues??=new Map,this.previousInputValues.has(y)&&Object.is(this.previousInputValues.get(y),g))return;const C=this._rootLView;zv(C[an],C,b,y,g),this.previousInputValues.set(y,g),Lh(ko(this._tNode.index,C))}}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(y){this.hostView.onDestroy(y)}}function $j(){const p=Pr();Rf(Zt()[an],p)}function s_(p,y,g,v,b){const D=b?"class":"style";zv(p,g,y.inputs[D],D,v)}function Uc(p,y){return!y||null===y.firstChild||Xf(p)}function kh(p,y,g,v=!0){const b=y[an];if(function mL(p,y,g,v){const b=Es+v,C=g.length;v>0&&(g[b-1][Di]=y),v<C-Es?(y[Di]=g[b],rM(g,Es+v,y)):(g.push(y),y[Di]=null),y[es]=g;const D=y[ih];null!==D&&g!==D&&function yL(p,y){const g=p[Xu];y[ss]!==y[es][es][ss]&&(p[Pn]|=qu.HasTransplantedViews),null===g?p[Xu]=[y]:g.push(y)}(D,y);const R=y[Gi];null!==R&&R.insertView(p),IC(y),y[Pn]|=128}(b,y,p,g),v){const D=yv(g,p),R=y[Hn],z=r0(R,p[Hi]);null!==z&&function hL(p,y,g,v,b,C){v[hs]=b,v[eo]=y,Sh(p,v,g,1,b,C)}(b,p[eo],R,y,z,D)}const C=y[Si];null!==C&&null!==C.firstChild&&(C.firstChild=null)}let Pi=(()=>{class p{static#e=this.__NG_ELEMENT_ID__=q4}return p})();function q4(){return nw(Pr(),Zt())}const e5=Pi,ew=class extends e5{constructor(y,g,v){super(),this._lContainer=y,this._hostTNode=g,this._hostLView=v}get element(){return Dc(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){const y=Bf(this._hostTNode,this._hostLView);if(xg(y)){const g=fh(y,this._hostLView),v=ph(y);return new js(g[an].data[v+8],g)}return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(y){const g=tw(this._lContainer);return null!==g&&g[y]||null}get length(){return this._lContainer.length-Es}createEmbeddedView(y,g,v){let b,C;"number"==typeof v?b=v:null!=v&&(b=v.index,C=v.injector);const R=y.createEmbeddedViewImpl(g||{},C,null);return this.insertImpl(R,b,Uc(this._hostTNode,null)),R}createComponent(y,g,v,b,C){const D=y&&!function mh(p){return"function"==typeof p}(y);let R;if(D)R=g;else{const pt=g||{};R=pt.index,v=pt.injector,b=pt.projectableNodes,C=pt.environmentInjector||pt.ngModuleRef}const z=D?y:new Nh(nr(y)),he=v||this.parentInjector;if(!C&&null==z.ngModule){const Mt=(D?he:this.parentInjector).get(Ti,null);Mt&&(C=Mt)}nr(z.componentType??{});const rt=z.create(he,b,null,C);return this.insertImpl(rt.hostView,R,Uc(this._hostTNode,null)),rt}insert(y,g){return this.insertImpl(y,g,!0)}insertImpl(y,g,v){const b=y._lView;if(function _x(p){return Vs(p[es])}(b)){const R=this.indexOf(y);if(-1!==R)this.detach(R);else{const z=b[es],he=new ew(z,z[eo],z[es]);he.detach(he.indexOf(y))}}const C=this._adjustIndex(g),D=this._lContainer;return kh(D,b,C,v),y.attachToViewContainerRef(),rM(f_(D),C,y),y}move(y,g){return this.insert(y,g)}indexOf(y){const g=tw(this._lContainer);return null!==g?g.indexOf(y):-1}remove(y){const g=this._adjustIndex(y,-1),v=Mh(this._lContainer,g);v&&(Vf(f_(this._lContainer),g),n0(v[an],v))}detach(y){const g=this._adjustIndex(y,-1),v=Mh(this._lContainer,g);return v&&null!=Vf(f_(this._lContainer),g)?new jh(v):null}_adjustIndex(y,g=0){return y??this.length+g}};function tw(p){return p[8]}function f_(p){return p[8]||(p[8]=[])}function nw(p,y){let g;const v=y[p.index];return Vs(v)?g=v:(g=function GD(p,y,g,v){return[p,!0,0,y,null,v,null,g,null,null]}(v,y,null,p),y[p.index]=g,C0(y,g)),rw(g,y,p,v),new ew(g,p,y)}let rw=function ow(p,y,g,v){if(p[Hi])return;let b;b=8&g.type?Vr(v):function t5(p,y){const g=p[Hn],v=g.createComment(""),b=ho(y,p);return uu(g,r0(g,b),v,function EL(p,y){return p.nextSibling(y)}(g,b),!1),v}(y,g),p[Hi]=b};function w_(p,y,g,v){const b=Zt(),C=vr(),D=Jn+p,R=b[Hn],z=C.firstCreatePass?function H5(p,y,g,v,b,C){const D=y.consts,z=Sc(y,p,2,v,Yi(D,b));return function $v(p,y,g,v){if(AC()){const b=null===v?null:{"":-1},C=function J3(p,y){const g=p.directiveRegistry;let v=null,b=null;if(g)for(let C=0;C<g.length;C++){const D=g[C];if(ir(y,D.selectors,!1))if(v||(v=[]),wi(D))if(null!==D.findHostDirectiveDefs){const R=[];b=b||new Map,D.findHostDirectiveDefs(D,R,b),v.unshift(...R,D),Zv(p,y,R.length)}else v.unshift(D),Zv(p,y,0);else b=b||new Map,D.findHostDirectiveDefs?.(D,v,b),v.push(D)}return null===v?null:[v,b]}(p,g);let D,R;null===C?D=R=null:[D,R]=C,null!==D&&kD(p,y,g,D,b,R),b&&function Y3(p,y,g){if(y){const v=p.localNames=[];for(let b=0;b<y.length;b+=2){const C=g[y[b+1]];if(null==C)throw new en(-301,!1);v.push(y[b],C)}}}(g,v,b)}g.mergedAttrs=Pe(g.mergedAttrs,g.attrs)}(y,g,z,Yi(D,C)),null!==z.attrs&&w0(z,z.attrs,!1),null!==z.mergedAttrs&&w0(z,z.mergedAttrs,!0),null!==y.queries&&y.queries.elementStart(y,z),z}(D,C,b,y,g,v):C.data[D],he=Pw(C,b,z,R,y,p);b[D]=he;const Ce=function If(p){return 1==(1&p.flags)}(z);return Qi(z,!0),nD(R,he,z),32!=(32&z.flags)&&function xf(){return ZC}()&&s0(C,b,he,z),0===function bx(){return Fn.lFrame.elementDepthCount}()&&no(he,b),function Cx(){Fn.lFrame.elementDepthCount++}(),Ce&&(function Fv(p,y,g){AC()&&(function G3(p,y,g,v){const b=g.directiveStart,C=g.directiveEnd;ru(g)&&function ej(p,y,g){const v=ho(y,p),b=WD(g);let D=16;g.signals?D=4096:g.onPush&&(D=64);const R=C0(p,b0(p,b,null,D,v,y,null,p[Ju].rendererFactory.createRenderer(v,g),null,null,null));p[y.index]=R}(y,g,p.data[b+g.componentOffset]),p.firstCreatePass||Uf(g,y),no(v,y);const D=g.initialInputs;for(let R=b;R<C;R++){const z=p.data[R],he=au(y,p,R,g);no(he,y),null!==D&&tj(0,R-b,he,z,0,D),wi(z)&&(ko(g.index,y)[Wr]=au(y,p,R,g))}}(p,y,g,ho(g,y)),64==(64&g.flags)&&KD(p,y,g))}(C,b,z),Bv(C,z,b)),null!==v&&function Wv(p,y,g=ho){const v=y.localNames;if(null!==v){let b=y.index+1;for(let C=0;C<v.length;C+=2){const D=v[C+1],R=-1===D?g(y,p):p[D];p[b++]=R}}}(b,z),w_}function T_(){let p=Pr();Mg()?function Dg(){Fn.lFrame.isParent=!1}():(p=p.parent,Qi(p,!1));const y=p;(function Dx(p){return Fn.skipHydrationRootTNode===p})(y)&&function Ox(){Fn.skipHydrationRootTNode=null}(),function Mx(){Fn.lFrame.elementDepthCount--}();const g=vr();return g.firstCreatePass&&(Rf(g,p),mg(p)&&g.queries.elementEnd(p)),null!=y.classesWithoutHost&&function Kx(p){return 0!=(8&p.flags)}(y)&&s_(g,y,Zt(),y.classesWithoutHost,!0),null!=y.stylesWithoutHost&&function zx(p){return 0!=(16&p.flags)}(y)&&s_(g,y,Zt(),y.stylesWithoutHost,!1),T_}function W0(p,y,g,v){return w_(p,y,g,v),T_(),W0}let Pw=(p,y,g,v,b,C)=>(function cl(p){ZC=p}(!0),t0(v,b,function $C(){return Fn.lFrame.currentNamespace}()));const Kc="en-US";let Uw=Kc;function K0(p){return!!p&&"function"==typeof p.then}function lT(p){return!!p&&"function"==typeof p.subscribe}class yu{}class $T{}class F_ extends yu{constructor(y,g,v){super(),this._parent=g,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dS(this);const b=qs(y);this._bootstrapComponents=zo(b.bootstrap),this._r3Injector=_M(y,g,[{provide:yu,useValue:this},{provide:m0,useValue:this.componentFactoryResolver},...v],tn(y),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(y)}get injector(){return this._r3Injector}destroy(){const y=this._r3Injector;!y.destroyed&&y.destroy(),this.destroyCbs.forEach(g=>g()),this.destroyCbs=null}onDestroy(y){this.destroyCbs.push(y)}}class W_ extends $T{constructor(y){super(),this.moduleType=y}create(y){return new F_(this.moduleType,y,[])}}class ZT extends yu{constructor(y){super(),this.componentFactoryResolver=new dS(this),this.instance=null;const g=new fc([...y.providers,{provide:yu,useValue:this},{provide:m0,useValue:this.componentFactoryResolver}],y.parent||Gf(),y.debugName,new Set(["environment"]));this.injector=g,y.runEnvironmentInitializers&&g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(y){this.injector.onDestroy(y)}}function kT(p,y,g=null){return new ZT({providers:p,parent:y,debugName:g,runEnvironmentInitializers:!0}).injector}let MU=(()=>{class p{constructor(g){this._injector=g,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(g){if(!g.standalone)return null;if(!this.cachedInjectors.has(g)){const v=cM(0,g.type),b=v.length>0?kT([v],this._injector,`Standalone[${g.type.name}]`):null;this.cachedInjectors.set(g,b)}return this.cachedInjectors.get(g)}ngOnDestroy(){try{for(const g of this.cachedInjectors.values())null!==g&&g.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=An({token:p,providedIn:"environment",factory:()=>new p(Xn(Ti))})}return p})();function V_(p){(function cu(p){tS.has(p)||(tS.add(p),performance?.mark?.("mark_feature_usage",{detail:{feature:p}}))})("NgStandalone"),p.getStandaloneInjector=y=>y.get(MU).getOrCreateStandaloneInjector(p)}function QU(){return this._results[Symbol.iterator]()}class Z_{static#e=Symbol.iterator;get changes(){return this._changes??=new fo}constructor(y=!1){this._emitDistinctChangesOnly=y,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const g=Z_.prototype;g[Symbol.iterator]||(g[Symbol.iterator]=QU)}get(y){return this._results[y]}map(y){return this._results.map(y)}filter(y){return this._results.filter(y)}find(y){return this._results.find(y)}reduce(y,g){return this._results.reduce(y,g)}forEach(y){this._results.forEach(y)}some(y){return this._results.some(y)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(y,g){this.dirty=!1;const v=function To(p){return p.flat(Number.POSITIVE_INFINITY)}(y);(this._changesDetected=!function oR(p,y,g){if(p.length!==y.length)return!1;for(let v=0;v<p.length;v++){let b=p[v],C=y[v];if(g&&(b=g(b),C=g(C)),C!==b)return!1}return!0}(this._results,v,g))&&(this._results=v,this.length=v.length,this.last=v[this.length-1],this.first=v[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Aa=(()=>{class p{static#e=this.__NG_ELEMENT_ID__=e8}return p})();const XU=Aa,qU=class extends XU{constructor(y,g,v){super(),this._declarationLView=y,this._declarationTContainer=g,this.elementRef=v}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(y,g){return this.createEmbeddedViewImpl(y,g)}createEmbeddedViewImpl(y,g,v){const b=function Zh(p,y,g,v){const b=y.tView,R=b0(p,b,g,4096&p[Pn]?4096:16,null,y,null,null,null,v?.injector??null,v?.dehydratedView??null);R[ih]=p[y.index];const he=p[Gi];return null!==he&&(R[Gi]=he.createEmbeddedView(b)),qv(b,R,g),R}(this._declarationLView,this._declarationTContainer,y,{injector:g,dehydratedView:v});return new jh(b)}};function e8(){return H0(Pr(),Zt())}function H0(p,y){return 4&p.type?new qU(y,p,Dc(p,y)):null}class k_{constructor(y){this.queryList=y,this.matches=null}clone(){return new k_(this.queryList)}setDirty(){this.queryList.setDirty()}}class K_{constructor(y=[]){this.queries=y}createEmbeddedView(y){const g=y.queries;if(null!==g){const v=null!==y.contentQueries?y.contentQueries[0]:g.length,b=[];for(let C=0;C<v;C++){const D=g.getByIndex(C);b.push(this.queries[D.indexInDeclarationView].clone())}return new K_(b)}return null}insertView(y){this.dirtyQueriesWithMatches(y)}detachView(y){this.dirtyQueriesWithMatches(y)}dirtyQueriesWithMatches(y){for(let g=0;g<this.queries.length;g++)null!==uO(y,g).matches&&this.queries[g].setDirty()}}class rO{constructor(y,g,v=null){this.predicate=y,this.flags=g,this.read=v}}class z_{constructor(y=[]){this.queries=y}elementStart(y,g){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(y,g)}elementEnd(y){for(let g=0;g<this.queries.length;g++)this.queries[g].elementEnd(y)}embeddedTView(y){let g=null;for(let v=0;v<this.length;v++){const b=null!==g?g.length:0,C=this.getByIndex(v).embeddedTView(y,b);C&&(C.indexInDeclarationView=v,null!==g?g.push(C):g=[C])}return null!==g?new z_(g):null}template(y,g){for(let v=0;v<this.queries.length;v++)this.queries[v].template(y,g)}getByIndex(y){return this.queries[y]}get length(){return this.queries.length}track(y){this.queries.push(y)}}class G_{constructor(y,g=-1){this.metadata=y,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=g}elementStart(y,g){this.isApplyingToNode(g)&&this.matchTNode(y,g)}elementEnd(y){this._declarationNodeIndex===y.index&&(this._appliesToNextNode=!1)}template(y,g){this.elementStart(y,g)}embeddedTView(y,g){return this.isApplyingToNode(y)?(this.crossesNgTemplate=!0,this.addMatch(-y.index,g),new G_(this.metadata)):null}isApplyingToNode(y){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const g=this._declarationNodeIndex;let v=y.parent;for(;null!==v&&8&v.type&&v.index!==g;)v=v.parent;return g===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(y,g){const v=this.metadata.predicate;if(Array.isArray(v))for(let b=0;b<v.length;b++){const C=v[b];this.matchTNodeWithReadOption(y,g,t8(g,C)),this.matchTNodeWithReadOption(y,g,Ff(g,y,C,!1,!1))}else v===Aa?4&g.type&&this.matchTNodeWithReadOption(y,g,-1):this.matchTNodeWithReadOption(y,g,Ff(g,y,v,!1,!1))}matchTNodeWithReadOption(y,g,v){if(null!==v){const b=this.metadata.read;if(null!==b)if(b===gl||b===Pi||b===Aa&&4&g.type)this.addMatch(g.index,-2);else{const C=Ff(g,y,b,!1,!1);null!==C&&this.addMatch(g.index,C)}else this.addMatch(g.index,v)}}addMatch(y,g){null===this.matches?this.matches=[y,g]:this.matches.push(y,g)}}function t8(p,y){const g=p.localNames;if(null!==g)for(let v=0;v<g.length;v+=2)if(g[v]===y)return g[v+1];return null}function r8(p,y,g,v){return-1===g?function n8(p,y){return 11&p.type?Dc(p,y):4&p.type?H0(p,y):null}(y,p):-2===g?function s8(p,y,g){return g===gl?Dc(y,p):g===Aa?H0(y,p):g===Pi?nw(y,p):void 0}(p,y,v):au(p,p[an],g,y)}function sO(p,y,g,v){const b=y[Gi].queries[v];if(null===b.matches){const C=p.data,D=g.matches,R=[];for(let z=0;z<D.length;z+=2){const he=D[z];R.push(he<0?null:r8(y,C[he],D[z+1],g.metadata.read))}b.matches=R}return b.matches}function H_(p,y,g,v){const b=p.queries.getByIndex(g),C=b.matches;if(null!==C){const D=sO(p,y,b,g);for(let R=0;R<C.length;R+=2){const z=C[R];if(z>0)v.push(D[R/2]);else{const he=C[R+1],Ce=y[-z];for(let Ie=Es;Ie<Ce.length;Ie++){const Ke=Ce[Ie];Ke[ih]===Ke[es]&&H_(Ke[an],Ke,he,v)}if(null!==Ce[Xu]){const Ie=Ce[Xu];for(let Ke=0;Ke<Ie.length;Ke++){const rt=Ie[Ke];H_(rt[an],rt,he,v)}}}}}return v}function J_(p){const y=Zt(),g=vr(),v=NC();Tg(v+1);const b=uO(g,v);if(p.dirty&&function vx(p){return 4==(4&p[Pn])}(y)===(2==(2&b.metadata.flags))){if(null===b.matches)p.reset([]);else{const C=b.crossesNgTemplate?H_(g,y,v,[]):sO(g,y,b,v);p.reset(C,l3),p.notifyOnChanges()}return!0}return!1}function oO(p,y,g){const v=vr();v.firstCreatePass&&(function lO(p,y,g){null===p.queries&&(p.queries=new z_),p.queries.track(new G_(y,g))}(v,new rO(p,y,g),-1),2==(2&y)&&(v.staticViewQueries=!0)),function aO(p,y,g){const v=new Z_(4==(4&g));(function F3(p,y,g,v){const b=function JD(p){return p[Hu]||(p[Hu]=[])}(y);b.push(g),p.firstCreatePass&&function YD(p){return p.cleanup||(p.cleanup=[])}(p).push(v,b.length-1)})(p,y,v,v.destroy),null===y[Gi]&&(y[Gi]=new K_),y[Gi].queries.push(new k_(v))}(v,Zt(),y)}function uO(p,y){return p.queries.getByIndex(y)}let SO=(()=>{class p{log(g){console.log(g)}warn(g){console.warn(g)}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"platform"})}return p})(),wO=(()=>{class p{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ke(!1)}add(){this.hasPendingTasks.next(!0);const g=this.taskId++;return this.pendingTasks.add(g),g}remove(g){this.pendingTasks.delete(g),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();class I8{constructor(y,g){this.ngModuleFactory=y,this.componentFactories=g}}let P8=(()=>{class p{compileModuleSync(g){return new W_(g)}compileModuleAsync(g){return Promise.resolve(this.compileModuleSync(g))}compileModuleAndAllComponentsSync(g){const v=this.compileModuleSync(g),C=zo(qs(g).declarations).reduce((D,R)=>{const z=nr(R);return z&&D.push(new Nh(z)),D},[]);return new I8(v,C)}compileModuleAndAllComponentsAsync(g){return Promise.resolve(this.compileModuleAndAllComponentsSync(g))}clearCache(){}clearCacheFor(g){}getModuleId(g){}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const AO=new Dn(""),n6=new Dn("Application Initializer");let oE=(()=>{class p{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,v)=>{this.resolve=g,this.reject=v}),this.appInits=fn(n6,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const g=[];for(const b of this.appInits){const C=b();if(K0(C))g.push(C);else if(lT(C)){const D=new Promise((R,z)=>{C.subscribe({complete:R,error:z})});g.push(D)}}const v=()=>{this.done=!0,this.resolve()};Promise.all(g).then(()=>{v()}).catch(b=>{this.reject(b)}),0===g.length&&v(),this.initialized=!0}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const iE=new Dn("appBootstrapListener");let Hc=(()=>{class p{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fn(xD),this.zoneIsStable=fn(oS),this.componentTypes=[],this.components=[],this.isStable=fn(wO).hasPendingTasks.pipe(vt(g=>g?tt(!1):this.zoneIsStable),function St(p,y=dt){return p=p??Nt,On((g,v)=>{let b,C=!0;g.subscribe(zn(v,D=>{const R=y(D);(C||!p(b,R))&&(C=!1,b=R,v.next(D))}))})}()),this._injector=fn(Ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(g,v){const b=g instanceof _D;if(!this._injector.get(oE).done)throw!b&&function ll(p){const y=nr(p)||Ls(p)||Ks(p);return null!==y&&y.standalone}(g),new en(405,!1);let D;D=b?g:this._injector.get(m0).resolveComponentFactory(g),this.componentTypes.push(D.componentType);const R=function s6(p){return p.isBoundToModule}(D)?void 0:this._injector.get(yu),he=D.create(li.NULL,[],v||D.selector,R),Ce=he.location.nativeElement,Ie=he.injector.get(AO,null);return Ie?.registerApplication(Ce),he.onDestroy(()=>{this.detachView(he.hostView),X0(this.components,he),Ie?.unregisterApplication(Ce)}),this._loadComponent(he),he}tick(){if(this._runningTick)throw new en(101,!1);try{this._runningTick=!0;for(let g of this._views)g.detectChanges()}catch(g){this.internalErrorHandler(g)}finally{this._runningTick=!1}}attachView(g){const v=g;this._views.push(v),v.attachToAppRef(this)}detachView(g){const v=g;X0(this._views,v),v.detachFromAppRef()}_loadComponent(g){this.attachView(g.hostView),this.tick(),this.components.push(g);const v=this._injector.get(iE,[]);[...this._bootstrapListeners,...v].forEach(b=>b(g))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(g=>g()),this._views.slice().forEach(g=>g.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(g){return this._destroyListeners.push(g),()=>X0(this._destroyListeners,g)}destroy(){if(this._destroyed)throw new en(406,!1);const g=this._injector;g.destroy&&!g.destroyed&&g.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function X0(p,y){const g=p.indexOf(y);g>-1&&p.splice(g,1)}let i6=(()=>{class p{constructor(){this.zone=fn(Ur),this.applicationRef=fn(Hc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function NO(p){return[{provide:Ur,useFactory:p},{provide:pc,multi:!0,useFactory:()=>{const y=fn(i6,{optional:!0});return()=>y.initialize()}},{provide:xD,useFactory:a6},{provide:oS,useFactory:iS}]}function a6(){const p=fn(Ur),y=fn(Ia);return g=>p.runOutsideAngular(()=>y.handleError(g))}function l6(p){return zg([[],NO(()=>new Ur(function UO(p){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:p?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:p?.runCoalescing??!1}}(p)))])}const xa=new Dn("LocaleId",{providedIn:"root",factory:()=>fn(xa,or.Optional|or.SkipSelf)||function u6(){return typeof $localize<"u"&&$localize.locale||Kc}()}),aE=new Dn("PlatformDestroyListeners");let El=null;function x6(p){try{const{rootComponent:y,appProviders:g,platformProviders:v}=p,b=function f6(p=[]){if(El)return El;const y=function WO(p=[],y){return li.create({name:y,providers:[{provide:Jg,useValue:"platform"},{provide:aE,useValue:new Set([()=>El=null])},...p]})}(p);return El=y,function xO(){!function fe(p){Q=p}(()=>{throw new en(600,!1)})}(),function VO(p){p.get(bM,null)?.forEach(g=>g())}(y),y}(v),C=[l6(),...g||[]],R=new ZT({providers:C,parent:b,debugName:"",runEnvironmentInitializers:!1}).injector,z=R.get(Ur);return z.run(()=>{R.resolveInjectorInitializers();const he=R.get(Ia,null);let Ce;z.runOutsideAngular(()=>{Ce=z.onError.subscribe({next:rt=>{he.handleError(rt)}})});const Ie=()=>R.destroy(),Ke=b.get(aE);return Ke.add(Ie),R.onDestroy(()=>{Ce.unsubscribe(),Ke.delete(Ie)}),function RO(p,y,g){try{const v=g();return K0(v)?v.catch(b=>{throw y.runOutsideAngular(()=>p.handleError(b)),b}):v}catch(v){throw y.runOutsideAngular(()=>p.handleError(v)),v}}(he,z,()=>{const rt=R.get(oE);return rt.runInitializers(),rt.donePromise.then(()=>{!function Bw(p){Qs(p,"Expected localeId to be defined"),"string"==typeof p&&(Uw=p.toLowerCase().replace(/_/g,"-"))}(R.get(xa,Kc)||Kc);const Mt=R.get(Hc);return void 0!==y&&Mt.bootstrap(y),Mt})})})}catch(y){return Promise.reject(y)}}let vE=null;function Yc(){return vE}class z6{}const Ai=new Dn("DocumentToken");let cI=(()=>{class p{historyGo(g){throw new Error("Not implemented")}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:()=>fn(G6),providedIn:"platform"})}return p})(),G6=(()=>{class p extends cI{constructor(){super(),this._doc=fn(Ai),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yc().getBaseHref(this._doc)}onPopState(g){const v=Yc().getGlobalEventTarget(this._doc,"window");return v.addEventListener("popstate",g,!1),()=>v.removeEventListener("popstate",g)}onHashChange(g){const v=Yc().getGlobalEventTarget(this._doc,"window");return v.addEventListener("hashchange",g,!1),()=>v.removeEventListener("hashchange",g)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(g){this._location.pathname=g}pushState(g,v,b){this._history.pushState(g,v,b)}replaceState(g,v,b){this._history.replaceState(g,v,b)}forward(){this._history.forward()}back(){this._history.back()}historyGo(g=0){this._history.go(g)}getState(){return this._history.state}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:()=>new p,providedIn:"platform"})}return p})();function dI(p,y){if(0==p.length)return y;if(0==y.length)return p;let g=0;return p.endsWith("/")&&g++,y.startsWith("/")&&g++,2==g?p+y.substring(1):1==g?p+y:p+"/"+y}function hI(p){const y=p.match(/#|\?|$/),g=y&&y.index||p.length;return p.slice(0,g-("/"===p[g-1]?1:0))+p.slice(g)}function vu(p){return p&&"?"!==p[0]?"?"+p:p}let am=(()=>{class p{historyGo(g){throw new Error("Not implemented")}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:()=>fn(J6),providedIn:"root"})}return p})();const H6=new Dn("appBaseHref");let J6=(()=>{class p extends am{constructor(g,v){super(),this._platformLocation=g,this._removeListenerFns=[],this._baseHref=v??this._platformLocation.getBaseHrefFromDOM()??fn(Ai).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(g){this._removeListenerFns.push(this._platformLocation.onPopState(g),this._platformLocation.onHashChange(g))}getBaseHref(){return this._baseHref}prepareExternalUrl(g){return dI(this._baseHref,g)}path(g=!1){const v=this._platformLocation.pathname+vu(this._platformLocation.search),b=this._platformLocation.hash;return b&&g?`${v}${b}`:v}pushState(g,v,b,C){const D=this.prepareExternalUrl(b+vu(C));this._platformLocation.pushState(g,v,D)}replaceState(g,v,b,C){const D=this.prepareExternalUrl(b+vu(C));this._platformLocation.replaceState(g,v,D)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(g=0){this._platformLocation.historyGo?.(g)}static#e=this.\u0275fac=function(v){return new(v||p)(Xn(cI),Xn(H6,8))};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),ip=(()=>{class p{constructor(g){this._subject=new fo,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=g;const v=this._locationStrategy.getBaseHref();this._basePath=function X6(p){if(new RegExp("^(https?:)?//").test(p)){const[,g]=p.split(/\/\/[^\/]+/);return g}return p}(hI(pI(v))),this._locationStrategy.onPopState(b=>{this._subject.emit({url:this.path(!0),pop:!0,state:b.state,type:b.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(g=!1){return this.normalize(this._locationStrategy.path(g))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(g,v=""){return this.path()==this.normalize(g+vu(v))}normalize(g){return p.stripTrailingSlash(function Q6(p,y){if(!p||!y.startsWith(p))return y;const g=y.substring(p.length);return""===g||["/",";","?","#"].includes(g[0])?g:y}(this._basePath,pI(g)))}prepareExternalUrl(g){return g&&"/"!==g[0]&&(g="/"+g),this._locationStrategy.prepareExternalUrl(g)}go(g,v="",b=null){this._locationStrategy.pushState(b,"",g,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(g+vu(v)),b)}replaceState(g,v="",b=null){this._locationStrategy.replaceState(b,"",g,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(g+vu(v)),b)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(g=0){this._locationStrategy.historyGo?.(g)}onUrlChange(g){return this._urlChangeListeners.push(g),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)})),()=>{const v=this._urlChangeListeners.indexOf(g);this._urlChangeListeners.splice(v,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(g="",v){this._urlChangeListeners.forEach(b=>b(g,v))}subscribe(g,v,b){return this._subject.subscribe({next:g,error:v,complete:b})}static#e=this.normalizeQueryParams=vu;static#t=this.joinWithSlash=dI;static#n=this.stripTrailingSlash=hI;static#r=this.\u0275fac=function(v){return new(v||p)(Xn(am))};static#s=this.\u0275prov=An({token:p,factory:()=>function Y6(){return new ip(Xn(am))}(),providedIn:"root"})}return p})();function pI(p){return p.replace(/\/index.html$/,"")}let fF=(()=>{class p{static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275mod=sh({type:p});static#n=this.\u0275inj=ku({})}return p})();function II(p){return"server"===p}class $F extends z6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jE extends $F{static makeCurrent(){!function K6(p){vE||(vE=p)}(new jE)}onAndCancel(y,g,v){return y.addEventListener(g,v),()=>{y.removeEventListener(g,v)}}dispatchEvent(y,g){y.dispatchEvent(g)}remove(y){y.parentNode&&y.parentNode.removeChild(y)}createElement(y,g){return(g=g||this.getDefaultDocument()).createElement(y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(y){return y.nodeType===Node.ELEMENT_NODE}isShadowRoot(y){return y instanceof DocumentFragment}getGlobalEventTarget(y,g){return"window"===g?window:"document"===g?y:"body"===g?y.body:null}getBaseHref(y){const g=function ZF(){return cp=cp||document.querySelector("base"),cp?cp.getAttribute("href"):null}();return null==g?null:function kF(p){return new URL(p,document.baseURI).pathname}(g)}resetBaseElement(){cp=null}getUserAgent(){return window.navigator.userAgent}getCookie(y){return function NB(p,y){y=encodeURIComponent(y);for(const g of p.split(";")){const v=g.indexOf("="),[b,C]=-1==v?[g,""]:[g.slice(0,v),g.slice(v+1)];if(b.trim()===y)return decodeURIComponent(C)}return null}(document.cookie,y)}}let cp=null,zF=(()=>{class p{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac})}return p})();const NE=new Dn("EventManagerPlugins");let RI=(()=>{class p{constructor(g,v){this._zone=v,this._eventNameToPlugin=new Map,g.forEach(b=>{b.manager=this}),this._plugins=g.slice().reverse()}addEventListener(g,v,b){return this._findPluginFor(v).addEventListener(g,v,b)}getZone(){return this._zone}_findPluginFor(g){let v=this._eventNameToPlugin.get(g);if(v)return v;if(v=this._plugins.find(C=>C.supports(g)),!v)throw new en(5101,!1);return this._eventNameToPlugin.set(g,v),v}static#e=this.\u0275fac=function(v){return new(v||p)(Xn(NE),Xn(Ur))};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac})}return p})();class LI{constructor(y){this._doc=y}}const UE="ng-app-id";let jI=(()=>{class p{constructor(g,v,b,C={}){this.doc=g,this.appId=v,this.nonce=b,this.platformId=C,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=II(C),this.resetHostNodes()}addStyles(g){for(const v of g)1===this.changeUsageCount(v,1)&&this.onStyleAdded(v)}removeStyles(g){for(const v of g)this.changeUsageCount(v,-1)<=0&&this.onStyleRemoved(v)}ngOnDestroy(){const g=this.styleNodesInDOM;g&&(g.forEach(v=>v.remove()),g.clear());for(const v of this.getAllStyles())this.onStyleRemoved(v);this.resetHostNodes()}addHost(g){this.hostNodes.add(g);for(const v of this.getAllStyles())this.addStyleToHost(g,v)}removeHost(g){this.hostNodes.delete(g)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(g){for(const v of this.hostNodes)this.addStyleToHost(v,g)}onStyleRemoved(g){const v=this.styleRef;v.get(g)?.elements?.forEach(b=>b.remove()),v.delete(g)}collectServerRenderedStyles(){const g=this.doc.head?.querySelectorAll(`style[${UE}="${this.appId}"]`);if(g?.length){const v=new Map;return g.forEach(b=>{null!=b.textContent&&v.set(b.textContent,b)}),v}return null}changeUsageCount(g,v){const b=this.styleRef;if(b.has(g)){const C=b.get(g);return C.usage+=v,C.usage}return b.set(g,{usage:v,elements:[]}),v}getStyleElement(g,v){const b=this.styleNodesInDOM,C=b?.get(v);if(C?.parentNode===g)return b.delete(v),C.removeAttribute(UE),C;{const D=this.doc.createElement("style");return this.nonce&&D.setAttribute("nonce",this.nonce),D.textContent=v,this.platformIsServer&&D.setAttribute(UE,this.appId),g.appendChild(D),D}}addStyleToHost(g,v){const b=this.getStyleElement(g,v),C=this.styleRef,D=C.get(v)?.elements;D?D.push(b):C.set(v,{elements:[b],usage:1})}resetHostNodes(){const g=this.hostNodes;g.clear(),g.add(this.doc.head)}static#e=this.\u0275fac=function(v){return new(v||p)(Xn(Ai),Xn(nv),Xn(CM,8),Xn(gc))};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac})}return p})();const BE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},FE=/%COMP%/g,YF=new Dn("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function UI(p,y){return y.map(g=>g.replace(FE,p))}let BI=(()=>{class p{constructor(g,v,b,C,D,R,z,he=null){this.eventManager=g,this.sharedStylesHost=v,this.appId=b,this.removeStylesOnCompDestroy=C,this.doc=D,this.platformId=R,this.ngZone=z,this.nonce=he,this.rendererByCompId=new Map,this.platformIsServer=II(R),this.defaultRenderer=new WE(g,D,z,this.platformIsServer)}createRenderer(g,v){if(!g||!v)return this.defaultRenderer;this.platformIsServer&&v.encapsulation===wo.ShadowDom&&(v={...v,encapsulation:wo.Emulated});const b=this.getOrCreateRenderer(g,v);return b instanceof WI?b.applyToHost(g):b instanceof VE&&b.applyStyles(),b}getOrCreateRenderer(g,v){const b=this.rendererByCompId;let C=b.get(v.id);if(!C){const D=this.doc,R=this.ngZone,z=this.eventManager,he=this.sharedStylesHost,Ce=this.removeStylesOnCompDestroy,Ie=this.platformIsServer;switch(v.encapsulation){case wo.Emulated:C=new WI(z,he,v,this.appId,Ce,D,R,Ie);break;case wo.ShadowDom:return new e7(z,he,g,v,D,R,this.nonce,Ie);default:C=new VE(z,he,v,Ce,D,R,Ie)}b.set(v.id,C)}return C}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(v){return new(v||p)(Xn(RI),Xn(jI),Xn(nv),Xn(YF),Xn(Ai),Xn(gc),Xn(Ur),Xn(CM))};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac})}return p})();class WE{constructor(y,g,v,b){this.eventManager=y,this.doc=g,this.ngZone=v,this.platformIsServer=b,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(y,g){return g?this.doc.createElementNS(BE[g]||g,y):this.doc.createElement(y)}createComment(y){return this.doc.createComment(y)}createText(y){return this.doc.createTextNode(y)}appendChild(y,g){(FI(y)?y.content:y).appendChild(g)}insertBefore(y,g,v){y&&(FI(y)?y.content:y).insertBefore(g,v)}removeChild(y,g){y&&y.removeChild(g)}selectRootElement(y,g){let v="string"==typeof y?this.doc.querySelector(y):y;if(!v)throw new en(-5104,!1);return g||(v.textContent=""),v}parentNode(y){return y.parentNode}nextSibling(y){return y.nextSibling}setAttribute(y,g,v,b){if(b){g=b+":"+g;const C=BE[b];C?y.setAttributeNS(C,g,v):y.setAttribute(g,v)}else y.setAttribute(g,v)}removeAttribute(y,g,v){if(v){const b=BE[v];b?y.removeAttributeNS(b,g):y.removeAttribute(`${v}:${g}`)}else y.removeAttribute(g)}addClass(y,g){y.classList.add(g)}removeClass(y,g){y.classList.remove(g)}setStyle(y,g,v,b){b&(ml.DashCase|ml.Important)?y.style.setProperty(g,v,b&ml.Important?"important":""):y.style[g]=v}removeStyle(y,g,v){v&ml.DashCase?y.style.removeProperty(g):y.style[g]=""}setProperty(y,g,v){null!=y&&(y[g]=v)}setValue(y,g){y.nodeValue=g}listen(y,g,v){if("string"==typeof y&&!(y=Yc().getGlobalEventTarget(this.doc,y)))throw new Error(`Unsupported event target ${y} for event ${g}`);return this.eventManager.addEventListener(y,g,this.decoratePreventDefault(v))}decoratePreventDefault(y){return g=>{if("__ngUnwrap__"===g)return y;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>y(g)):y(g))&&g.preventDefault()}}}function FI(p){return"TEMPLATE"===p.tagName&&void 0!==p.content}class e7 extends WE{constructor(y,g,v,b,C,D,R,z){super(y,C,D,z),this.sharedStylesHost=g,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const he=UI(b.id,b.styles);for(const Ce of he){const Ie=document.createElement("style");R&&Ie.setAttribute("nonce",R),Ie.textContent=Ce,this.shadowRoot.appendChild(Ie)}}nodeOrShadowRoot(y){return y===this.hostEl?this.shadowRoot:y}appendChild(y,g){return super.appendChild(this.nodeOrShadowRoot(y),g)}insertBefore(y,g,v){return super.insertBefore(this.nodeOrShadowRoot(y),g,v)}removeChild(y,g){return super.removeChild(this.nodeOrShadowRoot(y),g)}parentNode(y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(y)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class VE extends WE{constructor(y,g,v,b,C,D,R,z){super(y,C,D,R),this.sharedStylesHost=g,this.removeStylesOnCompDestroy=b,this.styles=z?UI(z,v.styles):v.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class WI extends VE{constructor(y,g,v,b,C,D,R,z){const he=b+"-"+v.id;super(y,g,v,C,D,R,z,he),this.contentAttr=function QF(p){return"_ngcontent-%COMP%".replace(FE,p)}(he),this.hostAttr=function XF(p){return"_nghost-%COMP%".replace(FE,p)}(he)}applyToHost(y){this.applyStyles(),this.setAttribute(y,this.hostAttr,"")}createElement(y,g){const v=super.createElement(y,g);return super.setAttribute(v,this.contentAttr,""),v}}let t7=(()=>{class p extends LI{constructor(g){super(g)}supports(g){return!0}addEventListener(g,v,b){return g.addEventListener(v,b,!1),()=>this.removeEventListener(g,v,b)}removeEventListener(g,v,b){return g.removeEventListener(v,b)}static#e=this.\u0275fac=function(v){return new(v||p)(Xn(Ai))};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac})}return p})();const VI=["alt","control","meta","shift"],n7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},r7={alt:p=>p.altKey,control:p=>p.ctrlKey,meta:p=>p.metaKey,shift:p=>p.shiftKey};let s7=(()=>{class p extends LI{constructor(g){super(g)}supports(g){return null!=p.parseEventName(g)}addEventListener(g,v,b){const C=p.parseEventName(v),D=p.eventCallback(C.fullKey,b,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yc().onAndCancel(g,C.domEventName,D))}static parseEventName(g){const v=g.toLowerCase().split("."),b=v.shift();if(0===v.length||"keydown"!==b&&"keyup"!==b)return null;const C=p._normalizeKey(v.pop());let D="",R=v.indexOf("code");if(R>-1&&(v.splice(R,1),D="code."),VI.forEach(he=>{const Ce=v.indexOf(he);Ce>-1&&(v.splice(Ce,1),D+=he+".")}),D+=C,0!=v.length||0===C.length)return null;const z={};return z.domEventName=b,z.fullKey=D,z}static matchEventFullKeyCode(g,v){let b=n7[g.key]||g.key,C="";return v.indexOf("code.")>-1&&(b=g.code,C="code."),!(null==b||!b)&&(b=b.toLowerCase()," "===b?b="space":"."===b&&(b="dot"),VI.forEach(D=>{D!==b&&(0,r7[D])(g)&&(C+=D+".")}),C+=b,C===v)}static eventCallback(g,v,b){return C=>{p.matchEventFullKeyCode(C,g)&&b.runGuarded(()=>v(C))}}static _normalizeKey(g){return"esc"===g?"escape":g}static#e=this.\u0275fac=function(v){return new(v||p)(Xn(Ai))};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac})}return p})();function $I(p){return{appProviders:[...d7,...p?.providers??[]],platformProviders:u7}}const u7=[{provide:gc,useValue:"browser"},{provide:bM,useValue:function i7(){jE.makeCurrent()},multi:!0},{provide:Ai,useFactory:function l7(){return function BR(p){tv=p}(document),document},deps:[]}],d7=[{provide:Jg,useValue:"root"},{provide:Ia,useFactory:function a7(){return new Ia},deps:[]},{provide:NE,useClass:t7,multi:!0,deps:[Ai,Ur,gc]},{provide:NE,useClass:s7,multi:!0,deps:[Ai]},BI,jI,RI,{provide:bD,useExisting:BI},{provide:class _F{},useClass:zF,deps:[]},[]];let ZI=(()=>{class p{constructor(g){this._doc=g}getTitle(){return this._doc.title}setTitle(g){this._doc.title=g||""}static#e=this.\u0275fac=function(v){return new(v||p)(Xn(Ai))};static#t=this.\u0275prov=An({token:p,factory:function(v){let b=null;return b=v?new v:function p7(){return new ZI(Xn(Ai))}(),b},providedIn:"root"})}return p})();typeof window<"u"&&window;const Em=He(p=>function(){p(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:_7}=Array,{getPrototypeOf:E7,prototype:b7,keys:C7}=Object;const{isArray:S7}=Array;function GI(...p){const y=jr(p),g=function oi(p){return Me(us(p))?p.pop():void 0}(p),{args:v,keys:b}=function M7(p){if(1===p.length){const y=p[0];if(_7(y))return{args:y,keys:null};if(function D7(p){return p&&"object"==typeof p&&E7(p)===b7}(y)){const g=C7(y);return{args:g.map(v=>y[v]),keys:g}}}return{args:p,keys:null}}(p);if(0===v.length)return _s([],y);const C=new xt(function I7(p,y,g=dt){return v=>{HI(y,()=>{const{length:b}=p,C=new Array(b);let D=b,R=b;for(let z=0;z<b;z++)HI(y,()=>{const he=_s(p[z],y);let Ce=!1;he.subscribe(zn(v,Ie=>{C[z]=Ie,Ce||(Ce=!0,R--),R||v.next(g(C.slice()))},()=>{--D||v.complete()}))},v)},v)}}(v,y,b?D=>function O7(p,y){return p.reduce((g,v,b)=>(g[v]=y[b],g),{})}(b,D):dt));return g?C.pipe(function T7(p){return Xt(y=>function w7(p,y){return S7(y)?p(...y):p(y)}(p,y))}(g)):C}function HI(p,y,g){p?xs(g,p,y):y()}function ZE(...p){return function P7(){return Ya(1)}()(_s(p,jr(p)))}function JI(p){return new xt(y=>{Or(p()).subscribe(y)})}function bm(p,y){const g=Me(p)?p:()=>p,v=b=>b.error(g());return new xt(y?b=>y.schedule(v,0,b):v)}function kE(){return On((p,y)=>{let g=null;p._refCount++;const v=zn(y,void 0,void 0,void 0,()=>{if(!p||p._refCount<=0||0<--p._refCount)return void(g=null);const b=p._connection,C=g;g=null,b&&(!C||b===C)&&b.unsubscribe(),y.unsubscribe()});p.subscribe(v),v.closed||(g=p.connect())})}class YI extends xt{constructor(y,g){super(),this.source=y,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,lr(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new J;const g=this.getSubject();y.add(this.source.subscribe(zn(g,void 0,()=>{this._teardown(),g.complete()},v=>{this._teardown(),g.error(v)},()=>this._teardown()))),y.closed&&(this._connection=null,y=J.EMPTY)}return y}refCount(){return kE()(this)}}function Xc(p){return p<=0?()=>Qn:On((y,g)=>{let v=0;y.subscribe(zn(g,b=>{++v<=p&&(g.next(b),p<=v&&g.complete())}))})}function _u(p,y){return On((g,v)=>{let b=0;g.subscribe(zn(v,C=>p.call(y,C,b++)&&v.next(C)))})}function Cm(p){return On((y,g)=>{let v=!1;y.subscribe(zn(g,b=>{v=!0,g.next(b)},()=>{v||g.next(p),g.complete()}))})}function QI(p=x7){return On((y,g)=>{let v=!1;y.subscribe(zn(g,b=>{v=!0,g.next(b)},()=>v?g.complete():g.error(p())))})}function x7(){return new Em}function Eu(p,y){const g=arguments.length>=2;return v=>v.pipe(p?_u((b,C)=>p(b,C,v)):dt,Xc(1),g?Cm(y):QI(()=>new Em))}function Mm(p,y){return Me(y)?Un(p,y,1):Un(p,1)}function ro(p,y,g){const v=Me(p)||y||g?{next:p,error:y,complete:g}:p;return v?On((b,C)=>{var D;null===(D=v.subscribe)||void 0===D||D.call(v);let R=!0;b.subscribe(zn(C,z=>{var he;null===(he=v.next)||void 0===he||he.call(v,z),C.next(z)},()=>{var z;R=!1,null===(z=v.complete)||void 0===z||z.call(v),C.complete()},z=>{var he;R=!1,null===(he=v.error)||void 0===he||he.call(v,z),C.error(z)},()=>{var z,he;R&&(null===(z=v.unsubscribe)||void 0===z||z.call(v)),null===(he=v.finalize)||void 0===he||he.call(v)}))}):dt}function qc(p){return On((y,g)=>{let C,v=null,b=!1;v=y.subscribe(zn(g,void 0,void 0,D=>{C=Or(p(D,qc(p)(y))),v?(v.unsubscribe(),v=null,C.subscribe(g)):b=!0})),b&&(v.unsubscribe(),v=null,C.subscribe(g))})}function KE(p){return p<=0?()=>Qn:On((y,g)=>{let v=[];y.subscribe(zn(g,b=>{v.push(b),p<v.length&&v.shift()},()=>{for(const b of v)g.next(b);g.complete()},void 0,()=>{v=null}))})}function zE(p){return On((y,g)=>{try{y.subscribe(g)}finally{g.add(p)}})}const rr="primary",dp=Symbol("RouteTitle");class B7{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const g=this.params[y];return Array.isArray(g)?g[0]:g}return null}getAll(y){if(this.has(y)){const g=this.params[y];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function ed(p){return new B7(p)}function F7(p,y,g){const v=g.path.split("/");if(v.length>p.length||"full"===g.pathMatch&&(y.hasChildren()||v.length<p.length))return null;const b={};for(let C=0;C<v.length;C++){const D=v[C],R=p[C];if(D.startsWith(":"))b[D.substring(1)]=R;else if(D!==R.path)return null}return{consumed:p.slice(0,v.length),posParams:b}}function sa(p,y){const g=p?GE(p):void 0,v=y?GE(y):void 0;if(!g||!v||g.length!=v.length)return!1;let b;for(let C=0;C<g.length;C++)if(b=g[C],!XI(p[b],y[b]))return!1;return!0}function GE(p){return[...Object.keys(p),...Object.getOwnPropertySymbols(p)]}function XI(p,y){if(Array.isArray(p)&&Array.isArray(y)){if(p.length!==y.length)return!1;const g=[...p].sort(),v=[...y].sort();return g.every((b,C)=>v[C]===b)}return p===y}function qI(p){return p.length>0?p[p.length-1]:null}function Cl(p){return function v7(p){return!!p&&(p instanceof xt||Me(p.lift)&&Me(p.subscribe))}(p)?p:K0(p)?_s(Promise.resolve(p)):tt(p)}const V7={exact:function nP(p,y,g){if(!bu(p.segments,y.segments)||!Dm(p.segments,y.segments,g)||p.numberOfChildren!==y.numberOfChildren)return!1;for(const v in y.children)if(!p.children[v]||!nP(p.children[v],y.children[v],g))return!1;return!0},subset:rP},eP={exact:function $7(p,y){return sa(p,y)},subset:function Z7(p,y){return Object.keys(y).length<=Object.keys(p).length&&Object.keys(y).every(g=>XI(p[g],y[g]))},ignored:()=>!0};function tP(p,y,g){return V7[g.paths](p.root,y.root,g.matrixParams)&&eP[g.queryParams](p.queryParams,y.queryParams)&&!("exact"===g.fragment&&p.fragment!==y.fragment)}function rP(p,y,g){return sP(p,y,y.segments,g)}function sP(p,y,g,v){if(p.segments.length>g.length){const b=p.segments.slice(0,g.length);return!(!bu(b,g)||y.hasChildren()||!Dm(b,g,v))}if(p.segments.length===g.length){if(!bu(p.segments,g)||!Dm(p.segments,g,v))return!1;for(const b in y.children)if(!p.children[b]||!rP(p.children[b],y.children[b],v))return!1;return!0}{const b=g.slice(0,p.segments.length),C=g.slice(p.segments.length);return!!(bu(p.segments,b)&&Dm(p.segments,b,v)&&p.children[rr])&&sP(p.children[rr],y,C,v)}}function Dm(p,y,g){return y.every((v,b)=>eP[g](p[b].parameters,v.parameters))}class td{constructor(y=new Ar([],{}),g={},v=null){this.root=y,this.queryParams=g,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ed(this.queryParams)),this._queryParamMap}toString(){return z7.serialize(this)}}class Ar{constructor(y,g){this.segments=y,this.children=g,this.parent=null,Object.values(g).forEach(v=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sm(this)}}class hp{constructor(y,g){this.path=y,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=ed(this.parameters)),this._parameterMap}toString(){return aP(this)}}function bu(p,y){return p.length===y.length&&p.every((g,v)=>g.path===y[v].path)}let nd=(()=>{class p{static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:()=>new HE,providedIn:"root"})}return p})();class HE{parse(y){const g=new r9(y);return new td(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(y){const g=`/${pp(y.root,!0)}`,v=function J7(p){const y=Object.keys(p).map(g=>{const v=p[g];return Array.isArray(v)?v.map(b=>`${wm(g)}=${wm(b)}`).join("&"):`${wm(g)}=${wm(v)}`}).filter(g=>!!g);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${g}${v}${"string"==typeof y.fragment?`#${function G7(p){return encodeURI(p)}(y.fragment)}`:""}`}}const z7=new HE;function Sm(p){return p.segments.map(y=>aP(y)).join("/")}function pp(p,y){if(!p.hasChildren())return Sm(p);if(y){const g=p.children[rr]?pp(p.children[rr],!1):"",v=[];return Object.entries(p.children).forEach(([b,C])=>{b!==rr&&v.push(`${b}:${pp(C,!1)}`)}),v.length>0?`${g}(${v.join("//")})`:g}{const g=function K7(p,y){let g=[];return Object.entries(p.children).forEach(([v,b])=>{v===rr&&(g=g.concat(y(b,v)))}),Object.entries(p.children).forEach(([v,b])=>{v!==rr&&(g=g.concat(y(b,v)))}),g}(p,(v,b)=>b===rr?[pp(p.children[rr],!1)]:[`${b}:${pp(v,!1)}`]);return 1===Object.keys(p.children).length&&null!=p.children[rr]?`${Sm(p)}/${g[0]}`:`${Sm(p)}/(${g.join("//")})`}}function oP(p){return encodeURIComponent(p).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wm(p){return oP(p).replace(/%3B/gi,";")}function JE(p){return oP(p).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tm(p){return decodeURIComponent(p)}function iP(p){return Tm(p.replace(/\+/g,"%20"))}function aP(p){return`${JE(p.path)}${function H7(p){return Object.keys(p).map(y=>`;${JE(y)}=${JE(p[y])}`).join("")}(p.parameters)}`}const Y7=/^[^\/()?;#]+/;function YE(p){const y=p.match(Y7);return y?y[0]:""}const Q7=/^[^\/()?;=#]+/,q7=/^[^=?&#]+/,t9=/^[^&#]+/;class r9{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ar([],{}):new Ar([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(y.length>0||Object.keys(g).length>0)&&(v[rr]=new Ar(y,g)),v}parseSegment(){const y=YE(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new en(4009,!1);return this.capture(y),new hp(Tm(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const g=function X7(p){const y=p.match(Q7);return y?y[0]:""}(this.remaining);if(!g)return;this.capture(g);let v="";if(this.consumeOptional("=")){const b=YE(this.remaining);b&&(v=b,this.capture(v))}y[Tm(g)]=Tm(v)}parseQueryParam(y){const g=function e9(p){const y=p.match(q7);return y?y[0]:""}(this.remaining);if(!g)return;this.capture(g);let v="";if(this.consumeOptional("=")){const D=function n9(p){const y=p.match(t9);return y?y[0]:""}(this.remaining);D&&(v=D,this.capture(v))}const b=iP(g),C=iP(v);if(y.hasOwnProperty(b)){let D=y[b];Array.isArray(D)||(D=[D],y[b]=D),D.push(C)}else y[b]=C}parseParens(y){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=YE(this.remaining),b=this.remaining[v.length];if("/"!==b&&")"!==b&&";"!==b)throw new en(4010,!1);let C;v.indexOf(":")>-1?(C=v.slice(0,v.indexOf(":")),this.capture(C),this.capture(":")):y&&(C=rr);const D=this.parseChildren();g[C]=1===Object.keys(D).length?D[rr]:new Ar([],D),this.consumeOptional("//")}return g}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new en(4011,!1)}}function lP(p){return p.segments.length>0?new Ar([],{[rr]:p}):p}function uP(p){const y={};for(const v of Object.keys(p.children)){const C=uP(p.children[v]);if(v===rr&&0===C.segments.length&&C.hasChildren())for(const[D,R]of Object.entries(C.children))y[D]=R;else(C.segments.length>0||C.hasChildren())&&(y[v]=C)}return function s9(p){if(1===p.numberOfChildren&&p.children[rr]){const y=p.children[rr];return new Ar(p.segments.concat(y.segments),y.children)}return p}(new Ar(p.segments,y))}function Cu(p){return p instanceof td}function cP(p){let y;const b=lP(function g(C){const D={};for(const z of C.children){const he=g(z);D[z.outlet]=he}const R=new Ar(C.url,D);return C===p&&(y=R),R}(p.root));return y??b}function dP(p,y,g,v){let b=p;for(;b.parent;)b=b.parent;if(0===y.length)return QE(b,b,b,g,v);const C=function i9(p){if("string"==typeof p[0]&&1===p.length&&"/"===p[0])return new pP(!0,0,p);let y=0,g=!1;const v=p.reduce((b,C,D)=>{if("object"==typeof C&&null!=C){if(C.outlets){const R={};return Object.entries(C.outlets).forEach(([z,he])=>{R[z]="string"==typeof he?he.split("/"):he}),[...b,{outlets:R}]}if(C.segmentPath)return[...b,C.segmentPath]}return"string"!=typeof C?[...b,C]:0===D?(C.split("/").forEach((R,z)=>{0==z&&"."===R||(0==z&&""===R?g=!0:".."===R?y++:""!=R&&b.push(R))}),b):[...b,C]},[]);return new pP(g,y,v)}(y);if(C.toRoot())return QE(b,b,new Ar([],{}),g,v);const D=function a9(p,y,g){if(p.isAbsolute)return new Im(y,!0,0);if(!g)return new Im(y,!1,NaN);if(null===g.parent)return new Im(g,!0,0);const v=Om(p.commands[0])?0:1;return function l9(p,y,g){let v=p,b=y,C=g;for(;C>b;){if(C-=b,v=v.parent,!v)throw new en(4005,!1);b=v.segments.length}return new Im(v,!1,b-C)}(g,g.segments.length-1+v,p.numberOfDoubleDots)}(C,b,p),R=D.processChildren?mp(D.segmentGroup,D.index,C.commands):fP(D.segmentGroup,D.index,C.commands);return QE(b,D.segmentGroup,R,g,v)}function Om(p){return"object"==typeof p&&null!=p&&!p.outlets&&!p.segmentPath}function fp(p){return"object"==typeof p&&null!=p&&p.outlets}function QE(p,y,g,v,b){let D,C={};v&&Object.entries(v).forEach(([z,he])=>{C[z]=Array.isArray(he)?he.map(Ce=>`${Ce}`):`${he}`}),D=p===y?g:hP(p,y,g);const R=lP(uP(D));return new td(R,C,b)}function hP(p,y,g){const v={};return Object.entries(p.children).forEach(([b,C])=>{v[b]=C===y?g:hP(C,y,g)}),new Ar(p.segments,v)}class pP{constructor(y,g,v){if(this.isAbsolute=y,this.numberOfDoubleDots=g,this.commands=v,y&&v.length>0&&Om(v[0]))throw new en(4003,!1);const b=v.find(fp);if(b&&b!==qI(v))throw new en(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Im{constructor(y,g,v){this.segmentGroup=y,this.processChildren=g,this.index=v}}function fP(p,y,g){if(p||(p=new Ar([],{})),0===p.segments.length&&p.hasChildren())return mp(p,y,g);const v=function c9(p,y,g){let v=0,b=y;const C={match:!1,pathIndex:0,commandIndex:0};for(;b<p.segments.length;){if(v>=g.length)return C;const D=p.segments[b],R=g[v];if(fp(R))break;const z=`${R}`,he=v<g.length-1?g[v+1]:null;if(b>0&&void 0===z)break;if(z&&he&&"object"==typeof he&&void 0===he.outlets){if(!yP(z,he,D))return C;v+=2}else{if(!yP(z,{},D))return C;v++}b++}return{match:!0,pathIndex:b,commandIndex:v}}(p,y,g),b=g.slice(v.commandIndex);if(v.match&&v.pathIndex<p.segments.length){const C=new Ar(p.segments.slice(0,v.pathIndex),{});return C.children[rr]=new Ar(p.segments.slice(v.pathIndex),p.children),mp(C,0,b)}return v.match&&0===b.length?new Ar(p.segments,{}):v.match&&!p.hasChildren()?XE(p,y,g):v.match?mp(p,0,b):XE(p,y,g)}function mp(p,y,g){if(0===g.length)return new Ar(p.segments,{});{const v=function u9(p){return fp(p[0])?p[0].outlets:{[rr]:p}}(g),b={};if(Object.keys(v).some(C=>C!==rr)&&p.children[rr]&&1===p.numberOfChildren&&0===p.children[rr].segments.length){const C=mp(p.children[rr],y,g);return new Ar(p.segments,C.children)}return Object.entries(v).forEach(([C,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(b[C]=fP(p.children[C],y,D))}),Object.entries(p.children).forEach(([C,D])=>{void 0===v[C]&&(b[C]=D)}),new Ar(p.segments,b)}}function XE(p,y,g){const v=p.segments.slice(0,y);let b=0;for(;b<g.length;){const C=g[b];if(fp(C)){const z=d9(C.outlets);return new Ar(v,z)}if(0===b&&Om(g[0])){v.push(new hp(p.segments[y].path,mP(g[0]))),b++;continue}const D=fp(C)?C.outlets[rr]:`${C}`,R=b<g.length-1?g[b+1]:null;D&&R&&Om(R)?(v.push(new hp(D,mP(R))),b+=2):(v.push(new hp(D,{})),b++)}return new Ar(v,{})}function d9(p){const y={};return Object.entries(p).forEach(([g,v])=>{"string"==typeof v&&(v=[v]),null!==v&&(y[g]=XE(new Ar([],{}),0,v))}),y}function mP(p){const y={};return Object.entries(p).forEach(([g,v])=>y[g]=`${v}`),y}function yP(p,y,g){return p==g.path&&sa(y,g.parameters)}const yp="imperative";class oa{constructor(y,g){this.id=y,this.url=g}}class qE extends oa{constructor(y,g,v="imperative",b=null){super(y,g),this.type=0,this.navigationTrigger=v,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mu extends oa{constructor(y,g,v){super(y,g),this.urlAfterRedirects=v,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rd extends oa{constructor(y,g,v,b){super(y,g),this.reason=v,this.code=b,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gp extends oa{constructor(y,g,v,b){super(y,g),this.reason=v,this.code=b,this.type=16}}class Pm extends oa{constructor(y,g,v,b){super(y,g),this.error=v,this.target=b,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gP extends oa{constructor(y,g,v,b){super(y,g),this.urlAfterRedirects=v,this.state=b,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h9 extends oa{constructor(y,g,v,b){super(y,g),this.urlAfterRedirects=v,this.state=b,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p9 extends oa{constructor(y,g,v,b,C){super(y,g),this.urlAfterRedirects=v,this.state=b,this.shouldActivate=C,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class f9 extends oa{constructor(y,g,v,b){super(y,g),this.urlAfterRedirects=v,this.state=b,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m9 extends oa{constructor(y,g,v,b){super(y,g),this.urlAfterRedirects=v,this.state=b,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y9{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class g9{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class v9{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _9{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E9{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b9{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e1{}class t1{constructor(y){this.url=y}}class C9{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vp,this.attachRef=null}}let vp=(()=>{class p{constructor(){this.contexts=new Map}onChildOutletCreated(g,v){const b=this.getOrCreateContext(g);b.outlet=v,this.contexts.set(g,b)}onChildOutletDestroyed(g){const v=this.getContext(g);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let v=this.getContext(g);return v||(v=new C9,this.contexts.set(g,v)),v}getContext(g){return this.contexts.get(g)||null}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();class vP{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const g=this.pathFromRoot(y);return g.length>1?g[g.length-2]:null}children(y){const g=n1(y,this._root);return g?g.children.map(v=>v.value):[]}firstChild(y){const g=n1(y,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(y){const g=r1(y,this._root);return g.length<2?[]:g[g.length-2].children.map(b=>b.value).filter(b=>b!==y)}pathFromRoot(y){return r1(y,this._root).map(g=>g.value)}}function n1(p,y){if(p===y.value)return y;for(const g of y.children){const v=n1(p,g);if(v)return v}return null}function r1(p,y){if(p===y.value)return[y];for(const g of y.children){const v=r1(p,g);if(v.length)return v.unshift(y),v}return[]}class Li{constructor(y,g){this.value=y,this.children=g}toString(){return`TreeNode(${this.value})`}}function sd(p){const y={};return p&&p.children.forEach(g=>y[g.value.outlet]=g),y}class _P extends vP{constructor(y,g){super(y),this.snapshot=g,i1(this,y)}toString(){return this.snapshot.toString()}}function EP(p,y){const g=function M9(p,y){const D=new o1([],{},{},"",{},rr,y,null,{});return new bP("",new Li(D,[]))}(0,y),v=new ke([new hp("",{})]),b=new ke({}),C=new ke({}),D=new ke({}),R=new ke(""),z=new od(v,b,D,R,C,rr,y,g.root);return z.snapshot=g.root,new _P(new Li(z,[]),g)}class od{constructor(y,g,v,b,C,D,R,z){this.urlSubject=y,this.paramsSubject=g,this.queryParamsSubject=v,this.fragmentSubject=b,this.dataSubject=C,this.outlet=D,this.component=R,this._futureSnapshot=z,this.title=this.dataSubject?.pipe(Xt(he=>he[dp]))??tt(void 0),this.url=y,this.params=g,this.queryParams=v,this.fragment=b,this.data=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Xt(y=>ed(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Xt(y=>ed(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function s1(p,y,g="emptyOnly"){let v;const{routeConfig:b}=p;return v=null===y||"always"!==g&&""!==b?.path&&(y.component||y.routeConfig?.loadComponent)?{params:p.params,data:p.data,resolve:{...p.data,...p._resolvedData??{}}}:{params:{...y.params,...p.params},data:{...y.data,...p.data},resolve:{...p.data,...y.data,...b?.data,...p._resolvedData}},b&&MP(b)&&(v.resolve[dp]=b.title),v}class o1{get title(){return this.data?.[dp]}constructor(y,g,v,b,C,D,R,z,he){this.url=y,this.params=g,this.queryParams=v,this.fragment=b,this.data=C,this.outlet=D,this.component=R,this.routeConfig=z,this._resolve=he}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ed(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ed(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bP extends vP{constructor(y,g){super(g),this.url=y,i1(this,g)}toString(){return CP(this._root)}}function i1(p,y){y.value._routerState=p,y.children.forEach(g=>i1(p,g))}function CP(p){const y=p.children.length>0?` { ${p.children.map(CP).join(", ")} } `:"";return`${p.value}${y}`}function a1(p){if(p.snapshot){const y=p.snapshot,g=p._futureSnapshot;p.snapshot=g,sa(y.queryParams,g.queryParams)||p.queryParamsSubject.next(g.queryParams),y.fragment!==g.fragment&&p.fragmentSubject.next(g.fragment),sa(y.params,g.params)||p.paramsSubject.next(g.params),function W7(p,y){if(p.length!==y.length)return!1;for(let g=0;g<p.length;++g)if(!sa(p[g],y[g]))return!1;return!0}(y.url,g.url)||p.urlSubject.next(g.url),sa(y.data,g.data)||p.dataSubject.next(g.data)}else p.snapshot=p._futureSnapshot,p.dataSubject.next(p._futureSnapshot.data)}function l1(p,y){const g=sa(p.params,y.params)&&function k7(p,y){return bu(p,y)&&p.every((g,v)=>sa(g.parameters,y[v].parameters))}(p.url,y.url);return g&&!(!p.parent!=!y.parent)&&(!p.parent||l1(p.parent,y.parent))}function MP(p){return"string"==typeof p.title||null===p.title}let DP=(()=>{class p{constructor(){this.activated=null,this._activatedRoute=null,this.name=rr,this.activateEvents=new fo,this.deactivateEvents=new fo,this.attachEvents=new fo,this.detachEvents=new fo,this.parentContexts=fn(vp),this.location=fn(Pi),this.changeDetector=fn(D0),this.environmentInjector=fn(Ti),this.inputBinder=fn(Am,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(g){if(g.name){const{firstChange:v,previousValue:b}=g.name;if(v)return;this.isTrackedInParentContexts(b)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(b)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new en(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new en(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new en(4012,!1);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,v){this.activated=g,this._activatedRoute=v,this.location.insert(g.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,v){if(this.isActivated)throw new en(4013,!1);this._activatedRoute=g;const b=this.location,D=g.snapshot.component,R=this.parentContexts.getOrCreateContext(this.name).children,z=new D9(g,R,b.injector);this.activated=b.createComponent(D,{index:b.length,injector:z,environmentInjector:v??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275dir=Rs({type:p,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ou]})}return p})();class D9{constructor(y,g,v){this.route=y,this.childContexts=g,this.parent=v}get(y,g){return y===od?this.route:y===vp?this.childContexts:this.parent.get(y,g)}}const Am=new Dn("");function _p(p,y,g){if(g&&p.shouldReuseRoute(y.value,g.value.snapshot)){const v=g.value;v._futureSnapshot=y.value;const b=function w9(p,y,g){return y.children.map(v=>{for(const b of g.children)if(p.shouldReuseRoute(v.value,b.value.snapshot))return _p(p,v,b);return _p(p,v)})}(p,y,g);return new Li(v,b)}{if(p.shouldAttach(y.value)){const C=p.retrieve(y.value);if(null!==C){const D=C.route;return D.value._futureSnapshot=y.value,D.children=y.children.map(R=>_p(p,R)),D}}const v=function T9(p){return new od(new ke(p.url),new ke(p.params),new ke(p.queryParams),new ke(p.fragment),new ke(p.data),p.outlet,p.component,p)}(y.value),b=y.children.map(C=>_p(p,C));return new Li(v,b)}}const u1="ngNavigationCancelingError";function wP(p,y){const{redirectTo:g,navigationBehaviorOptions:v}=Cu(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,b=TP(!1,0,y);return b.url=g,b.navigationBehaviorOptions=v,b}function TP(p,y,g){const v=new Error("NavigationCancelingError: "+(p||""));return v[u1]=!0,v.cancellationCode=y,g&&(v.url=g),v}function OP(p){return p&&p[u1]}let IP=(()=>{class p{static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275cmp=rh({type:p,selectors:[["ng-component"]],standalone:!0,features:[V_],decls:1,vars:0,template:function(v,b){1&v&&W0(0,"router-outlet")},dependencies:[DP],encapsulation:2})}return p})();function c1(p){const y=p.children&&p.children.map(c1),g=y?{...p,children:y}:{...p};return!g.component&&!g.loadComponent&&(y||g.loadChildren)&&g.outlet&&g.outlet!==rr&&(g.component=IP),g}function ia(p){return p.outlet||rr}function Ep(p){if(!p)return null;if(p.routeConfig?._injector)return p.routeConfig._injector;for(let y=p.parent;y;y=y.parent){const g=y.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class j9{constructor(y,g,v,b,C){this.routeReuseStrategy=y,this.futureState=g,this.currState=v,this.forwardEvent=b,this.inputBindingEnabled=C}activate(y){const g=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,v,y),a1(this.futureState.root),this.activateChildRoutes(g,v,y)}deactivateChildRoutes(y,g,v){const b=sd(g);y.children.forEach(C=>{const D=C.value.outlet;this.deactivateRoutes(C,b[D],v),delete b[D]}),Object.values(b).forEach(C=>{this.deactivateRouteAndItsChildren(C,v)})}deactivateRoutes(y,g,v){const b=y.value,C=g?g.value:null;if(b===C)if(b.component){const D=v.getContext(b.outlet);D&&this.deactivateChildRoutes(y,g,D.children)}else this.deactivateChildRoutes(y,g,v);else C&&this.deactivateRouteAndItsChildren(g,v)}deactivateRouteAndItsChildren(y,g){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,g):this.deactivateRouteAndOutlet(y,g)}detachAndStoreRouteSubtree(y,g){const v=g.getContext(y.value.outlet),b=v&&y.value.component?v.children:g,C=sd(y);for(const D of Object.keys(C))this.deactivateRouteAndItsChildren(C[D],b);if(v&&v.outlet){const D=v.outlet.detach(),R=v.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:D,route:y,contexts:R})}}deactivateRouteAndOutlet(y,g){const v=g.getContext(y.value.outlet),b=v&&y.value.component?v.children:g,C=sd(y);for(const D of Object.keys(C))this.deactivateRouteAndItsChildren(C[D],b);v&&(v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated()),v.attachRef=null,v.route=null)}activateChildRoutes(y,g,v){const b=sd(g);y.children.forEach(C=>{this.activateRoutes(C,b[C.value.outlet],v),this.forwardEvent(new b9(C.value.snapshot))}),y.children.length&&this.forwardEvent(new _9(y.value.snapshot))}activateRoutes(y,g,v){const b=y.value,C=g?g.value:null;if(a1(b),b===C)if(b.component){const D=v.getOrCreateContext(b.outlet);this.activateChildRoutes(y,g,D.children)}else this.activateChildRoutes(y,g,v);else if(b.component){const D=v.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const R=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),D.children.onOutletReAttached(R.contexts),D.attachRef=R.componentRef,D.route=R.route.value,D.outlet&&D.outlet.attach(R.componentRef,R.route.value),a1(R.route.value),this.activateChildRoutes(y,null,D.children)}else{const R=Ep(b.snapshot);D.attachRef=null,D.route=b,D.injector=R,D.outlet&&D.outlet.activateWith(b,D.injector),this.activateChildRoutes(y,null,D.children)}}else this.activateChildRoutes(y,null,v)}}class PP{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class xm{constructor(y,g){this.component=y,this.route=g}}function N9(p,y,g){const v=p._root;return bp(v,y?y._root:null,g,[v.value])}function id(p,y){const g=Symbol(),v=y.get(p,g);return v===g?"function"!=typeof p||function mf(p){return null!==el(p)}(p)?y.get(p):p:v}function bp(p,y,g,v,b={canDeactivateChecks:[],canActivateChecks:[]}){const C=sd(y);return p.children.forEach(D=>{(function B9(p,y,g,v,b={canDeactivateChecks:[],canActivateChecks:[]}){const C=p.value,D=y?y.value:null,R=g?g.getContext(p.value.outlet):null;if(D&&C.routeConfig===D.routeConfig){const z=function F9(p,y,g){if("function"==typeof g)return g(p,y);switch(g){case"pathParamsChange":return!bu(p.url,y.url);case"pathParamsOrQueryParamsChange":return!bu(p.url,y.url)||!sa(p.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l1(p,y)||!sa(p.queryParams,y.queryParams);default:return!l1(p,y)}}(D,C,C.routeConfig.runGuardsAndResolvers);z?b.canActivateChecks.push(new PP(v)):(C.data=D.data,C._resolvedData=D._resolvedData),bp(p,y,C.component?R?R.children:null:g,v,b),z&&R&&R.outlet&&R.outlet.isActivated&&b.canDeactivateChecks.push(new xm(R.outlet.component,D))}else D&&Cp(y,R,b),b.canActivateChecks.push(new PP(v)),bp(p,null,C.component?R?R.children:null:g,v,b)})(D,C[D.value.outlet],g,v.concat([D.value]),b),delete C[D.value.outlet]}),Object.entries(C).forEach(([D,R])=>Cp(R,g.getContext(D),b)),b}function Cp(p,y,g){const v=sd(p),b=p.value;Object.entries(v).forEach(([C,D])=>{Cp(D,b.component?y?y.children.getContext(C):null:y,g)}),g.canDeactivateChecks.push(new xm(b.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,b))}function Mp(p){return"function"==typeof p}function AP(p){return p instanceof Em||"EmptyError"===p?.name}const Rm=Symbol("INITIAL_VALUE");function ad(){return vt(p=>GI(p.map(y=>y.pipe(Xc(1),function A7(...p){const y=jr(p);return On((g,v)=>{(y?ZE(p,g,y):ZE(p,g)).subscribe(v)})}(Rm)))).pipe(Xt(y=>{for(const g of y)if(!0!==g){if(g===Rm)return Rm;if(!1===g||g instanceof td)return g}return!0}),_u(y=>y!==Rm),Xc(1)))}function xP(p){return function Ct(...p){return Dt(p)}(ro(y=>{if(Cu(y))throw wP(0,y)}),Xt(y=>!0===y))}class d1{constructor(y){this.segmentGroup=y||null}}class h1 extends Error{constructor(y){super(),this.urlTree=y}}function ld(p){return bm(new d1(p))}class oW{constructor(y,g){this.urlSerializer=y,this.urlTree=g}lineralizeSegments(y,g){let v=[],b=g.root;for(;;){if(v=v.concat(b.segments),0===b.numberOfChildren)return tt(v);if(b.numberOfChildren>1||!b.children[rr])return bm(new en(4e3,!1));b=b.children[rr]}}applyRedirectCommands(y,g,v){const b=this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),y,v);if(g.startsWith("/"))throw new h1(b);return b}applyRedirectCreateUrlTree(y,g,v,b){const C=this.createSegmentGroup(y,g.root,v,b);return new td(C,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(y,g){const v={};return Object.entries(y).forEach(([b,C])=>{if("string"==typeof C&&C.startsWith(":")){const R=C.substring(1);v[b]=g[R]}else v[b]=C}),v}createSegmentGroup(y,g,v,b){const C=this.createSegments(y,g.segments,v,b);let D={};return Object.entries(g.children).forEach(([R,z])=>{D[R]=this.createSegmentGroup(y,z,v,b)}),new Ar(C,D)}createSegments(y,g,v,b){return g.map(C=>C.path.startsWith(":")?this.findPosParam(y,C,b):this.findOrReturn(C,v))}findPosParam(y,g,v){const b=v[g.path.substring(1)];if(!b)throw new en(4001,!1);return b}findOrReturn(y,g){let v=0;for(const b of g){if(b.path===y.path)return g.splice(v),b;v++}return y}}const p1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iW(p,y,g,v,b){const C=f1(p,y,g);return C.matched?(v=function I9(p,y){return p.providers&&!p._injector&&(p._injector=kT(p.providers,y,`Route: ${p.path}`)),p._injector??y}(y,v),function nW(p,y,g,v){const b=y.canMatch;return b&&0!==b.length?tt(b.map(D=>{const R=id(D,p);return Cl(function K9(p){return p&&Mp(p.canMatch)}(R)?R.canMatch(y,g):yc(p,()=>R(y,g)))})).pipe(ad(),xP()):tt(!0)}(v,y,g).pipe(Xt(D=>!0===D?C:{...p1}))):tt(C)}function f1(p,y,g){if("**"===y.path)return function aW(p){return{matched:!0,parameters:p.length>0?qI(p).parameters:{},consumedSegments:p,remainingSegments:[],positionalParamSegments:{}}}(g);if(""===y.path)return"full"===y.pathMatch&&(p.hasChildren()||g.length>0)?{...p1}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const b=(y.matcher||F7)(g,p,y);if(!b)return{...p1};const C={};Object.entries(b.posParams??{}).forEach(([R,z])=>{C[R]=z.path});const D=b.consumed.length>0?{...C,...b.consumed[b.consumed.length-1].parameters}:C;return{matched:!0,consumedSegments:b.consumed,remainingSegments:g.slice(b.consumed.length),parameters:D,positionalParamSegments:b.posParams??{}}}function RP(p,y,g,v){return g.length>0&&function cW(p,y,g){return g.some(v=>Lm(p,y,v)&&ia(v)!==rr)}(p,g,v)?{segmentGroup:new Ar(y,uW(v,new Ar(g,p.children))),slicedSegments:[]}:0===g.length&&function dW(p,y,g){return g.some(v=>Lm(p,y,v))}(p,g,v)?{segmentGroup:new Ar(p.segments,lW(p,0,g,v,p.children)),slicedSegments:g}:{segmentGroup:new Ar(p.segments,p.children),slicedSegments:g}}function lW(p,y,g,v,b){const C={};for(const D of v)if(Lm(p,g,D)&&!b[ia(D)]){const R=new Ar([],{});C[ia(D)]=R}return{...b,...C}}function uW(p,y){const g={};g[rr]=y;for(const v of p)if(""===v.path&&ia(v)!==rr){const b=new Ar([],{});g[ia(v)]=b}return g}function Lm(p,y,g){return(!(p.hasChildren()||y.length>0)||"full"!==g.pathMatch)&&""===g.path}class fW{}class gW{constructor(y,g,v,b,C,D,R){this.injector=y,this.configLoader=g,this.rootComponentType=v,this.config=b,this.urlTree=C,this.paramsInheritanceStrategy=D,this.urlSerializer=R,this.applyRedirects=new oW(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(y){return new en(4002,`'${y.segmentGroup}'`)}recognize(){const y=RP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(y).pipe(Xt(g=>{const v=new o1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rr,this.rootComponentType,null,{}),b=new Li(v,g),C=new bP("",b),D=function o9(p,y,g=null,v=null){return dP(cP(p),y,g,v)}(v,[],this.urlTree.queryParams,this.urlTree.fragment);return D.queryParams=this.urlTree.queryParams,C.url=this.urlSerializer.serialize(D),this.inheritParamsAndData(C._root,null),{state:C,tree:D}}))}match(y){return this.processSegmentGroup(this.injector,this.config,y,rr).pipe(qc(v=>{if(v instanceof h1)return this.urlTree=v.urlTree,this.match(v.urlTree.root);throw v instanceof d1?this.noMatchError(v):v}))}inheritParamsAndData(y,g){const v=y.value,b=s1(v,g,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data),y.children.forEach(C=>this.inheritParamsAndData(C,v))}processSegmentGroup(y,g,v,b){return 0===v.segments.length&&v.hasChildren()?this.processChildren(y,g,v):this.processSegment(y,g,v,v.segments,b,!0).pipe(Xt(C=>C instanceof Li?[C]:[]))}processChildren(y,g,v){const b=[];for(const C of Object.keys(v.children))"primary"===C?b.unshift(C):b.push(C);return _s(b).pipe(Mm(C=>{const D=v.children[C],R=function R9(p,y){const g=p.filter(v=>ia(v)===y);return g.push(...p.filter(v=>ia(v)!==y)),g}(g,C);return this.processSegmentGroup(y,R,D,C)}),function L7(p,y){return On(function R7(p,y,g,v,b){return(C,D)=>{let R=g,z=y,he=0;C.subscribe(zn(D,Ce=>{const Ie=he++;z=R?p(z,Ce,Ie):(R=!0,Ce),v&&D.next(z)},b&&(()=>{R&&D.next(z),D.complete()})))}}(p,y,arguments.length>=2,!0))}((C,D)=>(C.push(...D),C)),Cm(null),function j7(p,y){const g=arguments.length>=2;return v=>v.pipe(p?_u((b,C)=>p(b,C,v)):dt,KE(1),g?Cm(y):QI(()=>new Em))}(),Un(C=>{if(null===C)return ld(v);const D=LP(C);return function vW(p){p.sort((y,g)=>y.value.outlet===rr?-1:g.value.outlet===rr?1:y.value.outlet.localeCompare(g.value.outlet))}(D),tt(D)}))}processSegment(y,g,v,b,C,D){return _s(g).pipe(Mm(R=>this.processSegmentAgainstRoute(R._injector??y,g,R,v,b,C,D).pipe(qc(z=>{if(z instanceof d1)return tt(null);throw z}))),Eu(R=>!!R),qc(R=>{if(AP(R))return function pW(p,y,g){return 0===y.length&&!p.children[g]}(v,b,C)?tt(new fW):ld(v);throw R}))}processSegmentAgainstRoute(y,g,v,b,C,D,R){return function hW(p,y,g,v){return!!(ia(p)===v||v!==rr&&Lm(y,g,p))&&f1(y,p,g).matched}(v,b,C,D)?void 0===v.redirectTo?this.matchSegmentAgainstRoute(y,b,v,C,D):this.allowRedirects&&R?this.expandSegmentAgainstRouteUsingRedirect(y,b,g,v,C,D):ld(b):ld(b)}expandSegmentAgainstRouteUsingRedirect(y,g,v,b,C,D){const{matched:R,consumedSegments:z,positionalParamSegments:he,remainingSegments:Ce}=f1(g,b,C);if(!R)return ld(g);b.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ie=this.applyRedirects.applyRedirectCommands(z,b.redirectTo,he);return this.applyRedirects.lineralizeSegments(b,Ie).pipe(Un(Ke=>this.processSegment(y,v,g,Ke.concat(Ce),D,!1)))}matchSegmentAgainstRoute(y,g,v,b,C){const D=iW(g,v,b,y);return"**"===v.path&&(g.children={}),D.pipe(vt(R=>R.matched?this.getChildConfig(y=v._injector??y,v,b).pipe(vt(({routes:z})=>{const he=v._loadedInjector??y,{consumedSegments:Ce,remainingSegments:Ie,parameters:Ke}=R,rt=new o1(Ce,Ke,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function EW(p){return p.data||{}}(v),ia(v),v.component??v._loadedComponent??null,v,function bW(p){return p.resolve||{}}(v)),{segmentGroup:pt,slicedSegments:Mt}=RP(g,Ce,Ie,z);if(0===Mt.length&&pt.hasChildren())return this.processChildren(he,z,pt).pipe(Xt(zt=>null===zt?null:new Li(rt,zt)));if(0===z.length&&0===Mt.length)return tt(new Li(rt,[]));const Ft=ia(v)===C;return this.processSegment(he,z,pt,Mt,Ft?rr:C,!0).pipe(Xt(zt=>new Li(rt,zt instanceof Li?[zt]:[])))})):ld(g)))}getChildConfig(y,g,v){return g.children?tt({routes:g.children,injector:y}):g.loadChildren?void 0!==g._loadedRoutes?tt({routes:g._loadedRoutes,injector:g._loadedInjector}):function tW(p,y,g,v){const b=y.canLoad;return void 0===b||0===b.length?tt(!0):tt(b.map(D=>{const R=id(D,p);return Cl(function V9(p){return p&&Mp(p.canLoad)}(R)?R.canLoad(y,g):yc(p,()=>R(y,g)))})).pipe(ad(),xP())}(y,g,v).pipe(Un(b=>b?this.configLoader.loadChildren(y,g).pipe(ro(C=>{g._loadedRoutes=C.routes,g._loadedInjector=C.injector})):function sW(p){return bm(TP(!1,3))}())):tt({routes:[],injector:y})}}function _W(p){const y=p.value.routeConfig;return y&&""===y.path}function LP(p){const y=[],g=new Set;for(const v of p){if(!_W(v)){y.push(v);continue}const b=y.find(C=>v.value.routeConfig===C.value.routeConfig);void 0!==b?(b.children.push(...v.children),g.add(b)):y.push(v)}for(const v of g){const b=LP(v.children);y.push(new Li(v.value,b))}return y.filter(v=>!g.has(v))}function jP(p){const y=p.children.map(g=>jP(g)).flat();return[p,...y]}function m1(p){return vt(y=>{const g=p(y);return g?_s(g).pipe(Xt(()=>y)):tt(y)})}let NP=(()=>{class p{buildTitle(g){let v,b=g.root;for(;void 0!==b;)v=this.getResolvedTitleForRoute(b)??v,b=b.children.find(C=>C.outlet===rr);return v}getResolvedTitleForRoute(g){return g.data[dp]}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:()=>fn(TW),providedIn:"root"})}return p})(),TW=(()=>{class p extends NP{constructor(g){super(),this.title=g}updateTitle(g){const v=this.buildTitle(g);void 0!==v&&this.title.setTitle(v)}static#e=this.\u0275fac=function(v){return new(v||p)(Xn(ZI))};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Dp=new Dn("",{providedIn:"root",factory:()=>({})}),jm=new Dn("ROUTES");let UP=(()=>{class p{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fn(P8)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return tt(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const v=Cl(g.loadComponent()).pipe(Xt(BP),ro(C=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=C}),zE(()=>{this.componentLoaders.delete(g)})),b=new YI(v,()=>new yn).pipe(kE());return this.componentLoaders.set(g,b),b}loadChildren(g,v){if(this.childrenLoaders.get(v))return this.childrenLoaders.get(v);if(v._loadedRoutes)return tt({routes:v._loadedRoutes,injector:v._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(v);const C=function OW(p,y,g,v){return Cl(p.loadChildren()).pipe(Xt(BP),Un(b=>b instanceof $T||Array.isArray(b)?tt(b):_s(y.compileModuleAsync(b))),Xt(b=>{v&&v(p);let C,D,R=!1;return Array.isArray(b)?(D=b,!0):(C=b.create(g).injector,D=C.get(jm,[],{optional:!0,self:!0}).flat()),{routes:D.map(c1),injector:C}}))}(v,this.compiler,g,this.onLoadEndListener).pipe(zE(()=>{this.childrenLoaders.delete(v)})),D=new YI(C,()=>new yn).pipe(kE());return this.childrenLoaders.set(v,D),D}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function BP(p){return function IW(p){return p&&"object"==typeof p&&"default"in p}(p)?p.default:p}let y1=(()=>{class p{static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:()=>fn(PW),providedIn:"root"})}return p})(),PW=(()=>{class p{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,v){return g}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const FP=new Dn("");let Nm=(()=>{class p{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yn,this.transitionAbortSubject=new yn,this.configLoader=fn(UP),this.environmentInjector=fn(Ti),this.urlSerializer=fn(nd),this.rootContexts=fn(vp),this.location=fn(ip),this.inputBindingEnabled=null!==fn(Am,{optional:!0}),this.titleStrategy=fn(NP),this.options=fn(Dp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=fn(y1),this.createViewTransition=fn(FP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=b=>this.events.next(new g9(b)),this.configLoader.onLoadStartListener=b=>this.events.next(new y9(b))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const v=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:v})}setupNavigations(g,v,b){return this.transitions=new ke({id:0,currentUrlTree:v,currentRawUrl:v,extractedUrl:this.urlHandlingStrategy.extract(v),urlAfterRedirects:this.urlHandlingStrategy.extract(v),rawUrl:v,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yp,restoredState:null,currentSnapshot:b.snapshot,targetSnapshot:null,currentRouterState:b,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_u(C=>0!==C.id),Xt(C=>({...C,extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl)})),vt(C=>{this.currentTransition=C;let D=!1,R=!1;return tt(C).pipe(ro(z=>{this.currentNavigation={id:z.id,initialUrl:z.rawUrl,extractedUrl:z.extractedUrl,trigger:z.source,extras:z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vt(z=>{const he=!g.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!he&&"reload"!==(z.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const Ie="";return this.events.next(new gp(z.id,this.urlSerializer.serialize(z.rawUrl),Ie,0)),z.resolve(null),Qn}if(this.urlHandlingStrategy.shouldProcessUrl(z.rawUrl))return tt(z).pipe(vt(Ie=>{const Ke=this.transitions?.getValue();return this.events.next(new qE(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),Ie.source,Ie.restoredState)),Ke!==this.transitions?.getValue()?Qn:Promise.resolve(Ie)}),function CW(p,y,g,v,b,C){return Un(D=>function mW(p,y,g,v,b,C,D="emptyOnly"){return new gW(p,y,g,v,b,D,C).recognize()}(p,y,g,v,D.extractedUrl,b,C).pipe(Xt(({state:R,tree:z})=>({...D,targetSnapshot:R,urlAfterRedirects:z}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,g.config,this.urlSerializer,this.paramsInheritanceStrategy),ro(Ie=>{C.targetSnapshot=Ie.targetSnapshot,C.urlAfterRedirects=Ie.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ie.urlAfterRedirects};const Ke=new gP(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(Ke)}));if(he&&this.urlHandlingStrategy.shouldProcessUrl(z.currentRawUrl)){const{id:Ie,extractedUrl:Ke,source:rt,restoredState:pt,extras:Mt}=z,Ft=new qE(Ie,this.urlSerializer.serialize(Ke),rt,pt);this.events.next(Ft);const zt=EP(0,this.rootComponentType).snapshot;return this.currentTransition=C={...z,targetSnapshot:zt,urlAfterRedirects:Ke,extras:{...Mt,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ke,tt(C)}{const Ie="";return this.events.next(new gp(z.id,this.urlSerializer.serialize(z.extractedUrl),Ie,1)),z.resolve(null),Qn}}),ro(z=>{const he=new h9(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(he)}),Xt(z=>(this.currentTransition=C={...z,guards:N9(z.targetSnapshot,z.currentSnapshot,this.rootContexts)},C)),function G9(p,y){return Un(g=>{const{targetSnapshot:v,currentSnapshot:b,guards:{canActivateChecks:C,canDeactivateChecks:D}}=g;return 0===D.length&&0===C.length?tt({...g,guardsResult:!0}):function H9(p,y,g,v){return _s(p).pipe(Un(b=>function eW(p,y,g,v,b){const C=y&&y.routeConfig?y.routeConfig.canDeactivate:null;return C&&0!==C.length?tt(C.map(R=>{const z=Ep(y)??b,he=id(R,z);return Cl(function k9(p){return p&&Mp(p.canDeactivate)}(he)?he.canDeactivate(p,y,g,v):yc(z,()=>he(p,y,g,v))).pipe(Eu())})).pipe(ad()):tt(!0)}(b.component,b.route,g,y,v)),Eu(b=>!0!==b,!0))}(D,v,b,p).pipe(Un(R=>R&&function W9(p){return"boolean"==typeof p}(R)?function J9(p,y,g,v){return _s(y).pipe(Mm(b=>ZE(function Q9(p,y){return null!==p&&y&&y(new v9(p)),tt(!0)}(b.route.parent,v),function Y9(p,y){return null!==p&&y&&y(new E9(p)),tt(!0)}(b.route,v),function q9(p,y,g){const v=y[y.length-1],C=y.slice(0,y.length-1).reverse().map(D=>function U9(p){const y=p.routeConfig?p.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:p,guards:y}:null}(D)).filter(D=>null!==D).map(D=>JI(()=>tt(D.guards.map(z=>{const he=Ep(D.node)??g,Ce=id(z,he);return Cl(function Z9(p){return p&&Mp(p.canActivateChild)}(Ce)?Ce.canActivateChild(v,p):yc(he,()=>Ce(v,p))).pipe(Eu())})).pipe(ad())));return tt(C).pipe(ad())}(p,b.path,g),function X9(p,y,g){const v=y.routeConfig?y.routeConfig.canActivate:null;if(!v||0===v.length)return tt(!0);const b=v.map(C=>JI(()=>{const D=Ep(y)??g,R=id(C,D);return Cl(function $9(p){return p&&Mp(p.canActivate)}(R)?R.canActivate(y,p):yc(D,()=>R(y,p))).pipe(Eu())}));return tt(b).pipe(ad())}(p,b.route,g))),Eu(b=>!0!==b,!0))}(v,C,p,y):tt(R)),Xt(R=>({...g,guardsResult:R})))})}(this.environmentInjector,z=>this.events.next(z)),ro(z=>{if(C.guardsResult=z.guardsResult,Cu(z.guardsResult))throw wP(0,z.guardsResult);const he=new p9(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot,!!z.guardsResult);this.events.next(he)}),_u(z=>!!z.guardsResult||(this.cancelNavigationTransition(z,"",3),!1)),m1(z=>{if(z.guards.canActivateChecks.length)return tt(z).pipe(ro(he=>{const Ce=new f9(he.id,this.urlSerializer.serialize(he.extractedUrl),this.urlSerializer.serialize(he.urlAfterRedirects),he.targetSnapshot);this.events.next(Ce)}),vt(he=>{let Ce=!1;return tt(he).pipe(function MW(p,y){return Un(g=>{const{targetSnapshot:v,guards:{canActivateChecks:b}}=g;if(!b.length)return tt(g);const C=new Set(b.map(z=>z.route)),D=new Set;for(const z of C)if(!D.has(z))for(const he of jP(z))D.add(he);let R=0;return _s(D).pipe(Mm(z=>C.has(z)?function DW(p,y,g,v){const b=p.routeConfig,C=p._resolve;return void 0!==b?.title&&!MP(b)&&(C[dp]=b.title),function SW(p,y,g,v){const b=GE(p);if(0===b.length)return tt({});const C={};return _s(b).pipe(Un(D=>function wW(p,y,g,v){const b=Ep(y)??v,C=id(p,b);return Cl(C.resolve?C.resolve(y,g):yc(b,()=>C(y,g)))}(p[D],y,g,v).pipe(Eu(),ro(R=>{C[D]=R}))),KE(1),function N7(p){return Xt(()=>p)}(C),qc(D=>AP(D)?Qn:bm(D)))}(C,p,y,v).pipe(Xt(D=>(p._resolvedData=D,p.data=s1(p,p.parent,g).resolve,null)))}(z,v,p,y):(z.data=s1(z,z.parent,p).resolve,tt(void 0))),ro(()=>R++),KE(1),Un(z=>R===D.size?tt(g):Qn))})}(this.paramsInheritanceStrategy,this.environmentInjector),ro({next:()=>Ce=!0,complete:()=>{Ce||this.cancelNavigationTransition(he,"",2)}}))}),ro(he=>{const Ce=new m9(he.id,this.urlSerializer.serialize(he.extractedUrl),this.urlSerializer.serialize(he.urlAfterRedirects),he.targetSnapshot);this.events.next(Ce)}))}),m1(z=>{const he=Ce=>{const Ie=[];Ce.routeConfig?.loadComponent&&!Ce.routeConfig._loadedComponent&&Ie.push(this.configLoader.loadComponent(Ce.routeConfig).pipe(ro(Ke=>{Ce.component=Ke}),Xt(()=>{})));for(const Ke of Ce.children)Ie.push(...he(Ke));return Ie};return GI(he(z.targetSnapshot.root)).pipe(Cm(),Xc(1))}),m1(()=>this.afterPreactivation()),vt(()=>{const{currentSnapshot:z,targetSnapshot:he}=C,Ce=this.createViewTransition?.(this.environmentInjector,z.root,he.root);return Ce?_s(Ce).pipe(Xt(()=>C)):tt(C)}),Xt(z=>{const he=function S9(p,y,g){const v=_p(p,y._root,g?g._root:void 0);return new _P(v,y)}(g.routeReuseStrategy,z.targetSnapshot,z.currentRouterState);return this.currentTransition=C={...z,targetRouterState:he},this.currentNavigation.targetRouterState=he,C}),ro(()=>{this.events.next(new e1)}),((p,y,g,v)=>Xt(b=>(new j9(y,b.targetRouterState,b.currentRouterState,g,v).activate(p),b)))(this.rootContexts,g.routeReuseStrategy,z=>this.events.next(z),this.inputBindingEnabled),Xc(1),ro({next:z=>{D=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mu(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects))),this.titleStrategy?.updateTitle(z.targetRouterState.snapshot),z.resolve(!0)},complete:()=>{D=!0}}),function U7(p){return On((y,g)=>{Or(p).subscribe(zn(g,()=>g.complete(),Ne)),!g.closed&&y.subscribe(g)})}(this.transitionAbortSubject.pipe(ro(z=>{throw z}))),zE(()=>{D||R||this.cancelNavigationTransition(C,"",1),this.currentNavigation?.id===C.id&&(this.currentNavigation=null)}),qc(z=>{if(R=!0,OP(z))this.events.next(new rd(C.id,this.urlSerializer.serialize(C.extractedUrl),z.message,z.cancellationCode)),function O9(p){return OP(p)&&Cu(p.url)}(z)?this.events.next(new t1(z.url)):C.resolve(!1);else{this.events.next(new Pm(C.id,this.urlSerializer.serialize(C.extractedUrl),z,C.targetSnapshot??void 0));try{C.resolve(g.errorHandler(z))}catch(he){C.reject(he)}}return Qn}))}))}cancelNavigationTransition(g,v,b){const C=new rd(g.id,this.urlSerializer.serialize(g.extractedUrl),v,b);this.events.next(C),g.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function RW(p){return p!==yp}let LW=(()=>{class p{static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:()=>fn(NW),providedIn:"root"})}return p})();class jW{shouldDetach(y){return!1}store(y,g){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,g){return y.routeConfig===g.routeConfig}}let NW=(()=>{class p extends jW{static#e=this.\u0275fac=(()=>{let g;return function(b){return(g||(g=Ng(p)))(b||p)}})();static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),VP=(()=>{class p{static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:()=>fn(UW),providedIn:"root"})}return p})(),UW=(()=>{class p extends VP{constructor(){super(...arguments),this.location=fn(ip),this.urlSerializer=fn(nd),this.options=fn(Dp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=fn(y1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new td,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=EP(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(g){return this.location.subscribe(v=>{"popstate"===v.type&&g(v.url,v.state)})}handleRouterEvent(g,v){if(g instanceof qE)this.stateMemento=this.createStateMemento();else if(g instanceof gp)this.rawUrlTree=v.initialUrl;else if(g instanceof gP){if("eager"===this.urlUpdateStrategy&&!v.extras.skipLocationChange){const b=this.urlHandlingStrategy.merge(v.finalUrl,v.initialUrl);this.setBrowserUrl(b,v)}}else g instanceof e1?(this.currentUrlTree=v.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(v.finalUrl,v.initialUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v))):g instanceof rd&&(3===g.code||2===g.code)?this.restoreHistory(v):g instanceof Pm?this.restoreHistory(v,!0):g instanceof Mu&&(this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId)}setBrowserUrl(g,v){const b=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(b)||v.extras.replaceUrl){const D={...v.extras.state,...this.generateNgRouterState(v.id,this.browserPageId)};this.location.replaceState(b,"",D)}else{const C={...v.extras.state,...this.generateNgRouterState(v.id,this.browserPageId+1)};this.location.go(b,"",C)}}restoreHistory(g,v=!1){if("computed"===this.canceledNavigationResolution){const C=this.currentPageId-this.browserPageId;0!==C?this.location.historyGo(C):this.currentUrlTree===g.finalUrl&&0===C&&(this.resetState(g),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,v){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:v}:{navigationId:g}}static#e=this.\u0275fac=(()=>{let g;return function(b){return(g||(g=Ng(p)))(b||p)}})();static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var Sp=function(p){return p[p.COMPLETE=0]="COMPLETE",p[p.FAILED=1]="FAILED",p[p.REDIRECTING=2]="REDIRECTING",p}(Sp||{});function BW(p){throw p}const FW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ja=(()=>{class p{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=fn(SO),this.stateManager=fn(VP),this.options=fn(Dp,{optional:!0})||{},this.pendingTasks=fn(wO),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=fn(Nm),this.urlSerializer=fn(nd),this.location=fn(ip),this.urlHandlingStrategy=fn(y1),this._events=new yn,this.errorHandler=this.options.errorHandler||BW,this.navigated=!1,this.routeReuseStrategy=fn(LW),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=fn(jm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!fn(Am,{optional:!0}),this.eventsSubscription=new J,this.isNgZoneEnabled=fn(Ur)instanceof Ur&&Ur.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:g=>{this.console.warn(g)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const g=this.navigationTransitions.events.subscribe(v=>{try{const b=this.navigationTransitions.currentTransition,C=this.navigationTransitions.currentNavigation;if(null!==b&&null!==C)if(this.stateManager.handleRouterEvent(v,C),v instanceof rd&&0!==v.code&&1!==v.code)this.navigated=!0;else if(v instanceof Mu)this.navigated=!0;else if(v instanceof t1){const D=this.urlHandlingStrategy.merge(v.url,b.currentRawUrl),R={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||RW(b.source)};this.scheduleNavigation(D,yp,null,R,{resolve:b.resolve,reject:b.reject,promise:b.promise})}(function $W(p){return!(p instanceof e1||p instanceof t1)})(v)&&this._events.next(v)}catch(b){this.navigationTransitions.transitionAbortSubject.next(b)}});this.eventsSubscription.add(g)}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((g,v)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(g,"popstate",v)},0)}))}navigateToSyncWithBrowser(g,v,b){const C={replaceUrl:!0},D=b?.navigationId?b:null;if(b){const z={...b};delete z.navigationId,delete z.\u0275routerPageId,0!==Object.keys(z).length&&(C.state=z)}const R=this.parseUrl(g);this.scheduleNavigation(R,v,D,C)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(g){this.config=g.map(c1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(g,v={}){const{relativeTo:b,queryParams:C,fragment:D,queryParamsHandling:R,preserveFragment:z}=v,he=z?this.currentUrlTree.fragment:D;let Ie,Ce=null;switch(R){case"merge":Ce={...this.currentUrlTree.queryParams,...C};break;case"preserve":Ce=this.currentUrlTree.queryParams;break;default:Ce=C||null}null!==Ce&&(Ce=this.removeEmptyProps(Ce));try{Ie=cP(b?b.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof g[0]||!g[0].startsWith("/"))&&(g=[]),Ie=this.currentUrlTree.root}return dP(Ie,g,Ce,he??null)}navigateByUrl(g,v={skipLocationChange:!1}){const b=Cu(g)?g:this.parseUrl(g),C=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(C,yp,null,v)}navigate(g,v={skipLocationChange:!1}){return function VW(p){for(let y=0;y<p.length;y++)if(null==p[y])throw new en(4008,!1)}(g),this.navigateByUrl(this.createUrlTree(g,v),v)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){try{return this.urlSerializer.parse(g)}catch{return this.urlSerializer.parse("/")}}isActive(g,v){let b;if(b=!0===v?{...FW}:!1===v?{...WW}:v,Cu(g))return tP(this.currentUrlTree,g,b);const C=this.parseUrl(g);return tP(this.currentUrlTree,C,b)}removeEmptyProps(g){return Object.keys(g).reduce((v,b)=>{const C=g[b];return null!=C&&(v[b]=C),v},{})}scheduleNavigation(g,v,b,C,D){if(this.disposed)return Promise.resolve(!1);let R,z,he;D?(R=D.resolve,z=D.reject,he=D.promise):he=new Promise((Ie,Ke)=>{R=Ie,z=Ke});const Ce=this.pendingTasks.add();return function $P(p,y){p.events.pipe(_u(g=>g instanceof Mu||g instanceof rd||g instanceof Pm||g instanceof gp),Xt(g=>g instanceof Mu||g instanceof gp?Sp.COMPLETE:g instanceof rd&&(0===g.code||1===g.code)?Sp.REDIRECTING:Sp.FAILED),_u(g=>g!==Sp.REDIRECTING),Xc(1)).subscribe(()=>{y()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ce))}),this.navigationTransitions.handleNavigationRequest({source:v,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:C,resolve:R,reject:z,promise:he,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),he.catch(Ie=>Promise.reject(Ie))}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=An({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const v1=new Dn("");function kP(p){return p.routerState.root}function KP(){const p=fn(li);return y=>{const g=p.get(Hc);if(y!==g.components[0])return;const v=p.get(ja),b=p.get(zP);1===p.get(_1)&&v.initialNavigation(),p.get(GP,null,or.Optional)?.setUpPreloading(),p.get(v1,null,or.Optional)?.init(),v.resetRootComponentType(g.componentTypes[0]),b.closed||(b.next(),b.complete(),b.unsubscribe())}}const zP=new Dn("",{factory:()=>new yn}),_1=new Dn("",{providedIn:"root",factory:()=>1}),GP=new Dn(""),QW={providers:[function GW(p,...y){return zg([{provide:jm,multi:!0,useValue:p},[],{provide:od,useFactory:kP,deps:[ja]},{provide:iE,multi:!0,useFactory:KP},y.map(g=>g.\u0275providers)])}([])]};var E1,Yn=_(15861),Se=_(50484),XW=_(26152),qW=_(7624),Du=_(66599),fs=_(83944),eV=_(18626),tV=_(480),pr=_(57964),Dr=_(89317),Jo=_(34222),Um=_(67016),JP=_(30352),_r=_(4703),wr=_(51172),xr=_(79412),Le=_(80543),ud=_(1535),un=_(10141),Yo=_(7547),wp=_(57678),la=_(14007),Na=_(21070);let Bm=E1=class extends Dr.wq{constructor(p){super(p),this.type="none"}clone(){return new E1({type:this.type})}};(0,Se._)([(0,Na.J)({none:"none",stayAbove:"stay-above"})],Bm.prototype,"type",void 0),Bm=E1=(0,Se._)([(0,un.j)("esri.ground.NavigationConstraint")],Bm);var b1,YP=_(39437);let Ua=b1=class extends((0,Dr.eC)(Um.Z)){constructor(p){super(p),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new fs.Z;const y=v=>{v.parent&&v.parent!==this&&"remove"in v.parent&&v.parent.remove(v),v.parent=this,"elevation"!==v.type&&"base-elevation"!==v.type&&_r.Z.getLogger(this).error(`Layer '${v.title}, id:${v.id}' of type '${v.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.addHandles([this.layers.on("after-add",v=>y(v.item)),this.layers.on("after-remove",v=>(v=>{v.parent=null})(v.item))])}initialize(){this.when().catch(p=>{(0,xr.D_)(p)||_r.Z.getLogger(this).error("#load()","Failed to load ground",p)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const p=this.layers.removeAll();for(const y of p)(0,wr.SC)(y);this.layers.destroy()}normalizeCtorArgs(p){return p&&"resourceInfo"in p&&(this._set("resourceInfo",p.resourceInfo),delete(p={...p}).resourceInfo),p}set layers(p){this._set("layers",(0,eV.Z)(p,this._get("layers")))}writeLayers(p,y,g,v){const b=[];p&&(v={...v,layerContainerType:"ground"},p.forEach(C=>{if("write"in C){const D={};(0,tV.sM)(C)().write(D,v)&&b.push(D)}else v?.messages&&v.messages.push(new pr.Z("layer:unsupported",`Layers (${C.title}, ${C.id}) of type '${C.declaredClass}' cannot be persisted in the ground`,{layer:C}))})),y.layers=b}load(p){return this.addResolvingPromise(this._loadFromSource(p)),Promise.resolve(this)}loadAll(){return(0,JP.G)(this,p=>{p(this.layers)})}queryElevation(p,y){var g=this;return(0,Yn.Z)(function*(){yield g.load({signal:y?.signal});const{ElevationQuery:v}=yield _.e(8390).then(_.bind(_,18390));(0,xr.k_)(y);const b=new v,C=g.layers.filter(QP).toArray();return b.queryAll(C,p,y)})()}createElevationSampler(p,y){var g=this;return(0,Yn.Z)(function*(){yield g.load({signal:y?.signal});const{ElevationQuery:v}=yield _.e(8390).then(_.bind(_,18390));(0,xr.k_)(y);const b=new v,C=g.layers.filter(QP).toArray();return b.createSamplerAll(C,p,y)})()}clone(){const p={opacity:this.opacity,surfaceColor:(0,Jo.d9)(this.surfaceColor),navigationConstraint:(0,Jo.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(p.loadStatus="loaded"),new b1({resourceInfo:this.resourceInfo}).set(p)}read(p,y){this.resourceInfo||this._set("resourceInfo",{data:p,context:y}),super.read(p,y)}_loadFromSource(p){const y=this.resourceInfo;return y?this._loadLayersFromJSON(y.data,y.context,p):Promise.resolve()}_loadLayersFromJSON(p,y,g){var v=this;return(0,Yn.Z)(function*(){const b=y?.origin||"web-scene",C=y?.portal||null,D=y?.url||null,{populateOperationalLayers:R}=yield Promise.all([_.e(2772),_.e(8592)]).then(_.bind(_,4906));(0,xr.k_)(g);const z=[];p.layers&&Array.isArray(p.layers)&&z.push(R(v.layers,p.layers,{context:{origin:b,url:D,portal:C,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),yield Promise.allSettled(z)})()}};function QP(p){return"elevation"===p.type||function nV(p){return p&&"createElevationSampler"in p}(p)}(0,Se._)([(0,Le.Cb)({json:{read:!1}})],Ua.prototype,"layers",null),(0,Se._)([(0,Yo.c)("layers")],Ua.prototype,"writeLayers",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ua.prototype,"resourceInfo",void 0),(0,Se._)([(0,Le.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ud.z8,read:{reader:YP.b,source:"transparency"},write:{writer:(p,y)=>{y.transparency=(0,YP.a)(p)},target:"transparency"}}})],Ua.prototype,"opacity",void 0),(0,Se._)([(0,Le.Cb)({type:Du.Z,json:{type:[ud.z8],write:(p,y)=>{y.surfaceColor=p.toJSON().slice(0,3)}}})],Ua.prototype,"surfaceColor",void 0),(0,Se._)([(0,Le.Cb)({type:Bm,json:{write:!0}})],Ua.prototype,"navigationConstraint",void 0),Ua=b1=(0,Se._)([(0,un.j)("esri.Ground")],Ua);const Fm=Ua;var fr=_(73514),Wm=_(5603),Vm=_(88278),ji=_(73018),$m=_(33721),XP=_(11642),qP=_(85971);function rV(p){return!(!(p&&"object"==typeof p&&"loaded"in p&&p.loaded&&(0,qP.S1)(p)?.operations?.supportsEditing&&"type"in p)||"editingEnabled"in p&&!(0,qP.ln)(p)||"scene"===p.type&&!function sV(p){const{associatedLayer:y}=p,g=y?.infoFor3D;if(!g)return!0;const{supportedFormats:v,queryFormats:b}=g,C=(0,XP.S0)("model/gltf-binary",v)??(0,XP.Ow)("glb",v);if(null==C||!b.includes(C))return _r.Z.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${p.title??"Untitled layer"}, ${p.id}) is not editable because it does not support GLB queries.`),!1;const D=p.spatialReference,R=y.spatialReference;if(!(0,$m.fS)(D,R))return _r.Z.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${p.title??"Untitled layer"}, ${p.id}) is not editable because its spatial reference (wkid:${D.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${R.wkid}).`),!1;const z=y.sourceJSON.sourceSpatialReference;return!(null!=z&&!(0,$m.fS)(z,R)&&(_r.Z.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${p.title??"Untitled layer"}, ${p.id}) is not editable because the spatial reference of its associated FeatureLayer's service (wkid:${R.wkid}) is different from its source spatial reference (wkid:${z.wkid}).`),1))}(p))}var C1=_(63335),Zm=_(41528);const e2={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var iV=_(95140),aV=_(16031);let ua=class extends((0,aV.Q)((0,iV.K)(Vm.Z.EventedMixin(fr.Z)))){constructor(p){super(p),this.allLayers=new Wm.Z({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:y=>"layers"in y?y.layers:null}),this.allTables=(0,Zm.a)(this),this.basemap=null,this.editableLayers=new Wm.Z({getCollections:()=>[this.allLayers],itemFilterFunction:rV}),this.ground=new Fm,this._basemapCache=(0,C1.Df)()}destroy(){(0,C1.Bf)(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,wr.SC)(this.basemap),(0,wr.SC)(this.ground),this._set("ground",null)}castBasemap(p){return(0,C1.se)(p,this._basemapCache)}castGround(p){return function oV(p){let y=null;return"string"==typeof p?p in e2?y=new Fm({resourceInfo:{data:{layers:[e2[p]]}}}):_r.Z.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${p}. Try "world-elevation"`):y=(0,ud.se)(Fm,p),y}(p)??this._get("ground")}findLayerById(p){return this.allLayers.find(y=>y.id===p)}findTableById(p){return this.allTables.find(y=>y.id===p)}};(0,Se._)([(0,Le.Cb)({readOnly:!0,dependsOn:[]})],ua.prototype,"allLayers",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ua.prototype,"allTables",void 0),(0,Se._)([(0,Le.Cb)({type:qW.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],ua.prototype,"basemap",void 0),(0,Se._)([(0,ji.p)("basemap")],ua.prototype,"castBasemap",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ua.prototype,"editableLayers",void 0),(0,Se._)([(0,Le.Cb)({type:Fm,nonNullable:!0})],ua.prototype,"ground",void 0),(0,Se._)([(0,ji.p)("ground")],ua.prototype,"castGround",null),ua=(0,Se._)([(0,un.j)("esri.Map")],ua);const t2=ua;var _o=_(78570),lV=_(3233),M1=_(47868),ln=_(77675),km=_(6785),Ml=_(62185),uV=_(68090),Tp=_(43814),cV=_(45903),dV=_(27835),hV=_(50318);let Dl=class extends Dr.wq{constructor(p){super(p),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Dl.prototype,"facilityIdField",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Dl.prototype,"layerId",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Dl.prototype,"nameField",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Dl.prototype,"siteIdField",void 0),(0,Se._)([(0,Le.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Dl.prototype,"sublayerId",void 0),Dl=(0,Se._)([(0,un.j)("esri.layers.support.FacilityLayerInfo")],Dl);const pV=Dl;let Ni=class extends Dr.wq{constructor(p){super(p),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Ni.prototype,"facilityIdField",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Ni.prototype,"layerId",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Ni.prototype,"levelIdField",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Ni.prototype,"levelNumberField",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Ni.prototype,"longNameField",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Ni.prototype,"shortNameField",void 0),(0,Se._)([(0,Le.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Ni.prototype,"sublayerId",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Ni.prototype,"verticalOrderField",void 0),Ni=(0,Se._)([(0,un.j)("esri.layers.support.LevelLayerInfo")],Ni);const fV=Ni;let Su=class extends Dr.wq{constructor(p){super(p),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Su.prototype,"layerId",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Su.prototype,"nameField",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Su.prototype,"siteIdField",void 0),(0,Se._)([(0,Le.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Su.prototype,"sublayerId",void 0),Su=(0,Se._)([(0,un.j)("esri.layers.support.SiteLayerInfo")],Su);const mV=Su;let cd=class extends Dr.wq{constructor(p){super(p),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};(0,Se._)([(0,Le.Cb)({type:fV,json:{write:!0}})],cd.prototype,"levelLayer",void 0),(0,Se._)([(0,Le.Cb)({type:pV,json:{write:!0}})],cd.prototype,"facilityLayer",void 0),(0,Se._)([(0,Le.Cb)({type:mV,json:{write:!0}})],cd.prototype,"siteLayer",void 0),cd=(0,Se._)([(0,un.j)("esri.support.MapFloorInfo")],cd);const yV=cd;var ca=_(25387),Op=_(84303);let dd=class extends((0,ca.J)(Dr.wq)){constructor(p){super(p),this.expression=null,this.returnType="string",this.title=null}};(0,Se._)([(0,Le.Cb)({type:String,json:{write:{isRequired:!0}}})],dd.prototype,"expression",void 0),(0,Se._)([(0,Le.Cb)({type:["number","string"],json:{write:!0}})],dd.prototype,"returnType",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],dd.prototype,"title",void 0),dd=(0,Se._)([(0,un.j)("esri.webdoc.geotriggersInfo.ExpressionInfo")],dd);const n2=dd,Km=new Op.X({deviceLocation:"device-location"});let Ip=class extends((0,ca.J)(Dr.wq)){constructor(p){super(p),this.filterExpression=null,this.type="device-location"}};(0,Se._)([(0,Le.Cb)({type:n2,json:{write:!0}})],Ip.prototype,"filterExpression",void 0),(0,Se._)([(0,Le.Cb)({type:Km.apiValues,readOnly:!0,json:{type:Km.jsonValues,read:Km.read,write:Km.write}})],Ip.prototype,"type",void 0),Ip=(0,Se._)([(0,un.j)("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],Ip);const gV=Ip;var vV=_(2189),_V=_(40637);let Pp=class extends((0,ca.J)(Dr.wq)){constructor(p){super(p),this.geometry=null,this.where=null}};(0,Se._)([(0,Le.Cb)({types:vV.qM,json:{read:_V.im,write:!0}})],Pp.prototype,"geometry",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Pp.prototype,"where",void 0),Pp=(0,Se._)([(0,un.j)("esri.webdoc.geotriggersInfo.FeatureFilter")],Pp);const EV=Pp;let hd=class extends((0,ca.J)(Dr.wq)){constructor(p){super(p),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};(0,Se._)([(0,Le.Cb)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerUrl}}}}})],hd.prototype,"layerId",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerId}}}}})],hd.prototype,"layerUrl",void 0),(0,Se._)([(0,Na.J)({featureLayer:"feature-layer"},{readOnly:!0})],hd.prototype,"type",void 0),hd=(0,Se._)([(0,un.j)("esri.webdoc.geotriggersInfo.FeatureLayerSource")],hd);const bV=hd;let wu=class extends((0,ca.J)(Dr.wq)){constructor(p){super(p),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};(0,Se._)([(0,Le.Cb)({type:bV,json:{write:{isRequired:!0}}})],wu.prototype,"fenceSource",void 0),(0,Se._)([(0,Le.Cb)({type:EV,json:{write:!0}})],wu.prototype,"filter",void 0),(0,Se._)([(0,Le.Cb)({type:Number,json:{write:!0}})],wu.prototype,"bufferDistance",void 0),(0,Se._)([(0,Na.J)({features:"features"},{readOnly:!0})],wu.prototype,"type",void 0),wu=(0,Se._)([(0,un.j)("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],wu);const CV=wu;let zm=class extends((0,ca.J)(Dr.wq)){constructor(p){super(p),this.type="fence"}};(0,Se._)([(0,Na.J)({fence:"fence"},{readOnly:!0})],zm.prototype,"type",void 0),zm=(0,Se._)([(0,un.j)("esri.webdoc.geotriggersInfo.Geotrigger")],zm);const r2=zm;let Ap=class extends((0,ca.J)(Dr.wq)){constructor(p){super(p),this.expressionInfo=null,this.requestedActions=null}};(0,Se._)([(0,Le.Cb)({type:n2,json:{write:!0}})],Ap.prototype,"expressionInfo",void 0),(0,Se._)([(0,Le.Cb)({type:[String],json:{write:!0}})],Ap.prototype,"requestedActions",void 0),Ap=(0,Se._)([(0,un.j)("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],Ap);const MV=Ap,DV=new Op.X({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),SV=new Op.X({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),Gm=new Op.X({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let Ui=class extends r2{constructor(p){super(p),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};(0,Se._)([(0,Na.J)(DV)],Ui.prototype,"enterExitRule",void 0),(0,Se._)([(0,Le.Cb)({type:gV,json:{write:{isRequired:!0}}})],Ui.prototype,"feed",void 0),(0,Se._)([(0,Na.J)(SV)],Ui.prototype,"feedAccuracyMode",void 0),(0,Se._)([(0,Le.Cb)({type:Gm.apiValues,json:{type:Gm.jsonValues,read:Gm.read,write:{writer:Gm.write,isRequired:!0}}})],Ui.prototype,"fenceNotificationRule",void 0),(0,Se._)([(0,Le.Cb)({type:CV,json:{write:{isRequired:!0}}})],Ui.prototype,"fenceParameters",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],Ui.prototype,"name",void 0),(0,Se._)([(0,Le.Cb)({type:MV,json:{write:!0}})],Ui.prototype,"notificationOptions",void 0),(0,Se._)([(0,Na.J)({fence:"fence"},{readOnly:!0})],Ui.prototype,"type",void 0),Ui=(0,Se._)([(0,un.j)("esri.webdoc.geotriggersInfo.FenceGeotrigger")],Ui);const wV={base:r2,key:"type",typeMap:{fence:Ui}};let Hm=class extends((0,ca.J)(Dr.wq)){constructor(p){super(p),this.geotriggers=null}};(0,Se._)([(0,Le.Cb)({types:[wV],json:{write:{isRequired:!0}}})],Hm.prototype,"geotriggers",void 0),Hm=(0,Se._)([(0,un.j)("esri.webdoc.GeotriggersInfo")],Hm);const TV=Hm;var D1,Jm=_(84735);let pd=D1=class extends Dr.wq{constructor(p){super(p),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new D1((0,Jo.d9)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,Se._)([(0,Le.Cb)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],pd.prototype,"activeRange",void 0),(0,Se._)([(0,Le.Cb)({type:[Number],json:{write:!0}})],pd.prototype,"currentRangeExtent",void 0),(0,Se._)([(0,Le.Cb)({type:[Number],json:{write:!0}})],pd.prototype,"fullRangeExtent",void 0),pd=D1=(0,Se._)([(0,un.j)("esri.webdoc.RangeInfo")],pd);const S1=pd;var P1,w1=_(48230),s2=_(61018),OV=_(22497),IV=_(93305);function o2(p,y,g){const v={context:{...g,layerContainerType:"operational-layers"}};return p.portalItem&&(v.context.portal=p.portalItem.portal||s2.Z.getDefault()),Promise.all([_.e(2772),_.e(8592)]).then(_.bind(_,4906)).then(({populateOperationalLayers:b})=>{const C=[],D=y.operationalLayers;D?.length&&C.push(b(p.layers,D,v));const R={...v,context:{...v.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},z=y.tables;return z?.length&&C.push(b(p.tables,z,R)),Promise.allSettled(C).then(()=>{})})}function T1(){return T1=(0,Yn.Z)(function*(p,y,g){if(yield g.load().catch(D=>{throw new pr.Z(`${p.name}:load-portal-item`,"Failed to load portal item",{error:D})}),g.type!==p.itemType)throw new pr.Z(`${p.name}:invalid-portal-item`,`Invalid portal item type '${g.type}', expected '${p.itemType}'`,{type:g.type});const v=yield g.fetchData();y.resourceInfo=v;const b={origin:p.origin,url:(0,km.mN)(g.itemUrl),portal:g.portal||s2.Z.getDefault(),portalItem:g,readResourcePaths:[]};yield function xV(p,y,g,v){const b=function RV(p,y){const g=p.parseVersion(y.version||"",p.name);return p.currentVersion.validate(g),y.version=`${g.major}.${g.minor}`,y}(p,g);return y.read(b,v),o2(y,b,v)}(p,y,v,b),y.resourceReferences={portalItem:g,paths:b.readResourcePaths};const C=yield function LV(p,y,g){return O1.apply(this,arguments)}(y.initialViewProperties,g,_r.Z.getLogger(y));if(C){const D=y.initialViewProperties?.clone()??p.createInitialViewProperties();D.viewpoint=C,y.initialViewProperties=D}}),T1.apply(this,arguments)}function O1(){return O1=(0,Yn.Z)(function*(p,y,g){if(p?.viewpoint?.targetGeometry)return null;const b=yield function jV(p,y,g){return I1.apply(this,arguments)}(p,y,g);return b?new _o.Z({targetGeometry:b}):null}),O1.apply(this,arguments)}function I1(){return(I1=(0,Yn.Z)(function*(p,y,g){const v=p?.spatialReference,b=y?.extent;if(!v||!b)return null;if(v.isWGS84)return b.clone();if(v.isWebMercator)return(0,w1.$)(b);const{getGeometryServiceURL:C}=yield _.e(4135).then(_.bind(_,34135));try{const D=yield C(y),R=new IV.Z;return R.geometries=[b],R.outSpatialReference=v,(yield(0,OV.i)(D,R))[0]}catch(D){g.error("Error projecting item's extent:",D)}return null})).apply(this,arguments)}let da=P1=class extends Dr.wq{constructor(p){super(p),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new P1((0,Jo.d9)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,Se._)([(0,Le.Cb)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],da.prototype,"enabled",void 0),(0,Se._)([(0,Le.Cb)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],da.prototype,"longNames",void 0),(0,Se._)([(0,Le.Cb)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],da.prototype,"minimized",void 0),(0,Se._)([(0,Le.Cb)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],da.prototype,"pinnedLevels",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],da.prototype,"site",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],da.prototype,"facility",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],da.prototype,"level",void 0),da=P1=(0,Se._)([(0,un.j)("esri.webdoc.widgets.FloorFilter")],da);const NV=da;var A1;const Ym=new Op.X({slider:"slider",picker:"picker"});let fd=A1=class extends Dr.wq{constructor(p){super(p),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new A1({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,Se._)([(0,Le.Cb)({type:Ym.apiValues,nonNullable:!0,json:{type:Ym.jsonValues,default:null,read:{reader:Ym.read},write:{isRequired:!0,writer:Ym.write}}})],fd.prototype,"interactionMode",void 0),(0,Se._)([(0,Le.Cb)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const p=null!=this.stopInterval;return{enabled:!p,isRequired:!p}}}}})],fd.prototype,"numStops",void 0),(0,Se._)([(0,Le.Cb)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],fd.prototype,"stopInterval",void 0),fd=A1=(0,Se._)([(0,un.j)("esri.webdoc.widgets.Range")],fd);const UV=fd;var R1,md=_(34411),i2=_(95539),x1=_(71763);let Fs=R1=class extends Dr.wq{constructor(p){super(p),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(p){if(!p)return;const y=null!=p[0]?new Date(p[0]):null,g=null!=p[1]?new Date(p[1]):null;return new md.Z({start:y,end:g})}writeCurrentTimeExtent(p,y,g){p&&(0,x1.RB)(g,[null!=p.start?p.start.getTime():null,null!=p.end?p.end.getTime():null],y)}readFullTimeExtent(p,y){const g=y.properties;if(!g)return;const v=null!=g.endTime?new Date(g.endTime):null,b=null!=g.startTime?new Date(g.startTime):null;return new md.Z({start:b,end:v})}writeFullTimeExtent(p,y){if(!p)return;const g=y.properties=y.properties||{},v=p.end,b=p.start;v&&(g.endTime=null!=v?v.getTime():null),b&&(g.startTime=null!=b?b.getTime():null)}readStopInterval(p,y,g){return p?i2.Z.fromJSON({value:p.interval,unit:p.units},g):null}writeStopInterval(p,y,g,v){if(!p)return;const b=p.toJSON(v);(0,x1.RB)(g,{interval:b.value,units:b.unit},y)}readStops(p){return p?.length?p.map(y=>new Date(y)):null}writeStops(p,y,g){p?.length&&(0,x1.RB)(g,p.map(v=>v.getTime()),y)}clone(){return new R1((0,Jo.d9)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,Se._)([(0,Le.Cb)({type:md.Z,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Fs.prototype,"currentTimeExtent",void 0),(0,Se._)([(0,Ml.r)("currentTimeExtent")],Fs.prototype,"readCurrentTimeExtent",null),(0,Se._)([(0,Yo.c)("currentTimeExtent")],Fs.prototype,"writeCurrentTimeExtent",null),(0,Se._)([(0,Le.Cb)({type:md.Z,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Fs.prototype,"fullTimeExtent",void 0),(0,Se._)([(0,Ml.r)("fullTimeExtent")],Fs.prototype,"readFullTimeExtent",null),(0,Se._)([(0,Yo.c)("fullTimeExtent")],Fs.prototype,"writeFullTimeExtent",null),(0,Se._)([(0,Le.Cb)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Fs.prototype,"loop",void 0),(0,Se._)([(0,Le.Cb)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const g=!(this.stopInterval||this.stops?.length);return{enabled:g,isRequired:g}}}}})],Fs.prototype,"numStops",void 0),(0,Se._)([(0,Le.Cb)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Fs.prototype,"numThumbs",void 0),(0,Se._)([(0,Le.Cb)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Fs.prototype,"stopDelay",void 0),(0,Se._)([(0,Le.Cb)({type:i2.Z,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){const p=null!=this.numStops,y=!!this.stops?.length;return{enabled:!y,isRequired:!(p||y)}}}}})],Fs.prototype,"stopInterval",void 0),(0,Se._)([(0,Ml.r)("stopInterval")],Fs.prototype,"readStopInterval",null),(0,Se._)([(0,Yo.c)("stopInterval")],Fs.prototype,"writeStopInterval",null),(0,Se._)([(0,Le.Cb)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],Fs.prototype,"stops",void 0),(0,Se._)([(0,Ml.r)("stops")],Fs.prototype,"readStops",null),(0,Se._)([(0,Yo.c)("stops")],Fs.prototype,"writeStops",null),Fs=R1=(0,Se._)([(0,un.j)("esri.webdoc.widgets.TimeSlider")],Fs);const BV=Fs;var L1;let yd=L1=class extends Dr.wq{constructor(p){super(p),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new L1((0,Jo.d9)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,Se._)([(0,Le.Cb)({type:UV,json:{write:!0}})],yd.prototype,"range",void 0),(0,Se._)([(0,Le.Cb)({type:BV,json:{write:!0}})],yd.prototype,"timeSlider",void 0),(0,Se._)([(0,Le.Cb)({type:NV,json:{write:!0}})],yd.prototype,"floorFilter",void 0),yd=L1=(0,Se._)([(0,un.j)("esri.webdoc.Widgets")],yd);const FV=yd,WV={width:600,height:400};var $V=_(5538);function a2(p){return{enabled:!!p?.length}}var j1,l2=_(51217);let gd=j1=class extends Dr.wq{constructor(p){super(p),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new j1({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,Se._)([(0,Le.Cb)({type:Boolean,json:{write:!0}})],gd.prototype,"exactMatch",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],gd.prototype,"name",void 0),(0,Se._)([(0,Na.J)(l2.v)],gd.prototype,"type",void 0),gd=j1=(0,Se._)([(0,un.j)("esri.webdoc.applicationProperties.SearchLayerField")],gd);const ZV=gd;var N1;let vd=N1=class extends Dr.wq{constructor(p){super(p),this.field=null,this.id=null,this.subLayer=null}clone(){return new N1((0,Jo.d9)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,Se._)([(0,Le.Cb)({type:ZV,json:{write:{isRequired:!0}}})],vd.prototype,"field",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:{isRequired:!0}}})],vd.prototype,"id",void 0),(0,Se._)([(0,Le.Cb)({type:ud.z8,json:{write:!0}})],vd.prototype,"subLayer",void 0),vd=N1=(0,Se._)([(0,un.j)("esri.webdoc.applicationProperties.SearchLayer")],vd);const kV=vd;var U1;let _d=U1=class extends Dr.wq{constructor(p){super(p),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new U1({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,Se._)([(0,Le.Cb)({type:Boolean,json:{write:!0}})],_d.prototype,"exactMatch",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],_d.prototype,"name",void 0),(0,Se._)([(0,Na.J)(l2.v)],_d.prototype,"type",void 0),_d=U1=(0,Se._)([(0,un.j)("esri.webdoc.applicationProperties.SearchTableField")],_d);const KV=_d;var B1;let xp=B1=class extends Dr.wq{constructor(p){super(p),this.field=null,this.id=null}clone(){return new B1((0,Jo.d9)({field:this.field,id:this.id}))}};(0,Se._)([(0,Le.Cb)({type:KV,json:{write:{isRequired:!0}}})],xp.prototype,"field",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:{isRequired:!0}}})],xp.prototype,"id",void 0),xp=B1=(0,Se._)([(0,un.j)("esri.webdoc.applicationProperties.SearchTable")],xp);const zV=xp;var F1;const u2=fs.Z.ofType(kV),c2=fs.Z.ofType(zV);let ha=F1=class extends Dr.wq{constructor(p){super(p),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new u2,this.tables=new c2}readAddressSearchEnabled(p){return!p}writeAddressSearchEnabled(p,y,g){y[g]=!p}clone(){return new F1((0,Jo.d9)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,Se._)([(0,Le.Cb)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],ha.prototype,"addressSearchEnabled",void 0),(0,Se._)([(0,Ml.r)("addressSearchEnabled")],ha.prototype,"readAddressSearchEnabled",null),(0,Se._)([(0,Yo.c)("addressSearchEnabled")],ha.prototype,"writeAddressSearchEnabled",null),(0,Se._)([(0,Le.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],ha.prototype,"enabled",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:!0}})],ha.prototype,"hintText",void 0),(0,Se._)([(0,Le.Cb)({type:u2,json:{write:{overridePolicy:a2},origins:{"web-scene":{write:{isRequired:!0}}}}})],ha.prototype,"layers",void 0),(0,Se._)([(0,Le.Cb)({type:c2,json:{read:!0,write:{overridePolicy:a2}}})],ha.prototype,"tables",void 0),ha=F1=(0,Se._)([(0,un.j)("esri.webdoc.applicationProperties.Search")],ha);const GV=ha;var W1;let Xm=W1=class extends Dr.wq{constructor(p){super(p),this.search=null}clone(){return new W1((0,Jo.d9)({search:this.search}))}};(0,Se._)([(0,Le.Cb)({type:GV,json:{write:!0}})],Xm.prototype,"search",void 0),Xm=W1=(0,Se._)([(0,un.j)("esri.webdoc.applicationProperties.Viewing")],Xm);const HV=Xm;var V1;let Ed=V1=class extends Dr.wq{constructor(p){super(p),this.editing=null,this.offline=null,this.viewing=null}clone(){return new V1((0,Jo.d9)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,Se._)([(0,Le.Cb)({json:{write:!0}})],Ed.prototype,"editing",void 0),(0,Se._)([(0,Le.Cb)({json:{write:!0}})],Ed.prototype,"offline",void 0),(0,Se._)([(0,Le.Cb)({type:HV,json:{write:!0}})],Ed.prototype,"viewing",void 0),Ed=V1=(0,Se._)([(0,un.j)("esri.webmap.ApplicationProperties")],Ed);const JV=Ed;var $1,qm=_(84373);let Ba=$1=class extends Dr.wq{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new $1({url:this.url})}};var Z1;(0,Se._)([(0,Le.Cb)({type:String,json:{write:{isRequired:!0}}})],Ba.prototype,"url",void 0),Ba=$1=(0,Se._)([(0,un.j)("esri.webdoc.support.SlideThumbnail")],Ba);let pa=Z1=class extends((0,qm.IG)(Dr.wq)){constructor(p){super(p),this.name=null,this.thumbnail=new Ba,this.timeExtent=null}castThumbnail(p){return"string"==typeof p?new Ba({url:p}):(0,ud.se)(Ba,p)}set viewpoint(p){const{targetGeometry:y,scale:g}=p;null!=y&&"point"===y.type&&null==g&&_r.Z.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",p),this._set("viewpoint",p)}readViewpoint(p,y){const{extent:g,viewpoint:v}=y;return _o.Z.fromJSON(v||{targetGeometry:g})}writeViewpoint(p,y,g,v){if(!p)return;const{targetGeometry:b}=p;if(null==b||"extent"===b.type)null!=b&&(y.extent=b.toJSON()),y[g]=p.toJSON();else{const C="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";v?.messages?v.messages.push(new pr.Z("property:unsupported",C)):_r.Z.getLogger(this).error(C)}}clone(){return new Z1((0,Jo.d9)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};(0,Se._)([(0,Le.Cb)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],pa.prototype,"name",void 0),(0,Se._)([(0,Le.Cb)({type:Ba,json:{write:{overridePolicy:p=>({enabled:!(!p||!p.url)})}}})],pa.prototype,"thumbnail",void 0),(0,Se._)([(0,ji.p)("thumbnail")],pa.prototype,"castThumbnail",null),(0,Se._)([(0,Le.Cb)({type:md.Z,json:{write:!0}})],pa.prototype,"timeExtent",void 0),(0,Se._)([(0,Le.Cb)({type:_o.Z,nonNullable:!0,json:{write:!0}})],pa.prototype,"viewpoint",null),(0,Se._)([(0,Ml.r)("viewpoint",["extent","viewpoint"])],pa.prototype,"readViewpoint",null),(0,Se._)([(0,Yo.c)("viewpoint")],pa.prototype,"writeViewpoint",null),pa=Z1=(0,Se._)([(0,un.j)("esri.webmap.Bookmark")],pa);const k1=pa;var K1,bd=_(764);let ey=K1=class extends Dr.wq{constructor(p){super(p),this.color=new Du.Z([0,0,0,1])}clone(){return new K1((0,Jo.d9)({color:this.color}))}};(0,Se._)([(0,Le.Cb)({type:Du.Z,json:{write:!0}})],ey.prototype,"color",void 0),ey=K1=(0,Se._)([(0,un.j)("esri.webmap.background.ColorBackground")],ey);const ty=ey;let Sl=class extends((0,ca.J)(fr.Z)){constructor(p){super(p),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeZone=bd.By,this.viewpoint=null}};(0,Se._)([(0,Le.Cb)({type:ty})],Sl.prototype,"background",void 0),(0,Se._)([(0,Le.Cb)({type:S1})],Sl.prototype,"rangeInfo",void 0),(0,Se._)([(0,Le.Cb)({type:Tp.Z})],Sl.prototype,"spatialReference",void 0),(0,Se._)([(0,Le.Cb)({nonNullable:!0})],Sl.prototype,"timeZone",void 0),(0,Se._)([(0,Le.Cb)({type:_o.Z})],Sl.prototype,"viewpoint",void 0),Sl=(0,Se._)([(0,un.j)("esri.webmap.InitialViewProperties")],Sl);const ny=Sl;var YV=_(93960);class Cd extends YV.G{constructor(y,g){super(y,g,"webmap")}}const Rp=new Cd(2,29),z1="web-map",d2=fs.Z.ofType(k1),qV=fs.Z.ofType(cV.default),e$=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),n$=hV.Kz.JSAPI,G1={currentVersion:Rp,createInitialViewProperties:()=>new ny,parseVersion:Cd.parse,itemType:"Web Map",name:"webmap",origin:z1};let Sr=class extends((0,lV.R)(Um.Z.LoadableMixin((0,M1.v)(t2)))){constructor(p){var y;super(p),y=this,this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new d2,this.floorInfo=null,this.geotriggersInfo=null,this.initialViewProperties=new ny,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this._debouncedSaveOperations=(0,xr.Ds)(function(){var g=(0,Yn.Z)(function*(v,b,C){const{save:D,saveAs:R}=yield _.e(2787).then(_.bind(_,12787));switch(v){case Jm.x.SAVE:return D(G1,y,b);case Jm.x.SAVE_AS:return R(G1,y,C,b)}});return function(v,b,C){return g.apply(this,arguments)}}()),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){if(this.portalItem=(0,wr.SC)(this.portalItem),this.utilityNetworks){const p=this.utilityNetworks.removeAll();for(const y of p)y.destroy();this.utilityNetworks.destroy()}}initialize(){if(this.when().catch(p=>{_r.Z.getLogger(this).error("#load()","Failed to load web map",p)}),this.resourceInfo){let p;try{p=this._validateJSON(this.resourceInfo)}catch(y){return void this.addResolvingPromise(Promise.reject(y))}this.read(p)}}set authoringApp(p){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",p)}writeAuthoringApp(p,y){y.authoringApp=p&&this._isAuthoringAppSetByUser?p:n$}set authoringAppVersion(p){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",p)}writeAuthoringAppVersion(p,y){y.authoringAppVersion=p&&this._isAuthoringAppVersionSetByUser?p:XW.i8}readInitialViewProperties(p,y){const g=new ny;y.background&&(g.background=ty.fromJSON(y.background));const v=y.initialState?.viewpoint;return v&&(v.rotation&&Cd.parse(y.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===y.authoringApp&&(v.rotation*=-1),g.viewpoint=_o.Z.fromJSON(v)),y.mapRangeInfo&&(g.rangeInfo=S1.fromJSON(y.mapRangeInfo)),y.spatialReference&&(g.spatialReference=Tp.Z.fromJSON(y.spatialReference)),y.timeZone&&(g.timeZone=y.timeZone),g}writeInitialViewProperties(p,y,g,v){p&&(p.background?.color&&(y.background=p.background.write({},v)),p.viewpoint&&(y.initialState={viewpoint:p.viewpoint.write({},v)}),p.rangeInfo&&(y.mapRangeInfo=p.rangeInfo.toJSON(v)),p.spatialReference&&(y.spatialReference=p.spatialReference.write({},v)),y.timeZone=p.timeZone)}writeLayers(p,y,g,v){y[g]=this._writeLayers(p,v,"operational-layers")}readSourceVersion(p,y){const[g,v]=y.version.split(".");return new Cd(parseInt(g,10),parseInt(v,10))}writeSourceVersion(p,y,g){y[g]=`${Rp.major}.${Rp.minor}`}writeTables(p,y,g,v){const b=this._writeLayers(p,v,"tables");b.length&&(y[g]=b)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(p){p?(this._override("thumbnailUrl",p),this._thumbnailFilename=this._generateCustomThumbnailFilename(p)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(p){return this.addResolvingPromise(function PV(p,y){return y.resourceInfo?o2(y,y.resourceInfo,{origin:p.origin}):y.portalItem?.id?function AV(p,y,g){return T1.apply(this,arguments)}(p,y,y.portalItem):Promise.resolve()}(G1,this)),Promise.resolve(this)}loadAll(){return(0,JP.G)(this,p=>{p(this.ground,this.basemap,this.layers,this.tables)})}read(p,y){y={...y,origin:z1};const g=this._getAuthoringPropsState();(0,uV.$)(this,p,v=>super.read(p,v),y),this._restoreAuthoringPropsFromState(g)}write(p,y){if("loaded"!==this.loadStatus){const g=new pr.Z("webmap:not-loaded","Web map must be loaded before it can be serialized");throw _r.Z.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),g}return this._removeDanglingLayerRefs(),y={...y,origin:z1,restrictedWebMapWriting:!0,webmap:this},super.write(p,y)}save(p){var y=this;return(0,Yn.Z)(function*(){return y._debouncedSaveOperations(Jm.x.SAVE,p)})()}saveAs(p,y){var g=this;return(0,Yn.Z)(function*(){return g._debouncedSaveOperations(Jm.x.SAVE_AS,y,p)})()}updateFrom(p,y){var g=this;return(0,Yn.Z)(function*(){const v=g._updateFromInternal(p,y);g._updateFromPromise=v,yield v,v===g._updateFromPromise&&(g._updateFromPromise=null)})()}getLayerJSONFromResourceInfo(p){const y=this.resourceInfo;return this._collectAllLayersJSON([...y?.baseMap?.baseMapLayers||[],...y?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(g=>g.id===p.id)}updateItemThumbnail(){var p=this;return(0,Yn.Z)(function*(){p.thumbnailUrl&&p._isOverridden("thumbnailUrl")&&(yield p.portalItem?.updateThumbnail({thumbnail:p.thumbnailUrl,filename:p._thumbnailFilename}),p._clearThumbnailOverride())})()}getThumbnailState(){let p=this.thumbnailUrl;return p&&(p=this._isOverridden("thumbnailUrl")?p:(0,km.ZN)(p,"w","8192")),{thumbnailUrl:p,filename:this._thumbnailFilename}}restoreThumbnailFromState(p){this.thumbnailUrl=p.thumbnailUrl,this._thumbnailFilename=p.filename}_collectAllLayersJSON(p){return p.reduce((y,g)=>(y.push(g),"GroupLayer"===g.layerType&&(y=y.concat(this._collectAllLayersJSON(g.layers||[]))),y),[])}_writeLayers(p,y,g){return y={...y,layerContainerType:g},p.map(v=>(0,$V.Nw)(v,"tables"===g?null:this.getLayerJSONFromResourceInfo(v),y)).filter(wp.pC).toArray()}_validateJSON(p){const y=Cd.parse(p.version||"","webmap");return Rp.validate(y),p.version=`${y.major}.${y.minor}`,p}_removeDanglingLayerRefs(){const p=this.applicationProperties,y=p?.viewing?.search,g=b=>this.allLayers.some(C=>C.id===b);if(y&&y.layers&&(y.layers=y.layers.filter(b=>g(b.id))),y&&y.tables&&(y.tables=y.tables.filter(b=>this.tables.some(C=>C.id===b.id))),p){const b=p.editing?.locationTracking;b?.info&&!g(b.info.layerId)&&(p.editing=null)}const v=this.presentation?.slides;v&&v.forEach(b=>{b.visibleLayers&&(b.visibleLayers=b.visibleLayers.filter(C=>g(C.id)))})}_updateFromInternal(p,y){var g=this;return(0,Yn.Z)(function*(){if(y??={},yield(0,ln.N1)(()=>p.ready),g._updateInitialViewProperties(p,y),p.map===g)for(const v of p.allLayerViews)"visible"in v&&"visible"in v.layer&&v._isOverridden("visible")&&(v.layer.visible=v.visible),"featureEffect"in v&&"featureEffect"in v.layer&&v._isOverridden("featureEffect")&&(v.layer.featureEffect=v.featureEffect);yield g._updateThumbnailUrl(p,y)})()}_updateInitialViewProperties(p,y){if(y.backgroundExcluded||(this.initialViewProperties.background=p.background?.clone()),this.initialViewProperties.spatialReference=p.spatialReference?.clone(),this.initialViewProperties.timeZone=p.timeZone,y.viewpointExcluded||(this.initialViewProperties.viewpoint=new _o.Z({rotation:p.rotation,scale:y.scalePreserved?p.scale:null,targetGeometry:this._getViewExtent(p)})),!y.widgetsExcluded)for(const g of p.persistableViewModels)g.updateWebDocument(this)}_getViewExtent(p){const y=p.center.clone().normalize(),g=p.extent.clone(),v=g.width/2;return g.xmin=y.x-v,g.xmax=y.x+v,g}_updateThumbnailUrl(p,y){var g=this;return(0,Yn.Z)(function*(){if(y.thumbnailExcluded)return;const v=function VV(p,y){y=y||WV;let{width:g,height:v}=y;const b=g/v;return b<1.5?v=g/1.5:b>1.5&&(g=1.5*v),g>p.width&&(v*=p.width/g,g=p.width),v>p.height&&(g*=p.height/v,v=p.height),{width:Math.round(g),height:Math.round(v)}}(p,y.thumbnailSize),b=yield p.takeScreenshot({format:"png",width:v.width,height:v.height});g._setAutoGeneratedThumbnail(b.dataUrl)})()}_setAutoGeneratedThumbnail(p){this.thumbnailUrl=p,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(p){if((0,km.HK)(p)){const y=(0,km.sJ)(p),g=y?.mediaType,v=g&&e$.get(g.toLowerCase())||null,b=`thumbnail${Date.now()}`;return v?`${b}.${v}`:b}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(p){p.isAuthoringAppSetByUser?this.authoringApp=p.authoringApp:this._isAuthoringAppSetByUser=!1,p.isAuthoringAppVersionSetByUser?this.authoringAppVersion=p.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(p){const y=p;if(!y)throw new pr.Z("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:y})}};Sr.VERSION=Rp,(0,Se._)([(0,Le.Cb)()],Sr.prototype,"_updateFromPromise",void 0),(0,Se._)([(0,Le.Cb)({type:JV,json:{write:!0}})],Sr.prototype,"applicationProperties",void 0),(0,Se._)([(0,Le.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Sr.prototype,"authoringApp",null),(0,Se._)([(0,Yo.c)("authoringApp")],Sr.prototype,"writeAuthoringApp",null),(0,Se._)([(0,Le.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Sr.prototype,"authoringAppVersion",null),(0,Se._)([(0,Yo.c)("authoringAppVersion")],Sr.prototype,"writeAuthoringAppVersion",null),(0,Se._)([(0,Le.Cb)({type:d2,json:{write:{overridePolicy:p=>({enabled:!!(p&&p.length>0),ignoreOrigin:!0})}}})],Sr.prototype,"bookmarks",void 0),(0,Se._)([(0,Le.Cb)({type:yV,json:{name:"mapFloorInfo",write:!0}})],Sr.prototype,"floorInfo",void 0),(0,Se._)([(0,Le.Cb)({type:TV,json:{write:!0}})],Sr.prototype,"geotriggersInfo",void 0),(0,Se._)([(0,Le.Cb)({type:ny,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:ty},"initialState.viewpoint":{type:_o.Z},mapRangeInfo:{type:S1},spatialReference:{type:Tp.Z},"timeZone:":{type:String}}}}})],Sr.prototype,"initialViewProperties",void 0),(0,Se._)([(0,Ml.r)("initialViewProperties")],Sr.prototype,"readInitialViewProperties",null),(0,Se._)([(0,Yo.c)("initialViewProperties")],Sr.prototype,"writeInitialViewProperties",null),(0,Se._)([(0,Le.Cb)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],Sr.prototype,"layers",void 0),(0,Se._)([(0,Yo.c)("layers")],Sr.prototype,"writeLayers",null),(0,Se._)([(0,Le.Cb)({type:dV.default})],Sr.prototype,"portalItem",void 0),(0,Se._)([(0,Le.Cb)({json:{write:!0}})],Sr.prototype,"presentation",void 0),(0,Se._)([(0,Le.Cb)()],Sr.prototype,"resourceInfo",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0,type:Cd,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],Sr.prototype,"sourceVersion",void 0),(0,Se._)([(0,Ml.r)("sourceVersion")],Sr.prototype,"readSourceVersion",null),(0,Se._)([(0,Yo.c)("sourceVersion")],Sr.prototype,"writeSourceVersion",null),(0,Se._)([(0,Le.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],Sr.prototype,"tables",void 0),(0,Se._)([(0,Yo.c)("tables")],Sr.prototype,"writeTables",null),(0,Se._)([(0,Le.Cb)()],Sr.prototype,"thumbnailUrl",null),(0,Se._)([(0,Le.Cb)()],Sr.prototype,"updatingFromView",null),(0,Se._)([(0,Le.Cb)({type:FV,json:{write:!0}})],Sr.prototype,"widgets",void 0),(0,Se._)([(0,Le.Cb)({type:qV,json:{read:!0,write:!0}})],Sr.prototype,"utilityNetworks",void 0),Sr=(0,Se._)([(0,un.j)("esri.WebMap")],Sr);const r$=Sr;var s$=_(36885),wl=_(83821),o$=_(30220),ry=_(11667);const sy={widthBreakpoint:{getValue(p){const y=p.viewSize[0],g=p.breakpoints,v=this.values;return y<=g.xsmall?v.xsmall:y<=g.small?v.small:y<=g.medium?v.medium:y<=g.large?v.large:v.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(p){const y=p.viewSize[1],g=p.breakpoints,v=this.values;return y<=g.xsmall?v.xsmall:y<=g.small?v.small:y<=g.medium?v.medium:y<=g.large?v.large:v.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(p){const y=p.viewSize,b=this.values;return y[1]>=y[0]?b.portrait:b.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},H1={xsmall:544,small:768,medium:992,large:1200};function J1(p,y){return y?sy[p].valueToClassName[y].split(" "):[]}const a$=p=>{let y=class extends p{constructor(...g){super(...g),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=H1}initialize(){this.addHandles((0,ln.YP)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),ln.nn))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(g){if(g===this._get("breakpoints"))return;const v=function i$(p){return p&&p.xsmall<p.small&&p.small<p.medium&&p.medium<p.large}(g);if(!v){const b=JSON.stringify(H1,null,2);console.warn("provided breakpoints are not valid, using defaults:"+b)}g=v?g:H1,this._set("breakpoints",{...g})}_updateClassNames(){if(!this.container)return;const g=ry.Z.acquire(),v=ry.Z.acquire();let b,C=!1;for(b in sy){const D=this[b],R=sy[b].getValue({viewSize:this.size,breakpoints:this.breakpoints});D!==R&&(C=!0,this[b]=R,J1(b,D).forEach(z=>v.push(z)),J1(b,R).forEach(z=>g.push(z)))}C&&(this._applyClassNameChanges(g,v),ry.Z.release(g),ry.Z.release(v))}_applyClassNameChanges(g,v){const b=this.container;b&&(v.forEach(C=>b.classList.remove(C)),g.forEach(C=>b.classList.add(C)))}_removeActiveClassNames(){const g=this.container;if(!g)return;let v;for(v in sy)J1(v,this[v]).forEach(b=>g.classList.remove(b))}};return(0,Se._)([(0,Le.Cb)()],y.prototype,"breakpoints",null),(0,Se._)([(0,Le.Cb)()],y.prototype,"orientation",void 0),(0,Se._)([(0,Le.Cb)()],y.prototype,"widthBreakpoint",void 0),(0,Se._)([(0,Le.Cb)()],y.prototype,"heightBreakpoint",void 0),y=(0,Se._)([(0,un.j)("esri.views.BreakpointsOwner")],y),y};_(91531);var Tl=_(66081),Y1=_(90984),Tu=_(66679),oy=_(90110),h2=(_(33740),_(58242));let Ol=class extends fr.Z{constructor(){super(...arguments),this.items=new fs.Z,this._watchUpdatingTracking=new oy.R,this._callbacks=new Map,this._projector=(0,h2.E)(),this._hiddenProjector=(0,h2.E)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const p=document.createElement("div");p.className="esri-overlay-surface",this._set("surface",p),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),p.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,y=>{for(const g of y.added){const v=()=>g.render();this._callbacks.set(g,v),this._projector.append(this.surface,v)}for(const g of y.removed){const v=this._projector.detach(this._callbacks.get(g));this.surface.removeChild(v.domNode),this._callbacks.delete(g)}})}addItem(p){this.items.add(p)}removeItem(p){this.items.remove(p)}destroy(){this.items.removeAll(),this._callbacks.forEach(p=>this._projector.detach(p)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(p){const y=this._hiddenSurface,g=this._hiddenProjector;let v;const b=()=>(v=p.render(),v);g.append(y,b),g.renderNow();const C={left:0,top:0,right:0,bottom:0};if(v?.domNode){const D=v.domNode.getBoundingClientRect();C.left=D.left,C.top=D.top,C.right=D.right,C.bottom=D.bottom}for(g.detach(b);y.firstChild;)y.removeChild(y.firstChild);return C}overlaps(p,y){const g=this.computeBoundingRect(p),v=this.computeBoundingRect(y);return Math.max(g.left,v.left)<=Math.min(g.right,v.right)&&Math.max(g.top,v.top)<=Math.min(g.bottom,v.bottom)}get hasVisibleItems(){return this.items.some(p=>p.visible)}prepare(){var p=this;return(0,Yn.Z)(function*(){yield document.fonts.load(p._fontString()).catch(()=>{})})()}renderCanvas(p,y){const g=!!y?.disableDecorations;if(!this.items.some(b=>b.visible&&!(g&&b.isDecoration)))return;const v=p.getContext("2d");v.save(),v.font=this._fontString(),this.items.forEach(b=>{g&&b.isDecoration||(v.save(),b.renderCanvas(v),v.restore())}),v.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ol.prototype,"surface",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ol.prototype,"items",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ol.prototype,"needsRender",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ol.prototype,"_watchUpdatingTracking",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ol.prototype,"updating",null),Ol=(0,Se._)([(0,un.j)("esri.views.overlay.ViewOverlay")],Ol);const p2=Ol;var Q1=_(55829),l$=_(33653);const X1=[0,0];function f2(p){p&&((0,Tl.cS)(p),p.parentNode&&p.parentNode.removeChild(p))}const p$=p=>{let y=class extends p{constructor(...g){super(...g),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([(0,ln.YP)(()=>this.cursor,v=>{const{surface:b}=this;b&&b.setAttribute("data-cursor",v)}),(0,ln.YP)(()=>this.navigating,v=>{const{surface:b}=this;b&&b.setAttribute("data-navigating",v.toString())})])}initialize(){var g=this;const v=(0,la.Z)("mac"),b=function(){var C=(0,Yn.Z)(function*(){v&&(yield(0,ln.N1)(()=>g.ready),g.messagesCommon=yield(0,l$.ME)("esri/t9n/common").catch(()=>{}))});return function(){return C.apply(this,arguments)}}();b(),this.addHandles([(0,ln.YP)(()=>this.ui,(C,D)=>this._handleUIChange(C,D),ln.nn),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused")),(0,Q1.qe)(b)])}destroy(){this.destroyed||(this.ui=(0,wr.SC)(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(g){const v=this._get("container"),b=(0,Tl.L7)(g);if(b||"string"!=typeof g||_r.Z.getLogger(this).error("#container",`element with id '${g}' not found`),v===b)return;if(this._stopMeasuring(),v&&(v.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(f2(this.root),this._set("root",null)),this.userContent&&((0,Tl.YD)(this.userContent,v),f2(this.userContent),this._set("userContent",null))),!b)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);b.classList.add("esri-view");const C=document.createElement("div");C.className="esri-view-user-storage",(0,Tl.YD)(b,C),b.appendChild(C),this._set("userContent",C);const D=document.createElement("div");D.className="esri-view-root",b.insertBefore(D,b.firstChild),this._set("root",D);const R=document.createElement("div");R.className="esri-view-surface",R.setAttribute("role","application"),R.tabIndex=0,D.appendChild(R),this._set("surface",R);const z=new p2;D.appendChild(z.surface),this._set("overlay",z),this.addHandles((0,ln.YP)(()=>z.needsRender,he=>{this._overlayRenderTaskHandle=he&&!this._overlayRenderTaskHandle?(0,Tu.A)({render:()=>this.overlay?.render()}):(0,wr.hw)(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",b),this._startMeasuring()}get focused(){const g=document.activeElement===this.surface;return document.hasFocus()&&g}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(g,v,b){const C=this.position;return g-=C?C[0]:0,v-=C?C[1]:0,b?(b[0]=g,b[1]=v):b=[g,v],b}containerToPage(g,v,b){const C=this.position;return g+=C?C[0]:0,v+=C?C[1]:0,b?(b[0]=g,b[1]=v):b=[g,v],b}_handleUIChange(g,v){this.removeHandles("ui"),v&&v!==g&&v.destroy(),g&&(g.view=this,this.addHandles((0,ln.YP)(()=>this.root,b=>{g.container=b?function c$(p){const y=document.createElement("div");return p.appendChild(y),y}(b):null},ln.nn),"ui")),this._set("ui",g)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const g=this._freqInfo;g.freq=16,g.time=750,this.addHandles([(0,Y1.on)(window,"resize",()=>{g.freq=16,g.time=750}),(0,Tu.A)({prepare:v=>{const b=this._measure(),C=this._freqInfo;if(C.time+=v.deltaTime,b&&(C.freq=16,this._get("resizing")||this._set("resizing",!0)),C.time<C.freq)return;C.time=0;const D=this._position();C.freq=D||b?16:Math.min(750,2*C.freq),!b&&C.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const g=this.container,v=g?g.clientWidth:0,b=g?g.clientHeight:0;if(0===v||0===b)return this.suspended||this._set("suspended",!0),!1;const C=this.width,D=this.height;return v===C&&b===D?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",v),this._set("height",b),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:C,oldHeight:D,width:v,height:b}),!0)}_position(){const g=this.container,v=this.position,b=g&&function u$(p){const y=(p.ownerDocument||window.document).defaultView,g=p.getBoundingClientRect();return X1[0]=g.left+(y?.pageXOffset??0),X1[1]=g.top+(y?.pageYOffset??0),X1}(g);return!(!b||v&&b[0]===v[0]&&b[1]===v[1]||(this._set("position",[b[0],b[1]]),0))}forceDOMReadyCycle(){}};return(0,Se._)([(0,Le.Cb)()],y.prototype,"container",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"focused",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"height",void 0),(0,Se._)([(0,Le.Cb)()],y.prototype,"messagesCommon",void 0),(0,Se._)([(0,Le.Cb)({type:p2})],y.prototype,"overlay",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"position",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"resizing",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"root",void 0),(0,Se._)([(0,Le.Cb)({value:null,readOnly:!0})],y.prototype,"size",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"surface",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"suspended",void 0),(0,Se._)([(0,Le.Cb)()],y.prototype,"ui",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"userContent",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],y.prototype,"width",void 0),(0,Se._)([(0,Le.Cb)()],y.prototype,"widthBreakpoint",void 0),y=(0,Se._)([(0,un.j)("esri.views.DOMContainer")],y),y};var ay=_(37636),ly=_(93300),Md=_(77192);function fa(p){return null!=p&&"open"in p&&"declaredClass"in p}function m2(p){return null!=p&&"declaredClass"in p&&"dockOptions"in p}const f$=p=>{let y=class extends p{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){var g=this;this.addHandles([(0,ln.YP)(()=>[this.ui,this.popup],([v,b],C)=>{const D="popup";if(C){const[z,he]=C;z&&fa(he)&&(he.view=null,m2(he)&&z.remove(he,D))}v&&fa(b)&&(b.view=this,m2(b)&&v.add(b,{key:D,position:"manual",internal:!0}))},ln.nn),this.on("click",v=>{this.popup&&this.popupEnabled&&("mouse"!==v.pointerType||0===v.button)&&(!fa(this.popup)&&"autoOpenEnabled"in this.popup&&!1===this.popup.autoOpenEnabled||(fa(this.popup)?this.popup.viewModel.handleViewClick(v):v.async((0,Yn.Z)(function*(){yield g.setupPopup(),fa(g.popup)&&!g.destroyed&&g.ready&&g.popupEnabled&&g.popup.viewModel.handleViewClick(v)}))))},Md.f.WIDGET)]),(0,ln.N1)(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{Promise.all([_.e(842),_.e(2784),_.e(2616),_.e(8592),_.e(3651)]).then(_.bind(_,33651))})}destroy(){this.destroyed||this.closePopup()}openPopup(g){var v=this;return(0,Yn.Z)(function*(){if(fa(v.popup))return v.popup.open(g);try{if(yield v.setupPopup(),!v.popup)return void _r.Z.getLogger(v).error(new pr.Z("view:null-popup","Popup is null and can't be opened"));v.popup.open(g)}catch{}})()}closePopup(){this._popupSetupTask?.abort(),fa(this.popup)&&this.popup.close()}fetchPopupFeatures(g,v){var b=this;return(0,Yn.Z)(function*(){yield b.when();const{location:C,queryArea:D,layerViewsAndGraphics:R,clientOnlyGraphics:z}=yield b._prepareFetchPopupFeatures(g,v),he=Promise.resolve(z),Ce=b._queryLayerPopupFeatures(D,R,v),Ie=Ce.map(Ke=>Ke.promise);return{location:C,clientOnlyGraphics:z,allGraphicsPromise:(0,xr.WW)([he,...Ie]).then(Ke=>Array.from(new Set(Ke.flat()))),promisesPerLayerView:Ce}})()}setupPopup(){var g=this;return(0,Yn.Z)(function*(){if(g._popupSetupTask?.abort(),g.popup&&!fa(g.popup))return g._popupSetupTask=(0,ay.vr)(function(){var v=(0,Yn.Z)(function*(b){const{default:C}=yield Promise.all([_.e(842),_.e(2784),_.e(2616),_.e(8592),_.e(3651)]).then(_.bind(_,33651));if((0,xr.k_)(b),!g.popup||fa(g.popup))return;const D=g.popup;delete D.open,delete D.close,g.popup=new C(D)});return function(b){return v.apply(this,arguments)}}()),g._popupSetupTask.promise})()}_queryLayerPopupFeatures(g,v,b){return v.map(({layerView:C,graphics:D})=>{const z=C.fetchPopupFeatures(g,{clientGraphics:D,event:b?.event,signal:b?.signal,defaultPopupTemplateEnabled:null!=b&&!!b.defaultPopupTemplateEnabled});return{layerView:C,promise:z}})}_isValidPopupGraphic(g,v){return g&&!!g.getEffectivePopupTemplate(null!=v&&v.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(g,v){var b=this;return(0,Yn.Z)(function*(){const{clientGraphics:C,queryArea:D,location:R}=yield b._popupHitTestGraphics(g,v),z=b._getFetchPopupLayerViews(),{layerViewsAndGraphics:he,clientOnlyGraphics:Ce}=b._graphicsPerFetchPopupLayerView(C,z);return{clientOnlyGraphics:Ce,layerViewsAndGraphics:he,queryArea:D,location:R}})()}_popupHitTestGraphics(g,v){var b=this;return(0,Yn.Z)(function*(){const C=yield b.popupHitTest(g),R=C.mapPoint,z=C.results.filter(Ce=>"graphic"===Ce.type&&b._isValidPopupGraphic(Ce.graphic,v)),he=z.length?z[0].mapPoint:null;return{clientGraphics:z.map(Ce=>Ce.graphic),queryArea:R,location:R||he}})()}_getFetchPopupLayerViews(){const g=[];return this.allLayerViews.forEach(v=>{this._isValidPopupLayerView(v)&&g.push(v)}),null!=this.graphicsView&&this._isValidPopupLayerView(this.graphicsView)&&g.push(this.graphicsView),g.reverse()}_isValidPopupLayerView(g){return null!=g&&(!("layer"in g)||!g.suspended)&&"fetchPopupFeatures"in g}_graphicsPerFetchPopupLayerView(g,v){const b=[],C=new Map,D=v.map(R=>{const z=[];return C.set("layer"in R?R.layer:R.graphics,z),{layerView:R,graphics:z}});for(const R of g){const z=C.get(R.layer)||C.get(R.sourceLayer)||null;z?z.push(R):b.push(R)}return{layerViewsAndGraphics:D,clientOnlyGraphics:b}}};return(0,Se._)([(0,Le.Cb)({cast(g){return!g||fa(g)||"object"==typeof g&&(g.open=v=>((0,ly.x9)(_r.Z.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(v)),g.close=()=>((0,ly.x9)(_r.Z.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),g}})],y.prototype,"popup",void 0),(0,Se._)([(0,Le.Cb)()],y.prototype,"popupEnabled",void 0),y=(0,Se._)([(0,un.j)("esri.views.PopupView")],y),y};var y2=_(50433),g2=_(1258),q1=_(18714),jp=_(26894),eb=_(69063);let uy=class extends q1.a{constructor(p){super(p),this.addHandles(this.on("before-add",y=>{null!=y.item&&y.item.parent===this.owner&&(_r.Z.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),y.preventDefault())}))}_own(p){p.parent=this.owner}_release(p){p.parent=null}};uy=(0,Se._)([(0,un.j)("esri.support.AnalysesCollection")],uy);var v2=_(72262);let Il=class extends fr.Z{constructor(p){super(p),this.view=null,this.baseLayerViews=new fs.Z,this.referenceLayerViews=new fs.Z,this._loadingHandle=(0,ln.YP)(()=>this.view?.map?.basemap,y=>{y&&y.load().catch(()=>{})},ln.nn)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const p of this.baseLayerViews)p.destroy();this.baseLayerViews.length=0;for(const p of this.referenceLayerViews)p.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){if(this.view&&this.view.suspended)return!1;const p=this.view?.map?.basemap;return!!p&&!!p.loaded&&(this.baseLayerViews.some(y=>y.updating)||this.referenceLayerViews.some(y=>y.updating))}};(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Il.prototype,"view",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Il.prototype,"baseLayerViews",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Il.prototype,"referenceLayerViews",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Il.prototype,"suspended",null),(0,Se._)([(0,Le.Cb)({type:Boolean,readOnly:!0})],Il.prototype,"updating",null),Il=(0,Se._)([(0,un.j)("esri.views.BasemapView")],Il);var cy=_(8611),tb=_(37718);class y${constructor(y,g,v){this.layer=y,this.view=g,this.layerViewImporter=v,this._controller=new AbortController,this._deferred=(0,xr.hh)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,xr.fu)(this._controller.signal,()=>{const b=new pr.Z("cancelled:layerview-create","layerview creation cancelled",{layer:y});this._deferred.reject(b)})}tryRecycle(y){if(!this.done||!this.layerView||!function m$(p){return"tryRecycleWith"in p}(this.layerView))return null;const g=this.layer.type,v=this._controller.signal;for(let b=0;b<y.length;b++){const C=y[b];if(C.type!==g)continue;const D=this.layerView.tryRecycleWith(C,{signal:v});if(D){y.splice(b,1),this.layer=C;const R=this.layerView,z=R.view;return this.promise=Promise.race([D.then(()=>((0,xr.k_)(this._controller.signal),C.emit("layerview-destroy",{view:z,layerView:R}),z.emit("layerview-destroy",{view:z,layerView:R}),C.emit("layerview-create",{view:z,layerView:R}),z.emit("layerview-create",{view:z,layerView:R}),R)),new Promise((he,Ce)=>(0,xr.fu)(this._controller.signal,()=>Ce((0,xr.zE)())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:y}=this;if(y){const{layer:g,view:v}=this;g.emit("layerview-destroy",{view:v,layerView:y}),v.emit("layerview-destroy",{layer:g,layerView:y})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}start(){var y=this;return(0,Yn.Z)(function*(){if(y._started)return;y._started=!0;const{_controller:{signal:g},layer:v,view:b}=y;y._map=b.map;try{let C,D;if(yield v.load({signal:g}),v.prefetchResources&&(yield v.prefetchResources({signal:g})),function v$(p){return"createLayerView"in p&&null!=p.createLayerView}(v))C=yield v.createLayerView(b,{signal:g});else{if(!y.layerViewImporter.hasLayerViewModule(v))throw new pr.Z("layer:view-not-supported","No layerview implementation was found");const he=yield y.layerViewImporter.importLayerView(v);(0,xr.k_)(g),C="default"in he?new he.default({layer:v,view:b}):new he({layer:v,view:b})}const R=()=>{D=(0,wr.hw)(D),C.destroyed||C.destroy(),C.layer=null,C.parent=null,C.view=null,y.done=!0};D=(0,xr.fu)(g,R),(0,xr.k_)(g);try{yield C.when()}catch(he){throw R(),he}if(!y._map?.allLayers?.includes(v))return R(),void y._deferred.reject(new pr.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:v}));y.layerView=C,v.emit("layerview-create",{view:b,layerView:C}),b.emit("layerview-create",{layer:v,layerView:C}),y.done=!0,y._deferred.resolve(C)}catch(C){v.emit("layerview-create-error",{view:b,error:C}),b.emit("layerview-create-error",{layer:v,error:C}),y.done=!0,y._deferred.reject(new pr.Z("layerview:create-error","layerview creation failed",{layer:v,error:C}))}})()}}let pi=class extends fr.Z{constructor(p){super(p),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new oy.R,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const y=this.view.map?.allLayers;if(y)for(const g of y)this.layerViewImporter.hasLayerViewModule(g)&&this.layerViewImporter.importLayerView(g)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=(0,xr.hh)(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles((0,Tu.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const y=this.view.map;if(this._map!==y&&(this.clear(),this._map=y),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const g=new Set,v=[],b=this.view.ready,C=R=>{if(null!=R)for(const z of R)if(z){g.add(z);const he=this._layerLayerViewInfoMap.get(z);he&&b?he.start():he||this._recyclingInfoMap.has(z)||v.push(z),"layers"in z&&z.layers&&C(z.layers)}};for(const R of this._rootCollectionNames)C((0,tb.U2)(this,R));for(const[R,z]of this._layerLayerViewInfoMap)if(!g.has(R)){this._layerLayerViewInfoMap.delete(z.layer);const he=z.tryRecycle(v);he?(this.notifyChange("updating"),this._recyclingInfoMap.set(z.layer,z),he.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(z.layer),this._layerLayerViewInfoMap.set(z.layer,z),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(z.layer),z.destroy(),this._reschedule()})):z.destroy()}for(const[R,z]of this._recyclingInfoMap)g.has(R)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(z.layer),z.destroy());for(const R of v)this._createLayerView(R);this._refreshCollections();const D=[y?.ground?.layers,y?.basemap?.baseLayers,y?.basemap?.referenceLayers,y?.layers].filter(R=>!!R);g.forEach(R=>"layers"in R&&D.push(R.layers)),this.addHandles(D.map(R=>this._watchUpdatingTracking.addOnCollectionChange(()=>R,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([(0,ln.on)(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,ln.YP)(()=>{const p=this.view,y=p?.map;return[y?.basemap,y?.ground,y?.layers,p?.ready]},()=>this._reschedule(),ln.tX)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),(0,Zm.O)(this._recyclingInfoMap),(0,Zm.O)(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject((0,xr.zE)()),this._workPromise=null)}get _layersToLayerViews(){const p=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&p.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(p)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||(0,cy.oE)(this._layerLayerViewInfoMap,p=>!p.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let p=0;for(const y of this._layerLayerViewInfoMap.values())y.done||++p;return p}clear(){this.destroyed||((0,Zm.O)(this._layerLayerViewInfoMap),this._refreshCollections())}whenLayerView(p){var y=this;return(0,Yn.Z)(function*(){if(yield y._reschedule(),!y._layerLayerViewInfoMap.has(p)){if(y._recyclingInfoMap.has(p))return y._recyclingInfoMap.get(p).promise;throw new pr.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:p})}return y._layerLayerViewInfoMap.get(p).promise})()}_refreshCollections(){for(const[p,y]of this._layersToLayerViews)this._populateLayerViewsOwners((0,tb.U2)(this,p),(0,tb.U2)(this,y),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(p,y,g){if(!p||!y)return void(y&&y.removeAll());let v=0;for(const b of p){const C=this._layerLayerViewInfoMap.get(b);if(!C?.layerView)continue;const D=C.layerView;D.layer=b,D.parent=g,y.at(v)!==D&&y.splice(v,0,D),b.layers&&this._populateLayerViewsOwners(b.layers,D.layerViews,D),v+=1}v<y.length&&y.splice(v,y.length)}_createLayerView(p){p.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(p)&&this.layerViewImporter.importLayerView(p);const y=new y$(p,this.view,this.layerViewImporter);y.promise.then(()=>this._refreshCollections(),g=>{g&&((0,xr.D_)(g)||"cancelled:layerview-create"===g.name)||_r.Z.getLogger(this).error(`Failed to create layerview for layer title:'${p.title??"no title"}', id:'${p.id??"no id"}' of type '${p.type}'.`,{layer:p,error:g}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(p,y),this.view.ready&&y.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,Se._)([(0,Le.Cb)()],pi.prototype,"_workPromise",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],pi.prototype,"_watchUpdatingTracking",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],pi.prototype,"_layersToLayerViews",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],pi.prototype,"_rootCollectionNames",null),(0,Se._)([(0,Le.Cb)()],pi.prototype,"layerViewImporter",void 0),(0,Se._)([(0,Le.Cb)()],pi.prototype,"supportsGround",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],pi.prototype,"updating",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],pi.prototype,"updatingRemaining",null),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],pi.prototype,"view",void 0),pi=(0,Se._)([(0,un.j)("esri.views.LayerViewManager")],pi);const g$=pi;var Eo=_(55768);let Qo=class extends fr.Z{constructor(p){super(p),this.factor=1.5,this.offset=(0,Eo.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,Se._)([(0,Le.Cb)({type:Number})],Qo.prototype,"factor",void 0),(0,Se._)([(0,Le.Cb)({nonNullable:!0})],Qo.prototype,"offset",void 0),(0,Se._)([(0,Le.Cb)()],Qo.prototype,"position",void 0),(0,Se._)([(0,Le.Cb)({type:Number,range:{min:0}})],Qo.prototype,"size",void 0),(0,Se._)([(0,Le.Cb)()],Qo.prototype,"maskUrl",void 0),(0,Se._)([(0,Le.Cb)()],Qo.prototype,"maskEnabled",void 0),(0,Se._)([(0,Le.Cb)()],Qo.prototype,"overlayUrl",void 0),(0,Se._)([(0,Le.Cb)()],Qo.prototype,"overlayEnabled",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Qo.prototype,"version",null),(0,Se._)([(0,Le.Cb)({type:Boolean})],Qo.prototype,"visible",void 0),Qo=(0,Se._)([(0,un.j)("esri.views.Magnifier")],Qo);const _2=Qo;let Np=class extends((0,ca.J)(fr.Z)){constructor(p){super(p),this.accentColor=new Du.Z([255,127,0]),this.textColor=new Du.Z([255,255,255])}};(0,Se._)([(0,Le.Cb)({type:Du.Z,nonNullable:!0})],Np.prototype,"accentColor",void 0),(0,Se._)([(0,Le.Cb)({type:Du.Z,nonNullable:!0})],Np.prototype,"textColor",void 0),Np=(0,Se._)([(0,un.j)("esri.views.Theme")],Np);const nb=Np;var E2,p,Up=_(8169),rb=_(55117),Gs=_(27041);(p=E2||(E2={}))[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right";const b2=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],C2={};function M2(p){return!!C2[p]}b2.forEach(p=>{C2[p]=!0});class E${constructor(y){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=y,this.inputManager=null}connect(y){y&&this.disconnect(),this.inputManager=y,this._handlers.forEach(({handler:g,priority:v},b)=>this.inputManager?.installHandlers(b,[g],v))}disconnect(){this.inputManager&&this._handlers.forEach((y,g)=>this.inputManager?.uninstallHandlers(g)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(y,g,v,b){const C=Array.isArray(y)?y:y.split(",");if(!function _$(p){for(const y of p)if(!M2(y))return!1;return!0}(C))return C.some(M2)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let D,R;Array.isArray(g)?R=g:(D=g,R=[]),"function"==typeof v?D=v:b=v,b=b??Md.f.DEFAULT;const z=this._createUniqueGroupName(),he=new b$(this.view,C,R,D);this._handlers.set(z,{handler:he,priority:b});for(const Ce of C){const Ie=this._handlerCounts.get(Ce)||0;this._handlerCounts.set(Ce,Ie+1)}return this.inputManager&&this.inputManager.installHandlers(z,[he],b),(0,g2.kB)(()=>this._removeHandler(z,C))}hasHandler(y){return!!this._handlerCounts.get(y)}_removeHandler(y,g){if(this._handlers.has(y)){this._handlers.delete(y);for(const v of g){const b=this._handlerCounts.get(v);void 0===b?console.error("Trying to remove handler for event that has no handlers registered: ",v):1===b?this._handlerCounts.delete(v):this._handlerCounts.set(v,b-1)}}this.inputManager&&this.inputManager.uninstallHandlers(y)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class b$ extends Gs.a{constructor(y,g,v,b){super(!0),this._latestDragStart=void 0,this.view=y;for(const C of g)switch(C){case"click":this.registerIncoming("click",v,D=>b(this._wrapClick(D)));break;case"double-click":this.registerIncoming("double-click",v,D=>b(this._wrapDoubleClick(D)));break;case"immediate-click":this.registerIncoming("immediate-click",v,D=>b(this._wrapImmediateClick(D)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",v,D=>b(this._wrapImmediateDoubleClick(D)));break;case"hold":this.registerIncoming("hold",v,D=>b(this._wrapHold(D)));break;case"drag":this.registerIncoming("drag",v,D=>{const R=this._wrapDrag(D);R&&b(R)});break;case"key-down":this.registerIncoming("key-down",v,D=>b(this._wrapKeyDown(D)));break;case"key-up":this.registerIncoming("key-up",v,D=>b(this._wrapKeyUp(D)));break;case"pointer-down":this.registerIncoming("pointer-down",v,D=>b(this._wrapPointer(D,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",v,D=>b(this._wrapPointer(D,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",v,D=>b(this._wrapPointer(D,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",v,D=>b(this._wrapPointerDrag(D)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",v,D=>b(this._wrapMouseWheel(D)));break;case"pointer-enter":this.registerIncoming("pointer-enter",v,D=>b(this._wrapPointer(D,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",v,D=>b(this._wrapPointer(D,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",v,D=>{b(this._wrapGamepad(D))});break;case"focus":this.registerIncoming("focus",v,D=>{b(this._wrapFocus(D))});break;case"blur":this.registerIncoming("blur",v,D=>{b(this._wrapBlur(D))})}}_wrapFocus(y){return{type:"focus",timestamp:y.timestamp,native:y.data.native,cancelable:y.cancelable,stopPropagation:()=>y.stopPropagation(),async:g=>y.async(g),preventDefault:()=>y.preventDefault()}}_wrapBlur(y){return{type:"blur",timestamp:y.timestamp,native:y.data.native,cancelable:y.cancelable,stopPropagation:()=>y.stopPropagation(),async:g=>y.async(g),preventDefault:()=>y.preventDefault()}}_wrapClick(y){const{pointerType:g,button:v,buttons:b,x:C,y:D,native:R,eventId:z}=y.data,{cancelable:he,timestamp:Ce}=y;return{type:"click",pointerType:g,button:v,buttons:b,x:C,y:D,native:R,timestamp:Ce,screenPoint:(0,Eo.vW)(C,D),mapPoint:this._getMapPoint(C,D),eventId:z,cancelable:he,stopPropagation:()=>y.stopPropagation(),async:Ie=>y.async(Ie),preventDefault:()=>y.preventDefault()}}_wrapDoubleClick(y){const{pointerType:g,button:v,buttons:b,x:C,y:D,native:R,eventId:z}=y.data,{cancelable:he,timestamp:Ce}=y;return{type:"double-click",pointerType:g,button:v,buttons:b,x:C,y:D,native:R,timestamp:Ce,mapPoint:this._getMapPoint(C,D),eventId:z,cancelable:he,stopPropagation:()=>y.stopPropagation(),async:Ie=>y.async(Ie),preventDefault:()=>y.preventDefault()}}_wrapImmediateClick(y){const{pointerType:g,button:v,buttons:b,x:C,y:D,native:R,eventId:z}=y.data,he=R.pointerId,{cancelable:Ce,timestamp:Ie}=y;return{type:"immediate-click",pointerId:he,pointerType:g,button:v,buttons:b,x:C,y:D,native:R,timestamp:Ie,mapPoint:this._getMapPoint(C,D),eventId:z,cancelable:Ce,stopPropagation:()=>y.stopPropagation(),async:Ke=>y.async(Ke),preventDefault:()=>y.preventDefault()}}_wrapImmediateDoubleClick(y){const{pointerType:g,button:v,buttons:b,x:C,y:D,native:R,eventId:z}=y.data,he=R.pointerId,{cancelable:Ce,timestamp:Ie}=y;return{type:"immediate-double-click",pointerId:he,pointerType:g,button:v,buttons:b,x:C,y:D,native:R,timestamp:Ie,mapPoint:this._getMapPoint(C,D),eventId:z,cancelable:Ce,stopPropagation:()=>y.stopPropagation(),async:Ke=>y.async(Ke),preventDefault:()=>y.preventDefault()}}_wrapHold(y){const{pointerType:g,button:v,buttons:b,x:C,y:D,native:R}=y.data,{cancelable:z,timestamp:he}=y;return{type:"hold",pointerType:g,button:v,buttons:b,x:C,y:D,native:R,timestamp:he,mapPoint:this._getMapPoint(C,D),cancelable:z,stopPropagation:()=>y.stopPropagation(),async:Ce=>y.async(Ce),preventDefault:()=>y.preventDefault()}}_getMapPoint(y,g){return this.view.toMap((0,Eo.vW)(y,g),{exclude:[]})}_wrapDrag(y){const g=y.data,{x:v,y:b}=g.center,{action:C,pointerType:D,button:R}=g;if("start"===C&&(this._latestDragStart=g),!this._latestDragStart)return;const z=g.pointer.native,he=g.buttons,{cancelable:Ce,timestamp:Ie}=y,Ke={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===C&&(this._latestDragStart=void 0),{type:"drag",action:C,x:v,y:b,origin:Ke,pointerType:D,button:R,buttons:he,radius:g.radius,angle:(0,rb.BV)(g.angle),native:z,timestamp:Ie,cancelable:Ce,stopPropagation:()=>y.stopPropagation(),async:rt=>y.async(rt),preventDefault:()=>y.preventDefault()}}_wrapKeyDown(y){const{key:g,repeat:v,native:b}=y.data,{cancelable:C,timestamp:D}=y;return{type:"key-down",key:g,repeat:v,native:b,timestamp:D,cancelable:C,stopPropagation:()=>y.stopPropagation(),async:R=>y.async(R),preventDefault:()=>y.preventDefault()}}_wrapKeyUp(y){const{key:g,native:v}=y.data,{cancelable:b,timestamp:C}=y;return{type:"key-up",key:g,native:v,timestamp:C,cancelable:b,stopPropagation:()=>y.stopPropagation(),async:D=>y.async(D),preventDefault:()=>y.preventDefault()}}_wrapPointer(y,g){const{x:v,y:b,button:C,buttons:D,native:R,eventId:z}=y.data,he=R.pointerId,Ce=R.pointerType,{cancelable:Ie,timestamp:Ke}=y;return{type:g,x:v,y:b,pointerId:he,pointerType:Ce,button:C,buttons:D,native:R,timestamp:Ke,eventId:z,cancelable:Ie,stopPropagation:()=>y.stopPropagation(),async:rt=>y.async(rt),preventDefault:()=>y.preventDefault()}}_wrapPointerDrag(y){const{x:g,y:v,buttons:b,native:C,eventId:D}=y.data.currentEvent,{button:R}=y.data.startEvent,z=y.data.startEvent.native.pointerId,he=y.data.startEvent.native.pointerType,Ce=y.data.action,Ie={x:y.data.startEvent.x,y:y.data.startEvent.y},{cancelable:Ke,timestamp:rt}=y;return{type:"pointer-drag",x:g,y:v,pointerId:z,pointerType:he,button:R,buttons:b,action:Ce,origin:Ie,native:C,timestamp:rt,eventId:D,cancelable:Ke,stopPropagation:()=>y.stopPropagation(),async:pt=>y.async(pt),preventDefault:()=>y.preventDefault()}}_wrapMouseWheel(y){const{cancelable:g,data:v,timestamp:b}=y,{x:C,y:D,deltaY:R,native:z}=v;return{type:"mouse-wheel",x:C,y:D,deltaY:R,native:z,timestamp:b,cancelable:g,stopPropagation:()=>y.stopPropagation(),async:he=>y.async(he),preventDefault:()=>y.preventDefault()}}_wrapGamepad(y){const{action:g,state:v,device:b}=y.data,{cancelable:C,timestamp:D}=y,{buttons:R,axes:z}=v;return{type:"gamepad",device:b,timestamp:D,action:g,buttons:R,axes:z,cancelable:C,stopPropagation:()=>y.stopPropagation(),async:he=>y.async(he),preventDefault:()=>y.preventDefault()}}}var Bp,D2,S2;function C$(p){return[p.on("before-add",y=>{const g=y.item;if(null==g||p.includes(g))return _r.Z.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void y.preventDefault();g.onAdd()}),p.on("after-remove",y=>{const g=y.item;g.active&&(g.view.activeTool=null),g.destroy()})]}function sb(p){return p.visible&&null!=p.getEditableFlag&&p.getEditableFlag(Bp.USER)&&p.getEditableFlag(Bp.MANAGER)}(function(p){p[p.USER=0]="USER",p[p.MANAGER=1]="MANAGER"})(Bp||(Bp={})),function(p){p[p.None=0]="None",p[p.Unfocused=1]="Unfocused",p[p.Focused=2]="Focused",p[p.Unselected=4]="Unselected",p[p.Selected=8]="Selected",p[p.All=15]="All"}(D2||(D2={})),function(p){p[p.None=0]="None",p[p.Custom1=16]="Custom1",p[p.Custom2=32]="Custom2",p[p.Custom3=64]="Custom3",p[p.Custom4=128]="Custom4",p[p.Custom5=256]="Custom5",p[p.Custom6=512]="Custom6",p[p.Custom7=1024]="Custom7",p[p.Custom8=2048]="Custom8",p[p.Custom9=4096]="Custom9",p[p.Custom10=8192]="Custom10",p[p.Custom11=16384]="Custom11",p[p.Custom12=32768]="Custom12",p[p.All=65520]="All"}(S2||(S2={}));var ob=_(44242);function ma(p){return(0,Eo.vW)(p.x,p.y)}function w2(p,y){const g=(p instanceof HTMLElement?p:p.surface)?.getBoundingClientRect();return g?(0,Eo.vW)(y.clientX-g.left,y.clientY-g.top):(0,Eo.vW)(0,0)}function T2(p,y){return y instanceof Event?w2(p,y):ma(y)}function O2(p){if(p instanceof Event)return!0;if("object"==typeof p&&"type"in p)switch(p.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class M${constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(y,g){const v=()=>y.stopPropagation();switch(y.type){case"pointer-move":I2(y.pointerType)&&this._pointerLocations.set(y.pointerId,{x:y.x,y:y.y,pointerType:y.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(v(),"end"===y.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!P2(y))break;const b=ma(y),C=this._intersect(b,y.pointerType,g.forEachTool);if(null==C)break;const D=C.manipulator,R=C.tool;null==D||null==R||!D.interactive||D.grabbable&&D.grabbableForEvent(y)||!D.grabbing||D.dragging||this._ungrabManipulatorBeforeDragging(D,y,g),null!=D&&null!=R&&D.interactive&&D.grabbable&&D.grabbableForEvent(y)&&!D.grabbing&&(this._grabbedManipulators.set(y.pointerId,{manipulator:D,tool:R,start:b,pointerType:y.pointerType}),1===this._grabbedManipulators.size&&null==g.activeTool&&(this._revertToNullActiveTool=!0,g.setActiveTool(C.tool)),D.grabbing=!0,D.events.emit("grab-changed",{action:"start",pointerType:y.pointerType,screenPoint:b}),v());break}case"pointer-up":this._draggedManipulators.has(y.pointerId)||this._handlePointerEnd(y,g);break;case"pointer-drag":{if(!P2(y))break;const b=this._grabbedManipulators.get(y.pointerId),C=b?.manipulator,D=b?.tool;if(null==C||null==D)break;const R=ma(y);R.x=(0,rb.uZ)(R.x,0,g.view.width),R.y=(0,rb.uZ)(R.y,0,g.view.height);const z=b.start,he=this._draggedManipulators.get(y.pointerId);switch(y.action){case"start":case"update":"update"!==y.action&&1!==this._grabbedManipulators.size||(C.dragging=!0,C.events.emit("drag",he?{action:"update",start:z,screenPoint:R}:{action:"start",start:z,screenPoint:R,pointerType:y.pointerType}),this._draggedManipulators.set(y.pointerId,{tool:D,manipulator:C,start:z}));break;case"end":C.dragging=!1,he&&C.events.emit("drag",{action:"end",start:z,screenPoint:R}),this._draggedManipulators.delete(y.pointerId),this._handlePointerEnd(y,g)}v();break}case"immediate-click":{const b=ma(y),C=this._intersect(b,y.pointerType,g.forEachTool);if(function D$(p){return!!p.native.shiftKey}(y)||g.forEachTool(he=>{if((null==C||C.tool!==he||he.automaticManipulatorSelection)&&he.manipulators){let Ce=!1;he.manipulators.forEach(({manipulator:Ie})=>{Ie.selected&&(Ie.selected=!1,Ce=!0)}),Ce&&he.onManipulatorSelectionChanged&&he.onManipulatorSelectionChanged()}}),null==C)break;const{manipulator:D,tool:R}=C;if(!D.interactive)break;D.selectable&&R.automaticManipulatorSelection&&(D.selected=!D.selected,R.onManipulatorSelectionChanged&&R.onManipulatorSelectionChanged()),D.events.emit("immediate-click",{screenPoint:b,button:y.button,pointerType:y.pointerType,shiftKey:y.native.shiftKey,stopPropagation:v}),ib(D,v);break}case"click":{const b=ma(y),C=this._intersect(b,y.pointerType,g.forEachTool),D=C?.manipulator;if(null==D||!D.interactive)break;D.events.emit(y.type,{screenPoint:b,button:y.button,pointerType:y.pointerType,shiftKey:y.native.shiftKey}),v();break}case"double-click":{const b=ma(y),C=this._intersect(b,y.pointerType,g.forEachTool),D=null!=C?C.manipulator:null;if(null==D||!D.interactive)break;D.events.emit("double-click",{screenPoint:b,button:y.button,pointerType:y.pointerType,shiftKey:y.native.shiftKey,stopPropagation:v}),ib(D,v);break}case"immediate-double-click":{const b=ma(y),C=this._intersect(b,y.pointerType,g.forEachTool),D=null!=C?C.manipulator:null;if(null==D||!D.interactive)break;D.events.emit("immediate-double-click",{screenPoint:b,button:y.button,pointerType:y.pointerType,shiftKey:y.native.shiftKey,stopPropagation:v}),ib(D,v);break}}this._onFocusChange(g.forEachTool)}_ungrabManipulatorBeforeDragging(y,g,v){y.grabbing=!1,y.events.emit("grab-changed",{action:"end",pointerType:g.pointerType,screenPoint:ma(g)}),this._grabbedManipulators.forEach(({manipulator:b},C)=>{b===y&&this._grabbedManipulators.delete(C)}),this._afterManipulatorUngrab(v.setActiveTool)}_handlePointerEnd(y,g){const v=this._grabbedManipulators.get(y.pointerId)?.manipulator;null!=v&&v.grabbing&&(v.grabbing=!1,v.events.emit("grab-changed",{action:"end",pointerType:y.pointerType,screenPoint:ma(y)}),this._grabbedManipulators.delete(y.pointerId),this._afterManipulatorUngrab(g.setActiveTool))}_cursorFromMap(y){let g=null;return(0,cy.oE)(y,({manipulator:v})=>!(null==v||!v.interactive||(v.grabbing&&v.grabCursor?(g=v.grabCursor,0):!v.cursor||(g=v.cursor,0)))),g}_onFocusChange(y){this._updateCursor(),this._updateFocusedManipulatorTools(y)}_updateCursor(){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(y){const g=new Set,v=new Set;this._grabbedManipulators.forEach(({tool:b})=>{g.add(b)}),this._hoveredManipulators.forEach(({tool:b})=>{v.add(b)}),y(b=>{b.hasGrabbedManipulators=g.has(b),b.hasHoveredManipulators=v.has(b);const C=this._grabbedManipulators.values(),D=(0,ob.sE)(C,({tool:R})=>R===b);b.firstGrabbedManipulator=null!=D?D.manipulator:null})}clearPointers(y,{forEachTool:g,setActiveTool:v},b=!0,C){const D=(R,z)=>R===y&&(null==C||C===z);this._grabbedManipulators.forEach(({tool:R,manipulator:z,pointerType:he},Ce)=>{D(R,z)&&(this._grabbedManipulators.delete(Ce),z.grabbing=!1,z.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:he}))}),this._draggedManipulators.forEach(({tool:R,manipulator:z},he)=>{D(R,z)&&(this._draggedManipulators.delete(he),z.dragging=!1,z.events.emit("drag",{action:"cancel"}))}),b&&this._hoveredManipulators.forEach(({tool:R,manipulator:z},he)=>{D(R,z)&&(this._hoveredManipulators.delete(he),z.hovering=!1)}),this._afterManipulatorUngrab(v),this._onFocusChange(g)}_intersect(y,g,v){let b=null;return v(C=>{if(null==C.manipulators||!sb(C))return!1;const D=C.manipulators.intersect(y,g);return null!=D&&(b={tool:C,manipulator:D},!0)}),b}updateHoveredStateFromKnownPointers(y){this._pointerLocations.forEach((g,v)=>{this._updateHoveredStateForPointerAtScreenPosition((0,Eo.vW)(g.x,g.y),v,g.pointerType,y)})}handleHoverEvent(y,g){"pointer-up"!==y.type&&"immediate-click"!==y.type&&"pointer-move"!==y.type||!I2(y.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(ma(y),y.pointerId,y.pointerType,g)}_updateHoveredStateForPointerAtScreenPosition(y,g,v,b){let C=this._intersect(y,v,b);const D=this._hoveredManipulators.get(g)?.manipulator;null==C||C.manipulator.interactive||(C=null),null!=C&&D===C.manipulator||(null!=D&&(D.hovering=!1),null!=C?(C.manipulator.hovering=!0,this._hoveredManipulators.set(g,C)):this._hoveredManipulators.delete(g),this._onFocusChange(b))}_afterManipulatorUngrab(y){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(y(null),this._revertToNullActiveTool=!1)}}function I2(p){return"mouse"===p}function P2(p){return"mouse"!==p.pointerType||0===p.button}function ib(p,y){p?.consumesClicks&&y()}const A2="attached",ab="tools";let ya=class extends fr.Z{constructor(p){super(p),this._updatingHandles=new oy.R,this._clock=Up.m,this._manipulatorState=new M$,this.tools=new fs.Z,this.cursor=null,this._interacting=!1,this._interactingTimeout=1e3,this._interactingTimeoutHandle=null,this._forEachTool=y=>{for(const g of this.tools.items)if(y(g))return}}initialize(){this.addHandles([this.view.on(b2,p=>{this._handleInputEvent(p)},Md.f.TOOL),...C$(this.tools),this.tools.on("before-add",({item:p})=>{this._updateToolEditableFlag(p)}),this.tools.on("before-remove",({item:p})=>{this._manipulatorState.clearPointers(p,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(p=>p.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:p=>{this.activeTool=p},view:this.view}}set activeTool(p){if(null!=p&&!this.view.ready)return void _r.Z.getLogger(this).error("Cannot set active tool while view is not ready.");if(p===this.activeTool)return;const y=this.activeTool;this._set("activeTool",p),y?.deactivate(),p?.activate(),this._removeIncompleteTools(p);for(const g of this.tools){this._updateToolEditableFlag(g);const v=sb(g);null!=this.activeTool&&v||this._manipulatorState.clearPointers(g,this._manipulatorStateEventArgs,!v)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(p=>p.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=(0,wr.hw)(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([(0,ln.YP)(()=>{const{state:p}=this.view;return"camera"in p&&p.camera},()=>this._forEachManipulator(p=>p.onViewChange())),this.view.elevationProvider?.on("elevation-change",p=>this._forEachManipulator(y=>y.onElevationChange(p)))],A2):this.addHandles((0,ln.YP)(()=>this.view.extent,()=>this._forEachManipulator(p=>p.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(A2),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(p){this._forEachTool(y=>{y.manipulators&&y.manipulators.forEach(({manipulator:g})=>p(g,y))})}_handleInputEvent(p){let y=!1;const g={...p,stopPropagation:()=>{y=!0,p.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(g):this._forEachTool(v=>{!y&&v.visible&&v.handleInputEvent(g)}),!y&&"key-down"===p.type&&"Escape"===p.key&&this.activeTool&&(p.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(g,this._manipulatorStateEventArgs),y||null==this.activeTool||this.activeTool.handleInputEventAfter(g),this._manipulatorState.handleHoverEvent(g,this._forEachTool),this._updateCursor(),"pointer-move"===p.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(ab),this._forEachTool(p=>{if(p instanceof fr.Z){const y=(0,ln.YP)(()=>[p.cursor,p.visible,p.editable],()=>{sb(p)||this._manipulatorState.clearPointers(p,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(y,ab)}p.manipulators&&this.addHandles([p.manipulators.on("after-remove",y=>{this._manipulatorState.clearPointers(p,this._manipulatorStateEventArgs,!0,y.item.manipulator)}),p.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],ab)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(p){p.setEditableFlag?.(Bp.MANAGER,null==this.activeTool||p===this.activeTool)}_updateCursor(){let p=this._manipulatorState.cursor;null==p&&this._forEachTool(y=>!(null==y.cursor||!y.visible||(p=y.cursor,0))),this._get("cursor")!==p&&this._set("cursor",p)}_removeIncompleteTools(p){this.tools.filter(y=>(null==p||y!==p)&&!y.created&&y.removeIncompleteOnCancel).forEach(y=>{this.tools.remove(y)})}get test(){const p=this;return{setClock:y=>this._clock=y,set interactingTimeoutEnabled(y){p._interactingTimeout=y?1e3:0},get interactingTimeoutEnabled(){return 0!==p._interactingTimeout}}}};(0,Se._)([(0,Le.Cb)({constructOnly:!0,nonNullable:!0})],ya.prototype,"view",void 0),(0,Se._)([(0,Le.Cb)({value:null})],ya.prototype,"activeTool",null),(0,Se._)([(0,Le.Cb)({readOnly:!0,type:fs.Z})],ya.prototype,"tools",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ya.prototype,"cursor",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ya.prototype,"updating",null),(0,Se._)([(0,Le.Cb)()],ya.prototype,"_interacting",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ya.prototype,"interacting",null),ya=(0,Se._)([(0,un.j)("esri.views.ToolViewManager")],ya);let Dd=class extends fr.Z{constructor(p){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===p.mapping?"standard":S$.test(p.id)?"spacemouse":"unknown",this.nativeIndex=p.index}get native(){const p=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<p.length?p[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return w$[this.deviceType]}};(0,Se._)([(0,Le.Cb)({nonNullable:!0,readOnly:!0})],Dd.prototype,"nativeIndex",void 0),(0,Se._)([(0,Le.Cb)({type:String,readOnly:!0})],Dd.prototype,"deviceType",null),(0,Se._)([(0,Le.Cb)({type:Number,readOnly:!0})],Dd.prototype,"axisThreshold",null),Dd=(0,Se._)([(0,un.j)("esri.views.input.gamepad.GamepadInputDevice")],Dd);const S$=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),w$={standard:.15,spacemouse:.025,unknown:0},lb=Dd;let Fp=class extends fr.Z{constructor(...p){super(...p),this.devices=new fs.Z,this.enabledFocusMode="document"}};(0,Se._)([(0,Le.Cb)({type:fs.Z.ofType(lb),readOnly:!0})],Fp.prototype,"devices",void 0),(0,Se._)([(0,Le.Cb)({type:["document","view","none"]})],Fp.prototype,"enabledFocusMode",void 0),Fp=(0,Se._)([(0,un.j)("esri.views.input.gamepad.GamepadSettings")],Fp);const T$=Fp;let dy=class extends fr.Z{constructor(){super(...arguments),this.gamepad=new T$}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],dy.prototype,"gamepad",void 0),dy=(0,Se._)([(0,un.j)("esri.views.input.Input")],dy);const O$=dy;let Pl=class extends fr.Z{constructor(p){super(p),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,Se._)([(0,Le.Cb)({type:Boolean,nonNullable:!0})],Pl.prototype,"enabled",void 0),(0,Se._)([(0,Le.Cb)({type:lb})],Pl.prototype,"device",void 0),(0,Se._)([(0,Le.Cb)({type:["pan","zoom"],nonNullable:!0})],Pl.prototype,"mode",void 0),(0,Se._)([(0,Le.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],Pl.prototype,"tiltDirection",void 0),(0,Se._)([(0,Le.Cb)({type:Number,nonNullable:!0})],Pl.prototype,"velocityFactor",void 0),Pl=(0,Se._)([(0,un.j)("esri.views.navigation.gamepad.GamepadSettings")],Pl);const R2=Pl;let Ou=class extends fr.Z{constructor(p){super(p),this.browserTouchPanEnabled=!0,this.gamepad=new R2,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,Se._)([(0,Le.Cb)({type:Boolean})],Ou.prototype,"browserTouchPanEnabled",void 0),(0,Se._)([(0,Le.Cb)({type:R2,nonNullable:!0})],Ou.prototype,"gamepad",void 0),(0,Se._)([(0,Le.Cb)({type:Boolean})],Ou.prototype,"momentumEnabled",void 0),(0,Se._)([(0,Le.Cb)({type:Boolean})],Ou.prototype,"mouseWheelZoomEnabled",void 0),Ou=(0,Se._)([(0,un.j)("esri.views.navigation.Navigation")],Ou);const L2=Ou;var Po,I$=_(89713);function j2(p){const y=p.url?(0,I$.Qc)(p.url):void 0;return(null!=p.spatialReference?.vcsWkid||null==y||"ImageServer"!==y.serverType)&&N2(p)&&p.heightModelInfo?p.heightModelInfo:function B2(p){return U2(p)?!!(p.capabilities&&p.capabilities.data&&p.capabilities.data.supportsZ):F2(p)}(p)?eb.Z.deriveUnitFromSR(R$,p.spatialReference):null}function N2(p){return"heightModelInfo"in p}function U2(p){if("unknown"===p.type||!("capabilities"in p))return!1;switch(p.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function x$(p){return null!=p.layers||F2(p)||U2(p)||N2(p)}function F2(p){switch(p.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(p){p[p.Ok=0]="Ok",p[p.Units=1]="Units",p[p.HeightModel=2]="HeightModel",p[p.CRS=3]="CRS",p[p.Unsupported=4]="Unsupported"}(Po||(Po={}));const R$=new eb.Z({heightModel:"gravity-related-height"});var W2=_(92867);let cb,db=null;function L$(p){return hb.apply(this,arguments)}function hb(){return hb=(0,Yn.Z)(function*(p){db||(db=_.e(4135).then(_.bind(_,34135)).then(y=>cb=y)),yield db,(0,xr.k_)(p)}),hb.apply(this,arguments)}function V2(p,y,g,v){return pb.apply(this,arguments)}function pb(){return pb=(0,Yn.Z)(function*(p,y,g,v){if(!p)return null;const b=p.spatialReference;return(0,wl.isLoaded)()||(0,wl.canProjectWithoutEngine)(b,y)?(0,wl.project)(p,y):cb?cb.projectGeometry(p,y,g,v):(yield Promise.race([L$(v),(0,wl.load)(v)]),V2(p,y,g,v))}),pb.apply(this,arguments)}let Tr=class extends fr.Z{constructor(p){super(p),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,wr.IM)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return null!=this.userSpatialReference?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const p=this.map?.(),y=[];return null!=this.priorityCollection&&y.push(this.priorityCollection),y.push({parent:p?.basemap,layers:p?.basemap?.baseLayers},{layers:p?.layers},{parent:p?.ground,layers:p?.ground?.layers},{parent:p?.basemap,layers:p?.basemap?.referenceLayers}),y}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:p,updating:y}=this._allLayers;let g=null;for(const b of p){const C=this._getSupportedSpatialReferences(b);if(C.length>0){const D=this._narrowDownSpatialReferenceCandidates(g,C);null!=D&&(g=D)}if(null!=g&&1===g.length)break}if(y&&(null==g||1!==g.length))return{updating:!0};const v=this._pickSpatialReferenceCandidate(g);return{spatialReference:null!=v?v.spatialReference:null,viewingMode:null!=v?v.viewingMode:null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:p,updating:y}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(p&&p.length>0&&"tileInfo"in p[0]){const g=p[0].tileInfo;return{tileInfo:g&&g.spatialReference.equals(this.spatialReference)?g:null,updating:!1}}return{updating:y}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};const{layers:p,updating:y}=this._allLayers;for(const g of p)if(x$(g)){const v=j2(g);if(v)return{heightModelInfo:v,vcsWkid:g.spatialReference?.vcsWkid,latestVcsWkid:g.spatialReference?.latestVcsWkid,updating:!1}}return{updating:y}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const p=this._allLayers,y=p.updating,g=[];for(const v of p.layers){const b="fullExtents"in v&&v.fullExtents||(null!=v.fullExtent?[v.fullExtent]:[]),C=this.requiresExtentInSpatialReference?null:b[0],D=b.find(R=>R.spatialReference.equals(this.spatialReference))??C;if(D)return{candidates:[{extent:D,layer:v}],updating:!1};if(this._getSupportedSpatialReferences(v).length>0)for(const R of b)g.push({extent:R,layer:v})}return{candidates:g,updating:y}}get _extentTask(){var p=this;const{candidates:y,updating:g}=this._extentCandidatesTask;if(g)return{updating:g};if(null==y||0===y.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const v=this._pickExtentCandidate(y),b=this.spatialReference;return v.extent.equals(this._projectExtentTask.input)&&b.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=(0,wr.IM)(this._projectExtentTask.task)),this._projectExtentTask={input:v.extent.clone(),output:null,spatialReference:b.clone(),task:(0,ay.vr)(function(){var C=(0,Yn.Z)(function*(D){try{const R=yield V2(v.extent,b,"portalItem"in v.layer?v.layer.portalItem:void 0,D);p._projectExtentTask={...p._projectExtentTask,task:null,output:R}}catch{if((0,xr.Hc)(D))return;p._projectExtentTask={...p._projectExtentTask,task:null}}});return function(D){return C.apply(this,arguments)}}())},{updating:!0})}_narrowDownSpatialReferenceCandidates(p,y){if(null==p)return y;const g=[],v=(b,C)=>null!=b?null!=C?b===C&&b:b:C;for(const b of p)for(const C of y){if(!b.spatialReference.equals(C.spatialReference))continue;const D=v(b.viewingMode,C.viewingMode);if(!1!==D){g.push({spatialReference:b.spatialReference,viewingMode:D});break}}return g.length>0?g:null}_pickSpatialReferenceCandidate(p){const y=this.defaultSpatialReference;return null==p||p.length<1?null!=y?{spatialReference:y,viewingMode:null}:null:(null!=y&&p.length>1&&p.some(({spatialReference:g})=>g.equals(y))&&(p=p.filter(({spatialReference:g})=>g.equals(y))),p.length>1&&p.some(({viewingMode:g})=>g!==W2.JY.Local)&&(p=p.filter(({viewingMode:g})=>g!==W2.JY.Local)),p[0])}_getSupportedSpatialReferences(p){const y="supportedSpatialReferences"in p&&p.supportedSpatialReferences||(p.spatialReference?[p.spatialReference]:[]);if(0===y.length)return[];const g=[];for(const v of y){const b=this.getSpatialReferenceSupport({spatialReference:v,layer:p});if(null!=b){const C=null!=b.constraints?b.constraints:[{spatialReference:v,viewingMode:null}];for(const{spatialReference:D,viewingMode:R}of C)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!D.equals(this.userSpatialReference)||g.push({spatialReference:D,viewingMode:R})}}return g}_pickExtentCandidate(p){const y=this.spatialReference;return p.find(({extent:g})=>y.equals(g.spatialReference))||p[0]}_collectLayers(p){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const y=new j$;for(const g of p)if(this._collectCollection(g,y),y.preloading===this.sourcePreloadCount)break;return{layers:y.layers,updating:y.updating}}_collectCollection(p,y){if(p.layers){switch(this._loadMaybe(p.parent)){case"loading":return y.updating=!0,void++y.preloading;case"failed":return}for(const g of p.layers){switch(this._loadMaybe(g)){case"failed":continue;case"loading":y.updating=!0,++y.preloading;break;case"loaded":y.updating||y.layers.push(g),"layers"in g&&this._collectCollection({layers:g.layers},y)}if(y.preloading===this.sourcePreloadCount)break}}}_loadMaybe(p){return p&&"loadStatus"in p&&null!=p.loadStatus?"not-loaded"===p.loadStatus?(p.load().catch(y=>{(0,xr.D_)(y)||console.log(y)}),"loading"):p.loadStatus:"loaded"}};(0,Se._)([(0,Le.Cb)()],Tr.prototype,"required",void 0),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Tr.prototype,"map",void 0),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Tr.prototype,"getSpatialReferenceSupport",void 0),(0,Se._)([(0,Le.Cb)()],Tr.prototype,"defaultSpatialReference",void 0),(0,Se._)([(0,Le.Cb)()],Tr.prototype,"userSpatialReference",void 0),(0,Se._)([(0,Le.Cb)()],Tr.prototype,"sourcePreloadCount",void 0),(0,Se._)([(0,Le.Cb)()],Tr.prototype,"priorityCollection",void 0),(0,Se._)([(0,Le.Cb)()],Tr.prototype,"requiresExtentInSpatialReference",void 0),(0,Se._)([(0,Le.Cb)()],Tr.prototype,"suspended",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"ready",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"heightModelInfoReady",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"spatialReference",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"extent",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"heightModelInfo",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"vcsWkid",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"latestVcsWkid",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"viewingMode",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"tileInfo",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"mapCollections",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"_allLayers",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"_spatialReferenceTask",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"_tileInfoTask",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"_heightModelInfoTask",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Tr.prototype,"_extentCandidatesTask",null),(0,Se._)([(0,Le.Cb)()],Tr.prototype,"_extentTask",null),(0,Se._)([(0,Le.Cb)()],Tr.prototype,"_projectExtentTask",void 0),Tr=(0,Se._)([(0,un.j)("esri.views.support.DefaultsFromMap")],Tr);class j${constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}}var Wp;let Sn=Wp=class extends(Vm.Z.EventedMixin((0,M1.v)(fr.Z))){constructor(p){super(p),this._userSpatialReference=null,this._cursor=null,this.handles=new y2.Z,this.updatingHandles=new oy.R,this.allLayerViews=new Wm.Z({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:U$}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new v2.J,this.analyses=new uy,this.typeSpecificPreconditionsReady=!0,this.layerViews=new fs.Z,this.magnifier=new _2,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new O$,this.navigation=new L2,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new E$(this),this.persistableViewModels=new fs.Z,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add((0,ln.YP)(()=>this.preconditionsReady,y=>{y?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,Wp.views.add(this)):(this._lockedSpatialReference=null,Wp.views.remove(this)),this.notifyChange("spatialReference"),!y&&this.ready?(this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown()):y&&!this.ready&&(this._startup(),null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach())},ln.Z_))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,(0,ln.N1)(()=>this.ready)))),this.basemapView=new Il({view:this}),this.layerViewManager=new g$({view:this,layerViewImporter:{importLayerView:p=>this.importLayerView(p),hasLayerViewModule:p=>this.hasLayerViewModule(p)},supportsGround:this.supportsGround}),this.toolViewManager=new ya({view:this}),this._setupSpatialReferenceLogger(),this.addHandles([(0,ln.YP)(()=>this.initialExtentRequired,p=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:p},{sync:!0,initial:!0}),(0,ln.YP)(()=>this.ready,p=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=p,this.defaultsFromMap.userSpatialReference=p?this.spatialReference:this._userSpatialReference)},{sync:!0}),(0,ln.YP)(()=>this._userSpatialReference,p=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=p)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){var p=this;let y=null;this.addHandles([(0,ln.YP)(()=>this.defaultsFromMap?.ready,g=>{if(g&&!this.spatialReference&&this.map?.allLayers.length>0){if(null!=y)return;const b=(0,g2.kB)(()=>y=(0,wr.IM)(y));y=(0,ay.vr)(function(){var C=(0,Yn.Z)(function*(D){try{yield(0,xr.e4)(p.spatialReferenceWarningDelay,null,D)}catch{return}finally{y=null}_r.Z.getLogger(p).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(D){return C.apply(this,arguments)}}()),this.addHandles(b,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||(Wp.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,wr.SC)(this.graphics),this.analyses=(0,wr.SC)(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,wr.SC)(this.analysisViewManager),this.toolViewManager=(0,wr.SC)(this.toolViewManager),this.layerViewManager=(0,wr.SC)(this.layerViewManager),this.basemapView=(0,wr.SC)(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(p=>p.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=(0,wr.SC)(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return _r.Z.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(p){this.toolViewManager&&(this.toolViewManager.activeTool=p)}get animation(){return this._get("animation")}set animation(p){this._set("animation",p)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Tr({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:p=>this.getSpatialReferenceSupport(p),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(p){this._set("extent",p)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Um.Z.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(p){p!==this._get("map")&&(p?.destroyed&&(_r.Z.getLogger(this).warn("#map","The provided map is already destroyed",{map:p}),p=null),Um.Z.isLoadable(p)&&p.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",p))}get spatialReference(){let p=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return p&&this.defaultsFromMap?.required?.heightModelInfo&&(p=p.clone(),p.vcsWkid=this.defaultsFromMap.vcsWkid,p.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),p}set spatialReference(p){const y=!(0,$m.fS)(p,this._get("spatialReference"));this._set("_userSpatialReference",p),y&&(this._set("spatialReference",p),this._spatialReferenceChanged(p))}_spatialReferenceChanged(p){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??bd.By}set timeZone(p){const y=new Set(["etc/utc","etc/gmt","gmt"]),g=new Set(Intl.supportedValuesOf("timeZone").map(v=>v.toLowerCase()));this._userTimeZone=p,p===bd.By||p===bd._4||y.has(p.toLowerCase())||g.has(p.toLowerCase())||_r.Z.getLogger(this).warn("#timeZone",`the parsed value '${p}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(p){this._cursor=p,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new nb}whenLayerView(p){return this.layerViewManager?.whenLayerView(p)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}importLayerView(p){throw new pr.Z("importLayerView() not implemented")}hasLayerViewModule(p){return!1}validate(){return(0,Yn.Z)(function*(){})()}loadAsyncDependencies(){return(0,Yn.Z)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(p){return null!=this.getSpatialReferenceSupport({spatialReference:p})}when(p,y){return this.isResolved()&&!this.ready&&_r.Z.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(p,y)}forceReadyCycle(){this.ready&&((0,ln.gx)(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(p){this.toolViewManager.tools.add(p),this.activeTool=p}tryFatalErrorRecovery(){this.fatalError=null}};Sn.views=new fs.Z,(0,Se._)([(0,Le.Cb)()],Sn.prototype,"_userSpatialReference",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"activeTool",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"allLayerViews",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"groundView",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"animation",null),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"basemapView",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"center",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"_defaultsFromMapSettings",null),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"defaultsFromMap",null),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"fatalError",void 0),(0,Se._)([(0,Le.Cb)({type:jp.Z})],Sn.prototype,"extent",null),(0,Se._)([(0,Le.Cb)((0,q1.z)(v2.J,"graphics"))],Sn.prototype,"graphics",void 0),(0,Se._)([(0,Le.Cb)((0,q1.z)(uy,"analyses"))],Sn.prototype,"analyses",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0,type:eb.Z})],Sn.prototype,"heightModelInfo",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"interacting",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"navigating",null),(0,Se._)([(0,Le.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Sn.prototype,"preconditionsReady",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"typeSpecificPreconditionsReady",void 0),(0,Se._)([(0,Le.Cb)({type:fs.Z,readOnly:!0})],Sn.prototype,"layerViews",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"resolution",null),(0,Se._)([(0,Le.Cb)({type:_2})],Sn.prototype,"magnifier",void 0),(0,Se._)([(0,Le.Cb)({value:null,type:t2})],Sn.prototype,"map",null),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"padding",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"ready",void 0),(0,Se._)([(0,Le.Cb)({type:Tp.Z})],Sn.prototype,"spatialReference",null),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"spatialReferenceWarningDelay",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"stationary",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"supportsGround",void 0),(0,Se._)([(0,Le.Cb)({type:md.Z})],Sn.prototype,"timeExtent",void 0),(0,Se._)([(0,Le.Cb)({type:String,nonNullable:!0})],Sn.prototype,"timeZone",null),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"tools",null),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"toolViewManager",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"type",void 0),(0,Se._)([(0,Le.Cb)({type:Number})],Sn.prototype,"scale",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"updating",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"initialExtentRequired",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"initialExtent",null),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"cursor",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"input",void 0),(0,Se._)([(0,Le.Cb)({type:L2,nonNullable:!0})],Sn.prototype,"navigation",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"layerViewManager",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"analysisViewManager",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"width",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"height",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"resizing",void 0),(0,Se._)([(0,Le.Cb)({value:null,readOnly:!0})],Sn.prototype,"size",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"suspended",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"viewEvents",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Sn.prototype,"persistableViewModels",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"_isValid",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"_readyCycleForced",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"_lockedSpatialReference",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"_userTimeZone",void 0),(0,Se._)([(0,Le.Cb)()],Sn.prototype,"_lockedTimeZone",void 0),(0,Se._)([(0,Le.Cb)({type:nb})],Sn.prototype,"theme",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0,type:nb})],Sn.prototype,"effectiveTheme",null),Sn=Wp=(0,Se._)([(0,un.j)("esri.views.View")],Sn);const N$=Sn;function U$(p){return p.layerViews}let Al=class extends M1.D{constructor(p){super(p),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=(0,xr.hh)(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new pr.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(p,y){y||(y=(0,xr.y8)(p)?"waiting-for-target":"running"),this._set("target",p),this._set("state",y)}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],Al.prototype,"done",null),(0,Se._)([(0,Le.Cb)({readOnly:!0,type:String})],Al.prototype,"state",void 0),(0,Se._)([(0,Le.Cb)()],Al.prototype,"target",void 0),Al=(0,Se._)([(0,un.j)("esri.views.ViewAnimation")],Al),function(p){p.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Al||(Al={}));const fb=Al;var hy=_(46503),os=_(31898),Ao=_(85039);class B${constructor(y,g,v,b){const C=y.targetGeometry,D=g.targetGeometry;b?"string"==typeof b&&(b=(0,hy.Qc)(b)||hy.LI.ease):b=hy.LI.ease,this.easing=b,this.duration=v,this.sCenterX=C.x,this.sCenterY=C.y,this.sScale=y.scale,this.sRotation=y.rotation,this.tCenterX=D.x,this.tCenterY=D.y,this.tScale=g.scale,this.tRotation=g.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(y,g){const v=this.easing(g);let b,C,D,R;g>=1?(b=this.tCenterX,C=this.tCenterY,D=this.tRotation,R=this.tScale):(b=this.sCenterX+v*this.dCenterX,C=this.sCenterY+v*this.dCenterY,D=this.sRotation+v*this.dRotation,R=this.sScale+v*this.dScale),y.targetGeometry.x=b,y.targetGeometry.y=C,y.scale=R,y.rotation=D}}let Fa=class extends fr.Z{constructor(p){super(p),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=hy.LI.ease,this.view=null,this.viewpoint=new _o.Z({targetGeometry:new Ao.Z,scale:0,rotation:0}),this._updateTask=(0,Tu.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=(0,wr.hw)(this._updateTask)}animate(p,y,g){this.stop(),(0,os.JG)(this.viewpoint,y),this.transition=new B$(this.viewpoint,p.target,g?.duration||this.duration,g?.easing||this.easing);const b=()=>{this.animation===p&&this._updateTask&&("finished"===p.state&&(this.transition?.applyRatio(this.viewpoint,1),this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return p.when(b,b),this._startTime=performance.now(),this._updateTask.resume(),this.animation=p,p}animateContinous(p,y){this.stop(),this.updateFunction=y,this.viewpoint=p;const g=new fb({target:p.clone()}),v=()=>{this.animation===g&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return g.when(v,v),this._startTime=performance.now(),this._updateTask.resume(),this.animation=g,g}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(p){const y=this.animation;if(y&&y.state!==fb.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,p.deltaTime);else{const g=this.transition,v=(performance.now()-this._startTime)/g.duration,b=v>=1;g.applyRatio(this.viewpoint,v),b&&this.animation?.finish()}this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,Se._)([(0,Le.Cb)()],Fa.prototype,"animation",void 0),(0,Se._)([(0,Le.Cb)()],Fa.prototype,"duration",void 0),(0,Se._)([(0,Le.Cb)()],Fa.prototype,"transition",void 0),(0,Se._)([(0,Le.Cb)()],Fa.prototype,"easing",void 0),(0,Se._)([(0,Le.Cb)()],Fa.prototype,"view",void 0),(0,Se._)([(0,Le.Cb)()],Fa.prototype,"viewpoint",void 0),Fa=(0,Se._)([(0,un.j)("esri.views.2d.AnimationManager")],Fa);const F$=Fa;class W${constructor(y){this.view=y,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:g,graphicsView:v,labelManager:b,state:{id:C}}=this.view;g.forEach(this._updateLayerView,this),null!=b&&(b.lastUpdateId!==C&&(b.viewChange(),b.lastUpdateId=C),b.updateRequested&&b.processUpdate(this._updateParameters)),null!=v&&(v.lastUpdateId!==C&&(v.viewChange(),v.lastUpdateId=C),v.updateRequested&&v.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle?.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const y=this.view;this.stationary=y.stationary,this._updateParameters={state:y.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:y.renderingOptions},this._stationaryHandle=(0,ln.YP)(()=>y.stationary,g=>{this.stationary=g,this.requestFrame()}),this._frameTaskHandle=(0,Tu.A)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(y){if(!y.attached)return void this.requestUpdate();const g=this.view.state,v=y.lastUpdateId;null!=v&&(this.stationary||y.moving)||(y.moving=!0,y.moveStart()),v!==g.id&&y.viewChange(),this.stationary&&y.moving&&(y.moving=!1,y.moveEnd()),y.lastUpdateId=g.id,y.updateRequested&&y.processUpdate(this._updateParameters),"layerViews"in y&&y.layerViews?.forEach(this._updateLayerView,this)}}let py=class extends fr.Z{constructor(p){super(p),this._gotoTask=null}destroy(){this._gotoTask=null}goTo(p,y){var g=this;return(0,Yn.Z)(function*(){if(!p)return void _r.Z.getLogger(g).error("#goTo()","target cannot be null or undefined");g.view.animation&&(g.view.animation=null);const v=g._createAnimation();yield(0,ln.N1)(()=>g.view.ready,y);const b={animate:!0,...y},{extent:C,spatialReference:D,size:R,viewpoint:z,constraints:he,padding:Ce,allLayerViews:Ie}=g.view,Ke=(0,os.Ue)(p,{extent:C,spatialReference:D,size:R,viewpoint:z,constraints:he,padding:Ce,allLayerViews:Ie,pickClosestTarget:y?.pickClosestTarget??!0});return v?.update(Ke),g._gotoTask={},b.animate?g._gotoAnimated(Ke,b):g._gotoImmediate(Ke,b)})()}_gotoImmediate(p,y){const g=this._gotoTask,v=this.view.animation,b=p.then(C=>{if((0,xr.k_)(y),g!==this._gotoTask)throw new pr.Z("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=v.target=C,v.finish()});return this._cancellableGoTo(g,v,b)}_gotoAnimated(p,y){const g=this._gotoTask,v=this.view.animation;if(!v)return Promise.resolve();const b=p.then(C=>{if((0,xr.k_)(y),g!==this._gotoTask)throw new pr.Z("view:goto-interrupted","Goto was interrupted");return v.update(C),this.view.animationManager.animate(v,this.view.viewpoint,y),v.when().then(()=>{},()=>{})});return this._cancellableGoTo(g,v,b)}_createAnimation(){return this.view.animation&&!this.view.animation.done||(this.view.animation=new fb),this.view.animation}_cancellableGoTo(p,y,g){const v=()=>p===this._gotoTask;return g.finally(()=>{v()&&(y.done||y.stop(),this.view.animation=null)})}};function is(){return Promise.all([Promise.all([_.e(7091),_.e(3018),_.e(1363),_.e(9714)]).then(_.bind(_,19714)),Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(6469),_.e(6557),_.e(8592),_.e(137)]).then(_.bind(_,40137))])}(0,Se._)([(0,Le.Cb)({constructOnly:!0})],py.prototype,"view",void 0),py=(0,Se._)([(0,un.j)("esri.views.2d.GoToManager")],py);const Vp=()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(6469),_.e(5525),_.e(7192),_.e(8592),_.e(9935)]).then(_.bind(_,1646))),Sd=()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1997)]).then(_.bind(_,71997))),$2={"base-dynamic":()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(8592),_.e(4296)]).then(_.bind(_,16773))),"base-tile":Vp,"bing-maps":Vp,csv:Sd,"geo-rss":()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(494)]).then(_.bind(_,20494))),feature:Sd,geojson:Sd,graphics:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(8035)]).then(_.bind(_,8035))),group:()=>is().then(()=>Promise.all([_.e(7091),_.e(6269),_.e(2799)]).then(_.bind(_,59808))),imagery:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(6062),_.e(9350),_.e(5525),_.e(8930),_.e(8592),_.e(1146)]).then(_.bind(_,31146))),"imagery-tile":()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(6062),_.e(9350),_.e(8930),_.e(8592),_.e(4251)]).then(_.bind(_,84251))),kml:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(9350),_.e(6557),_.e(8592),_.e(522)]).then(_.bind(_,21357))),"knowledge-graph":()=>is().then(()=>Promise.all([_.e(7091),_.e(6269),_.e(8450)]).then(_.bind(_,79187))),"link-chart":()=>is().then(()=>Promise.all([_.e(7091),_.e(6269),_.e(8450)]).then(_.bind(_,79187))),"knowledge-graph-sublayer":Sd,"map-image":()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(5525),_.e(7192),_.e(8592),_.e(4321)]).then(_.bind(_,54321))),"map-notes":()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(2203)]).then(_.bind(_,12203))),media:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(6469),_.e(8592),_.e(8818)]).then(_.bind(_,28818))),"ogc-feature":()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1997),_.e(7211)]).then(_.bind(_,87211))),"open-street-map":Vp,"oriented-imagery":Sd,route:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(3301),_.e(6635)]).then(_.bind(_,86635))),stream:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1997),_.e(3724)]).then(_.bind(_,23724))),"subtype-group":()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1997),_.e(5205)]).then(_.bind(_,35205))),tile:Vp,"vector-tile":()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(4433),_.e(5884)]).then(_.bind(_,16673))),video:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(8592),_.e(8478)]).then(_.bind(_,88478))),wcs:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(6062),_.e(9350),_.e(8930),_.e(8592),_.e(4251)]).then(_.bind(_,84251))),"web-tile":Vp,wfs:Sd,wms:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(8592),_.e(1767)]).then(_.bind(_,21774))),wmts:()=>is().then(()=>Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(6269),_.e(1363),_.e(6239),_.e(2311),_.e(8592),_.e(796)]).then(_.bind(_,7514))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var yb,$$=_(8321),mb=_(5825),Xo=_(46033),Z$=_(54746);let Iu=yb=class extends((0,qm.iv)(fr.Z)){constructor(p){super(p),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,wl.project)(this.geometry,this.spatialReference)}catch(p){return _r.Z.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:p}),null}return this.geometry}constrain(p,y){if(null==this.normalizedGeometry)return p;const g=p.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,mb.aV)(this.normalizedGeometry,g):(0,mb.CI)(this.normalizedGeometry,g))return p;const{coordinate:v}=function k$(p,y){const{spatialReference:g}=y,v=[y.x,y.y];let b=Number.POSITIVE_INFINITY,C=0,D=0;const R=[0,0],z="extent"===p.type?[[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]]]:p.rings;for(const he of z)for(let Ce=0;Ce<he.length-1;Ce++){(0,Z$.Tx)(R,v,he,Ce);const Ie=(0,Xo.d)(v,R);Ie<b&&(b=Ie,C=R[0],D=R[1])}return{coordinate:new Ao.Z({x:C,y:D,spatialReference:g}),distance:b}}(this.normalizedGeometry,g);return v&&(p.targetGeometry=v),p}clone(){return new yb({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var gb;(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Iu.prototype,"geometry",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Iu.prototype,"normalizedGeometry",null),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Iu.prototype,"spatialReference",void 0),Iu=yb=(0,Se._)([(0,un.j)("esri.views.2d.constraints.GeometryConstraint")],Iu);let $p=gb=class extends((0,qm.iv)(fr.Z)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(p,y){return this.enabled&&y&&(this.rotationEnabled||(p.rotation=y.rotation)),p}clone(){return new gb({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,Se._)([(0,Le.Cb)()],$p.prototype,"enabled",void 0),(0,Se._)([(0,Le.Cb)()],$p.prototype,"rotationEnabled",void 0),$p=gb=(0,Se._)([(0,un.j)("esri.views.2d.constraints.RotationConstraint")],$p);const k2=$p;var vb;let xo=vb=class extends((0,qm.iv)(fr.Z)){constructor(p){super(p),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let p,{lods:y,minScale:g,maxScale:v,minZoom:b,maxZoom:C}=this,D=-1,R=-1,z=!1,he=!1;if(0!==g&&0!==v&&g<v&&([g,v]=[v,g]),!y?.length)return this._set("effectiveMinScale",g),void this._set("effectiveMaxScale",v);y=y.map(Ce=>Ce.clone()),y.sort((Ce,Ie)=>Ie.scale-Ce.scale),y.forEach((Ce,Ie)=>Ce.level=Ie);for(const Ce of y)!z&&g>0&&g>=Ce.scale&&(D=Ce.level,z=!0),!he&&v>0&&v>=Ce.scale&&(R=p?p.level:-1,he=!0),p=Ce;-1===b&&(b=0===g?0:D),-1===C&&(C=0===v?y.length-1:R),b=Math.max(b,0),b=Math.min(b,y.length-1),C=Math.max(C,0),C=Math.min(C,y.length-1),b>C&&([b,C]=[C,b]),g=y[b].scale,v=y[C].scale,y.splice(0,b),y.splice(C-b+1,y.length),y.forEach((Ce,Ie)=>{this._lodByScale[Ce.scale]=Ce,this._scales[Ie]=Ce.scale}),this._set("effectiveLODs",y),this._set("effectiveMinZoom",b),this._set("effectiveMaxZoom",C),this._set("effectiveMinScale",g),this._set("effectiveMaxScale",v)}constrain(p,y){if(y&&p.scale===y.scale)return p;const g=this.effectiveMinScale,v=this.effectiveMaxScale,b=p.targetGeometry,C=y&&y.targetGeometry,R=0!==g&&p.scale>g;if(0!==v&&p.scale<v||R){const z=R?g:v;if(y&&C){const he=(z-y.scale)/(p.scale-y.scale);b.x=C.x+(b.x-C.x)*he,b.y=C.y+(b.y-C.y)*he}p.scale=z}return this.snapToZoom&&this.effectiveLODs&&(p.scale=this._getClosestScale(p.scale)),p}fit(p){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(p,null);const y=this.scaleToZoom(p.scale),g=Math.abs(y-Math.floor(y));return p.scale=this.zoomToScale(g>.99?Math.round(y):Math.floor(y)),p}zoomToScale(p){if(!this.effectiveLODs)return 0;p-=this.effectiveMinZoom,p=Math.max(0,p);const y=this._scales;if(p<=0)return y[0];if(p>=y.length)return y[y.length-1];const g=Math.round(p-.5),v=Math.round(p);return y[v]+(v-p)*(y[g]-y[v])}scaleToZoom(p){if(!this.effectiveLODs)return-1;const y=this._scales;let g,v;if(p>=y[0])return this.effectiveMinZoom;if(p<=y[y.length-1])return this.effectiveMaxZoom;for(let b=0;b<y.length-1;b++){if(g=y[b],v=y[b+1],v===p)return b+this.effectiveMinZoom+1;if(g>p&&v<p)return b+this.effectiveMinZoom+1-(p-v)/(g-v)}return-1}snapToClosestScale(p){if(!this.effectiveLODs)return p;const y=this.scaleToZoom(p);return this.zoomToScale(Math.round(y))}snapToNextScale(p,y=.5){if(!this.effectiveLODs)return p*y;const g=Math.round(this.scaleToZoom(p));return this.zoomToScale(g+1)}snapToPreviousScale(p,y=2){if(!this.effectiveLODs)return p*y;const g=Math.round(this.scaleToZoom(p));return this.zoomToScale(g-1)}clone(){return new vb({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(p){return this._lodByScale[p]||(p=this._scales.reduce((y,g)=>Math.abs(g-p)<=Math.abs(y-p)?g:y,this._scales[0])),this._lodByScale[p].scale}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],xo.prototype,"effectiveLODs",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],xo.prototype,"effectiveMinZoom",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],xo.prototype,"effectiveMaxZoom",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],xo.prototype,"effectiveMinScale",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],xo.prototype,"effectiveMaxScale",void 0),(0,Se._)([(0,Le.Cb)()],xo.prototype,"lods",void 0),(0,Se._)([(0,Le.Cb)()],xo.prototype,"minZoom",void 0),(0,Se._)([(0,Le.Cb)()],xo.prototype,"maxZoom",void 0),(0,Se._)([(0,Le.Cb)()],xo.prototype,"minScale",void 0),(0,Se._)([(0,Le.Cb)()],xo.prototype,"maxScale",void 0),(0,Se._)([(0,Le.Cb)()],xo.prototype,"snapToZoom",void 0),xo=vb=(0,Se._)([(0,un.j)("esri.views.2d.constraints.ZoomConstraint")],xo);const K2=xo;var K$=_(5391);const z$={base:null,key:"type",typeMap:{extent:jp.Z,polygon:K$.Z}};let ms=class extends fr.Z{constructor(p){super(p),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new fs.Z}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(p){this._set("geometry",p||null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const p=this._get("_geometry");return p&&this.geometry===p.geometry&&this.view?.constraintsInfo.spatialReference===p.spatialReference?p:new Iu({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new k2({rotationEnabled:this.rotationEnabled})}get _zoom(){const p=this._get("_zoom"),y=this.lods||this.view?.constraintsInfo.lods,g=this.minZoom,v=this.maxZoom,b=this.minScale,C=this.maxScale,D=this.snapToZoom;return p&&p.lods===y&&p.minZoom===g&&p.maxZoom===v&&p.minScale===b&&p.maxScale===C&&p.snapToZoom===D?p:new K2({lods:y,minZoom:g,maxZoom:v,minScale:b,maxScale:C,snapToZoom:D})}canZoomInTo(p){const y=this.effectiveMaxScale;return 0===y||p>=y}canZoomOutTo(p){const y=this.effectiveMinScale;return 0===y||p<=y}constrain(p,y){return this._zoom.constrain(p,y),this._rotation.constrain(p,y),this._geometry.constrain(p,y),this.customConstraints.forEach(g=>g.constrain(p,y)),p}constrainByGeometry(p){return this._geometry.constrain(p),this.customConstraints.forEach(y=>y.applyPanConstraint?.(p)),p}fit(p){return this._zoom.fit(p)}zoomToScale(p){return this._zoom.zoomToScale(p)}scaleToZoom(p){return this._zoom.scaleToZoom(p)}snapScale(p){return this._zoom.snapToClosestScale(p)}snapToNextScale(p){return this._zoom.snapToNextScale(p)}snapToPreviousScale(p){return this._zoom.snapToPreviousScale(p)}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],ms.prototype,"effectiveLODs",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ms.prototype,"effectiveMinScale",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ms.prototype,"effectiveMaxScale",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ms.prototype,"effectiveMinZoom",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ms.prototype,"effectiveMaxZoom",null),(0,Se._)([(0,Le.Cb)({types:z$,value:null})],ms.prototype,"geometry",null),(0,Se._)([(0,Le.Cb)({type:[$$.Z]})],ms.prototype,"lods",void 0),(0,Se._)([(0,Le.Cb)()],ms.prototype,"minScale",void 0),(0,Se._)([(0,Le.Cb)()],ms.prototype,"maxScale",void 0),(0,Se._)([(0,Le.Cb)()],ms.prototype,"minZoom",void 0),(0,Se._)([(0,Le.Cb)()],ms.prototype,"maxZoom",void 0),(0,Se._)([(0,Le.Cb)()],ms.prototype,"rotationEnabled",void 0),(0,Se._)([(0,Le.Cb)()],ms.prototype,"snapToZoom",void 0),(0,Se._)([(0,Le.Cb)({type:fs.Z})],ms.prototype,"customConstraints",void 0),(0,Se._)([(0,Le.Cb)()],ms.prototype,"view",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ms.prototype,"version",null),(0,Se._)([(0,Le.Cb)({type:Iu,readOnly:!0})],ms.prototype,"_geometry",null),(0,Se._)([(0,Le.Cb)({type:k2})],ms.prototype,"_rotation",null),(0,Se._)([(0,Le.Cb)({readOnly:!0,type:K2})],ms.prototype,"_zoom",null),ms=(0,Se._)([(0,un.j)("esri.views.2d.MapViewConstraints")],ms);const z2=ms;var G$=_(6777),G2=(_(54529),_(87766),_(40394),_(23206)),H$=_(39392),H2=_(51675),J$=_(52593),fy=_(86662),Y$=_(89921),_b=_(18755),wd=_(51006),Eb=_(71602),J2=_(7077);function my(p){return function Q$(p){return p instanceof Float32Array&&p.length>=2}(p)||function X$(p){return Array.isArray(p)&&p.length>=2}(p)}var bb,q$=_(93566);const so=[0,0];let xl=bb=class extends Dr.wq{constructor(p){super(p),this._viewpoint2D={center:(0,H2.a)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new jp.Z,this.id=0,this.inverseTransform=(0,_b.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,_b.c)(),this.transformNoRotation=(0,_b.c)(),this.displayMat3=(0,Eb.c)(),this.displayViewMat3=(0,Eb.c)(),this.viewMat3=(0,Eb.c)(),this.viewMat2d=(0,Y$.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(p){this._set("pixelRatio",p),this._update()}set size(p){this._set("size",p),this._update()}set viewpoint(p){if(p){const y=this._viewpoint2D,g=p.targetGeometry;y.center[0]=g.x,y.center[1]=g.y,y.rotation=p.rotation,y.scale=p.scale,y.spatialReference=g.spatialReference}this._update()}copy(p){const y=this.size,g=this.viewpoint;return g&&y?(this.viewpoint=(0,os.JG)(g,p.viewpoint),this._set("size",(0,Xo.j)(y,p.size))):(this.viewpoint=p.viewpoint.clone(),this._set("size",[p.size[0],p.size[1]])),this._set("pixelRatio",p.pixelRatio),this}clone(){return new bb({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(p,y,g){return my(y)?(0,Xo.t)(p,y,this.inverseTransform):(so[0]=y,so[1]=g,(0,Xo.t)(p,so,this.inverseTransform))}toScreen(p,y,g){return my(y)?(0,Xo.t)(p,y,this.transform):(so[0]=y,so[1]=g,(0,Xo.t)(p,so,this.transform))}toScreenNoRotation(p,y,g){return my(y)?(0,Xo.t)(p,y,this.transformNoRotation):(so[0]=y,so[1]=g,(0,Xo.t)(p,so,this.transformNoRotation))}toScreenClosest(p,y,g){my(y)?(so[0]=y[0],so[1]=y[1]):(so[0]=y,so[1]=g);const[v]=so,{center:b,extent:C,spatialReference:D,transform:R}=this;return(v<C.xmin||v>C.xmax)&&(so[0]=(0,q$.it)(v,b[0],D)),(0,Xo.t)(p,so,R)}getScreenTransform(p,y){const{center:g}=this._viewpoint2D,v=this._get("pixelRatio")||1,b=this._get("size");return(0,os.Rb)(p,g,b,y,0,v),p}_update(){const{center:p,spatialReference:y,scale:g,rotation:v}=this._viewpoint2D,b=this._get("pixelRatio")||1,C=this._get("size"),D=new _o.Z({targetGeometry:new Ao.Z(p[0],p[1],y),scale:g,rotation:v});if(this._set("viewpoint",D),!C||!y||!g)return;this.resolution=(0,os.uG)(D),this.rotation=v,this.scale=g,this.spatialReference=y,(0,Xo.j)(this.center,p),(0,wd.s)(this.displayMat3,0!==C[0]?2/C[0]:0,0,0,0,0!==C[1]?-2/C[1]:0,0,-1,1,1);const he=(0,wd.g)(this.viewMat3),Ce=(0,J2.f)(C[0]/2,C[1]/2),Ie=(0,J2.f)(-C[0]/2,-C[1]/2),Ke=(0,J$.t)(v);(0,wd.h)(he,he,Ce),(0,wd.r)(he,he,Ke),(0,wd.h)(he,he,Ie),(0,wd.m)(this.displayViewMat3,this.displayMat3,he);const rt=(0,fy.a)(this.viewMat2d,Ce);return(0,fy.r)(rt,rt,Ke),(0,fy.t)(rt,rt,Ie),(0,os.bk)(this.extent,D,C),(0,os.Ck)(this.transform,D,C,b),(0,fy.i)(this.inverseTransform,this.transform),(0,os.Jp)(this.transformNoRotation,D,C,b),this.worldScreenWidth=(0,os.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],xl.prototype,"id",void 0),(0,Se._)([(0,Le.Cb)({value:1,json:{write:!0}})],xl.prototype,"pixelRatio",null),(0,Se._)([(0,Le.Cb)({json:{write:!0}})],xl.prototype,"size",null),(0,Se._)([(0,Le.Cb)()],xl.prototype,"spatialReference",void 0),(0,Se._)([(0,Le.Cb)({type:_o.Z,json:{write:!0}})],xl.prototype,"viewpoint",null),xl=bb=(0,Se._)([(0,un.j)("esri.views.2d.ViewState")],xl);const Y2=xl;var Cb,Mb;let Wa=Cb=class extends fr.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new Cb({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,Se._)([(0,Le.Cb)()],Wa.prototype,"left",void 0),(0,Se._)([(0,Le.Cb)()],Wa.prototype,"top",void 0),(0,Se._)([(0,Le.Cb)()],Wa.prototype,"right",void 0),(0,Se._)([(0,Le.Cb)()],Wa.prototype,"bottom",void 0),Wa=Cb=(0,Se._)([(0,un.j)("esri.views.2d.PaddedViewState.Padding")],Wa);let Td=Mb=class extends Y2{constructor(...p){super(...p),this.paddedViewState=new Y2,this._updateContent=(()=>{const y=(0,H2.a)();return()=>{const g=this._get("size"),v=this._get("padding");if(!g||!v)return;const b=this.paddedViewState;(0,Xo.s)(y,v.left+v.right,v.top+v.bottom),(0,Xo.c)(y,g,y),(0,Xo.j)(b.size,y);const C=b.viewpoint;C&&(this.viewpoint=C)}})(),this.addHandles((0,ln.YP)(()=>[this.size,this.padding],()=>this._updateContent(),ln.Z_)),this.padding=new Wa,this.size=[0,0]}set padding(p){this._set("padding",p||new Wa)}set viewpoint(p){if(p){const y=p.clone();this.paddedViewState.viewpoint=p,(0,os.H4)(y,p,this._get("size"),this._get("padding"));const g=this._viewpoint2D,v=y.targetGeometry;g.center[0]=v.x,g.center[1]=v.y,g.rotation=y.rotation,g.scale=y.scale,g.spatialReference=v.spatialReference,this._update()}}clone(){return new Mb({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,Se._)([(0,Le.Cb)()],Td.prototype,"paddedViewState",void 0),(0,Se._)([(0,Le.Cb)({type:Wa})],Td.prototype,"padding",null),(0,Se._)([(0,Le.Cb)()],Td.prototype,"viewpoint",null),Td=Mb=(0,Se._)([(0,un.j)("esri.views.2d.PaddedViewState")],Td);const eZ=Td;let bo=class extends fr.Z{constructor(p){super(p),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([(0,ln.YP)(()=>this.constraints?.version,y=>{this.constraints&&y&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},ln.Z_)])}get center(){if(!this.ready)return this._get("center");const{center:p,spatialReference:y}=this.state.paddedViewState;return this.state.commitProperty("id"),new Ao.Z({x:p[0],y:p[1],spatialReference:y})}set center(p){if(null==p)return;if(!this.ready)return void this._set("center",p);let y;try{y=this._project(p,this.state.spatialReference)}catch(v){return void _r.Z.getLogger(this).error(new pr.Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:p,error:v}))}const g=this.viewpoint;(0,os.o2)(g,g,y),this.viewpoint=g}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(p){if(null==p)return;if(!p.width||!p.height)return void _r.Z.getLogger(this).error(new pr.Z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",p),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let y;try{y=this._project(p,this.state.spatialReference)}catch(v){return void _r.Z.getLogger(this).error(new pr.Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:v}))}const g=this.viewpoint;(0,os.qf)(g,g,y,this.state.size,{constraints:this.constraints}),this.viewpoint=g}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(p){this.ready?(this.state.padding=p,this._set("padding",this.state.padding)):this._set("padding",p)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(p){if(isNaN(p))return;if(!this.ready)return void this._set("rotation",p);const y=this.viewpoint;(0,os.YQ)(y,y,p),this.viewpoint=y}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(p){if(!p||isNaN(p))return;if(!this.ready){this._set("scale",p),this._set("zoom",void 0);const g=this._get("extent");return void(g&&(this._set("extent",void 0),this._set("center",g.center)))}const y=this.viewpoint;(0,os.Hy)(y,y,p),this.viewpoint=y}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(p){if(null==p)return;if(!this.ready)return this._set("viewpoint",p),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let y,g;try{y=this._project(p,this.state.spatialReference),!p.scale||isNaN(p.scale)?g=new pr.Z("mapview:invalid-viewpoint",`invalid scale value of ${p.scale}`):null==p.targetGeometry&&(g=new pr.Z("mapview:invalid-viewpoint","geometry not defined"))}catch(b){g=new pr.Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:b})}if(g)return void _r.Z.getLogger(this).error(g);this._scaleBeforeChangingSpatialReference=null;const v=new _o.Z({targetGeometry:new Ao.Z,scale:0,rotation:0});(0,os.JG)(v,y),this.constraints?.constrain(v,this.state.paddedViewState.viewpoint),this.state.viewpoint=v,this._set("viewpoint",v)}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(p){if(!(p>=0))return;if(!this.ready){this._set("zoom",p),this._set("scale",void 0);const v=this._get("extent");return void(v&&(this._set("extent",void 0),this._set("center",v.center)))}const y=this.constraints?.zoomToScale(p)??0;if(!y)return void this._set("zoom",-1);const g=this.viewpoint;(0,os.Hy)(g,g,y),this.viewpoint=g,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(p){if(!p[0]&&!p[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:y,constraints:g}=this,v=this._get("center"),b=this._get("extent"),C=this._get("scale"),D=this._get("rotation"),R=this._get("viewpoint"),z=this._get("zoom"),he=null!=z&&null!=g&&g.zoomToScale(z)||void 0;let Ce,Ie,Ke;const rt=R?.rotation,pt=R?.targetGeometry;"extent"===pt?.type?Ce=pt:"point"===pt?.type&&(Ie=pt,Ke=R?.scale);const Mt=b??Ce;return{center:v??Ie??Mt?.center,rotation:D??rt,scale:(C??he??Ke??(Mt&&(0,os.EK)(Mt,[p[0]-y.left-y.right,p[1]-y.top-y.bottom])))||void 0}}startup(p,y,g,v){const b=p.targetGeometry;try{this._project(p,g)}catch(C){_r.Z.getLogger(this).warn(new G2.Z("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:b.toJSON(),spatialReference:g,error:C})),p.targetGeometry=v||new Ao.Z({x:0,y:0,spatialReference:g})}this.constraints?.fit(p),this._set("state",new eZ({padding:this.padding,size:y,viewpoint:p})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[p,y],spatialReference:g,rotation:v,scale:b}=this.state.paddedViewState,C=new Ao.Z({x:p,y,spatialReference:g});this._set("viewpoint",null),this._set("extent",null),this._set("center",C),this._set("zoom",-1),this._set("rotation",v),this._set("scale",b),this._set("state",null)}changeSpatialReference(p){const y=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=y.scale;else{const R=y.viewpoint.clone();R.scale=this._scaleBeforeChangingSpatialReference,y.viewpoint=R}const g=y.clone(),[v,b]=y.center;let C=null;try{C=this._project(new Ao.Z({x:v,y:b,spatialReference:y.spatialReference}),p)}catch(R){(0,H$.i)()||_r.Z.getLogger(this).warn(new G2.Z("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:C?.toJSON(),spatialReference:p,error:R}))}C||(C=new Ao.Z({x:0,y:0,spatialReference:p}));const D=(0,os.o2)(new _o.Z({targetGeometry:new Ao.Z,scale:0,rotation:0}),y.viewpoint,C);g.viewpoint=D;try{const z=[y.size[0]/2,y.size[1]/2],he=[z[0]+20,z[1]],Ce=y.toMap([0,0],he),{x:Ie,y:Ke}=this._project(new Ao.Z({x:Ce[0],y:Ce[1],spatialReference:y.spatialReference}),p);Ce[0]=Ie,Ce[1]=Ke,g.toScreen(Ce,Ce);const rt=(0,os.dI)(z,Ce,he),pt=Math.hypot(Ce[0]-z[0],Ce[1]-z[1])/20;!Number.isFinite(pt)||Math.abs(pt)>4?(D.rotation=0,D.targetGeometry=new Ao.Z({x:0,y:0,spatialReference:p})):(D.scale*=pt,D.scale>(0,la.Z)("mapview-srswitch-adjust-rotation-scale-threshold")?D.rotation=0:D.rotation+=Number.isFinite(rt)?rt:0)}catch{}this._get("constraints")?.constrain(D,void 0),this._get("state").viewpoint=D}resize(p,y){if(!this.ready)return;const g=this.state;let v=this.state.paddedViewState.viewpoint;const b=this.state.paddedViewState.size.concat();g.size=[p,y],(0,os.SI)(v,v,b,this.state.paddedViewState.size,this.resizeAlign),v=this.constraints?.constrain(v,void 0)??v,this.state.viewpoint=v}toMap(p){if(!this.ready)return null;const[g,v]=this.state.toMap([0,0],[p.x,p.y]);return new Ao.Z({x:g,y:v,spatialReference:this.state.spatialReference})}toScreen(p,y){if(!this.ready)return null;const g=this._project(p,this.state.spatialReference),v=[g.x,g.y];return!1===y?.pickClosestTarget?this.state.toScreen(v,v):this.state.toScreenClosest(v,v),(0,Eo.vW)(v[0],v[1])}_project(p,y){const g=p?.targetGeometry||p;if(!y)return p;if(!g)return null;if(y.imageCoordinateSystem||g.spatialReference?.imageCoordinateSystem||(0,$m.fS)(y,g.spatialReference))return p;const v=(0,wl.project)(g,y);if(!v)throw new pr.Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:g,spatialReference:y});return function tZ(p){return"esri.Viewpoint"===p?.declaredClass}(p)?(p.targetGeometry=v,p):v}};function Db(p,y){switch(y){case"primary":return"touch"===p.pointerType||0===p.button;case"secondary":return"touch"!==p.pointerType&&2===p.button;case"tertiary":return"touch"!==p.pointerType&&1===p.button}}(0,Se._)([(0,Le.Cb)({type:Ao.Z})],bo.prototype,"center",null),(0,Se._)([(0,Le.Cb)()],bo.prototype,"constraints",void 0),(0,Se._)([(0,Le.Cb)({type:jp.Z})],bo.prototype,"extent",null),(0,Se._)([(0,Le.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:p=>({top:0,right:0,bottom:0,left:0,...p})})],bo.prototype,"padding",null),(0,Se._)([(0,Le.Cb)()],bo.prototype,"ready",void 0),(0,Se._)([(0,Le.Cb)()],bo.prototype,"resizeAlign",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],bo.prototype,"resolution",null),(0,Se._)([(0,Le.Cb)({type:Number})],bo.prototype,"rotation",null),(0,Se._)([(0,Le.Cb)({type:Number})],bo.prototype,"scale",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],bo.prototype,"state",void 0),(0,Se._)([(0,Le.Cb)({type:_o.Z})],bo.prototype,"viewpoint",null),(0,Se._)([(0,Le.Cb)()],bo.prototype,"zoom",null),bo=(0,Se._)([(0,un.j)("esri.views.2d.ViewStateManager")],bo);class Q2 extends Gs.a{constructor(y,g){super(!0),this._view=y,this.registerIncoming("double-click",g,v=>this._handleDoubleClick(v,g))}_handleDoubleClick(y,g){Db(y.data,"primary")&&(y.stopPropagation(),g?this._view.mapViewNavigation.zoomOut([y.data.x,y.data.y]):this._view.mapViewNavigation.zoomIn([y.data.x,y.data.y]))}}class nZ extends Gs.a{constructor(y,g,v){super(!0),this.view=y,this.pointerType=g,this.registerIncoming("double-tap-drag",v,b=>this._handleDoubleTapDrag(b))}_handleDoubleTapDrag(y){const{data:g}=y,{pointerType:v}=g;if(v!==this.pointerType)return;y.stopPropagation();const{action:b,delta:C}=g,{view:D}=this,{mapViewNavigation:R}=D;switch(b){case"begin":{const{scale:z}=D;this._startScale=z,this._currentScale=z,this._previousDelta=C,R.begin();break}case"update":{if(this._previousDelta.y===C.y)return;this._previousDelta=C;const he=this._startScale*1.015**C.y;R.setViewpointImmediate(he/this._currentScale),this._currentScale=he;break}case"end":{const{constraints:z}=D,{effectiveLODs:he,snapToZoom:Ce}=z;if(!Ce||!he)return void R.end();const Ie=z.snapScale(this._currentScale),Ke=(C.y>0?Math.max(Ie,z.snapToPreviousScale(this._startScale)):Math.min(Ie,z.snapToNextScale(this._startScale)))/this._currentScale;R.zoom(Ke);break}}}}class yy{constructor(y){this._callbacks=y,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(y){const g=y.data,v=g.pointers.size;switch(g.action){case"start":this._currentCount=v,this._emitStart(y);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=v,this._emitStart(y);break;case"update":this._emitUpdate(y);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=v,this._emitStart(y);break;case"end":this._emitEnd(y),this._currentCount=0}this._previousEvent=y}_emitStart(y){this._startEvent=y,this._callbacks.condition?.(this._currentCount,y)&&this._callbacks.start(this._currentCount,y,this._startEvent)}_emitUpdate(y){this._callbacks.condition?.(this._currentCount,y)&&this._callbacks.update(this._currentCount,y,this._startEvent)}_emitEnd(y){this._callbacks.condition?.(this._currentCount,y)&&this._callbacks.end(this._currentCount,y,this._startEvent),this._startEvent=null}}class rZ extends Gs.a{constructor(y,g,v){super(!0),this.view=y,this.pointerAction=g,this.registerIncoming("drag",v,b=>this._handleDrag(b)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(y){super.onInstall(y),this._dragEventSeparator=new yy({start:(g,v)=>{this.view.mapViewNavigation.pan.begin(this.view,v.data),v.stopPropagation()},update:(g,v)=>{this.view.mapViewNavigation.pan.update(this.view,v.data),v.stopPropagation()},end:(g,v)=>{this.view.mapViewNavigation.pan.end(this.view,v.data),v.stopPropagation()},condition:(g,v)=>1===g&&Db(v.data,this.pointerAction)})}_handleDrag(y){const g=this.view.mapViewNavigation;g.pinch.zoomMomentum||g.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(y)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class sZ extends Gs.a{constructor(y,g,v){super(!0),this._view=y,this.pointerAction=g;const b=this._view.mapViewNavigation;this._dragEventSeparator=new yy({start:(C,D)=>{b.rotate.begin(this._view,D.data),D.stopPropagation()},update:(C,D)=>{b.rotate.update(this._view,D.data),D.stopPropagation()},end:(C,D)=>{b.rotate.end(),D.stopPropagation()},condition:(C,D)=>1===C&&Db(D.data,this.pointerAction)}),this.registerIncoming("drag",v,C=>this._dragEventSeparator.handle(C))}}var oZ=_(43589);function Bi(p){let y=p*p;return p<0&&(y*=-1),y}class uZ extends Gs.a{constructor(y){super(!0),this._view=y,this._frameTask=null,this._watchHandles=new y2.Z,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",g=>this._handleGamePadEvent(g)),this._handle.pause()}onInstall(y){super.onInstall(y),this._watchHandles.add([(0,ln.YP)(()=>this._view.navigation.gamepad?.enabled,g=>{g?(this._handle.resume(),this._frameTask||(this._frameTask=(0,Tu.A)({update:v=>this._frameUpdate(v.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},ln.nn)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(y){const g=this._view.navigation.gamepad.device;g&&y.data.device!==g||this._currentDevice&&this._currentDevice!==y.data.device||("end"===y.data.action?(this._currentDevice=null,function iZ(p){p.translation[0]=0,p.translation[1]=0,p.translation[2]=0,p.heading=0,p.tilt=0}(this._transformation)):(this._currentDevice=y.data.device,function aZ(p,y,g){const v=g,b=p.state,C=p.device,D="forward-down"===y.tiltDirection?1:-1;"standard"===C.deviceType?(v.translation[0]=Bi(b.axes[0]),v.translation[1]=Bi(b.axes[1]),v.translation[2]=Bi(b.buttons[7])-Bi(b.buttons[6]),v.heading=Bi(b.axes[2]),v.tilt=Bi(b.axes[3])):"spacemouse"===C.deviceType&&(v.translation[0]=1.2*Bi(b.axes[0]),v.translation[1]=1.2*Bi(b.axes[1]),v.translation[2]=2*-Bi(b.axes[2]),v.heading=1.2*Bi(b.axes[5]),v.tilt=1.2*Bi(b.axes[3])),v.tilt*=D,(0,oZ.i)(v.translation,v.translation,1)}(y.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(y){const g=this._transformation;if(function lZ(p){return 0===p.translation[0]&&0===p.translation[1]&&0===p.translation[2]&&0===p.heading&&0===p.tilt&&0===p.zoom}(g))return;const v=this._view.viewpoint.clone(),C=dZ*this._view.navigation.gamepad.velocityFactor*y;(0,os.Rx)(v,v,[g.translation[0]*C,-g.translation[1]*C]);const z=this._view.size;(0,os.UZ)(v,v,1+g.translation[2]*hZ*y,this._view.constraints.rotationEnabled?-g.heading*cZ*y:0,[z[0]/2,z[1]],z);const Ce=this._view.constraints.constrain(v,this._view.viewpoint);this._view.viewpoint=Ce}}const cZ=.06,dZ=.7,hZ=6e-4;function X2(p){const y=()=>p("visible"===document.visibilityState);return document.addEventListener("visibilitychange",y),{remove:()=>document.addEventListener("visibilitychange",y)}}class pZ extends Gs.a{constructor(y,g,v){super(!0),this.view=y,this.keys=g,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=b=>{const C=this._keyMap[b.data.key];if(b.modifiers.has("Meta")||b.modifiers.has("Ctrl"))return void this._stopMovement();if(null==C)return;b.stopPropagation(),b.preventDefault();const D="key-down"===b.type;if(this._pressedKeys[D?"add":"delete"](C),D){if(this._direction===C)return;this._direction=C,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else void 0===this._timeout||this._pressedKeys.size>0?this._handlePopKey():this._isSticky=!0},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[g.left]:"left",[g.right]:"right",[g.up]:"up",[g.down]:"down"},this.registerIncoming("key-down",v,this._handleKey),this.registerIncoming("key-up",v,this._handleKey),this.registerIncoming("blur",v,this._stopMovement),this._visibilityHandle=X2(b=>b?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(y){const g=null!=this._currentDirection;if(null!=y){if(g||this.view.mapViewNavigation.begin(),this._currentDirection!==y)switch(y){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}}else g&&this.view.mapViewNavigation.stop();this._currentDirection=y}_setTimeout(y){clearTimeout(this._timeout),this._timeout=void 0===y?void 0:setTimeout(()=>{this._timeout=void 0,y()},this._stickyKeyDuration)}}class fZ extends Gs.a{constructor(y,g,v){super(!0),this.view=y,this.keys=g,this._pressed=!1,this._keyToDirection={[g.clockwiseOption1]:"clockwise",[g.clockwiseOption2]:"clockwise",[g.counterClockwiseOption1]:"counterClockwise",[g.counterClockwiseOption2]:"counterClockwise",[g.resetOption1]:"reset",[g.resetOption2]:"reset"},this.registerIncoming("key-down",v,b=>this._handleKeyDown(b)),this.registerIncoming("key-up",v,b=>this._handleKeyUp(b)),this.registerIncoming("blur",v,()=>this._handleStop()),this._visibilityHandle=X2(b=>b?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_handleKeyDown(y){y.data.repeat||this._handleKey(y,!0)}_handleKeyUp(y){this._handleKey(y,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(y,g){const v=y.modifiers;if(v.size>0&&!v.has("Shift")||!this.view.constraints.rotationEnabled)return;const b=this._keyToDirection[y.data.key];if(this._pressed=null!=b,this._pressed){if(y.preventDefault(),g)switch(this.view.mapViewNavigation.begin(),b){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();y.stopPropagation()}}}var Od;!function(p){p[p.IN=0]="IN",p[p.OUT=1]="OUT"}(Od||(Od={}));class mZ extends Gs.a{constructor(y,g,v){super(!0),this.view=y,this.keys=g,this._keysToZoomAction={},this.registerIncoming("key-down",v,b=>this._handleKeyDown(b)),g.zoomIn.forEach(b=>this._keysToZoomAction[b]=Od.IN),g.zoomOut.forEach(b=>this._keysToZoomAction[b]=Od.OUT)}_handleKeyDown(y){this._handleKey(y)}_handleKey(y){const g=y.modifiers;if(g.size>0&&!g.has("Shift"))return;const{key:v}=y.data;if(!(v in this._keysToZoomAction))return;const b=this._keysToZoomAction[v],{mapViewNavigation:C}=this.view;let D=null;switch(b){case Od.IN:D=C.zoomIn();break;case Od.OUT:D=C.zoomOut();break;default:return}C.begin(),D.then(()=>C.end()),y.stopPropagation()}}class gZ extends Gs.a{constructor(y,g){super(!0),this._view=y,this._canZoom=!0,this.registerIncoming("mouse-wheel",g,v=>this._handleMouseWheel(v))}_handleMouseWheel(y){if(!this._view.navigation.mouseWheelZoomEnabled||(y.preventDefault(),y.stopPropagation(),!this._canZoom))return;const g=this._view.mapViewNavigation,{x:v,y:b,deltaY:C}=y.data,R=g.zoom(1/.6**(1/60*C),[v,b]);R&&(this._canZoom=!1,R.catch(()=>{}).then(()=>{this._canZoom=!0,g.end()}))}}class vZ extends Gs.a{constructor(y){super(!0),this.view=y,this.registerIncoming("drag",v=>this._handleDrag(v)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const g=this.view.mapViewNavigation;this._dragEventSeparator=new yy({start:(v,b)=>{g.pinch.begin(this.view,b.data),b.stopPropagation()},update:(v,b)=>{g.pinch.update(this.view,b.data),b.stopPropagation()},end:(v,b)=>{g.pinch.end(this.view),b.stopPropagation()},condition:v=>v>=2})}_handleDrag(y){this._dragEventSeparator.handle(y)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var _Z=_(79259);function q2(p){const y=p.native;return y?{buttons:y.buttons.map(g=>g.pressed?g.value||1:0),axes:y.axes.map(g=>function CZ(p,y){const g=Math.abs(p);return g<y?0:Math.sign(p)*(g-y)/(1-y)}(g,p.axisThreshold))}:{buttons:[],axes:[]}}class MZ{constructor(y,g){this._element=y,this._input=g,this._hasEventListeners=!1,this._onConnectGamepad=C=>{this._connectGamepad(C.gamepad)},this._onDisconnectGamepad=C=>{const D=C.gamepad,R=D.index,z=this._inputDevices[R];z&&(this._emitGamepadEvent(D,q2(z),!1),this._inputDevices.splice(R,1),this._latestUpdate.splice(R,1),this._input.gamepad.devices.remove(z),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const v="getGamepads"in window.navigator,b=window.isSecureContext;this.supported=v&&b,this.supported&&(this._forEachGamepad(C=>this._connectGamepad(C)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(y){this._hasEventListeners!==y&&(this._hasEventListeners=y,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(y){this._callback=y}_connectGamepad(y){const g=new lb(y);"unknown"!==g.deviceType&&(this._inputDevices[y.index]=g,this._input.gamepad.devices.add(g)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,Tu.A)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const y=document.hasFocus(),g=this._element.contains(document.activeElement),v="document"===this._input.gamepad.enabledFocusMode&&!y||"view"===this._input.gamepad.enabledFocusMode&&!g;this._forEachGamepad(b=>{const C=this._inputDevices[b.index];if(!C)return;const D=this._latestUpdate[b.index],R=q2(C),z=v||function bZ(p){for(let y=0;y<p.axes.length;y++)if(0!==p.axes[y])return!1;for(let y=0;y<p.buttons.length;y++)if(0!==p.buttons[y])return!1;return!0}(R);D&&(D.timestamp===b.timestamp||!D.active&&z||function EZ(p,y){if(p.axes.length!==y.axes.length||p.buttons.length!==y.buttons.length)return!1;for(let g=0;g<p.axes.length;g++)if(p.axes[g]!==y.axes[g])return!1;for(let g=0;g<p.buttons.length;g++)if(p.buttons[g]!==y.buttons[g])return!1;return!0}(D.state,R))||this._emitGamepadEvent(b,R,!z)})}_forEachGamepad(y){const g=window.navigator.getGamepads();for(let v=0;v<g.length;v++){const b=g[v];this._validate(b)&&y(b)}}_emitGamepadEvent(y,g,v){const b=this._latestUpdate[y.index],C=b&&b.active;if(!C&&!v)return;const D=!C&&v?"start":C&&v?"update":"end";this._latestUpdate[y.index]={timestamp:y.timestamp,state:g,active:v},this._callback&&this._callback({device:this._inputDevices[y.index],state:g,action:D})}_validate(y){if(!y||!y.connected)return!1;for(let g=0;g<y.axes.length;g++)if(isNaN(y.axes[g]))return!1;return!0}}const eA=(0,la.Z)("edge"),DZ=(0,la.Z)("chrome"),SZ=(0,la.Z)("ff"),wZ=(0,la.Z)("safari"),tA="esri-view-surface",Id={touchNone:`${tA}--touch-none`,touchPan:`${tA}--touch-pan`};let TZ=(()=>{class p{constructor(g,v){this._input=v,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=g,g.getAttribute("tabindex")||g.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new MZ(g,this._input),this._gamepadSource.onEvent=b=>this._callback("gamepad",b)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(g=>{this._releasePointerCaptureSafe(g)}),this._gamepadSource=(0,wr.SC)(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(g){this._browserTouchPanningEnabled=g,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(g){this._callback=g}set activeEvents(g){for(const v in this._active)g&&g.has(v)||(this._element.removeEventListener(Sb[v],this._active[v]),delete this._active[v]);g&&g.forEach(v=>{if(!this._active[v]&&Sb[v]){const b=(this._eventHandlers[v]||this._handleDefault).bind(this,v);this._element.addEventListener(Sb[v],b),this._active[v]=b}}),this._gamepadSource.hasEventListeners=g?.has("gamepad")??!1}setPointerCapture(g,v){v?this._setPointerCatpureSafe(g.pointerId):(this._releasePointerCaptureSafe(g.pointerId),this._activePointerCaptures.delete(g.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Id.touchNone:Id.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Id.touchPan:Id.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Id.touchNone),this._element.classList.remove(Id.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(g){try{this._element.setPointerCapture(g),this._activePointerCaptures.add(g)}catch{}}_releasePointerCaptureSafe(g){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(g))return;this._element.releasePointerCapture(g)}catch{}}_updateNormalizedPointerLikeEvent(g,v){const b=w2(this._element,g);return p.test.disableSubpixelCoordinates&&(b.x=Math.round(b.x),b.y=Math.round(b.y)),v.x=b.x,v.y=b.y,v}_handleKey(g,v){const b=(0,_Z.kK)(v);b&&"key-up"===g&&this._keyDownState.delete(b);const C={native:v,key:b,repeat:!!b&&this._keyDownState.has(b)};b&&"key-down"===g&&this._keyDownState.add(C.key),this._callback(g,C)}_handlePointer(g,v){const b=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,pointerType:v.pointerType,button:v.button,buttons:v.buttons,eventId:this._eventId++});this._callback(g,b)}_handlePointerPreventDefault(g,v){const b=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,pointerType:v.pointerType,button:v.button,buttons:v.buttons,eventId:this._eventId++});v.preventDefault(),this._callback(g,b)}_handleMouseWheel(g,v){let b=v.deltaY;switch(v.deltaMode){case 0:eA&&(b=b/document.documentElement.clientHeight*600);break;case 1:b*=30;break;case 2:b*=900}eA?b*=.7:DZ||wZ?b*=.6:SZ&&(b*=1.375);const D=Math.abs(b);D>100&&(b=b/D*200/(1+Math.exp(-.02*(D-100))));const R=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,deltaY:b});this._callback(g,R)}_handlePointerCaptureLost(g,v){this._activePointerCaptures.delete(v.pointerId),this._handleDefault(g,v)}_handleDefault(g,v){const b={native:v};v.preventDefault(),this._callback(g,b)}_preventAltKeyDefault(g){"Alt"===g.key&&g.preventDefault()}_preventMultiTouchPanning(g){g.touches.length>1&&g.preventDefault()}}return p.test={disableSubpixelCoordinates:!1},p})();const Sb={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class OZ extends Gs.a{constructor(){super(!0),this.registerIncoming("context-menu",y=>{y.data.native.preventDefault()})}}function gy(p,y){return Math.abs(y.x-p.x)+Math.abs(y.y-p.y)}function Pu(p){const{native:y}=p,{pointerId:g,button:v,pointerType:b}=y;return"mouse"===b?`${g}:${v}`:`${b}`}class AZ extends Gs.a{constructor(y=250,g=10,v=350,b=35,C=Up.m){super(!1),this._maximumDoubleClickDelay=y,this._maximumDoubleClickDistance=g,this._maximumDoubleTouchDelay=v,this._maximumDoubleTouchDistance=b,this._clock=C,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,Eo.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new yy({start:(D,R)=>this._dragStart(D,R),update:(D,R)=>this._dragUpdate(R),end:(D,R)=>this._dragEnd(R)}),this.registerIncoming("drag",D=>this._dragEventSeparator.handle(D)),this.registerIncoming("pointer-down",D=>this._handlePointerDown(D)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(y=>{y.doubleTapTimeout=(0,wr.hw)(y.doubleTapTimeout)})}get hasPendingInputs(){return(0,cy.oE)(this._pointerState,y=>null!=y.doubleTapTimeout)}_clearPointerDown(y){const g=this._pointerState.get(y);g&&(g.doubleTapTimeout=(0,wr.hw)(g.doubleTapTimeout),this._pointerState.delete(y),this.refreshHasPendingInputs())}_createDoubleTapDragData(y,g,v){const{button:b,buttons:C,pointer:D,pointers:R,pointerType:z,timestamp:he}=v;return{action:y,delta:g,button:b,buttons:C,pointer:D,pointers:R,pointerType:z,timestamp:he}}_dragStart(y,g){if(!this._doubleTapDragReady||1!==y)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:v,modifiers:b}=g,{center:C}=v;this._dragStartCenter=C;const D=this._createDoubleTapDragData("begin",(0,Eo.vW)(0,0),v);this._doubleTapDrag.emit(D,void 0,b),g.stopPropagation()}_dragUpdate(y){if(!this._doubleTapDragActive)return;const{data:g,modifiers:v}=y,{center:b}=g,C=(0,Eo.vW)(b.x-this._dragStartCenter.x,b.y-this._dragStartCenter.y),D=this._createDoubleTapDragData("update",C,g);this._doubleTapDrag.emit(D,void 0,v),y.stopPropagation()}_dragEnd(y){if(!this._doubleTapDragActive)return;const{data:g,modifiers:v}=y,{center:b}=g,C=(0,Eo.vW)(b.x-this._dragStartCenter.x,b.y-this._dragStartCenter.y),D=this._createDoubleTapDragData("end",C,g);this._doubleTapDrag.emit(D,void 0,v),this._doubleTapDragActive=!1,y.stopPropagation()}_handlePointerDown(y){const{data:g}=y,v=Pu(g),b=this._pointerState.get(v),{pointerType:C}=g.native;if(b){const D="touch"===C?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(v),gy(b.event.data,g)>D?this._storePointerDown(y):this._doubleTapDragReady=!0}else this._storePointerDown(y)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(y){const{data:g}=y,{pointerType:v}=g.native,b=Pu(g),D=this._clock.setTimeout(()=>this._clearPointerDown(b),"touch"===v?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(b,{event:y,doubleTapTimeout:D}),this.refreshHasPendingInputs()}}var rA,wb=_(95854);class xZ extends Gs.a{constructor(y){super(!1),this._navigationTouch=y,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(y,g,v,b){return{action:y,pointerType:this._pointerType,button:this._mouseButton,buttons:g.buttons,timestamp:b,pointers:RZ(this._activePointerMap),pointer:g,angle:v.angle,radius:v.radius,center:v.center}}_addPointer(y){const g=y.native.pointerId,v=vy(this._activePointerMap).angle,b={event:y,initialAngle:0,lastAngle:0};this._activePointerMap.set(g,b);const C=_y(b,nA(this._activePointerMap));b.initialAngle=C,b.lastAngle=C,this._updatePointerAngles(v)}_updatePointer(y){if(y&&null==y.x&&null==y.y)return;const v=this._activePointerMap.get(y.native.pointerId);v?v.event=y:this._addPointer(y)}_removePointer(y){const g=vy(this._activePointerMap).angle;this._activePointerMap.delete(y),this._updatePointerAngles(g)}_updatePointerAngles(y){const g=vy(this._activePointerMap);this._activePointerMap.forEach(v=>{v.initialAngle=_y(v,g)-y,v.lastAngle=_y(v,g)-y})}_emitEvent(y,g,v){const b=vy(this._activePointerMap);this._drag.emit(this._createPayload(y,g,b,v),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(y){const g=y.data.native.pointerId,v=(0,wb.HA)(y.timestamp);this._activePointerMap.get(g)&&(1===this._activePointerMap.size?(this._updatePointer(y.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",y.data,v),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(g)):(this._removePointer(g),this._emitEvent("removed",y.data,(0,wb.HA)(y.timestamp))))}_handlePointerDrag(y){const g=y.data,v=g.currentEvent,b=(0,wb.HA)(y.timestamp);switch(g.action){case"start":case"update":this._isDragging?this._activePointerMap.has(v.native.pointerId)?(this._updatePointer(v),!this._isCurrentDragSuppressed&&this._emitEvent("update",v,b)):(this._addPointer(v),this._emitEvent("added",v,b),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(v),this._pointerType=y.data.startEvent.pointerType,this._mouseButton=y.data.startEvent.button,this._startStateModifiers=y.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",v,b))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function nA(p){const y=[];return p.forEach(g=>{y.push((0,Eo.vW)(g.event.x,g.event.y))}),function PZ(p,y){if(y?(y.radius=0,y.center.x=0,y.center.y=0):y={radius:0,center:(0,Eo.vW)()},0===p.length)return y;if(1===p.length)return y.center.x=p[0].x,y.center.y=p[0].y,y;if(2===p.length){const[sn,cn]=p,[Tn,ar]=[cn.x-sn.x,cn.y-sn.y];return y.radius=Math.sqrt(Tn*Tn+ar*ar)/2,y.center.x=(sn.x+cn.x)/2,y.center.y=(sn.y+cn.y)/2,y}let g=0,v=0;for(let sn=0;sn<p.length;sn++)g+=p[sn].x,v+=p[sn].y;g/=p.length,v/=p.length;const b=p.map(sn=>sn.x-g),C=p.map(sn=>sn.y-v);let D=0,R=0,z=0,he=0,Ce=0,Ie=0,Ke=0;for(let sn=0;sn<b.length;sn++){const cn=b[sn],Tn=C[sn],ar=cn*cn,Ws=Tn*Tn;D+=ar,R+=Ws,z+=cn*Tn,he+=ar*cn,Ce+=Ws*Tn,Ie+=cn*Ws,Ke+=Tn*ar}const rt=.5*(he+Ie),pt=.5*(Ce+Ke),Mt=D*R-z*z,Ft=(rt*R-pt*z)/Mt,zt=(D*pt-z*rt)/Mt,jt=(0,Eo.vW)(Ft+g,zt+v);return{radius:Math.sqrt(Ft*Ft+zt*zt+(D+R)/p.length),center:jt}}(y)}function vy(p){const y=nA(p);let g=0;return p.forEach(v=>{let b=_y(v,y),C=b-v.lastAngle;for(;C>Math.PI;)C-=2*Math.PI;for(;C<-Math.PI;)C+=2*Math.PI;b=v.lastAngle+C,v.lastAngle=b,g+=b-v.initialAngle}),g/=p.size||1,{angle:g,radius:y.radius,center:y.center}}function RZ(p){const y=new Map;return p.forEach((g,v)=>y.set(v,g.event)),y}function _y(p,y){const g=p.event;return Math.atan2(g.y-y.center.y,g.x-y.center.x)}!function(p){p[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right",p[p.Back=3]="Back",p[p.Forward=4]="Forward",p[p.Undefined=-1]="Undefined"}(rA||(rA={}));class LZ extends Gs.a{constructor(y=250,g=10,v=350,b=35,C=Up.m){super(!1),this._maximumDoubleClickDelay=y,this._maximumDoubleClickDistance=g,this._maximumDoubleTouchDelay=v,this._maximumDoubleTouchDistance=b,this._clock=C,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(y=>{y.immediateDoubleClick&&y.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(y){const g=y.data,v=Pu(g);this._pointerState.has(v)||(this._pointerState.set(v,{downButton:g.native.button,x:g.x,y:g.y,immediateDoubleClick:null}),this.startCapturingPointer(g.native))}_handlePointerUp(y){const g=y.data,v=Pu(g),b=this._pointerState.get(v);if(b&&b.downButton===g.native.button){const C=b.immediateDoubleClick,D="touch"===y.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;C?(C.timeoutHandle.remove(),gy(C,y.data)>D?this._startImmediateDoubleClick(y,b):(this._immediateDoubleClick.emit(y.data,void 0,C.modifiers),this._removeState(g))):gy(b,y.data)>D?this._removeState(g):this._startImmediateDoubleClick(y,b)}}_startImmediateDoubleClick(y,g){g.immediateDoubleClick={x:y.data.x,y:y.data.y,modifiers:y.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(y.data),"touch"===y.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay)}}_removeState(y){const g=Pu(y);this._pointerState.delete(g),this.stopCapturingPointer(y.native),this.refreshHasPendingInputs()}}class jZ extends Gs.a{constructor(y=300,g=1.5,v=6,b=6,C=500,D=Up.m){super(!1),this._maximumClickDelay=y,this._movementUntilMouseDrag=g,this._movementUntilPenDrag=v,this._movementUntilTouchDrag=b,this._holdDelay=C,this._clock=D,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",R=>{this._handlePointerLoss(R,"pointer-up")}),this.registerIncoming("pointer-capture-lost",R=>{this._handlePointerLoss(R,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",R=>{this._handlePointerLoss(R,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(y=>{y.holdTimeout=(0,wr.hw)(y.holdTimeout)}),super.onUninstall()}_handlePointerDown(y){const g=y.data,v=g.native.pointerId;let b=null;0===this._pointerState.size&&(b=this._clock.setTimeout(()=>{const D=this._pointerState.get(v);D&&(D.isDragging||(this._pointerHold.emit(D.previousEvent,void 0,y.modifiers),D.holdEmitted=!0),D.holdTimeout=null)},this._holdDelay)),this._pointerState.set(v,{startEvent:g,previousEvent:g,startTimestamp:y.timestamp,isDragging:!1,downButton:g.native.button,holdTimeout:b,modifiers:new Set}),this.startCapturingPointer(g.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(y)}_createPointerDragData(y,g,v){return{action:y,startEvent:g.startEvent,previousEvent:g.previousEvent,currentEvent:v}}_handlePointerMove(y){const g=y.data,b=this._pointerState.get(g.native.pointerId);b&&(b.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",b,g),void 0,b.modifiers):function IZ(p,y){const g=y.x-p.x,v=y.y-p.y;return Math.sqrt(g*g+v*v)}(g,b.startEvent)>this._getDragThreshold(g.native.pointerType)&&this._startDragging(y),b.previousEvent=g)}_getDragThreshold(y){switch(y){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(y){const g=y.data,v=g.native.pointerId;this._pointerState.forEach(b=>{null!=b.holdTimeout&&(b.holdTimeout.remove(),b.holdTimeout=null),b.isDragging||(b.modifiers=y.modifiers,b.isDragging=!0,v===b.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",b,g)):this._pointerDrag.emit(this._createPointerDragData("start",b,b.previousEvent),y.timestamp))})}_handlePointerLoss(y,g){const v=y.data,b=v.native.pointerId,C=this._pointerState.get(b);C&&(null!=C.holdTimeout&&(C.holdTimeout.remove(),C.holdTimeout=null),C.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",C,"pointer-up"===g?v:C.previousEvent),void 0,C.modifiers):"pointer-up"===g&&C.downButton===v.native.button&&y.timestamp-C.startTimestamp<=this._maximumClickDelay&&!C.holdEmitted&&this._immediateClick.emit(v),this._pointerState.delete(b),this.stopCapturingPointer(v.native),0===this._pointerState.size&&this._moveHandle.pause())}}class NZ extends Gs.a{constructor(y=250,g=10,v=350,b=35,C=Up.m){super(!1),this._maximumDoubleClickDelay=y,this._maximumDoubleClickDistance=g,this._maximumDoubleTouchDelay=v,this._maximumDoubleTouchDistance=b,this._clock=C,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(y=>y.doubleClickTimer=(0,wr.hw)(y.doubleClickTimer))}get hasPendingInputs(){return(0,cy.oE)(this._pointerState,y=>null!=y.doubleClickTimer)}_clearDoubleClickTimer(y,g){const v=this._pointerState.get(y);v&&(v.doubleClickTimer=(0,wr.hw)(v.doubleClickTimer),g&&this._click.emit(v.event.data,void 0,v.event.modifiers),this._pointerState.delete(y),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(y){const g=this._pointerState.get(y);1===g.pointerDownCount&&this._click.emit(g.event.data,void 0,g.event.modifiers),g.doubleClickTimer=null,this._pointerState.delete(y),this.refreshHasPendingInputs()}_getPointerId(y){const{pointerId:g,pointerType:v,button:b}=y.native;return"mouse"===v?`${g}:${b}`:`${v}`}_handleImmediateClick(y){const g=y.data,{pointerType:v}=g.native,b=this._getPointerId(g);if(!this._pointerState.has(b))return void this._startClick(y);const C=this._pointerState.get(b),{data:D,modifiers:R}=C.event,z="touch"===v?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;gy(D,g)>z?(this._clearDoubleClickTimer(b,!0),this._startClick(y)):(this._clearDoubleClickTimer(b,!1),2===C.pointerDownCount&&this._doubleClick.emit(D,void 0,R))}_handlePointerDown(y){const g=Pu(y.data),v=this._pointerState.get(g);v&&(v.pointerDownCount+=1)}_startClick(y){const{data:g}=y,{native:{pointerType:v}}=g,b=Pu(g),D=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(b),"touch"===v?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(b,{event:y,doubleClickTimer:D,pointerDownCount:1}),this.refreshHasPendingInputs()}}const Ey_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Ey_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},Ey_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let Au=class extends fr.Z{initialize(){const p=()=>this.view?.ready;this.addHandles([(0,ln.gx)(()=>!p(),()=>this._disconnect()),(0,ln.gx)(p,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=(0,wr.SC)(this._inputManager)}_connect(){const y=new TZ(this.view.surface,this.view.input),g=[new LZ,new jZ,new NZ,new xZ(this.view.navigation),new AZ],v=new Md.$({eventSource:y,recognizers:g});v.installHandlers("prevent-context-menu",[new OZ],Md.f.INTERNAL),v.installHandlers("navigation",[new vZ(this.view),new uZ(this.view),new gZ(this.view),new Q2(this.view),new Q2(this.view,["Ctrl"]),new rZ(this.view,"primary"),new pZ(this.view,Ey_pan),new mZ(this.view,Ey_zoom),new fZ(this.view,Ey_rotate),new sZ(this.view,"secondary"),new nZ(this.view,"touch")],Md.f.INTERNAL),this.view.viewEvents.connect(v),this._source=y,this._inputManager=v,(0,ln.YP)(()=>this.view?.navigation?.browserTouchPanEnabled,b=>{this._source&&(this._source.browserTouchPanningEnabled=!b)},ln.nn)}get test(){return{inputManager:this._inputManager}}};(0,Se._)([(0,Le.Cb)()],Au.prototype,"view",void 0),(0,Se._)([(0,Le.Cb)()],Au.prototype,"latestPointerType",null),(0,Se._)([(0,Le.Cb)()],Au.prototype,"latestPointerLocation",null),(0,Se._)([(0,Le.Cb)()],Au.prototype,"multiTouchActive",null),Au=(0,Se._)([(0,un.j)("esri.views.2d.input.MapViewInputManager")],Au);const UZ=Au;var BZ=_(82726),sA=_(30640),FZ=_(35458);function Tb(){return Tb=(0,Yn.Z)(function*(p,y,g){const v=O2(y)?T2(p,y):y;if(!p.ready||isNaN(v.x)||isNaN(v.y))return{screenPoint:v,results:[]};let b=new Set;const C=new Set;let D=!1,R=null,z=null;g?.include?iA(g.include,oA(p,Ke=>{b.add(Ke),Ib(Ke,rt=>C.add(rt))},(Ke,rt)=>{C.add(Ke),b.add(rt)},Ke=>{R||(R=new Set),R.add(Ke)},Ke=>b.add(Ke),()=>D=!0)):(D=!0,b=new Set(p.allLayerViews),b.forEach(Ke=>{Ib(Ke,rt=>C.add(rt))})),g?.exclude&&iA(g.exclude,oA(p,Ke=>{b.delete(Ke),Ib(Ke,rt=>C.delete(rt))},Ke=>C.delete(Ke),Ke=>{z||(z=new Set),z.add(Ke)}));const he=p.allLayerViews.filter(Ke=>!Ke.suspended&&b.has(Ke)).reverse(),Ce=p.toMap(v);let Ie=[...D?p.graphicsView.hitTest(Ce).map(Ke=>({type:"graphic",graphic:Ke,layer:null,mapPoint:Ce})):[],...yield Promise.all(he.map(Ke=>Ke.hitTest(Ce,v)).toArray())].filter(wp.pC).flat().filter(wp.pC);return Ie=Ie.filter(Ke=>"graphic"!==Ke.type||"subtype-group"!==Ke.layer?.type||C.has(Ke.graphic.layer)),R&&(Ie=Ie.filter(Ke=>!("graphic"in Ke)||!Ke.graphic||R?.has(Ob(Ke.graphic)))),z&&(Ie=Ie.filter(Ke=>!("graphic"in Ke)||!Ke.graphic||!z?.has(Ob(Ke.graphic)))),{screenPoint:v,results:Ie}}),Tb.apply(this,arguments)}function oA(p,y,g,v,b,C){return D=>{if(D instanceof FZ.Z){if(D.layer===p)C?.();else{const R=p.allLayerViews.find(z=>z.layer===D.layer);R&&b?.(R)}v(Ob(D))}else if("subtype-sublayer"===D.type){const R=p.allLayerViews.find(z=>z.layer===D.parent);R&&g(D,R)}else{const R=p.allLayerViews.find(z=>z.layer===D);R&&y(R)}}}function iA(p,y){if(p)if((0,ob.TW)(p))for(const g of p)if((0,ob.TW)(g))for(const v of g)y(v);else y(g);else y(p)}function Ob(p){const y=p.getObjectId();return y?`${p.layer?.uid??p.sourceLayer?.uid??"MapView"}/${y}`:`"MapView/${p.uid}`}function Ib({layer:p},y){"subtype-group"===p.type&&p.sublayers.forEach(g=>{y(g)})}var by=_(82871);const aA={flipY:!0,premultipliedAlpha:!0};function Pb(){return Pb=(0,Yn.Z)(function*(p,y){const g=yield lA(p,y),{format:v,quality:b}=(0,by.LI)(y?.format,y?.quality);return(0,by.cv)(g,{format:v,quality:b,rotation:0,disableDecorations:!1},aA)}),Pb.apply(this,arguments)}function Ab(){return Ab=(0,Yn.Z)(function*(p,y){const g=yield lA(p,y);return(0,by.v8)(g,aA)}),Ab.apply(this,arguments)}function lA(p,y){const g=function KZ(p,y,g,v){p.ignorePadding&&(v={left:0,right:0,top:0,bottom:0});let b=null;null!=p.width&&null!=p.height?b=[p.width,p.height]:null==p.width&&null!=p.height?b=[p.height,p.height]:null!=p.width&&null==p.height?b=[p.width,p.width]:null==p.width&&null==p.height&&(b=null);const C=g[0]-(v.left+v.right),D=g[1]-(v.top+v.bottom);let R,z,he=p.area||{x:0,y:0,width:C,height:D};if(b){const Ie=b[0]/b[1];if(Ie>C/D){const Ke=he.width/Ie;he={x:he.x,y:Math.round(he.y+(he.height-Ke)/2),width:he.width,height:Math.round(Ke)}}else{const Ke=he.height*Ie;he={x:Math.round(he.x+(he.width-Ke)/2),y:he.y,width:Math.round(Ke),height:he.height}}}else b=[he.width,he.height];return b[0]>he.width?(R=Math.min(b[0]/he.width,y),z=b[0]/he.width/R):(R=1,z=b[0]/he.width),{cropArea:{x:Math.round((he.x+v.left)*R),y:Math.round((he.y+v.top)*R),width:Math.round(he.width*R),height:Math.round(he.height*R)},outputScale:z,resolutionScale:R}}(y||{},function kZ(p,y){return Math.min(4,(0,by.RZ)(y,Math.min(4096,p.context.parameters.maxTextureSize)))}(p.stage,p.size),p.size,p.padding),v=function ZZ(p={},y){if(!p.layers)return;const g=[];return p.layers.forEach(v=>{const b=y.find(C=>C.layer.id===v.id);b?.container&&g.push(b.container)}),g}(y,p.allLayerViews);return p.stage.takeScreenshot(g,v,p.backgroundColor,y?.rotation)}let Zp=class extends fr.Z{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=160&&this.clear()},160))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};(0,Se._)([(0,Le.Cb)()],Zp.prototype,"_timer",void 0),(0,Se._)([(0,Le.Cb)()],Zp.prototype,"stationary",null),Zp=(0,Se._)([(0,un.j)("esri.views.2d.support.StationaryManager")],Zp);var cA=_(76363),zZ=_(19903),GZ=_(99273);let xu=class extends fr.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(p){this._set("id",p)}set node(p){const y=this._get("node");p!==y&&(p&&p.classList.add("esri-component"),y&&y.classList.remove("esri-component"),this._set("node",p))}castNode(p){return this.widget?.destroy(),p?"string"==typeof p||function JZ(p){return p&&"nodeType"in p}(p)?(this._set("widget",null),(0,Tl.L7)(p)):(function YZ(p){return p&&"function"==typeof p.render}(p)&&!p.domNode&&(p.domNode=document.createElement("div")),this._set("widget",p),p.domNode):(this._set("widget",null),null)}};(0,Se._)([(0,Le.Cb)()],xu.prototype,"id",null),(0,Se._)([(0,Le.Cb)()],xu.prototype,"node",null),(0,Se._)([(0,ji.p)("node")],xu.prototype,"castNode",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],xu.prototype,"widget",void 0),xu=(0,Se._)([(0,un.j)("esri.views.ui.Component")],xu);const Cy=xu;var QZ=_(55774),kp=_(40846);const XZ={left:0,top:0,bottom:0,right:0},hA={bottom:30,top:15,right:15,left:15},Va="esri-ui",Ro={ui:Va,corner:`${Va}-corner`,innerContainer:`${Va}-inner-container`,manualContainer:`${Va}-manual-container`,cornerContainer:`${Va}-corner-container`,topLeft:`${Va}-top-left`,topRight:`${Va}-top-right`,bottomLeft:`${Va}-bottom-left`,bottomRight:`${Va}-bottom-right`};function My(p){return 0===p?"0":`${p}px`}function xb(p){const y="object"==typeof p&&null!==p&&Object.getPrototypeOf(p);return null!==y&&y!==Object.prototype||!("component"in p||"index"in p||"position"in p)?null:p}function Rb(p,{top:y,bottom:g,left:v,right:b}){p.style.top=y,p.style.bottom=g,p.style.left=v,p.style.right=b}let ga=class extends Vm.Z.EventedAccessor{constructor(p){super(p),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._locale=(0,Q1.Kd)(),this.view=null,this._applyViewPadding=()=>{const y=this.container;y&&Rb(y,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const y=this._innerContainer;y&&Rb(y,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,ln.YP)(()=>[this.view?.padding,this.container],this._applyViewPadding,ln.nn),(0,ln.YP)(()=>this.padding,this._applyUIPadding,ln.nn),(0,ln.YP)(()=>[this.container,this._locale],([p,y])=>{p&&p.setAttribute("lang",y)},ln.nn),(0,Q1.qe)(p=>{this._locale=p})])}destroy(){this.container=null;for(const p of this._components)p.destroy();this._components.length=0,this._componentMap.clear()}set container(p){const y=this._get("container");p!==y&&(p&&(p.classList.add(Ro.ui),(0,QZ.V$)(p),this._attachContainers(p)),y&&(y.classList.remove(Ro.ui),Rb(y,{top:"",bottom:"",left:"",right:""}),(0,Tl.cS)(y)),this._set("container",p))}get height(){const p=this.view?.height??0;if(0===p)return p;const y=this._getViewPadding(),{top:g,bottom:v}=y;return Math.max(p-g-v,0)}get padding(){return this._get("padding")}set padding(p){this._overrideIfSome("padding",p)}castPadding(p){return"number"==typeof p?{bottom:p,top:p,right:p,left:p}:{...hA,...p}}get width(){const p=this.view?.width??0;if(0===p)return p;const y=this._getViewPadding(),{left:g,right:v}=y;return Math.max(p-g-v,0)}add(p,y){let g,v,b;if(Array.isArray(p))return void p.forEach(D=>this.add(D,y));const C=xb(p);C&&({index:g,position:y,component:p,key:v}=C),y&&"object"==typeof y&&({index:g,key:v,position:y,internal:b}=y),!p||y&&!this._isValidPosition(y)||this._add(p,y,g,v,b)}remove(p,y){if(!p)return;if(Array.isArray(p))return p.map(v=>this.remove(v,y));const g=this._find(p);if(g){if(this._componentMap.has(g)&&this._componentMap.get(g)?.key!==y)return;const v=this._components.indexOf(g);return g.node.parentNode?.removeChild(g.node),this._componentMap.delete(g),this._components.splice(v,1)[0]}}empty(p,y={removeInternal:!1}){if(Array.isArray(p)){for(const b of p)this.empty(b,y);return}const v=Array.prototype.slice.call(this._positionNameToContainerLookup[p??"manual"].children).map(b=>this._findByNode(b)).filter(b=>null!=b&&(!this._componentMap.get(b)?.internal||y.removeInternal));for(const b of v)this.remove(b)}move(p,y){if(Array.isArray(p)&&p.forEach(C=>this.move(C,y)),!p)return;let g;const v=xb(p)||xb(y);if(v&&(g=v.index,y=v.position,p=v.component||p),y&&!this._isValidPosition(y))return;const b=this.remove(p);b&&this.add(b,{position:y,index:g})}find(p){if(!p)return null;const y=this._findById(p);return y&&(y.widget||y.node)}getComponents(p,y={includeInternal:!1}){return p?Array.isArray(p)?p.flatMap(g=>this._getComponentsAtPosition(g,y)):this._getComponentsAtPosition(p,y):this._components.filter(g=>y.includeInternal||!this._componentMap.get(g)?.internal).map(({widget:g,node:v})=>g??v)}getPosition(p){for(const y in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[y].contains(p))return y;return null}_add(p,y,g,v,b){p instanceof Cy||(p=new Cy({node:p})),this._place({component:p,position:y,index:g}),this._components.push(p),this._componentMap.set(p,{key:v,internal:b})}_find(p){return p?p instanceof Cy?this._findByComponent(p):"string"==typeof p?this._findById(p):this._findByNode(p.domNode||p):null}_getViewPadding(){return this.view?.padding??XZ}_attachContainers(p){p.appendChild(this._innerContainer),p.appendChild(this._manualContainer)}_initContainers(){const p=document.createElement("div");p.classList.add(Ro.innerContainer,Ro.cornerContainer);const y=document.createElement("div");y.classList.add(Ro.innerContainer,Ro.manualContainer);const g=document.createElement("div");g.classList.add(Ro.topLeft,Ro.corner),p.appendChild(g);const v=document.createElement("div");v.classList.add(Ro.topRight,Ro.corner),p.appendChild(v);const b=document.createElement("div");b.classList.add(Ro.bottomLeft,Ro.corner),p.appendChild(b);const C=document.createElement("div");C.classList.add(Ro.bottomRight,Ro.corner),p.appendChild(C),this._innerContainer=p,this._manualContainer=y;const D=(0,kp.dZ)();this._cornerNameToContainerLookup={"top-left":g,"top-right":v,"bottom-left":b,"bottom-right":C,"top-leading":D?v:g,"top-trailing":D?g:v,"bottom-leading":D?C:b,"bottom-trailing":D?b:C},this._positionNameToContainerLookup={manual:y,...this._cornerNameToContainerLookup}}_isValidPosition(p){return!!this._positionNameToContainerLookup[p]}_place(p){const y=p.position??"manual",{component:g,index:v}=p,b=this._positionNameToContainerLookup[y],C=null!=v&&v>-1;if(function qZ(p){return p&&!p._started&&"function"==typeof p.postMixInProperties&&"function"==typeof p.buildRendering&&"function"==typeof p.postCreate&&"function"==typeof p.startup}(g.widget)&&g.widget.startup(),!C)return void b.appendChild(g.node);const D=Array.from(b.children);0!==v?v>=D.length?b.appendChild(g.node):(0,Tl.Vt)(g.node,D[v]):b.firstChild?(0,Tl.Vt)(g.node,b.firstChild):b.appendChild(g.node)}_toPixelPosition(p){return{top:My(p.top),left:My(p.left),right:My(p.right),bottom:My(p.bottom)}}_findByComponent(p){return this._components.find(y=>y===p)??null}_findById(p){return this._components.find(({id:y})=>y===p)??null}_findByNode(p){return this._components.find(({node:y})=>y===p)??null}_getComponentsAtPosition(p,y){return Array.prototype.slice.call(this._positionNameToContainerLookup[p].children).map(v=>this._findByNode(v)).filter(wp.pC).filter(v=>y.includeInternal||!this._componentMap.get(v)?.internal).map(({widget:v,node:b})=>v??b)}};(0,Se._)([(0,Le.Cb)()],ga.prototype,"_locale",void 0),(0,Se._)([(0,Le.Cb)()],ga.prototype,"container",null),(0,Se._)([(0,Le.Cb)()],ga.prototype,"height",null),(0,Se._)([(0,Le.Cb)({value:hA})],ga.prototype,"padding",null),(0,Se._)([(0,ji.p)("padding")],ga.prototype,"castPadding",null),(0,Se._)([(0,Le.Cb)()],ga.prototype,"view",void 0),(0,Se._)([(0,Le.Cb)()],ga.prototype,"width",null),ga=(0,Se._)([(0,un.j)("esri.views.ui.UI")],ga);const ek=ga;var Rl=_(53021);function pA(p,y){return p&&"copyright"in p&&(!y||"function"==typeof p.originOf&&"user"===p.originOf("copyright"))}function Dy(p,y,g){!g||!y||p.find(v=>v.layerView===y&&v.text===g)||p.push({text:g,layerView:y})}const Ll=[];let Pd=class extends fr.Z{constructor(p){super(p),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new fs.Z,this.view=null,this._allLayerViewsChange=y=>{this.removeHandles("suspension");const g=this.view?.allLayerViews;g&&this.addHandles(g.map(v=>(0,ln.YP)(()=>[v.suspended,v.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),y?.removed&&y.removed.forEach(v=>{this._pendingAttributions.delete(v),this._fetchedAttributionData.delete(v)}),this._updateAttributionItems()},this.addHandles([(0,ln.on)(()=>this.view?.allLayerViews,"change",y=>this._allLayerViewsChange(y),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,ln.gx)(()=>!0===this.view?.stationary,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const p=this.view,y=p?.allLayerViews;Ll.length=0,p&&y?(y.forEach(g=>{if(g.suspended||!g.layer?.attributionVisible)return;const v=g.layer;if(pA(v,"user"))Dy(Ll,g,v.copyright);else if(v.hasAttributionData){if(this._fetchedAttributionData.has(g)){const C=this._fetchedAttributionData.get(g);return void(C?Dy(Ll,g,this._getDynamicAttribution(C,p,v)):pA(v)&&Dy(Ll,g,v.copyright))}this._fetchAttributionData(g)}else Dy(Ll,g,("portalItem"in v?v.portalItem?.accessInformation:void 0)||v.copyright)}),function tk(p,y){return p.length!==y.length||p.some((g,v)=>g.text!==y[v].text)}(this.items,Ll)&&(this.items.removeAll(),this.items.addMany(Ll)),Ll.length=0,this.notifyChange("state")):this._clear()}_fetchAttributionData(p){var y=this;return(0,Yn.Z)(function*(){if(y._pendingAttributions.has(p))return;y._pendingAttributions.add(p);const g=yield(0,ay.q6)(p.layer.fetchAttributionData());if(y._pendingAttributions.has(p)){const v=g.ok?y._createContributionIndex(g.value,function nk(p){return"bing-maps"===p.type}(p.layer)):null;y._pendingAttributions.delete(p),y._fetchedAttributionData.set(p,v)}y._updateAttributionItems()})()}_createContributionIndex(p,y){const g=p.contributors,v={};if(!g)return v;for(let b=0;b<g.length;b++){const C=g[b],D=C.coverageAreas;if(!D)return;for(const R of D){const z=R.bbox,he=R.zoomMin-(y&&R.zoomMin?1:0),Ce=R.zoomMax-(y&&R.zoomMax?1:0),Ie=new jp.Z({xmin:z[1],ymin:z[0],xmax:z[3],ymax:z[2],spatialReference:Tp.Z.WGS84}),Ke={extent:(0,w1.$)(Ie),attribution:C.attribution||"",score:null!=R.score?R.score:100,id:b};for(let rt=he;rt<=Ce;rt++)v[rt]??=[],v[rt].push(Ke)}}return v.maxKey=Math.max.apply(null,Object.keys(v)),v}_getDynamicAttribution(p,y,g){const{extent:v,scale:b}=y;let C=g.tileInfo?.scaleToZoom(b)??0;if(C=Math.min(p.maxKey??0,Math.round(C)),!v||null==C||C<=-1)return"";const D=p[C],R=(0,w1.iV)(v.center.clone().normalize(),y.spatialReference),z=new Set;return D?D.filter(he=>{const Ce=he.id,Ie=!z.has(Ce)&&R&&he.extent&&(0,mb.aV)(he.extent,R);return Ie&&z.add(Ce),Ie}).sort((he,Ce)=>Ce.score-he.score||he.objectId-Ce.objectId).map(he=>he.attribution).join(", "):""}};(0,Se._)([(0,Le.Cb)({readOnly:!0,type:fs.Z})],Pd.prototype,"items",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Pd.prototype,"state",null),(0,Se._)([(0,Le.Cb)()],Pd.prototype,"view",void 0),Pd=(0,Se._)([(0,un.j)("esri.widgets.Attribution.AttributionViewModel")],Pd);const fA=Pd;var cr=_(89219),Ms=_(70868),Sy=_(86269),jl=_(26440),qt=_(2485);const Ad="esri-attribution",Ru={base:Ad,poweredBy:`${Ad}__powered-by`,sources:`${Ad}__sources`,open:`${Ad}--open`,sourcesOpen:`${Ad}__sources--open`,link:`${Ad}__link`,widgetIcon:Ms.W.description};let oo=class extends Rl.Z{constructor(p,y){super(p,y),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(g=>g.forEach(({target:v})=>this._checkSourceTextOverflow(v))),this.iconClass=Ru.widgetIcon,this.icon=null,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new fA}initialize(){this.addHandles((0,ln.on)(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((p,y)=>(p.includes(y.text)||p.push(y.text),p),[]).join(this.itemDelimiter)}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}render(){return(0,qt.u)("div",{bind:this,class:this.classes(Ru.base,cr.z.widget,{[Ru.open]:this._isOpen}),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return(0,qt.u)("div",{class:Ru.poweredBy},"Powered by"," ",(0,qt.u)("a",{class:Ru.link,href:"http://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const p=this._isOpen,y=this._isInteractive,g=y?0:void 0,{attributionText:v}=this;return(0,qt.u)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Ru.sources,{[Ru.sourcesOpen]:p,[cr.z.interactive]:y}),innerHTML:v,tabIndex:g})}_afterSourcesNodeCreate(p){this._prevSourceNodeHeight=p.clientWidth,this._resizeObserver.observe(p)}_checkSourceTextOverflow(p){let y=!1;const{clientHeight:g,clientWidth:v,scrollWidth:b}=p,C=b>v,D=this._attributionTextOverflowed!==C;if(this._attributionTextOverflowed=C,D&&(y=!0),this._isOpen){const R=g<this._prevSourceNodeHeight;this._prevSourceNodeHeight=g,R&&(this._isOpen=!1,y=!0)}y&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,Se._)([(0,Le.Cb)()],oo.prototype,"_isOpen",void 0),(0,Se._)([(0,Le.Cb)()],oo.prototype,"_isInteractive",null),(0,Se._)([(0,Le.Cb)()],oo.prototype,"_attributionTextOverflowed",void 0),(0,Se._)([(0,Le.Cb)()],oo.prototype,"_prevSourceNodeHeight",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],oo.prototype,"attributionText",null),(0,Se._)([(0,Le.Cb)()],oo.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],oo.prototype,"icon",void 0),(0,Se._)([(0,Le.Cb)()],oo.prototype,"itemDelimiter",void 0),(0,Se._)([(0,Le.Cb)()],oo.prototype,"label",null),(0,Se._)([(0,Le.Cb)(),(0,jl.H)("esri/widgets/Attribution/t9n/Attribution")],oo.prototype,"messages",void 0),(0,Se._)([(0,Le.Cb)()],oo.prototype,"view",null),(0,Se._)([(0,Le.Cb)({type:fA})],oo.prototype,"viewModel",void 0),(0,Se._)([(0,Sy.h)()],oo.prototype,"_toggleState",null),oo=(0,Se._)([(0,un.j)("esri.widgets.Attribution")],oo);const rk=oo;var mA=_(42704);let Lu=class extends((0,mA._)(fr.Z)){constructor(p){super(p),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles((0,ln.YP)(()=>this.view,this._updateRotationWatcher,ln.nn))}destroy(){this.view=null}get canShowNorth(){return function sk(p){return p?.spatialReference?.isWebMercator||p?.spatialReference?.isGeographic||!1}(this.view)}get state(){return!this.view?.ready||"2d"===this.view.type&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){if(!this.view?.ready)return;const p={};"2d"===this.view?.type?p.rotation=0:p.heading=0,this.callGoTo({target:p})}_updateForRotation(p){null!=p&&(this.orientation={z:p})}_updateForCamera(p){p&&(this.orientation={x:0,y:0,z:-p.heading})}_updateRotationWatcher(p){this.removeAllHandles(),p&&this.addHandles("2d"===p.type?(0,ln.YP)(()=>p?.rotation,this._updateForRotation,ln.nn):(0,ln.YP)(()=>p?.camera,this._updateForCamera,ln.nn))}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],Lu.prototype,"canShowNorth",null),(0,Se._)([(0,Le.Cb)()],Lu.prototype,"orientation",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Lu.prototype,"state",null),(0,Se._)([(0,Le.Cb)()],Lu.prototype,"view",void 0),Lu=(0,Se._)([(0,un.j)("esri.widgets.CompassViewModel")],Lu);const yA=Lu,gA="esri-compass",Lb={base:gA,widgetIcon:Ms.W.locateCircled,iconContainer:`${gA}__icon-container`};var wy=_(90643);let va=class extends Rl.Z{constructor(p,y){super(p,y),this.iconClass=Lb.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new yA,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=g=>({transform:`rotateZ(${g.z}deg)`})}loadDependencies(){return(0,wy.h)({button:()=>Promise.all([_.e(148),_.e(8592),_.e(8901)]).then(_.bind(_,38901)),icon:()=>_.e(4540).then(_.bind(_,24540))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(p){this.viewModel.goToOverride=p}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}reset(){return this.viewModel.reset()}render(){const{orientation:p,state:y}=this.viewModel,g="rotation"===y?"arrow-up":"compass-needle",{messages:v}=this;return(0,qt.u)("div",{class:this.classes(Lb.base,cr.z.widget)},(0,qt.u)("calcite-button",{"aria-label":v.reset,class:cr.z.widgetButton,disabled:"disabled"===y,kind:"neutral",onclick:this._reset,round:!0,scale:"s",title:v.reset},(0,qt.u)("div",{"aria-hidden":"true",class:Lb.iconContainer,title:v.reset},(0,qt.u)("calcite-icon",{icon:g,scale:"m",styles:this._toRotationTransform(p)}))))}};(0,Se._)([(0,Le.Cb)()],va.prototype,"goToOverride",null),(0,Se._)([(0,Le.Cb)()],va.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],va.prototype,"icon",void 0),(0,Se._)([(0,Le.Cb)()],va.prototype,"label",null),(0,Se._)([(0,Le.Cb)(),(0,jl.H)("esri/widgets/Compass/t9n/Compass")],va.prototype,"messages",void 0),(0,Se._)([(0,Le.Cb)()],va.prototype,"view",null),(0,Se._)([(0,Le.Cb)({type:yA})],va.prototype,"viewModel",void 0),va=(0,Se._)([(0,un.j)("esri.widgets.Compass")],va);const ik=va,xd="esri-navigation-toggle",$a={base:xd,widgetIcon:Ms.W.pan2,button:`${xd}__button`,activeButton:`${xd}__button--active`,panButton:`${xd}__button--pan`,rotateButton:`${xd}__button--rotate`,isLayoutHorizontal:`${xd}--horizontal`};let Rd=class extends fr.Z{constructor(p){super(p),this.navigationMode="pan",this.view=null}initialize(){this.addHandles((0,ln.gx)(()=>this.view?.inputManager,()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){return this.view?.ready&&"3d"===this.view?.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){const p=this.view?.inputManager;p&&(p.primaryDragAction="pan"===this.navigationMode?"pan":"rotate")}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],Rd.prototype,"state",null),(0,Se._)([(0,Le.Cb)()],Rd.prototype,"navigationMode",void 0),(0,Se._)([(0,Le.Cb)()],Rd.prototype,"view",void 0),Rd=(0,Se._)([(0,un.j)("esri.widgets.NavigationToggleViewModel")],Rd);const vA=Rd;let Fi=class extends Rl.Z{constructor(p,y){super(p,y),this.iconClass=$a.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new vA}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}set layout(p){"horizontal"!==p&&(p="vertical"),this._set("layout",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}toggle(){return this.viewModel.toggle()}render(){const p="disabled"===this.viewModel?.state,y="pan"===this.viewModel?.navigationMode,v={[$a.activeButton]:y},b={[$a.activeButton]:!y},C=p?-1:0,D=this.messages.toggle;return(0,qt.u)("div",{"aria-label":D,bind:this,class:this.classes($a.base,cr.z.widget,{[cr.z.disabled]:p,[$a.isLayoutHorizontal]:"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:C,title:D},(0,qt.u)("div",{class:this.classes($a.button,cr.z.widgetButton,$a.panButton,v)},(0,qt.u)("span",{class:Ms.W.pan})),(0,qt.u)("div",{class:this.classes($a.button,cr.z.widgetButton,$a.rotateButton,b)},(0,qt.u)("span",{class:Ms.W.rotate})))}_toggle(){this.toggle()}};(0,Se._)([(0,Le.Cb)()],Fi.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],Fi.prototype,"icon",void 0),(0,Se._)([(0,Le.Cb)()],Fi.prototype,"label",null),(0,Se._)([(0,Le.Cb)({value:"vertical"})],Fi.prototype,"layout",null),(0,Se._)([(0,Le.Cb)(),(0,jl.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Fi.prototype,"messages",void 0),(0,Se._)([(0,Le.Cb)()],Fi.prototype,"view",null),(0,Se._)([(0,Le.Cb)({type:vA})],Fi.prototype,"viewModel",void 0),(0,Se._)([(0,Sy.h)()],Fi.prototype,"_toggle",null),Fi=(0,Se._)([(0,un.j)("esri.widgets.NavigationToggle")],Fi);const ak=Fi;var lk=_(19399);let Za=class extends Rl.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass=null,this.icon=null,this.title=""}render(){const p=this.enabled?0:-1;return(0,qt.u)("div",{bind:this,class:this.classes(cr.z.widgetButton,cr.z.widget,{[cr.z.disabled]:!this.enabled,[cr.z.interactive]:this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:p,title:this.title},(0,qt.u)("span",{"aria-hidden":"true",class:this.classes(lk.i.icon,this.iconClass??""),role:"presentation"}),(0,qt.u)("span",{class:Ms.W.fontFallbackText},this.title))}_triggerAction(){this.action.call(this)}};(0,Se._)([(0,Le.Cb)()],Za.prototype,"action",void 0),(0,Se._)([(0,Le.Cb)()],Za.prototype,"enabled",void 0),(0,Se._)([(0,Le.Cb)()],Za.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],Za.prototype,"icon",void 0),(0,Se._)([(0,Le.Cb)()],Za.prototype,"title",void 0),(0,Se._)([(0,Sy.h)()],Za.prototype,"_triggerAction",null),Za=(0,Se._)([(0,un.j)("esri.widgets.IconButton")],Za);const _A=Za;let ju=class extends fr.Z{get canZoomIn(){if(!this.view?.ready)return!1;const y=this.view?.constraints?.effectiveMaxScale;return 0===y||this._scale>y}get canZoomOut(){const{view:p}=this;if(!p?.ready)return!1;const g=p.constraints?.effectiveMinScale;return 0===g||this._scale<g}get _scale(){const p=this.view?.animation?.target;return(p&&"then"in p?void 0:p?.scale)??this.view?.scale??0}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],ju.prototype,"canZoomIn",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],ju.prototype,"canZoomOut",null),(0,Se._)([(0,Le.Cb)()],ju.prototype,"view",void 0),(0,Se._)([(0,Le.Cb)()],ju.prototype,"_scale",null),ju=(0,Se._)([(0,un.j)("esri.widgets.Zoom.ZoomConditions2D")],ju);const uk=ju;let Ld=class extends fr.Z{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ld.prototype,"canZoomIn",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ld.prototype,"canZoomOut",null),(0,Se._)([(0,Le.Cb)()],Ld.prototype,"view",void 0),Ld=(0,Se._)([(0,un.j)("esri.widgets.Zoom.ZoomConditions3D")],Ld);const ck=Ld;let Nl=class extends fr.Z{constructor(p){super(p)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(p){p?"2d"===p.type?this._zoomConditions=new uk({view:p}):"3d"===p.type&&(this._zoomConditions=new ck({view:p})):this._zoomConditions=null,this._set("view",p)}zoomIn(){if(!this.canZoomIn)return;const p=this.view;"2d"===p.type?p.mapViewNavigation.zoomIn():(0,xr.R8)(p.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const p=this.view;"2d"===p.type?p.mapViewNavigation.zoomOut():(0,xr.R8)(p.goTo({zoomFactor:.5}))}};(0,Se._)([(0,Le.Cb)()],Nl.prototype,"_zoomConditions",void 0),(0,Se._)([(0,Le.Cb)()],Nl.prototype,"canZoomIn",null),(0,Se._)([(0,Le.Cb)()],Nl.prototype,"canZoomOut",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Nl.prototype,"state",null),(0,Se._)([(0,Le.Cb)()],Nl.prototype,"view",null),Nl=(0,Se._)([(0,un.j)("esri.widgets.Zoom.ZoomViewModel")],Nl);const EA=Nl,jb={base:"esri-zoom",widgetIcon:Ms.W.zoomInMagnifyingGlass,horizontalLayout:"esri-zoom--horizontal"};let _a=class extends Rl.Z{constructor(p,y){super(p,y),this.iconClass=jb.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new EA}initialize(){this._zoomInButton=new _A({action:this.zoomIn.bind(this),iconClass:Ms.W.plus}),this._zoomOutButton=new _A({action:this.zoomOut.bind(this),iconClass:Ms.W.minus})}destroy(){this._zoomInButton=(0,wr.SC)(this._zoomInButton),this._zoomOutButton=(0,wr.SC)(this._zoomOutButton)}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}set layout(p){"horizontal"!==p&&(p="vertical"),this._set("layout",p)}set view(p){this.viewModel.view=p}get view(){return this.viewModel.view}render(){const p=this.viewModel,y={[jb.horizontalLayout]:"horizontal"===this.layout},{canZoomIn:g,canZoomOut:v}=p;this._zoomInButton.enabled=g,this._zoomOutButton.enabled=v;const{zoomIn:b,zoomOut:C}=this.messages;return this._zoomInButton.title=b,this._zoomOutButton.title=C,(0,qt.u)("div",{class:this.classes(jb.base,cr.z.widget,y)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,Se._)([(0,Le.Cb)()],_a.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],_a.prototype,"icon",void 0),(0,Se._)([(0,Le.Cb)()],_a.prototype,"label",null),(0,Se._)([(0,Le.Cb)({value:"vertical"})],_a.prototype,"layout",null),(0,Se._)([(0,Le.Cb)(),(0,jl.H)("esri/widgets/Zoom/t9n/Zoom")],_a.prototype,"messages",void 0),(0,Se._)([(0,Le.Cb)()],_a.prototype,"view",null),(0,Se._)([(0,Le.Cb)({type:EA})],_a.prototype,"viewModel",void 0),_a=(0,Se._)([(0,un.j)("esri.widgets.Zoom")],_a);const dk=_a;let Ty=class extends ek{constructor(p){super(p),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=y=>{this.components.forEach(g=>{const v=this._find(g),b=v?.widget;(function hk(p){return void 0!==p?.view})(b)&&(b.view=y)})},this._componentsWatcher=(y,g)=>{this._removeComponents(g),this._addComponents(y),this._adjustPadding(y)}}initialize(){this.addHandles([(0,ln.YP)(()=>this.components,this._componentsWatcher,ln.nn),(0,ln.YP)(()=>this.view,this._updateViewAwareWidgets,ln.nn)])}_add(p,y,g,v,b){let C=p;if("string"==typeof p&&this._defaultPositionLookup[p]){if(this._find(p))return;C=this._createComponent(p)}super._add(C,y,g,v,b)}_removeComponents(p){p.forEach(y=>{const g=this._find(y);g&&(this.remove(g),g.destroy())})}_adjustPadding(p){if(!p.includes("attribution")&&!this._isOverridden("padding")){const{top:y}=this.padding;this.padding=y}}_addComponents(p){this.constructed&&p.forEach(y=>this.add(this._createComponent(y),this._defaultPositionLookup[y]))}_createComponent(p){const y=this._createWidget(p);return new Cy({id:p,node:y})}_createWidget(p){const{view:y}=this;switch(p){case"attribution":return new rk({view:y});case"compass":return new ik({view:y});case"navigation-toggle":return new ak({view:y});case"zoom":return new dk({view:y})}}};(0,Se._)([(0,Le.Cb)()],Ty.prototype,"components",void 0),Ty=(0,Se._)([(0,un.j)("esri.views.ui.DefaultUI")],Ty);const bA=Ty;let Oy=class extends bA{constructor(p){super(p),this.components=["attribution","zoom"]}};(0,Se._)([(0,Le.Cb)()],Oy.prototype,"components",void 0),Oy=(0,Se._)([(0,un.j)("esri.views.ui.2d.DefaultUI2D")],Oy);const CA=Oy;let MA,DA,SA,wA,TA,OA;function Nb(){return Nb=(0,Yn.Z)(function*(){const[,{GraphicsView2D:p,GraphicContainer:y,LabelManager:g,MapViewNavigation:v,MagnifierView2D:b,Stage:C}]=yield Promise.all([Promise.all([_.e(7091),_.e(3018),_.e(1363),_.e(9714)]).then(_.bind(_,19714)),Promise.all([_.e(842),_.e(7091),_.e(7917),_.e(3018),_.e(1363),_.e(6239),_.e(3866),_.e(2311),_.e(9968),_.e(693),_.e(9231),_.e(6535),_.e(1601),_.e(4985),_.e(1176),_.e(6469),_.e(6557),_.e(8592),_.e(137)]).then(_.bind(_,40137))]);DA=p,SA=y,wA=g,TA=v,OA=b,MA=C}),Nb.apply(this,arguments)}let Wn=class extends(a$(f$(p$(N$)))){constructor(p){var y,g;super(p),y=this,this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Wm.Z({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new py({view:this}),this.graphicsView=null,this.stateManager=new bo({constraints:new z2({view:this})}),this.stationaryManager=new Zp,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new W$(this),this.floors=new fs.Z,this.highlightOptions=new sA.Z,this.inputManager=new UZ({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new cA.T,this.type="2d",this.ui=new CA,this.test={takeScreenshot:(g=(0,Yn.Z)(function*(v){return function $Z(p,y){return Ab.apply(this,arguments)}(y._getScreenshotView(v),v)}),function(b){return g.apply(this,arguments)})},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([(0,ln.YP)(()=>this.viewpoint,()=>this.stationaryManager.flip(),ln.Z_),this.on("resize",g=>this.stateManager.resize(g.width,g.height)),(0,ln.YP)(()=>this.animationManager?.animation,g=>{this.animation=g})]),(0,s$.j2)()}destroy(){this._set("preconditionsReady",!1),this.frameTask=(0,wr.SC)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new BZ.Z(this.featuresTilingScheme)}get constraintsInfo(){const p=this.defaultsFromMap?.tileInfo,y=this.spatialReference;return{lods:p?.spatialReference?.equals(y)?p.lods:null,spatialReference:y}}get state(){return this.stateManager.state}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:p,constraints:y,center:g,viewpoint:v,extent:b}=this;let C=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint||b||(y?.effectiveLODs||(C=-1),g&&(0!==p||-1!==C)||null!=v?.targetGeometry&&("extent"===v.targetGeometry.type||v.scale)))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const p=this._getDefaultViewpoint();return!!p&&(!!(0,wl.canProjectWithoutEngine)(p.targetGeometry.spatialReference,this.spatialReference)||(0,wl.isLoadedOrLoad)())}set animation(p){const y=this._get("animation");if(p===y)return;if(y&&y.stop(),!p||p.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",p),this.frameTask.animationInProgress=!0;const g=()=>{p===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame()),this.frameTask.animationInProgress=!1};p.when(g,g)}get background(){return IA(this.map)?this.map.initialViewProperties.background:null}set background(p){this._override("background",p)}get center(){return this.stateManager?.center??null}set center(p){this.stateManager.center=p}get constraints(){return this.stateManager?.constraints}set constraints(p){p.view=this;const y=this.stateManager.constraints;this.stateManager.constraints=p,y?.destroy()}get extent(){return this.stateManager?.extent??null}set extent(p){this.stateManager.extent=p}get padding(){return this.stateManager?.padding}set padding(p){this.stateManager&&(this.stateManager.padding=p)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(p){this.stateManager.resizeAlign=p}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(p){const{rotationEnabled:y}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=p,this.constraints.rotationEnabled=y}get scale(){return this.stateManager?.scale??0}set scale(p){this.stateManager&&(this.stateManager.scale=p)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get updating(){const p=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(y=>!y.destroyed&&!("layerViews"in y)&&!0===y.updating));if((0,la.Z)("esri-2d-log-updating")){const y=this.allLayerViews.reduce((g,v)=>({...g,[v.layer.id]:!v.destroyed&&!("layerViews"in v)&&v.updating}),{});console.log(`Updating MapView: ${p}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(y)}\n`)}return p}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(p){this.stateManager.viewpoint=p,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(p){this.stateManager.zoom=p}get navigating(){return this.mapViewNavigation?.interacting??!1}goTo(p,y){return this.goToManager.goTo(p,y)}hitTest(p,y){var g=this;return(0,Yn.Z)(function*(){return function WZ(p,y,g){return Tb.apply(this,arguments)}(g,p,y)})()}takeScreenshot(p){var y=this;return(0,Yn.Z)(function*(){return function VZ(p,y){return Pb.apply(this,arguments)}(y._getScreenshotView(p),p)})()}toMap(p){if(!this.ready)return null;const y=O2(p)?T2(this,p):p;return this.stateManager.toMap(y)}toScreen(p,y){return this.stateManager.toScreen(p,y)}on(p,y,g,v){return this.inputManager&&this.viewEvents.on(p,y,g,v)||super.on(p,y)}hasEventListener(p){return super.hasEventListener(p)||this.viewEvents.hasHandler(p)}whenLayerView(p){return super.whenLayerView(p)}graphicChanged(p){this.graphicsView&&this.graphicsView.graphicUpdateHandler(p)}whenReady(){return new Promise(p=>{this.ready?p(this):this._resolveWhenReady.push(p)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return IA(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(p){return(p=>null!=$2[p.type])(p)}importLayerView(p){return(p=>{const y=$2[p.type];if(null==y)throw function V$(p){const y=p.declaredClass?p.declaredClass.slice(p.declaredClass.lastIndexOf(".")+1):"Unknown",g=y.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new pr.Z(`${g}:view-not-supported`,`${y} is not supported in 2D`)}(p);return y(p)})(p)}pixelSizeAt(){return this.ready?this.resolution:(_r.Z.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(p){return this.hitTest(p).then(y=>({...y,mapPoint:this.toMap(p)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){var p=this;return(0,Yn.Z)(function*(){let y=function HZ(p){const y=(0,zZ.hc)(p);if(!y.available)return new pr.Z("webgl:required","3d"===p?"WebGL2 is required but not supported.":"WebGL is required but not supported.",(new Error).stack);if("3d"===p&&y.majorPerformanceCaveat)return new pr.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!y.supportsHighPrecisionFragment)return new pr.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!y.supportsVertexShaderSamplers)return new pr.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(y.type===GZ.zO.WEBGL1){if(!y.supportsElementIndexUint)return new pr.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!y.supportsStandardDerivatives)return new pr.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!y.supportsInstancedArrays)return new pr.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}(p.type);if((0,la.Z)("safari")&&(0,la.Z)("safari")<9&&(y=new pr.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,la.Z)("safari")})),null!=y)throw _r.Z.getLogger(p).warn("#validate()",y.message),y})()}loadAsyncDependencies(){return function pk(){return Nb.apply(this,arguments)}()}_getDefaultViewpoint(){const{constraints:p,initialExtent:y,map:g,padding:v,size:b}=this;if(!p)return null;const C=g&&"initialViewProperties"in g?g.initialViewProperties:void 0,D=this.stateManager.getUserStartupOptions(this.size),R=C?.viewpoint,z=R?.targetGeometry?.extent??y,he=z?.center,Ce=R?.rotation??0,Ie=R?.scale||z&&(0,os.EK)(z,[b[0]-v.left-v.right,b[1]-v.top-v.bottom]),Ke=D.center??he,pt=D.scale??Ie;return Ke&&pt?new _o.Z({targetGeometry:Ke,scale:pt,rotation:D.rotation??Ce}):null}_startup(){this.timeline.begin("MapView Startup");const p=this._getDefaultViewpoint();this.stateManager.startup(p,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const y=new MA(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=y,this._magnifierView=new OA,this._magnifierView.magnifier=this.magnifier;const g=new wA({view:this});this._set("labelManager",g);const v=new F$({view:this});this._set("animationManager",v);const b=new TA({view:this,animationManager:v});this._set("mapViewNavigation",b),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),y.on("webgl-error",D=>this.fatalError=D.error),(0,ln.YP)(()=>this.stationary,D=>y.stationary=D,ln.tX),(0,ln.YP)(()=>this.background,D=>{y.backgroundColor=D?.color,this._magnifierView.backgroundColor=D?.color},ln.tX),(0,ln.YP)(()=>this.magnifier,D=>this._magnifierView.magnifier=D,ln.tX),(0,ln.YP)(()=>this.renderingOptions,D=>y.renderingOptions=D,ln.tX),(0,ln.YP)(()=>this.highlightOptions,D=>y.highlightOptions=D,ln.tX),(0,ln.YP)(()=>this.state.id,()=>y.state=this.state,ln.tX)],"map-view"),this._updateStageChildren();const C=this._resolveWhenReady;this._resolveWhenReady=[],C.forEach(D=>D(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown(),this.animation=null}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(y=>{this.stage.addChild(y.container)}),this.stage.addChild(this.graphicsView.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const p=new G$.Z(o$.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",p);const y=new DA({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new SA(p)});this._set("graphicsView",y)}_destroySpatialReferenceDependentProperties(){const p=this.graphicsView;this._set("graphicsView",null),p.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(p){const{allLayerViews:y,padding:g,size:v,stage:b}=this;return{allLayerViews:y,backgroundColor:p?.ignoreBackground?null:this.background?.color,padding:g,size:v,stage:b}}_spatialReferenceChanged(p){if(this.ready){this.frameTask.stop();for(const y of this.allLayerViews)y.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(p),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const y of this.allLayerViews)y.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};Wn.type="2d",(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"animationManager",void 0),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Wn.prototype,"deactivatedWebGLExtensions",void 0),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Wn.prototype,"debugWebGLExtensions",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"featuresTilingScheme",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"fullOpacity",void 0),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"goToManager",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"graphicsTileStore",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"graphicsView",void 0),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"stateManager",void 0),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"constraintsInfo",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"state",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"initialExtentRequired",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"labelManager",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"mapViewNavigation",void 0),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Wn.prototype,"renderCanvas",void 0),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"renderingOptions",void 0),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Wn.prototype,"supersampleScreenshotsEnabled",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"supportsGround",void 0),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"_defaultsFromMapSettings",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"typeSpecificPreconditionsReady",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"animation",null),(0,Se._)([(0,Le.Cb)({type:ty})],Wn.prototype,"background",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"center",null),(0,Se._)([(0,Le.Cb)({type:z2})],Wn.prototype,"constraints",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"extent",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"floors",void 0),(0,Se._)([(0,Le.Cb)({type:sA.Z})],Wn.prototype,"highlightOptions",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"inputManager",void 0),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"map",void 0),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"padding",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"rendering",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"resizeAlign",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"resolution",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"rotation",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"scale",null),(0,Se._)([(0,Le.Cb)({constructOnly:!0})],Wn.prototype,"spatialReferenceLocked",void 0),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"stationary",null),(0,Se._)([(0,Le.Cb)({type:cA.T,readOnly:!0})],Wn.prototype,"timeline",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"type",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"updating",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"viewpoint",null),(0,Se._)([(0,Le.Cb)()],Wn.prototype,"zoom",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Wn.prototype,"navigating",null),(0,Se._)([(0,Le.Cb)(),(0,ji.p)(p=>p instanceof bA?p:(0,ud.TJ)(CA,p))],Wn.prototype,"ui",void 0),Wn=(0,Se._)([(0,un.j)("esri.views.MapView")],Wn);const fk=Wn;function IA(p){return"esri.WebMap"===p?.declaredClass}var Iy=_(94678);let Ul=class extends fr.Z{constructor(p){super(p)}get editedBookmark(){const{bookmark:p}=this;return p?this._get("editedBookmark")||p.clone():null}get state(){return this._get("state")}set state(p){this.validationState=void 0,this.loading=void 0,this._set("state",p)}};(0,Se._)([(0,Le.Cb)()],Ul.prototype,"bookmark",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Ul.prototype,"editedBookmark",null),(0,Se._)([(0,Le.Cb)()],Ul.prototype,"state",null),(0,Se._)([(0,Le.Cb)()],Ul.prototype,"validationState",void 0),(0,Se._)([(0,Le.Cb)()],Ul.prototype,"loading",void 0),Ul=(0,Se._)([(0,un.j)("esri.widgets.Bookmarks.UserState")],Ul);const Ub=Ul,PA=fs.Z.ofType(k1),mk={width:128,height:128,format:"png"},Py={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},Bb={time:!0},AA="esri.widgets.Bookmarks.BookmarksViewModel",xA=_r.Z.getLogger(AA);let qo=class extends((0,mA._)(Vm.Z.EventedAccessor)){constructor(p){super(p),this.capabilities={...Bb},this.activeBookmark=null,this.view=null}destroy(){this.view=null,this._set("activeBookmark",null)}get abilities(){return(0,ly.Mr)(xA,"abilities",{replacement:"capabilities",version:"4.27"}),this.capabilities}set abilities(p){(0,ly.Mr)(xA,"abilities",{replacement:"capabilities",version:"4.27"}),this.capabilities=p}castAbilities(p){return{...Bb,...p}}castCapabilities(p){return{...Bb,...p}}get bookmarks(){return this.view?.map?.bookmarks??new PA}set bookmarks(p){this._overrideIfSome("bookmarks",p)}set defaultCreateOptions(p){this._set("defaultCreateOptions",{...Py,...p})}get defaultCreateOptions(){return Py}set defaultEditOptions(p){this._set("defaultEditOptions",{...Py,...p})}get defaultEditOptions(){return Py}get state(){const{view:p}=this;return p&&!p.ready?"loading":"ready"}createBookmark(p){var y=this;return(0,Yn.Z)(function*(){const{view:g,defaultCreateOptions:v,capabilities:b}=y;if(!g)throw new pr.Z("create-bookmark:invalid-view","Cannot create a bookmark without a view.");const{takeScreenshot:C,screenshotSettings:D,captureViewpoint:R,captureRotation:z,captureScale:he,captureTimeExtent:Ce}={...v,...p},Ie=C?yield y._createThumbnail(D):void 0,Ke=b.time&&Ce&&null!=g.timeExtent?g.timeExtent.clone():void 0;return new k1({...Ie&&{thumbnail:Ie},...Ce&&{timeExtent:Ke},...R&&{viewpoint:y._createViewpoint({view:g,captureScale:he,captureRotation:z})}})})()}editBookmark(p,y){var g=this;return(0,Yn.Z)(function*(){if(!p)return p;const{view:v,defaultEditOptions:b}=g;if(!v)throw new pr.Z("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");const{takeScreenshot:C,screenshotSettings:D,captureViewpoint:R,captureRotation:z,captureScale:he,captureTimeExtent:Ce}={...b,...y},Ie=C?yield g._createThumbnail(D):void 0;return Ie&&(p.thumbnail=Ie),R&&(p.viewpoint=g._createViewpoint({view:v,captureScale:he,captureRotation:z})),Ce&&null!=v.timeExtent&&(p.timeExtent=v.timeExtent.clone()),g.emit("bookmark-edit",{bookmark:p}),p})()}goTo(p){const{capabilities:y,view:g}=this;if(!g)throw new pr.Z("go-to:invalid-view","Cannot go to a bookmark without a view");const v=p?.viewpoint;if(!v)throw new pr.Z("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:p});this._set("activeBookmark",p);const C=this.callGoTo({target:v}),D=p?.timeExtent;return y.time&&D&&(g.timeExtent=D),this.emit("bookmark-select",{bookmark:p}),C.catch(()=>{}).then(()=>this._set("activeBookmark",null)),C}_createThumbnail(p){var y=this;return(0,Yn.Z)(function*(){const{view:g}=y;if(!g)throw new pr.Z("bookmark:invalid-view","Cannot create slide thumbnail without a view");const v=yield g.takeScreenshot({...mk,...p});return new Ba({url:v.dataUrl})})()}_createViewpoint({view:p,captureRotation:y,captureScale:g}){const v=p.viewpoint?.clone();return new _o.Z({targetGeometry:p.extent?.clone(),rotation:(y?v?.rotation:null)??0,scale:(g?v?.scale:null)??0})}};(0,Se._)([(0,Le.Cb)()],qo.prototype,"abilities",null),(0,Se._)([(0,ji.p)("abilities")],qo.prototype,"castAbilities",null),(0,Se._)([(0,Le.Cb)()],qo.prototype,"capabilities",void 0),(0,Se._)([(0,ji.p)("capabilities")],qo.prototype,"castCapabilities",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],qo.prototype,"activeBookmark",void 0),(0,Se._)([(0,Le.Cb)({type:PA})],qo.prototype,"bookmarks",null),(0,Se._)([(0,Le.Cb)()],qo.prototype,"defaultCreateOptions",null),(0,Se._)([(0,Le.Cb)()],qo.prototype,"defaultEditOptions",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],qo.prototype,"state",null),(0,Se._)([(0,Le.Cb)()],qo.prototype,"view",void 0),qo=(0,Se._)([(0,un.j)(AA)],qo);const RA=qo,$s="esri-bookmarks",Ea=`${$s}__authoring`,Wi=`${$s}__bookmark`,Kp=`${$s}__time-extent`,wn={base:$s,widgetIcon:Ms.W.bookmark,loaderContainer:`${$s}__loader-container`,loader:`${$s}__loader`,fadeIn:`${$s}--fade-in`,bookmarkList:`${$s}__list`,bookmarkListSortable:`${$s}__list--sortable`,bookmark:Wi,bookmarkButton:`${Wi}-button`,bookmarkImageContainer:`${Wi}-image-container`,bookmarkImageContainerHasImage:`${Wi}-image-container--has-image`,bookmarkEditButtonContainer:`${Wi}-edit-button-container`,bookmarkEditButton:`${Wi}-edit-button`,bookmarkDragHandle:`${$s}_bookmark-drag-handle`,bookmarkDragHandleIcon:`${$s}_bookmark-drag-handle-icon`,bookmarkIcon:`${Wi}-icon`,bookmarkImage:`${$s}__image`,bookmarkLabel:`${Wi}-label`,bookmarkName:`${Wi}-name`,bookmarkTimeExtent:`${Wi}-time-extent`,bookmarkActive:`${Wi}--active`,noBookmarksHeader:`${$s}__no-bookmarks-heading`,noBookmarksDescription:`${$s}__no-bookmarks-description`,addingBookmark:`${$s}__adding-bookmark`,addBookmark:`${$s}__add-bookmark`,addBookmarkButton:`${$s}__add-bookmark-button`,addBookmarkIcon:`${$s}__add-bookmark-icon`,authoringCard:`${Ea}-card`,authoringContainer:`${Ea}-container`,authoringForm:`${Ea}-form`,authoringFormAdding:`${Ea}-form--adding`,authoringLabel:`${Ea}-label`,authoringLabelStartPadding:`${Ea}-label--start-padding`,authoringActions:`${Ea}-actions`,authoringInputInvalid:`${Ea}-input--invalid`,authoringDeleteButton:`${Ea}-delete-button`,authoringCancelButton:`${Ea}-cancel-button`,timeExtentContainer:`${Kp}-container`,timeExtent:Kp,timeExtentGroup:`${Kp}-group`,timeExtentDate:`${Kp}-date`,timeExtentTime:`${Kp}-time`};var Ay;let fi=Ay=class extends fr.Z{constructor(p){super(p),this.autoCloseMenu=!1,this.iconClass=null,this.items=null,this.label=null,this.open=!1,this.selected=!1,this.selectionEnabled=!1,this.clickFunction=null}castItems(p){return p?p.map(y=>y instanceof Ay?y:new Ay(y)):null}};(0,Se._)([(0,Le.Cb)()],fi.prototype,"autoCloseMenu",void 0),(0,Se._)([(0,Le.Cb)()],fi.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],fi.prototype,"items",void 0),(0,Se._)([(0,ji.p)("items")],fi.prototype,"castItems",null),(0,Se._)([(0,Le.Cb)()],fi.prototype,"label",void 0),(0,Se._)([(0,Le.Cb)()],fi.prototype,"open",void 0),(0,Se._)([(0,Le.Cb)()],fi.prototype,"selected",void 0),(0,Se._)([(0,Le.Cb)()],fi.prototype,"selectionEnabled",void 0),(0,Se._)([(0,Le.Cb)()],fi.prototype,"clickFunction",void 0),fi=Ay=(0,Se._)([(0,un.j)("esri.widgets.FeatureTable.Grid.support.ButtonMenuItem")],fi);const zp=fi;let jd=class extends fr.Z{constructor(p){super(p),this.items=null,this.open=!1}castItems(p){return p?p.map(y=>y instanceof zp?y:new zp(y)):null}};(0,Se._)([(0,Le.Cb)()],jd.prototype,"items",void 0),(0,Se._)([(0,ji.p)("items")],jd.prototype,"castItems",null),(0,Se._)([(0,Le.Cb)()],jd.prototype,"open",void 0),jd=(0,Se._)([(0,un.j)("esri.widgets.FeatureTable.Grid.support.ButtonMenuViewModel")],jd);const yk=jd,Lo="esri-button-menu",ei={base:Lo,content:`${Lo}__content`,itemWrapper:`${Lo}__item-wrapper`,label:`${Lo}__label`,icon:`${Lo}__icon`,item:`${Lo}__item`,itemLabel:`${Lo}__item-label`,itemLabelContent:`${Lo}__item-label-content`,selectableMenuItem:`${Lo}__item--selectable`,selectedMenuItem:`${Lo}__item--selected`,checkbox:`${Lo}__checkbox`,embeddedContentWrapper:`${Lo}__embedded-content-wrapper`,button:`${Lo}__button`,buttonSelected:`${Lo}__button--selected`};let Bl=class extends Rl.Z{constructor(p,y){super(p,y),this._popover=null,this.disabled=!1,this.iconClass="",this.viewModel=new yk}loadDependencies(){return(0,wy.h)({button:()=>Promise.all([_.e(148),_.e(8592),_.e(8901)]).then(_.bind(_,38901)),popover:()=>Promise.all([_.e(148),_.e(5782),_.e(2805),_.e(4661),_.e(7938)]).then(_.bind(_,87938))})}destroy(){this._popover=null}get items(){return this.viewModel.items}set items(p){this.viewModel.items=p}get open(){return this.viewModel.open}set open(p){this.viewModel.open=p}render(){const{open:p}=this,y=`${this.id}-button`;return(0,qt.u)("div",{class:this.classes(ei.base,cr.z.widget),key:"menu"},(0,qt.u)("calcite-button",{appearance:"transparent",bind:this,class:this.classes(ei.button,p&&ei.buttonSelected),disabled:this.disabled,iconStart:p?"x":"ellipsis",id:y,kind:"neutral",label:this.label||"button",onclick:()=>this._toggleOpen(p),tabIndex:0}),(0,qt.u)("calcite-popover",{afterCreate:kp.Yo,afterUpdate:()=>this._popover?.reposition(),autoClose:!0,bind:this,"data-node-ref":"_popover",label:this.label||"menu",open:p,overlayPositioning:"fixed",placement:"bottom",pointerDisabled:!0,referenceElement:y,onCalcitePopoverClose:this._onPopoverClose},this._renderMenuContent()))}_onPopoverClose(){this.open=!1}_renderMenuContent(){const{id:p,open:y}=this;return(0,qt.u)("div",{afterCreate:this._afterMenuContentNodeCreate,bind:this,class:ei.content,hidden:!y,key:"esri-button-menu-content"},(0,qt.u)("ul",{"aria-labelledby":`${p}-button`,bind:this,class:ei.itemWrapper,id:`${p}-menu`,role:"menu"},this.items?.length?this._renderItems():null))}_renderItems(){return this.items?.map((p,y)=>this._renderItem(p,y))}_renderItem(p,y,g){const v=null!=g?`${this.id}-menu-item-${y}-${g}`:`${this.id}-menu-item-${y}`,b=`${v}-label`,C=this.classes(ei.item,p.selectionEnabled?ei.selectableMenuItem:null,p.selectionEnabled&&p.selected?ei.selectedMenuItem:null);return(0,qt.u)("li",{afterCreate:this._afterMenuItemCreate,bind:this,class:C,"data-item-index":y,"data-item-subIndex":g,for:v,key:v,onclick:D=>this._handleMenuItemInteraction(D,p),onkeydown:D=>this._handleMenuItemKeydown(D,p),role:"menuitem",tabIndex:this.disabled?-1:0},(0,qt.u)("input",{checked:p.selected,class:ei.checkbox,disabled:!0,id:v,name:v,tabIndex:-1,type:"checkbox"}),(0,qt.u)("label",{class:ei.itemLabel,for:v,id:b},(0,qt.u)("span",{"aria-hidden":"true",class:this.classes(ei.icon,p.iconClass)}),(0,qt.u)("span",{class:ei.itemLabelContent},kp.w3.sanitize(p.label))),(0,qt.u)("ul",{"aria-labelledby":b,class:ei.embeddedContentWrapper,id:`${this.id}-submenu`,role:"menu"},p?.items?.map((D,R)=>this._renderItem(D,y,R))))}_handleMenuItemInteraction(p,y){y.selected=!y.selected,y.open=!(!y.selected||!y.items),y.autoCloseMenu&&this.set("open",!1),y.clickFunction&&y.clickFunction({event:p,item:y}),p.stopPropagation()}_handleMenuItemKeydown(p,y){const g=(0,Y1.kK)(p);(0,kp.pf)(g)&&this._handleMenuItemInteraction(p,y),"Escape"===g&&(this.open=!1,p.preventDefault(),p.stopPropagation())}_afterMenuContentNodeCreate(p){p.focus()}_toggleOpen(p){this.open=!p}_afterMenuItemCreate(p){0===p["data-item-index"]&&p.focus()}};(0,Se._)([(0,Le.Cb)()],Bl.prototype,"disabled",void 0),(0,Se._)([(0,Le.Cb)()],Bl.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],Bl.prototype,"items",null),(0,Se._)([(0,Le.Cb)()],Bl.prototype,"open",null),(0,Se._)([(0,Le.Cb)()],Bl.prototype,"viewModel",void 0),Bl=(0,Se._)([(0,un.j)("esri.widgets.FeatureTable.Grid.support.ButtonMenu")],Bl);const gk=Bl;var vk=_(83022),_k=_(92795);function LA(p,y){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);y&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(p,b).enumerable})),g.push.apply(g,v)}return g}function ba(p){for(var y=1;y<arguments.length;y++){var g=null!=arguments[y]?arguments[y]:{};y%2?LA(Object(g),!0).forEach(function(v){Ek(p,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):LA(Object(g)).forEach(function(v){Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(g,v))})}return p}function xy(p){return(xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function Ek(p,y,g){return y in p?Object.defineProperty(p,y,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[y]=g,p}function mi(){return mi=Object.assign||function(p){for(var y=1;y<arguments.length;y++){var g=arguments[y];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(p[v]=g[v])}return p},mi.apply(this,arguments)}function ka(p){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(p)}var Ka=ka(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Gp=ka(/Edge/i),jA=ka(/firefox/i),Hp=ka(/safari/i)&&!ka(/chrome/i)&&!ka(/android/i),NA=ka(/iP(ad|od|hone)/i),UA=ka(/chrome/i)&&ka(/android/i),BA={capture:!1,passive:!1};function mr(p,y,g){p.addEventListener(y,g,!Ka&&BA)}function dr(p,y,g){p.removeEventListener(y,g,!Ka&&BA)}function Ry(p,y){if(y){if(">"===y[0]&&(y=y.substring(1)),p)try{if(p.matches)return p.matches(y);if(p.msMatchesSelector)return p.msMatchesSelector(y);if(p.webkitMatchesSelector)return p.webkitMatchesSelector(y)}catch{return!1}return!1}}function Ik(p){return p.host&&p!==document&&p.host.nodeType?p.host:p.parentNode}function Vi(p,y,g,v){if(p){g=g||document;do{if(null!=y&&(">"===y[0]?p.parentNode===g&&Ry(p,y):Ry(p,y))||v&&p===g)return p;if(p===g)break}while(p=Ik(p))}return null}var Jp,FA=/\s+/g;function as(p,y,g){if(p&&y)if(p.classList)p.classList[g?"add":"remove"](y);else{var v=(" "+p.className+" ").replace(FA," ").replace(" "+y+" "," ");p.className=(v+(g?" "+y:"")).replace(FA," ")}}function vn(p,y,g){var v=p&&p.style;if(v){if(void 0===g)return document.defaultView&&document.defaultView.getComputedStyle?g=document.defaultView.getComputedStyle(p,""):p.currentStyle&&(g=p.currentStyle),void 0===y?g:g[y];!(y in v)&&-1===y.indexOf("webkit")&&(y="-webkit-"+y),v[y]=g+("string"==typeof g?"":"px")}}function Nu(p,y){var g="";if("string"==typeof p)g=p;else do{var v=vn(p,"transform");v&&"none"!==v&&(g=v+" "+g)}while(!y&&(p=p.parentNode));var b=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return b&&new b(g)}function WA(p,y,g){if(p){var v=p.getElementsByTagName(y),b=0,C=v.length;if(g)for(;b<C;b++)g(v[b],b);return v}return[]}function Ca(){return document.scrollingElement||document.documentElement}function Xr(p,y,g,v,b){if(p.getBoundingClientRect||p===window){var C,D,R,z,he,Ce,Ie;if(p!==window&&p.parentNode&&p!==Ca()?(D=(C=p.getBoundingClientRect()).top,R=C.left,z=C.bottom,he=C.right,Ce=C.height,Ie=C.width):(D=0,R=0,z=window.innerHeight,he=window.innerWidth,Ce=window.innerHeight,Ie=window.innerWidth),(y||g)&&p!==window&&(b=b||p.parentNode,!Ka))do{if(b&&b.getBoundingClientRect&&("none"!==vn(b,"transform")||g&&"static"!==vn(b,"position"))){var Ke=b.getBoundingClientRect();D-=Ke.top+parseInt(vn(b,"border-top-width")),R-=Ke.left+parseInt(vn(b,"border-left-width")),z=D+C.height,he=R+C.width;break}}while(b=b.parentNode);if(v&&p!==window){var rt=Nu(b||p),pt=rt&&rt.a,Mt=rt&&rt.d;rt&&(z=(D/=Mt)+(Ce/=Mt),he=(R/=pt)+(Ie/=pt))}return{top:D,left:R,bottom:z,right:he,width:Ie,height:Ce}}}function VA(p){var y=Xr(p),g=parseInt(vn(p,"padding-left")),v=parseInt(vn(p,"padding-top")),b=parseInt(vn(p,"padding-right")),C=parseInt(vn(p,"padding-bottom"));return y.top+=v+parseInt(vn(p,"border-top-width")),y.left+=g+parseInt(vn(p,"border-left-width")),y.width=p.clientWidth-g-b,y.height=p.clientHeight-v-C,y.bottom=y.top+y.height,y.right=y.left+y.width,y}function $A(p,y,g){for(var v=Fl(p,!0),b=Xr(p)[y];v;){var C=Xr(v)[g];if(!("top"===g||"left"===g?b>=C:b<=C))return v;if(v===Ca())break;v=Fl(v,!1)}return!1}function Nd(p,y,g,v){for(var b=0,C=0,D=p.children;C<D.length;){if("none"!==D[C].style.display&&D[C]!==Vn.ghost&&(v||D[C]!==Vn.dragged)&&Vi(D[C],g.draggable,p,!1)){if(b===y)return D[C];b++}C++}return null}function Wb(p,y){for(var g=p.lastElementChild;g&&(g===Vn.ghost||"none"===vn(g,"display")||y&&!Ry(g,y));)g=g.previousElementSibling;return g||null}function ys(p,y){var g=0;if(!p||!p.parentNode)return-1;for(;p=p.previousElementSibling;)"TEMPLATE"!==p.nodeName.toUpperCase()&&p!==Vn.clone&&(!y||Ry(p,y))&&g++;return g}function ZA(p){var y=0,g=0,v=Ca();if(p)do{var b=Nu(p);y+=p.scrollLeft*b.a,g+=p.scrollTop*b.d}while(p!==v&&(p=p.parentNode));return[y,g]}function Fl(p,y){if(!p||!p.getBoundingClientRect)return Ca();var g=p,v=!1;do{if(g.clientWidth<g.scrollWidth||g.clientHeight<g.scrollHeight){var b=vn(g);if(g.clientWidth<g.scrollWidth&&("auto"==b.overflowX||"scroll"==b.overflowX)||g.clientHeight<g.scrollHeight&&("auto"==b.overflowY||"scroll"==b.overflowY)){if(!g.getBoundingClientRect||g===document.body)return Ca();if(v||y)return g;v=!0}}}while(g=g.parentNode);return Ca()}function Vb(p,y){return Math.round(p.top)===Math.round(y.top)&&Math.round(p.left)===Math.round(y.left)&&Math.round(p.height)===Math.round(y.height)&&Math.round(p.width)===Math.round(y.width)}function kA(p,y){return function(){if(!Jp){var g=arguments;1===g.length?p.call(this,g[0]):p.apply(this,g),Jp=setTimeout(function(){Jp=void 0},y)}}}function KA(p,y,g){p.scrollLeft+=y,p.scrollTop+=g}function $b(p){var y=window.Polymer,g=window.jQuery||window.Zepto;return y&&y.dom?y.dom(p).cloneNode(!0):g?g(p).clone(!0)[0]:p.cloneNode(!0)}var io="Sortable"+(new Date).getTime();var Ud=[],kb={initializeByDefault:!0},Yp={mount:function(y){for(var g in kb)kb.hasOwnProperty(g)&&!(g in y)&&(y[g]=kb[g]);Ud.forEach(function(v){if(v.pluginName===y.pluginName)throw"Sortable: Cannot mount plugin ".concat(y.pluginName," more than once")}),Ud.push(y)},pluginEvent:function(y,g,v){var b=this;this.eventCanceled=!1,v.cancel=function(){b.eventCanceled=!0};var C=y+"Global";Ud.forEach(function(D){g[D.pluginName]&&(g[D.pluginName][C]&&g[D.pluginName][C](ba({sortable:g},v)),g.options[D.pluginName]&&g[D.pluginName][y]&&g[D.pluginName][y](ba({sortable:g},v)))})},initializePlugins:function(y,g,v,b){for(var C in Ud.forEach(function(R){var z=R.pluginName;if(y.options[z]||R.initializeByDefault){var he=new R(y,g,y.options);he.sortable=y,he.options=y.options,y[z]=he,mi(v,he.defaults)}}),y.options)if(y.options.hasOwnProperty(C)){var D=this.modifyOption(y,C,y.options[C]);typeof D<"u"&&(y.options[C]=D)}},getEventProperties:function(y,g){var v={};return Ud.forEach(function(b){"function"==typeof b.eventProperties&&mi(v,b.eventProperties.call(g[b.pluginName],y))}),v},modifyOption:function(y,g,v){var b;return Ud.forEach(function(C){y[C.pluginName]&&C.optionListeners&&"function"==typeof C.optionListeners[g]&&(b=C.optionListeners[g].call(y[C.pluginName],v))}),b}};var Nk=["evt"],jo=function(y,g){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=v.evt,C=function Ck(p,y){if(null==p)return{};var v,b,g=function bk(p,y){if(null==p)return{};var b,C,g={},v=Object.keys(p);for(C=0;C<v.length;C++)!(y.indexOf(b=v[C])>=0)&&(g[b]=p[b]);return g}(p,y);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(p);for(b=0;b<C.length;b++)!(y.indexOf(v=C[b])>=0)&&Object.prototype.propertyIsEnumerable.call(p,v)&&(g[v]=p[v])}return g}(v,Nk);Yp.pluginEvent.bind(Vn)(y,g,ba({dragEl:hn,parentEl:gs,ghostEl:tr,rootEl:ts,nextEl:Uu,lastDownEl:Ly,cloneEl:ls,cloneHidden:Wl,dragStarted:qp,putSortable:Js,activeSortable:Vn.active,originalEvent:b,oldIndex:Bd,oldDraggableIndex:Xp,newIndex:ti,newDraggableIndex:Vl,hideGhostForTarget:qA,unhideGhostForTarget:ex,cloneNowHidden:function(){Wl=!0},cloneNowShown:function(){Wl=!1},dispatchSortableEvent:function(R){Co({sortable:g,name:R,originalEvent:b})}},C))};function Co(p){!function Qp(p){var y=p.sortable,g=p.rootEl,v=p.name,b=p.targetEl,C=p.cloneEl,D=p.toEl,R=p.fromEl,z=p.oldIndex,he=p.newIndex,Ce=p.oldDraggableIndex,Ie=p.newDraggableIndex,Ke=p.originalEvent,rt=p.putSortable,pt=p.extraEventProperties;if(y=y||g&&g[io]){var Mt,Ft=y.options,zt="on"+v.charAt(0).toUpperCase()+v.substr(1);!window.CustomEvent||Ka||Gp?(Mt=document.createEvent("Event")).initEvent(v,!0,!0):Mt=new CustomEvent(v,{bubbles:!0,cancelable:!0}),Mt.to=D||g,Mt.from=R||g,Mt.item=b||g,Mt.clone=C,Mt.oldIndex=z,Mt.newIndex=he,Mt.oldDraggableIndex=Ce,Mt.newDraggableIndex=Ie,Mt.originalEvent=Ke,Mt.pullMode=rt?rt.lastPutMode:void 0;var jt=ba(ba({},pt),Yp.getEventProperties(v,y));for(var sn in jt)Mt[sn]=jt[sn];g&&g.dispatchEvent(Mt),Ft[zt]&&Ft[zt].call(y,Mt)}}(ba({putSortable:Js,cloneEl:ls,targetEl:hn,rootEl:ts,oldIndex:Bd,oldDraggableIndex:Xp,newIndex:ti,newDraggableIndex:Vl},p))}var hn,gs,tr,ts,Uu,Ly,ls,Wl,Bd,ti,Xp,Vl,jy,Js,Bu,$i,Kb,zb,GA,HA,qp,Wd,ef,Fy,ao,Fd=!1,Ny=!1,Uy=[],tf=!1,By=!1,Gb=[],Hb=!1,Wy=[],Vy=typeof document<"u",$y=NA,JA=Gp||Ka?"cssFloat":"float",Uk=Vy&&!UA&&!NA&&"draggable"in document.createElement("div"),YA=function(){if(Vy){if(Ka)return!1;var p=document.createElement("x");return p.style.cssText="pointer-events:auto","auto"===p.style.pointerEvents}}(),QA=function(y,g){var v=vn(y),b=parseInt(v.width)-parseInt(v.paddingLeft)-parseInt(v.paddingRight)-parseInt(v.borderLeftWidth)-parseInt(v.borderRightWidth),C=Nd(y,0,g),D=Nd(y,1,g),R=C&&vn(C),z=D&&vn(D),he=R&&parseInt(R.marginLeft)+parseInt(R.marginRight)+Xr(C).width,Ce=z&&parseInt(z.marginLeft)+parseInt(z.marginRight)+Xr(D).width;return"flex"===v.display?"column"===v.flexDirection||"column-reverse"===v.flexDirection?"vertical":"horizontal":"grid"===v.display?v.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":C&&R.float&&"none"!==R.float?!D||"both"!==z.clear&&z.clear!==("left"===R.float?"left":"right")?"horizontal":"vertical":C&&("block"===R.display||"flex"===R.display||"table"===R.display||"grid"===R.display||he>=b&&"none"===v[JA]||D&&"none"===v[JA]&&he+Ce>b)?"vertical":"horizontal"},XA=function(y){function g(C,D){return function(R,z,he,Ce){if(null==C&&(D||R.options.group.name&&z.options.group.name&&R.options.group.name===z.options.group.name))return!0;if(null==C||!1===C)return!1;if(D&&"clone"===C)return C;if("function"==typeof C)return g(C(R,z,he,Ce),D)(R,z,he,Ce);var Ke=(D?R:z).options.group.name;return!0===C||"string"==typeof C&&C===Ke||C.join&&C.indexOf(Ke)>-1}}var v={},b=y.group;(!b||"object"!=xy(b))&&(b={name:b}),v.name=b.name,v.checkPull=g(b.pull,!0),v.checkPut=g(b.put),v.revertClone=b.revertClone,y.group=v},qA=function(){!YA&&tr&&vn(tr,"display","none")},ex=function(){!YA&&tr&&vn(tr,"display","")};Vy&&!UA&&document.addEventListener("click",function(p){if(Ny)return p.preventDefault(),p.stopPropagation&&p.stopPropagation(),p.stopImmediatePropagation&&p.stopImmediatePropagation(),Ny=!1,!1},!0);var Fu=function(y){if(hn){var g=function(y,g){var v;return Uy.some(function(b){var C=b[io].options.emptyInsertThreshold;if(C&&!Wb(b)){var D=Xr(b);if(y>=D.left-C&&y<=D.right+C&&g>=D.top-C&&g<=D.bottom+C)return v=b}}),v}((y=y.touches?y.touches[0]:y).clientX,y.clientY);if(g){var v={};for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b]);v.target=v.rootEl=g,v.preventDefault=void 0,v.stopPropagation=void 0,g[io]._onDragOver(v)}}},Wk=function(y){hn&&hn.parentNode[io]._isOutsideThisEl(y.target)};function Vn(p,y){if(!p||!p.nodeType||1!==p.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(p));this.el=p,this.options=y=mi({},y),p[io]=this;var g={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(p.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return QA(p,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(D,R){D.setData("Text",R.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Vn.supportPointer&&"PointerEvent"in window&&!Hp,emptyInsertThreshold:5};for(var v in Yp.initializePlugins(this,p,g),g)!(v in y)&&(y[v]=g[v]);for(var b in XA(y),this)"_"===b.charAt(0)&&"function"==typeof this[b]&&(this[b]=this[b].bind(this));this.nativeDraggable=!y.forceFallback&&Uk,this.nativeDraggable&&(this.options.touchStartThreshold=1),y.supportPointer?mr(p,"pointerdown",this._onTapStart):(mr(p,"mousedown",this._onTapStart),mr(p,"touchstart",this._onTapStart)),this.nativeDraggable&&(mr(p,"dragover",this),mr(p,"dragenter",this)),Uy.push(this.el),y.store&&y.store.get&&this.sort(y.store.get(this)||[]),mi(this,function Rk(){var y,p=[];return{captureAnimationState:function(){p=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(b){if("none"!==vn(b,"display")&&b!==Vn.ghost){p.push({target:b,rect:Xr(b)});var C=ba({},p[p.length-1].rect);if(b.thisAnimationDuration){var D=Nu(b,!0);D&&(C.top-=D.f,C.left-=D.e)}b.fromRect=C}})},addAnimationState:function(v){p.push(v)},removeAnimationState:function(v){p.splice(function Pk(p,y){for(var g in p)if(p.hasOwnProperty(g))for(var v in y)if(y.hasOwnProperty(v)&&y[v]===p[g][v])return Number(g);return-1}(p,{target:v}),1)},animateAll:function(v){var b=this;if(!this.options.animation)return clearTimeout(y),void("function"==typeof v&&v());var C=!1,D=0;p.forEach(function(R){var z=0,he=R.target,Ce=he.fromRect,Ie=Xr(he),Ke=he.prevFromRect,rt=he.prevToRect,pt=R.rect,Mt=Nu(he,!0);Mt&&(Ie.top-=Mt.f,Ie.left-=Mt.e),he.toRect=Ie,he.thisAnimationDuration&&Vb(Ke,Ie)&&!Vb(Ce,Ie)&&(pt.top-Ie.top)/(pt.left-Ie.left)==(Ce.top-Ie.top)/(Ce.left-Ie.left)&&(z=function jk(p,y,g,v){return Math.sqrt(Math.pow(y.top-p.top,2)+Math.pow(y.left-p.left,2))/Math.sqrt(Math.pow(y.top-g.top,2)+Math.pow(y.left-g.left,2))*v.animation}(pt,Ke,rt,b.options)),Vb(Ie,Ce)||(he.prevFromRect=Ce,he.prevToRect=Ie,z||(z=b.options.animation),b.animate(he,pt,Ie,z)),z&&(C=!0,D=Math.max(D,z),clearTimeout(he.animationResetTimer),he.animationResetTimer=setTimeout(function(){he.animationTime=0,he.prevFromRect=null,he.fromRect=null,he.prevToRect=null,he.thisAnimationDuration=null},z),he.thisAnimationDuration=z)}),clearTimeout(y),C?y=setTimeout(function(){"function"==typeof v&&v()},D):"function"==typeof v&&v(),p=[]},animate:function(v,b,C,D){if(D){vn(v,"transition",""),vn(v,"transform","");var R=Nu(this.el),Ce=(b.left-C.left)/(R&&R.a||1),Ie=(b.top-C.top)/(R&&R.d||1);v.animatingX=!!Ce,v.animatingY=!!Ie,vn(v,"transform","translate3d("+Ce+"px,"+Ie+"px,0)"),this.forRepaintDummy=function Lk(p){return p.offsetWidth}(v),vn(v,"transition","transform "+D+"ms"+(this.options.easing?" "+this.options.easing:"")),vn(v,"transform","translate3d(0,0,0)"),"number"==typeof v.animated&&clearTimeout(v.animated),v.animated=setTimeout(function(){vn(v,"transition",""),vn(v,"transform",""),v.animated=!1,v.animatingX=!1,v.animatingY=!1},D)}}}}())}function Zy(p,y,g,v,b,C,D,R){var z,Ie,he=p[io],Ce=he.options.onMove;return!window.CustomEvent||Ka||Gp?(z=document.createEvent("Event")).initEvent("move",!0,!0):z=new CustomEvent("move",{bubbles:!0,cancelable:!0}),z.to=y,z.from=p,z.dragged=g,z.draggedRect=v,z.related=b||y,z.relatedRect=C||Xr(y),z.willInsertAfter=R,z.originalEvent=D,p.dispatchEvent(z),Ce&&(Ie=Ce.call(he,z,D)),Ie}function Jb(p){p.draggable=!1}function $k(){Hb=!1}function Gk(p){for(var y=p.tagName+p.className+p.src+p.href+p.textContent,g=y.length,v=0;g--;)v+=y.charCodeAt(g);return v.toString(36)}function ky(p){return setTimeout(p,0)}function Yb(p){return clearTimeout(p)}Vn.prototype={constructor:Vn,_isOutsideThisEl:function(y){!this.el.contains(y)&&y!==this.el&&(Wd=null)},_getDirection:function(y,g){return"function"==typeof this.options.direction?this.options.direction.call(this,y,g,hn):this.options.direction},_onTapStart:function(y){if(y.cancelable){var g=this,v=this.el,b=this.options,C=b.preventOnFilter,D=y.type,R=y.touches&&y.touches[0]||y.pointerType&&"touch"===y.pointerType&&y,z=(R||y).target,he=y.target.shadowRoot&&(y.path&&y.path[0]||y.composedPath&&y.composedPath()[0])||z,Ce=b.filter;if(function Hk(p){Wy.length=0;for(var y=p.getElementsByTagName("input"),g=y.length;g--;){var v=y[g];v.checked&&Wy.push(v)}}(v),!hn&&!(/mousedown|pointerdown/.test(D)&&0!==y.button||b.disabled)&&!he.isContentEditable&&(this.nativeDraggable||!Hp||!z||"SELECT"!==z.tagName.toUpperCase())&&!((z=Vi(z,b.draggable,v,!1))&&z.animated||Ly===z)){if(Bd=ys(z),Xp=ys(z,b.draggable),"function"==typeof Ce){if(Ce.call(this,y,z,this))return Co({sortable:g,rootEl:he,name:"filter",targetEl:z,toEl:v,fromEl:v}),jo("filter",g,{evt:y}),void(C&&y.cancelable&&y.preventDefault())}else if(Ce&&(Ce=Ce.split(",").some(function(Ie){if(Ie=Vi(he,Ie.trim(),v,!1))return Co({sortable:g,rootEl:Ie,name:"filter",targetEl:z,fromEl:v,toEl:v}),jo("filter",g,{evt:y}),!0})))return void(C&&y.cancelable&&y.preventDefault());b.handle&&!Vi(he,b.handle,v,!1)||this._prepareDragStart(y,R,z)}}},_prepareDragStart:function(y,g,v){var z,b=this,C=b.el,D=b.options,R=C.ownerDocument;if(v&&!hn&&v.parentNode===C){var he=Xr(v);if(ts=C,gs=(hn=v).parentNode,Uu=hn.nextSibling,Ly=v,jy=D.group,Vn.dragged=hn,GA=(Bu={target:hn,clientX:(g||y).clientX,clientY:(g||y).clientY}).clientX-he.left,HA=Bu.clientY-he.top,this._lastX=(g||y).clientX,this._lastY=(g||y).clientY,hn.style["will-change"]="all",z=function(){jo("delayEnded",b,{evt:y}),Vn.eventCanceled?b._onDrop():(b._disableDelayedDragEvents(),!jA&&b.nativeDraggable&&(hn.draggable=!0),b._triggerDragStart(y,g),Co({sortable:b,name:"choose",originalEvent:y}),as(hn,D.chosenClass,!0))},D.ignore.split(",").forEach(function(Ce){WA(hn,Ce.trim(),Jb)}),mr(R,"dragover",Fu),mr(R,"mousemove",Fu),mr(R,"touchmove",Fu),mr(R,"mouseup",b._onDrop),mr(R,"touchend",b._onDrop),mr(R,"touchcancel",b._onDrop),jA&&this.nativeDraggable&&(this.options.touchStartThreshold=4,hn.draggable=!0),jo("delayStart",this,{evt:y}),!D.delay||D.delayOnTouchOnly&&!g||this.nativeDraggable&&(Gp||Ka))z();else{if(Vn.eventCanceled)return void this._onDrop();mr(R,"mouseup",b._disableDelayedDrag),mr(R,"touchend",b._disableDelayedDrag),mr(R,"touchcancel",b._disableDelayedDrag),mr(R,"mousemove",b._delayedDragTouchMoveHandler),mr(R,"touchmove",b._delayedDragTouchMoveHandler),D.supportPointer&&mr(R,"pointermove",b._delayedDragTouchMoveHandler),b._dragStartTimer=setTimeout(z,D.delay)}}},_delayedDragTouchMoveHandler:function(y){var g=y.touches?y.touches[0]:y;Math.max(Math.abs(g.clientX-this._lastX),Math.abs(g.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){hn&&Jb(hn),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var y=this.el.ownerDocument;dr(y,"mouseup",this._disableDelayedDrag),dr(y,"touchend",this._disableDelayedDrag),dr(y,"touchcancel",this._disableDelayedDrag),dr(y,"mousemove",this._delayedDragTouchMoveHandler),dr(y,"touchmove",this._delayedDragTouchMoveHandler),dr(y,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(y,g){g=g||"touch"==y.pointerType&&y,!this.nativeDraggable||g?mr(document,this.options.supportPointer?"pointermove":g?"touchmove":"mousemove",this._onTouchMove):(mr(hn,"dragend",this),mr(ts,"dragstart",this._onDragStart));try{document.selection?ky(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(y,g){if(Fd=!1,ts&&hn){jo("dragStarted",this,{evt:g}),this.nativeDraggable&&mr(document,"dragover",Wk);var v=this.options;!y&&as(hn,v.dragClass,!1),as(hn,v.ghostClass,!0),Vn.active=this,y&&this._appendGhost(),Co({sortable:this,name:"start",originalEvent:g})}else this._nulling()},_emulateDragOver:function(){if($i){this._lastX=$i.clientX,this._lastY=$i.clientY,qA();for(var y=document.elementFromPoint($i.clientX,$i.clientY),g=y;y&&y.shadowRoot&&(y=y.shadowRoot.elementFromPoint($i.clientX,$i.clientY))!==g;)g=y;if(hn.parentNode[io]._isOutsideThisEl(y),g)do{if(g[io]&&g[io]._onDragOver({clientX:$i.clientX,clientY:$i.clientY,target:y,rootEl:g})&&!this.options.dragoverBubble)break;y=g}while(g=g.parentNode);ex()}},_onTouchMove:function(y){if(Bu){var g=this.options,v=g.fallbackTolerance,b=g.fallbackOffset,C=y.touches?y.touches[0]:y,D=tr&&Nu(tr,!0),R=tr&&D&&D.a,z=tr&&D&&D.d,he=$y&&ao&&ZA(ao),Ce=(C.clientX-Bu.clientX+b.x)/(R||1)+(he?he[0]-Gb[0]:0)/(R||1),Ie=(C.clientY-Bu.clientY+b.y)/(z||1)+(he?he[1]-Gb[1]:0)/(z||1);if(!Vn.active&&!Fd){if(v&&Math.max(Math.abs(C.clientX-this._lastX),Math.abs(C.clientY-this._lastY))<v)return;this._onDragStart(y,!0)}if(tr){D?(D.e+=Ce-(Kb||0),D.f+=Ie-(zb||0)):D={a:1,b:0,c:0,d:1,e:Ce,f:Ie};var Ke="matrix(".concat(D.a,",").concat(D.b,",").concat(D.c,",").concat(D.d,",").concat(D.e,",").concat(D.f,")");vn(tr,"webkitTransform",Ke),vn(tr,"mozTransform",Ke),vn(tr,"msTransform",Ke),vn(tr,"transform",Ke),Kb=Ce,zb=Ie,$i=C}y.cancelable&&y.preventDefault()}},_appendGhost:function(){if(!tr){var y=this.options.fallbackOnBody?document.body:ts,g=Xr(hn,!0,$y,!0,y),v=this.options;if($y){for(ao=y;"static"===vn(ao,"position")&&"none"===vn(ao,"transform")&&ao!==document;)ao=ao.parentNode;ao!==document.body&&ao!==document.documentElement?(ao===document&&(ao=Ca()),g.top+=ao.scrollTop,g.left+=ao.scrollLeft):ao=Ca(),Gb=ZA(ao)}as(tr=hn.cloneNode(!0),v.ghostClass,!1),as(tr,v.fallbackClass,!0),as(tr,v.dragClass,!0),vn(tr,"transition",""),vn(tr,"transform",""),vn(tr,"box-sizing","border-box"),vn(tr,"margin",0),vn(tr,"top",g.top),vn(tr,"left",g.left),vn(tr,"width",g.width),vn(tr,"height",g.height),vn(tr,"opacity","0.8"),vn(tr,"position",$y?"absolute":"fixed"),vn(tr,"zIndex","100000"),vn(tr,"pointerEvents","none"),Vn.ghost=tr,y.appendChild(tr),vn(tr,"transform-origin",GA/parseInt(tr.style.width)*100+"% "+HA/parseInt(tr.style.height)*100+"%")}},_onDragStart:function(y,g){var v=this,b=y.dataTransfer,C=v.options;jo("dragStart",this,{evt:y}),Vn.eventCanceled?this._onDrop():(jo("setupClone",this),Vn.eventCanceled||((ls=$b(hn)).removeAttribute("id"),ls.draggable=!1,ls.style["will-change"]="",this._hideClone(),as(ls,this.options.chosenClass,!1),Vn.clone=ls),v.cloneId=ky(function(){jo("clone",v),!Vn.eventCanceled&&(v.options.removeCloneOnHide||ts.insertBefore(ls,hn),v._hideClone(),Co({sortable:v,name:"clone"}))}),!g&&as(hn,C.dragClass,!0),g?(Ny=!0,v._loopId=setInterval(v._emulateDragOver,50)):(dr(document,"mouseup",v._onDrop),dr(document,"touchend",v._onDrop),dr(document,"touchcancel",v._onDrop),b&&(b.effectAllowed="move",C.setData&&C.setData.call(v,b,hn)),mr(document,"drop",v),vn(hn,"transform","translateZ(0)")),Fd=!0,v._dragStartId=ky(v._dragStarted.bind(v,g,y)),mr(document,"selectstart",v),qp=!0,Hp&&vn(document.body,"user-select","none"))},_onDragOver:function(y){var b,C,D,rt,g=this.el,v=y.target,R=this.options,z=R.group,he=Vn.active,Ce=jy===z,Ie=R.sort,Ke=Js||he,pt=this,Mt=!1;if(!Hb){if(void 0!==y.preventDefault&&y.cancelable&&y.preventDefault(),v=Vi(v,R.draggable,g,!0),Ft("dragOver"),Vn.eventCanceled)return Mt;if(hn.contains(y.target)||v.animated&&v.animatingX&&v.animatingY||pt._ignoreWhileAnimating===v)return jt(!1);if(Ny=!1,he&&!R.disabled&&(Ce?Ie||(D=gs!==ts):Js===this||(this.lastPutMode=jy.checkPull(this,he,hn,y))&&z.checkPut(this,he,hn,y))){if(rt="vertical"===this._getDirection(y,v),b=Xr(hn),Ft("dragOverValid"),Vn.eventCanceled)return Mt;if(D)return gs=ts,zt(),this._hideClone(),Ft("revert"),Vn.eventCanceled||(Uu?ts.insertBefore(hn,Uu):ts.appendChild(hn)),jt(!0);var cn=Wb(g,R.draggable);if(!cn||function kk(p,y,g){var v=Xr(Wb(g.el,g.options.draggable)),b=VA(g.el);return y?p.clientX>b.right+10||p.clientY>v.bottom&&p.clientX>v.left:p.clientY>b.bottom+10||p.clientX>v.right&&p.clientY>v.top}(y,rt,this)&&!cn.animated){if(cn===hn)return jt(!1);if(cn&&g===y.target&&(v=cn),v&&(C=Xr(v)),!1!==Zy(ts,g,hn,b,v,C,y,!!v))return zt(),cn&&cn.nextSibling?g.insertBefore(hn,cn.nextSibling):g.appendChild(hn),gs=g,sn(),jt(!0)}else if(cn&&function Zk(p,y,g){var v=Xr(Nd(g.el,0,g.options,!0)),b=VA(g.el);return y?p.clientX<b.left-10||p.clientY<v.top&&p.clientX<v.right:p.clientY<b.top-10||p.clientY<v.bottom&&p.clientX<v.left}(y,rt,this)){var Tn=Nd(g,0,R,!0);if(Tn===hn)return jt(!1);if(C=Xr(v=Tn),!1!==Zy(ts,g,hn,b,v,C,y,!1))return zt(),g.insertBefore(hn,Tn),gs=g,sn(),jt(!0)}else if(v.parentNode===g){C=Xr(v);var ar,Ws,Ga,za=hn.parentNode!==g,Mo=!function(y,g,v){var b=v?y.left:y.top,R=v?g.left:g.top;return b===R||(v?y.right:y.bottom)===(v?g.right:g.bottom)||b+(v?y.width:y.height)/2===R+(v?g.width:g.height)/2}(hn.animated&&hn.toRect||b,v.animated&&v.toRect||C,rt),Vu=rt?"top":"left",Zl=$A(v,"top","top")||$A(hn,"top","top"),uf=Zl?Zl.scrollTop:void 0;if(Wd!==v&&(Ws=C[Vu],tf=!1,By=!Mo&&R.invertSwap||za),ar=function Kk(p,y,g,v,b,C,D,R){var z=v?p.clientY:p.clientX,he=v?g.height:g.width,Ce=v?g.top:g.left,Ie=v?g.bottom:g.right,Ke=!1;if(!D)if(R&&Fy<he*b){if(!tf&&(1===ef?z>Ce+he*C/2:z<Ie-he*C/2)&&(tf=!0),tf)Ke=!0;else if(1===ef?z<Ce+Fy:z>Ie-Fy)return-ef}else if(z>Ce+he*(1-b)/2&&z<Ie-he*(1-b)/2)return function zk(p){return ys(hn)<ys(p)?1:-1}(y);return(Ke=Ke||D)&&(z<Ce+he*C/2||z>Ie-he*C/2)?z>Ce+he/2?1:-1:0}(y,v,C,rt,Mo?1:R.swapThreshold,null==R.invertedSwapThreshold?R.swapThreshold:R.invertedSwapThreshold,By,Wd===v),0!==ar){var $u=ys(hn);do{Ga=gs.children[$u-=ar]}while(Ga&&("none"===vn(Ga,"display")||Ga===tr))}if(0===ar||Ga===v)return jt(!1);Wd=v,ef=ar;var cf=v.nextElementSibling,kl=!1,Qy=Zy(ts,g,hn,b,v,C,y,kl=1===ar);if(!1!==Qy)return(1===Qy||-1===Qy)&&(kl=1===Qy),Hb=!0,setTimeout($k,30),zt(),kl&&!cf?g.appendChild(hn):v.parentNode.insertBefore(hn,kl?cf:v),Zl&&KA(Zl,0,uf-Zl.scrollTop),gs=hn.parentNode,void 0!==Ws&&!By&&(Fy=Math.abs(Ws-Xr(v)[Vu])),sn(),jt(!0)}if(g.contains(hn))return jt(!1)}return!1}function Ft(df,oK){jo(df,pt,ba({evt:y,isOwner:Ce,axis:rt?"vertical":"horizontal",revert:D,dragRect:b,targetRect:C,canSort:Ie,fromSortable:Ke,target:v,completed:jt,onMove:function(ix,iK){return Zy(ts,g,hn,b,ix,Xr(ix),y,iK)},changed:sn},oK))}function zt(){Ft("dragOverAnimationCapture"),pt.captureAnimationState(),pt!==Ke&&Ke.captureAnimationState()}function jt(df){return Ft("dragOverCompleted",{insertion:df}),df&&(Ce?he._hideClone():he._showClone(pt),pt!==Ke&&(as(hn,Js?Js.options.ghostClass:he.options.ghostClass,!1),as(hn,R.ghostClass,!0)),Js!==pt&&pt!==Vn.active?Js=pt:pt===Vn.active&&Js&&(Js=null),Ke===pt&&(pt._ignoreWhileAnimating=v),pt.animateAll(function(){Ft("dragOverAnimationComplete"),pt._ignoreWhileAnimating=null}),pt!==Ke&&(Ke.animateAll(),Ke._ignoreWhileAnimating=null)),(v===hn&&!hn.animated||v===g&&!v.animated)&&(Wd=null),!R.dragoverBubble&&!y.rootEl&&v!==document&&(hn.parentNode[io]._isOutsideThisEl(y.target),!df&&Fu(y)),!R.dragoverBubble&&y.stopPropagation&&y.stopPropagation(),Mt=!0}function sn(){ti=ys(hn),Vl=ys(hn,R.draggable),Co({sortable:pt,name:"change",toEl:g,newIndex:ti,newDraggableIndex:Vl,originalEvent:y})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){dr(document,"mousemove",this._onTouchMove),dr(document,"touchmove",this._onTouchMove),dr(document,"pointermove",this._onTouchMove),dr(document,"dragover",Fu),dr(document,"mousemove",Fu),dr(document,"touchmove",Fu)},_offUpEvents:function(){var y=this.el.ownerDocument;dr(y,"mouseup",this._onDrop),dr(y,"touchend",this._onDrop),dr(y,"pointerup",this._onDrop),dr(y,"touchcancel",this._onDrop),dr(document,"selectstart",this)},_onDrop:function(y){var g=this.el,v=this.options;ti=ys(hn),Vl=ys(hn,v.draggable),jo("drop",this,{evt:y}),gs=hn&&hn.parentNode,ti=ys(hn),Vl=ys(hn,v.draggable),Vn.eventCanceled||(Fd=!1,By=!1,tf=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Yb(this.cloneId),Yb(this._dragStartId),this.nativeDraggable&&(dr(document,"drop",this),dr(g,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Hp&&vn(document.body,"user-select",""),vn(hn,"transform",""),y&&(qp&&(y.cancelable&&y.preventDefault(),!v.dropBubble&&y.stopPropagation()),tr&&tr.parentNode&&tr.parentNode.removeChild(tr),(ts===gs||Js&&"clone"!==Js.lastPutMode)&&ls&&ls.parentNode&&ls.parentNode.removeChild(ls),hn&&(this.nativeDraggable&&dr(hn,"dragend",this),Jb(hn),hn.style["will-change"]="",qp&&!Fd&&as(hn,Js?Js.options.ghostClass:this.options.ghostClass,!1),as(hn,this.options.chosenClass,!1),Co({sortable:this,name:"unchoose",toEl:gs,newIndex:null,newDraggableIndex:null,originalEvent:y}),ts!==gs?(ti>=0&&(Co({rootEl:gs,name:"add",toEl:gs,fromEl:ts,originalEvent:y}),Co({sortable:this,name:"remove",toEl:gs,originalEvent:y}),Co({rootEl:gs,name:"sort",toEl:gs,fromEl:ts,originalEvent:y}),Co({sortable:this,name:"sort",toEl:gs,originalEvent:y})),Js&&Js.save()):ti!==Bd&&ti>=0&&(Co({sortable:this,name:"update",toEl:gs,originalEvent:y}),Co({sortable:this,name:"sort",toEl:gs,originalEvent:y})),Vn.active&&((null==ti||-1===ti)&&(ti=Bd,Vl=Xp),Co({sortable:this,name:"end",toEl:gs,originalEvent:y}),this.save())))),this._nulling()},_nulling:function(){jo("nulling",this),ts=hn=gs=tr=Uu=ls=Ly=Wl=Bu=$i=qp=ti=Vl=Bd=Xp=Wd=ef=Js=jy=Vn.dragged=Vn.ghost=Vn.clone=Vn.active=null,Wy.forEach(function(y){y.checked=!0}),Wy.length=Kb=zb=0},handleEvent:function(y){switch(y.type){case"drop":case"dragend":this._onDrop(y);break;case"dragenter":case"dragover":hn&&(this._onDragOver(y),function Vk(p){p.dataTransfer&&(p.dataTransfer.dropEffect="move"),p.cancelable&&p.preventDefault()}(y));break;case"selectstart":y.preventDefault()}},toArray:function(){for(var g,y=[],v=this.el.children,b=0,C=v.length,D=this.options;b<C;b++)Vi(g=v[b],D.draggable,this.el,!1)&&y.push(g.getAttribute(D.dataIdAttr)||Gk(g));return y},sort:function(y,g){var v={},b=this.el;this.toArray().forEach(function(C,D){var R=b.children[D];Vi(R,this.options.draggable,b,!1)&&(v[C]=R)},this),g&&this.captureAnimationState(),y.forEach(function(C){v[C]&&(b.removeChild(v[C]),b.appendChild(v[C]))}),g&&this.animateAll()},save:function(){var y=this.options.store;y&&y.set&&y.set(this)},closest:function(y,g){return Vi(y,g||this.options.draggable,this.el,!1)},option:function(y,g){var v=this.options;if(void 0===g)return v[y];var b=Yp.modifyOption(this,y,g);v[y]=typeof b<"u"?b:g,"group"===y&&XA(v)},destroy:function(){jo("destroy",this);var y=this.el;y[io]=null,dr(y,"mousedown",this._onTapStart),dr(y,"touchstart",this._onTapStart),dr(y,"pointerdown",this._onTapStart),this.nativeDraggable&&(dr(y,"dragover",this),dr(y,"dragenter",this)),Array.prototype.forEach.call(y.querySelectorAll("[draggable]"),function(g){g.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Uy.splice(Uy.indexOf(this.el),1),this.el=y=null},_hideClone:function(){if(!Wl){if(jo("hideClone",this),Vn.eventCanceled)return;vn(ls,"display","none"),this.options.removeCloneOnHide&&ls.parentNode&&ls.parentNode.removeChild(ls),Wl=!0}},_showClone:function(y){if("clone"===y.lastPutMode){if(Wl){if(jo("showClone",this),Vn.eventCanceled)return;hn.parentNode!=ts||this.options.group.revertClone?Uu?ts.insertBefore(ls,Uu):ts.appendChild(ls):ts.insertBefore(ls,hn),this.options.group.revertClone&&this.animate(hn,ls),vn(ls,"display",""),Wl=!1}}else this._hideClone()}},Vy&&mr(document,"touchmove",function(p){(Vn.active||Fd)&&p.cancelable&&p.preventDefault()}),Vn.utils={on:mr,off:dr,css:vn,find:WA,is:function(y,g){return!!Vi(y,g,y,!1)},extend:function Ak(p,y){if(p&&y)for(var g in y)y.hasOwnProperty(g)&&(p[g]=y[g]);return p},throttle:kA,closest:Vi,toggleClass:as,clone:$b,index:ys,nextTick:ky,cancelNextTick:Yb,detectDirection:QA,getChild:Nd},Vn.get=function(p){return p[io]},Vn.mount=function(){for(var p=arguments.length,y=new Array(p),g=0;g<p;g++)y[g]=arguments[g];y[0].constructor===Array&&(y=y[0]),y.forEach(function(v){if(!v.prototype||!v.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(v));v.utils&&(Vn.utils=ba(ba({},Vn.utils),v.utils)),Yp.mount(v)})},Vn.create=function(p,y){return new Vn(p,y)},Vn.version="1.15.1";var nf,Qb,qb,eC,Ky,rf,As=[],Xb=!1;function zy(){As.forEach(function(p){clearInterval(p.pid)}),As=[]}function tx(){clearInterval(rf)}var tC=kA(function(p,y,g,v){if(y.scroll){var Ce,b=(p.touches?p.touches[0]:p).clientX,C=(p.touches?p.touches[0]:p).clientY,D=y.scrollSensitivity,R=y.scrollSpeed,z=Ca(),he=!1;Qb!==g&&(Qb=g,zy(),Ce=y.scrollFn,!0===(nf=y.scroll)&&(nf=Fl(g,!0)));var Ie=0,Ke=nf;do{var rt=Ke,pt=Xr(rt),Mt=pt.top,Ft=pt.bottom,zt=pt.left,jt=pt.right,sn=pt.width,cn=pt.height,Tn=void 0,ar=void 0,Ws=rt.scrollWidth,za=rt.scrollHeight,Mo=vn(rt),Vu=rt.scrollLeft,Zl=rt.scrollTop;rt===z?(Tn=sn<Ws&&("auto"===Mo.overflowX||"scroll"===Mo.overflowX||"visible"===Mo.overflowX),ar=cn<za&&("auto"===Mo.overflowY||"scroll"===Mo.overflowY||"visible"===Mo.overflowY)):(Tn=sn<Ws&&("auto"===Mo.overflowX||"scroll"===Mo.overflowX),ar=cn<za&&("auto"===Mo.overflowY||"scroll"===Mo.overflowY));var uf=Tn&&(Math.abs(jt-b)<=D&&Vu+sn<Ws)-(Math.abs(zt-b)<=D&&!!Vu),Ga=ar&&(Math.abs(Ft-C)<=D&&Zl+cn<za)-(Math.abs(Mt-C)<=D&&!!Zl);if(!As[Ie])for(var $u=0;$u<=Ie;$u++)As[$u]||(As[$u]={});(As[Ie].vx!=uf||As[Ie].vy!=Ga||As[Ie].el!==rt)&&(As[Ie].el=rt,As[Ie].vx=uf,As[Ie].vy=Ga,clearInterval(As[Ie].pid),(0!=uf||0!=Ga)&&(he=!0,As[Ie].pid=setInterval(function(){v&&0===this.layer&&Vn.active._onTouchMove(Ky);var cf=As[this.layer].vy?As[this.layer].vy*R:0,kl=As[this.layer].vx?As[this.layer].vx*R:0;"function"==typeof Ce&&"continue"!==Ce.call(Vn.dragged.parentNode[io],kl,cf,p,Ky,As[this.layer].el)||KA(As[this.layer].el,kl,cf)}.bind({layer:Ie}),24))),Ie++}while(y.bubbleScroll&&Ke!==z&&(Ke=Fl(Ke,!1)));Xb=he}},30),nx=function(y){var g=y.originalEvent,v=y.putSortable,b=y.dragEl,D=y.dispatchSortableEvent,z=y.unhideGhostForTarget;if(g){var he=v||y.activeSortable;(0,y.hideGhostForTarget)();var Ce=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:g,Ie=document.elementFromPoint(Ce.clientX,Ce.clientY);z(),he&&!he.el.contains(Ie)&&(D("spill"),this.onSpill({dragEl:b,putSortable:v}))}};function nC(){}function rC(){}nC.prototype={startIndex:null,dragStart:function(y){this.startIndex=y.oldDraggableIndex},onSpill:function(y){var g=y.dragEl,v=y.putSortable;this.sortable.captureAnimationState(),v&&v.captureAnimationState();var b=Nd(this.sortable.el,this.startIndex,this.options);b?this.sortable.el.insertBefore(g,b):this.sortable.el.appendChild(g),this.sortable.animateAll(),v&&v.animateAll()},drop:nx},mi(nC,{pluginName:"revertOnSpill"}),rC.prototype={onSpill:function(y){var g=y.dragEl,b=y.putSortable||this.sortable;b.captureAnimationState(),g.parentNode&&g.parentNode.removeChild(g),b.animateAll()},drop:nx},mi(rC,{pluginName:"removeOnSpill"}),Vn.mount(new function Jk(){function p(){for(var y in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===y.charAt(0)&&"function"==typeof this[y]&&(this[y]=this[y].bind(this))}return p.prototype={dragStarted:function(g){var v=g.originalEvent;this.sortable.nativeDraggable?mr(document,"dragover",this._handleAutoScroll):mr(document,this.options.supportPointer?"pointermove":v.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(g){var v=g.originalEvent;!this.options.dragOverBubble&&!v.rootEl&&this._handleAutoScroll(v)},drop:function(){this.sortable.nativeDraggable?dr(document,"dragover",this._handleAutoScroll):(dr(document,"pointermove",this._handleFallbackAutoScroll),dr(document,"touchmove",this._handleFallbackAutoScroll),dr(document,"mousemove",this._handleFallbackAutoScroll)),tx(),zy(),function xk(){clearTimeout(Jp),Jp=void 0}()},nulling:function(){Ky=Qb=nf=Xb=rf=qb=eC=null,As.length=0},_handleFallbackAutoScroll:function(g){this._handleAutoScroll(g,!0)},_handleAutoScroll:function(g,v){var b=this,C=(g.touches?g.touches[0]:g).clientX,D=(g.touches?g.touches[0]:g).clientY,R=document.elementFromPoint(C,D);if(Ky=g,v||this.options.forceAutoScrollFallback||Gp||Ka||Hp){tC(g,this.options,R,v);var z=Fl(R,!0);Xb&&(!rf||C!==qb||D!==eC)&&(rf&&tx(),rf=setInterval(function(){var he=Fl(document.elementFromPoint(C,D),!0);he!==z&&(z=he,zy()),tC(g,b.options,he,v)},10),qb=C,eC=D)}else{if(!this.options.bubbleScroll||Fl(R,!0)===Ca())return void zy();tC(g,this.options,Fl(R,!1),!1)}}},mi(p,{pluginName:"scroll",initializeByDefault:!0})}),Vn.mount(rC,nC);const Xk=Vn,Wu="data-bookmark-uid",sx={addBookmark:!0,thumbnail:!0,time:!0},sC=/^https:\/\/.*/i;let Kr=class extends Rl.Z{constructor(p,y){super(p,y),this._tooltipReferenceMap=new Map,this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._addBookmarkButtonNode=null,this._focusAddBookmarkButton=!1,this._focusEditInputBox=!1,this._focusAddInputBox=!1,this._focusUrlEditInputBox=!1,this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this._selectedSortUid=null,this._sortableSavedItems=[],this._editIncludeTimeExtent=void 0,this._userState=null,this.disabled=!1,this.editingEnabled=!1,this.headingLevel=2,this.iconClass=wn.widgetIcon,this.icon=null,this.messages=null,this.messagesCommon=null,this.viewModel=new RA,this.visibleElements={...sx}}initialize(){this.addHandles([(0,ln.YP)(()=>this.viewModel?.bookmarks,()=>this._bookmarksInitialized(),ln.nn),(0,ln.YP)(()=>this.editingEnabled,()=>this._toggleSorting(),ln.nn)])}destroy(){this._destroySortable(),this._editMenu.destroy(),this._tooltipReferenceMap.clear()}loadDependencies(){return(0,wy.h)({label:()=>Promise.all([_.e(8592),_.e(3203)]).then(_.bind(_,63203)),switch:()=>Promise.all([_.e(8592),_.e(5865)]).then(_.bind(_,55865)),tooltip:()=>Promise.all([_.e(2805),_.e(3578)]).then(_.bind(_,53578))})}get _editMenuItems(){const{messages:p,_userState:y}=this,g=y?.editedBookmark?.thumbnail?.url;return[new zp({label:p?.menu.refreshThumbnail,iconClass:Ms.W.refresh,clickFunction:()=>this._refreshThumbnail()}),new zp({label:g&&sC.test(g)?p?.menu.editImageUrl:p?.menu.useImageUrl,iconClass:Ms.W.link,clickFunction:()=>this._startUseImageUrl()}),g?new zp({label:p?.menu.removeThumbnail,iconClass:Ms.W.erase,clickFunction:()=>this._removeThumbnail()}):null].filter(wp.pC)}get _editMenu(){const{_editMenuItems:p,messages:y,disabled:g}=this,v=this._get("_editMenu");v&&v.destroy();const b=new gk({disabled:g,iconClass:Ms.W.handleHorizontal,label:y?.menu.label});return b.items=p,b}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(p){this.viewModel.defaultCreateOptions=p}get defaultEditOptions(){return this.viewModel.defaultEditOptions}set defaultEditOptions(p){this.viewModel.defaultEditOptions=p}get bookmarks(){return this.viewModel.bookmarks}set bookmarks(p){this.viewModel.bookmarks=p}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(p){this.viewModel.goToOverride=p}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}castVisibleElements(p){return{...sx,...p}}endAddBookmark(){this._userState=null}goTo(p){return this.viewModel.goTo(p)}render(){const{state:p}=this.viewModel,y="loading"===p?this._renderLoading():this._renderBookmarks();return(0,qt.u)("div",{class:this.classes(wn.base,cr.z.widget,cr.z.panel,{[cr.z.widgetDisabled]:this.disabled})},y)}startAddBookmark(){this._userState=new Ub({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}_renderBookmarkTooltips(p){return p.toArray().map(y=>this._renderBookmarkTooltip(y))??[]}_renderBookmarkTooltip(p){const{_tooltipReferenceMap:y,messagesCommon:g}=this,v=this._getBookmarkTitle(p),b=`${g?.dragHandleTitle} ${v}`;return p?(0,qt.u)("calcite-tooltip",{key:`tooltip-${p.uid}`,referenceElement:y.get(p.uid)},b):null}_renderLoading(){return(0,qt.u)("div",{class:wn.loaderContainer,key:"loader",tabIndex:this.disabled?-1:void 0},(0,qt.u)("div",{class:wn.loader}))}_renderNoBookmarksContainer(){const{messages:p,disabled:y}=this;return(0,qt.u)("div",{class:cr.z.empty,key:"no-bookmarks",tabIndex:y?-1:void 0},(0,qt.u)("span",{"aria-hidden":"true",class:this.classes(cr.z.noBookmarksIcon,wn.widgetIcon)}),(0,qt.u)(vk.X,{class:this.classes(cr.z.heading,wn.noBookmarksHeader),level:this.headingLevel},p?.noBookmarksHeading),(0,qt.u)("p",{class:wn.noBookmarksDescription},p?.noBookmarksDescription))}_renderAddBookmarkLoading(){return(0,qt.u)("div",{class:wn.addingBookmark,key:"adding-bookmark"},(0,qt.u)("span",{"aria-hidden":"true",class:this.classes(Ms.W.loadingIndicator,cr.z.rotating)}),this.messages?.addingBookmark)}_renderBookmarkItems(p){if(!p)return[];const{_userState:y,editingEnabled:g}=this;return p.map(v=>g&&v&&y&&("edit"===y.state||"edit-thumbnail"===y.state)&&y.bookmark===v?"edit-thumbnail"===y.state?this._renderEditingBookmarkUrl(y.editedBookmark):this._renderEditingBookmark(y.editedBookmark):this._renderBookmark(v)).toArray()}_renderBookmarksContainer(p){const{_userState:y,editingEnabled:g,disabled:v,view:b}=this,C="add"===y?.state,D=b&&g&&!C?this._renderAddBookmarkButton():null,R=g?C&&y.loading?this._renderAddBookmarkLoading():"add"===y?.state?this._renderAddingBookmark():null:null;return[(0,qt.u)("ul",{afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"aria-label":this.messages?.widgetLabel,bind:this,class:this.classes(wn.bookmarkList,{[wn.bookmarkListSortable]:this.editingEnabled}),"data-node-ref":"_sortableNode",key:"bookmark-list",tabIndex:v?-1:void 0},this._renderBookmarkItems(p)),D,R]}_renderAddBookmarkButton(){return this.visibleElements.addBookmark?(0,qt.u)("div",{class:wn.addBookmark,key:"add-bookmark-item"},(0,qt.u)("button",{afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,bind:this,class:this.classes(cr.z.button,cr.z.buttonTertiary,wn.addBookmarkButton),"data-node-ref":"_addBookmarkButtonNode",disabled:this.disabled,onclick:this.startAddBookmark,type:"button"},(0,qt.u)("span",{"aria-hidden":"true",class:this.classes(wn.addBookmarkIcon,Ms.W.plus)}),this.messages?.addBookmark)):null}_renderBookmarks(){const{bookmarks:p}=this.viewModel,y=p&&p.filter(Boolean),g=y&&y.length,v=g||this.editingEnabled?this._renderBookmarksContainer(y):null;return[g?null:this._renderNoBookmarksContainer(),v,this._renderBookmarkTooltips(p)]}_renderEditContainer(p){const{messagesCommon:y,disabled:g}=this,v=this._getBookmarkTitle(p);return(0,qt.u)("div",{class:wn.bookmarkEditButtonContainer,key:"edit-container"},(0,qt.u)("button",{"aria-label":`${y?.edit} ${v}`,bind:this,class:wn.bookmarkEditButton,"data-bookmark":p,disabled:g,onclick:this._showEditBookmarkForm,title:`${y?.edit} ${v}`,type:"button"},(0,qt.u)("span",{"aria-hidden":"true",class:Ms.W.edit})))}_renderDragHandle(p){const{messagesCommon:y,disabled:g}=this,v=this._getBookmarkTitle(p),b={[Wu]:p.uid};return(0,qt.u)("div",{afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,"aria-label":`${y?.dragHandleTitle} ${v}`,"aria-pressed":this._selectedSortUid===p.uid?"true":"false",bind:this,class:wn.bookmarkDragHandle,"data-bookmark":p,key:"drag-handle",onblur:this._dragHandleBlur,onkeydown:this._dragHandleKeydown,role:"button",tabIndex:g?-1:0,...b},(0,qt.u)("span",{"aria-hidden":"true",class:this.classes(wn.bookmarkDragHandleIcon,Ms.W.handleVertical)}))}_renderBookmarkImageIcon(){return(0,qt.u)("span",{"aria-hidden":"true",class:this.classes(wn.bookmarkIcon,wn.widgetIcon)})}_renderBookmarkImage(p){const{visibleElements:y}=this,{thumbnail:g}=p,v=g?.url||"";return y.thumbnail&&v?(0,qt.u)("img",{alt:"",class:wn.bookmarkImage,src:v}):null}_renderBookmarkTimeSwitch(p){const{messages:y,disabled:g}=this,{timeExtent:v}=p,{view:b}=this.viewModel;return b?.timeExtent??v?(0,qt.u)("calcite-label",{layout:"inline-space-between"},y?.includeTimeExtent,(0,qt.u)("calcite-switch",{checked:!!v,disabled:g,scale:"s",onCalciteSwitchChange:C=>{this._editIncludeTimeExtent=!!C.target.checked}})):null}_renderBookmarkTimeExtent(p){const{visibleElements:y}=this,{timeExtent:g}=p;return g?(0,qt.u)("span",{class:wn.timeExtent},[null!=g.start&&(0,qt.u)("span",{class:wn.timeExtentGroup,key:"start-date-group"},(0,qt.u)("span",{class:wn.timeExtentDate,key:"start-date"},this._formatDate(g.start)),y.time?(0,qt.u)("span",{class:wn.timeExtentTime,key:"start-time"},this._formatTime(g.start)):null),null!=g.end&&(null==g.start||g.start.getTime()!==g.end.getTime())&&(0,qt.u)("span",{class:wn.timeExtentGroup,key:"end-date-group"},(0,qt.u)("span",{class:wn.timeExtentDate,key:"end-date"},this._formatDate(g.end)),y.time?(0,qt.u)("span",{class:wn.timeExtentTime,key:"end-time"},this._formatTime(g.end)):null)]):null}_renderBookmarkButton(p){const{disabled:y}=this,{timeExtent:g}=p,{capabilities:v}=this.viewModel,b=this._getBookmarkTitle(p),{thumbnail:C}=p,D=(0,qt.u)("div",{class:this.classes(wn.bookmarkImageContainer,C?.url?wn.bookmarkImageContainerHasImage:null)},this._renderBookmarkImage(p)||this._renderBookmarkImageIcon()),R=v.time&&g?(0,qt.u)("span",{class:wn.bookmarkTimeExtent,key:"time-extent"},this._renderBookmarkTimeExtent(p)):null;return(0,qt.u)("button",{bind:this,class:wn.bookmarkButton,"data-bookmark":p,disabled:y,key:"bookmark-button",onclick:this._goToBookmark,type:"button"},D,(0,qt.u)("div",{class:wn.bookmarkLabel},(0,qt.u)("span",{class:wn.bookmarkName,key:"bookmark-title"},b),R))}_renderBookmark(p){const{activeBookmark:y}=this.viewModel,g={[wn.bookmarkActive]:y===p},v=this.editingEnabled?this._renderEditContainer(p):null,b={[Wu]:p.uid},C=this.editingEnabled?this._renderDragHandle(p):null;return(0,qt.u)("li",{class:this.classes(wn.bookmark,g),key:p,...b},C,this._renderBookmarkButton(p),v)}_renderEditingBookmarkName(p){const{messages:y,_userState:g,disabled:v}=this,b="name-required"===g?.validationState;return(0,qt.u)("label",{class:this.classes({[wn.authoringLabel]:!0,[wn.authoringLabelStartPadding]:!!this.visibleElements?.thumbnail})},y?.title,b?(0,qt.u)("strong",null,y?.invalidTitle):null,(0,qt.u)("input",{afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,bind:this,class:this.classes(cr.z.input,b?wn.authoringInputInvalid:null),"data-bookmark":p,"data-node-ref":"_editInputNode",disabled:v,placeholder:y?.titlePlaceholder,required:!0,type:"text",value:p.name}))}_renderEditingBookmarkUrlActions(){const{messagesCommon:p,disabled:y}=this;return(0,qt.u)("div",{class:wn.authoringActions},(0,qt.u)("input",{bind:this,class:this.classes(cr.z.button,cr.z.buttonTertiary),disabled:y,onclick:this._closeUrlEditBookmarkForm,type:"button",value:p?.back}),(0,qt.u)("input",{class:cr.z.button,disabled:y,type:"submit",value:p?.add}))}_renderEditingBookmarkActions(){const{messagesCommon:p,disabled:y}=this,g=this._userState?.bookmark;return(0,qt.u)("div",{class:wn.authoringActions},(0,qt.u)("input",{bind:this,class:this.classes(cr.z.button,cr.z.buttonTertiary,wn.authoringDeleteButton),"data-bookmark":g,disabled:y,onclick:this._deleteBookmark,type:"button",value:p?.delete}),(0,qt.u)("input",{bind:this,class:this.classes(cr.z.button,cr.z.buttonTertiary),disabled:y,onclick:this._closeEditBookmarkForm,type:"button",value:p?.cancel}),(0,qt.u)("input",{class:cr.z.button,disabled:y,type:"submit",value:p?.save}))}_renderEditingBookmarkUrlInput(p){const{messages:y,_userState:g,disabled:v}=this,b=p.thumbnail?.url,C=b&&sC.test(b)?b:void 0,D="absolute-url-required"===g?.validationState;return(0,qt.u)("label",{class:this.classes({[wn.authoringLabel]:!0,[wn.authoringLabelStartPadding]:!!this.visibleElements?.thumbnail})},D?(0,qt.u)("strong",null,y?.invalidImageUrl):null,(0,qt.u)("input",{afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,bind:this,class:this.classes(cr.z.input,D?wn.authoringInputInvalid:null),"data-bookmark":p,"data-node-ref":"_urlEditInputNode",disabled:v,placeholder:y?`https://<${y.imageUrlPlaceholder}>`:void 0,required:!0,title:y?.imageUrlTooltip,type:"text",value:C}))}_renderEditingBookmarkUrl(p){return p?(0,qt.u)("li",{class:wn.authoringCard,key:"edit-bookmark-url-form",[Wu]:p.uid},(0,qt.u)("form",{bind:this,class:wn.authoringForm,disabled:this.disabled,onsubmit:this._editBookmarkUrlSubmit},this._renderEditingBookmarkUrlInput(p),this._renderEditingBookmarkUrlActions())):null}_renderEditingBookmark(p){if(!p)return null;const y={[Wu]:p.uid},{capabilities:g}=this.viewModel,v=g.time?(0,qt.u)("div",{class:wn.timeExtentContainer,key:"edit-bookmark-time-container"},this._renderBookmarkTimeSwitch(p),this._editIncludeTimeExtent?this._renderBookmarkTimeExtent(p):null):null;return(0,qt.u)("li",{class:wn.authoringCard,key:"edit-bookmark-form",...y},(0,qt.u)("form",{bind:this,class:wn.authoringForm,disabled:this.disabled,onsubmit:this._editBookmarkSubmit},(0,qt.u)("div",{class:wn.authoringContainer},this.visibleElements.thumbnail?(0,qt.u)("div",{class:wn.bookmarkImageContainer},this._renderBookmarkImage(p),this._editMenu.render()):null,this._renderEditingBookmarkName(p)),v,this._renderEditingBookmarkActions()))}_renderAddingBookmarkName(){const{_userState:p,messages:y,disabled:g}=this,v="name-required"===p?.validationState;return(0,qt.u)("label",{class:wn.authoringLabel},y?.title,v?(0,qt.u)("strong",null,y?.invalidTitle):null,(0,qt.u)("input",{afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,bind:this,class:this.classes(cr.z.input,v?wn.authoringInputInvalid:null),"data-node-ref":"_addInputNode",disabled:g,placeholder:y?.titlePlaceholder,required:!0,type:"text",value:""}))}_renderAddingBookmarkActions(){const{messagesCommon:p,disabled:y}=this;return(0,qt.u)("div",{class:this.classes(wn.authoringActions)},(0,qt.u)("input",{bind:this,class:this.classes(cr.z.button,cr.z.buttonTertiary,wn.authoringCancelButton),disabled:y,onclick:this._endAddBookmark.bind(this),type:"button",value:p?.cancel}),(0,qt.u)("input",{class:cr.z.button,disabled:y,type:"submit",value:p?.add}))}_renderAddingBookmark(){return(0,qt.u)("div",{class:wn.authoringCard,key:"add-bookmark-form"},(0,qt.u)("form",{bind:this,class:this.classes(wn.authoringForm,wn.authoringFormAdding),onsubmit:this._addBookmarkSubmit},this._renderAddingBookmarkName(),this._renderAddingBookmarkActions()))}_setTooltipReference(p,y){this._tooltipReferenceMap.set(y.uid,p),this.scheduleRender()}_getBookmarkTitle(p){return(p?.name||this.messagesCommon?.untitled)??""}_formatDate(p){return p?(0,Iy.p6)(p,{...(0,Iy.Ze)("short-date"),timeZone:this.view?.timeZone??bd.By}):""}_formatTime(p){return p?(0,Iy.p6)(p,{...(0,Iy.Ze)("long-time"),timeZone:this.view?.timeZone??bd.By}):""}_dragHandleBlur(){this._selectedSortUid=null,this.scheduleRender()}_dragHandleKeydown(p){const{_sortableSavedItems:y}=this,v=(0,Y1.kK)(p);if(!["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].includes(v))return;const{_sortable:b,_selectedSortUid:C}=this;if(!b)return;const D=b.toArray(),R=p.target.getAttribute(Wu),z=D.indexOf(R);if((0,kp.pf)(v)){const Ce=C&&C===R;return this._selectedSortUid=Ce?null:R,this._sortableSavedItems=Ce?[]:b.toArray(),void this.scheduleRender()}if("Tab"===v)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===v&&0!==y.length)return p.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(y,b,R),void this.scheduleRender();if(-1===z||!C)return;const he="ArrowUp"===v?z-1:z+1;he>=D.length||he<=-1||(function qk(p,y,g){p.splice(g,0,p.splice(y,1)[0])}(D,z,he),this._updateSortItems(D,b,R))}_updateSortItems(p,y,g){y.sort(p),this._sortBookmarks(y),this._focusSortUid=g,this._selectedSortUid=g}_focusDragHandle(p){const y=Jy(p);if(!y)return;this._setTooltipReference(p,y);const{_focusSortUid:g}=this;!p||!g||p.getAttribute(Wu)===g&&(p.focus(),this._focusSortUid=null)}_toggleSorting(){const{_sortable:p,_sortableNode:y,editingEnabled:g,disabled:v}=this;if(y)if(p)p.option("disabled",v||!g);else{const b=Xk.create(y,{dataIdAttr:Wu,handle:`.${wn.bookmarkDragHandle}`,group:"bookmarks",disabled:v||!g,onSort:()=>this._sortBookmarks(b)});this._sortable=b}}_sortNodeCreated(p){this._sortableNode=p,this._toggleSorting()}_sortBookmarks(p){const{bookmarks:y}=this.viewModel;if(!y)return;const g=p.toArray();y.sort((v,b)=>{const C=g.indexOf(v.uid),D=g.indexOf(b.uid);return C>D?1:C<D?-1:0})}_destroySortable(){const{_sortable:p}=this;p&&p.destroy(),this._sortable=null}_endAddBookmark(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}_bookmarksInitialized(){const p="bookmarks-init";this.removeHandles(p),this.addHandles((0,ln.on)(()=>this.viewModel?.bookmarks,"change",()=>this._bookmarksChanged()),p)}_bookmarksChanged(){const p="bookmarks-change",{bookmarks:y}=this.viewModel;this.removeHandles(p);const g=y.map(v=>(0,ln.YP)(()=>[v?.name,v?.thumbnail?.url],()=>this.scheduleRender()));this.addHandles(g.toArray(),p),this.scheduleRender()}_showEditBookmarkForm(p){const y=Jy(p.currentTarget);y&&(this._editIncludeTimeExtent=!!y.timeExtent,this._focusEditInputBox=!0,this._userState=new Ub({bookmark:y,state:"edit"}),this.viewModel.goTo(y),this.scheduleRender())}_closeUrlEditBookmarkForm(){this._focusEditInputBox=!0,this._userState&&(this._userState.state="edit")}_closeEditBookmarkForm(){this._userState=null}_addBookmarkSubmit(p){p.preventDefault();const{_addInputNode:y,_userState:g}=this;if(!g)return;const v=y?y.value.trim():null;v?(g.loading=!0,this.viewModel.createBookmark().then(b=>{b.name=v,this.viewModel.bookmarks.add(b),this._endAddBookmark()})):g.validationState="name-required"}_editBookmarkAndClose(p,y){var g=this;return(0,Yn.Z)(function*(){const{viewModel:v}=g;yield v.editBookmark(p,{...v.defaultEditOptions,...y}),g._closeEditBookmarkForm()})()}_editBookmarkSubmit(p){p.preventDefault();const{_editInputNode:y,_userState:g,_editIncludeTimeExtent:v}=this;if(!g?.bookmark||!g.editedBookmark)return;const b=y&&y.value.trim();b?(g.bookmark.name=b,g.bookmark.thumbnail=g.editedBookmark.thumbnail,v||(g.bookmark.timeExtent=null),this._editBookmarkAndClose(g.bookmark,{takeScreenshot:!1,captureTimeExtent:v})):g.validationState="name-required"}_storeAddBookmarkButton(p){this._addBookmarkButtonNode=p,this._focusAddBookmark()}_storeEditInput(p){this._editInputNode=p,this._focusEditInput()}_storeAddInput(p){this._addInputNode=p,this._focusAddInput()}_storeUrlEditInput(p){this._urlEditInputNode=p,this._focusUrlEditInput()}_focusUrlEditInput(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}_focusAddInput(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}_focusAddBookmark(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}_focusEditInput(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}_deleteBookmark(p){const y=Jy(p.currentTarget);y&&this.viewModel.bookmarks.remove(y)}_goToBookmark(p){const y=Jy(p.currentTarget);y&&(this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(y))}_refreshThumbnail(){var p=this;return(0,Yn.Z)(function*(){const{_userState:y,_editMenu:g,viewModel:v}=p;y&&(y.validationState=void 0,yield v.editBookmark(y.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1,captureTimeExtent:!1}),g.open=!1,p._focusEditInputBox=!0,p.scheduleRender())})()}_removeThumbnail(){const{_userState:p,_editMenu:y}=this;p?.editedBookmark&&(p.editedBookmark.thumbnail=null,p.validationState=void 0,y.open=!1,this._focusEditInputBox=!0,this.scheduleRender())}_startUseImageUrl(){this._userState&&(this._userState.state="edit-thumbnail"),this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}_editBookmarkUrlSubmit(p){p.preventDefault();const{_urlEditInputNode:y,_userState:g}=this;if(!y||!g)return;const v=y.value;sC.test(v)?(v&&g.editedBookmark&&(g.editedBookmark.thumbnail=new Ba({url:v})),this._closeUrlEditBookmarkForm()):g.validationState="absolute-url-required"}};function Jy(p){return p["data-bookmark"]}(0,Se._)([(0,Le.Cb)()],Kr.prototype,"_editIncludeTimeExtent",void 0),(0,Se._)([(0,Le.Cb)({type:Ub})],Kr.prototype,"_userState",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Kr.prototype,"_editMenuItems",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],Kr.prototype,"_editMenu",null),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"defaultCreateOptions",null),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"defaultEditOptions",null),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"bookmarks",null),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"disabled",void 0),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"editingEnabled",void 0),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"headingLevel",void 0),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"goToOverride",null),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"icon",void 0),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"label",null),(0,Se._)([(0,Le.Cb)(),(0,jl.H)("esri/widgets/Bookmarks/t9n/Bookmarks")],Kr.prototype,"messages",void 0),(0,Se._)([(0,Le.Cb)(),(0,jl.H)("esri/t9n/common")],Kr.prototype,"messagesCommon",void 0),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"uiStrings",void 0),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"view",null),(0,Se._)([(0,Le.Cb)({type:RA}),(0,_k.s)(["select-bookmark","bookmark-edit","bookmark-select"])],Kr.prototype,"viewModel",void 0),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"visibleElements",void 0),(0,Se._)([(0,ji.p)("visibleElements")],Kr.prototype,"castVisibleElements",null),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"endAddBookmark",null),(0,Se._)([(0,Le.Cb)()],Kr.prototype,"startAddBookmark",null),Kr=(0,Se._)([(0,un.j)("esri.widgets.Bookmarks")],Kr);const nK=Kr;let $l=class extends fr.Z{constructor(p){super(p),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles((0,ln.on)(()=>this.view?.ui,"expand",p=>{const{target:y}=p;y&&y!==this&&y.expanded&&y.group&&y.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(p){this._set("autoCollapse",p),this._watchViewpoint()}set expanded(p){const y=!!p;this._set("expanded",y);const g=this.view?.ui;g&&g.emit("expand",{target:this}),this._viewpointHandleChange(y)}get state(){return this.view?.ready?"ready":"disabled"}set view(p){this._get("view")!==p&&(this._set("view",p),p&&(0,ln.gx)(()=>p.ready,()=>{this.view===p&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(p){this._viewpointHandle&&(p?(0,ln.gx)(()=>this.view?.stationary,()=>this._viewpointHandle?.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const p="viewpoint";this.removeHandles(p),this._viewpointHandle=null;const{autoCollapse:y,view:g}=this;if(!g||!y)return;const v=(0,ln.Wy)(()=>"3d"===g.type?g.camera:g.viewpoint,()=>this._collapse());this.addHandles(v,p),this._viewpointHandle=v}_collapse(){this.expanded=!1}};(0,Se._)([(0,Le.Cb)({value:!1})],$l.prototype,"autoCollapse",null),(0,Se._)([(0,Le.Cb)({value:!1})],$l.prototype,"expanded",null),(0,Se._)([(0,Le.Cb)()],$l.prototype,"group",void 0),(0,Se._)([(0,Le.Cb)({readOnly:!0})],$l.prototype,"state",null),(0,Se._)([(0,Le.Cb)({value:null})],$l.prototype,"view",null),$l=(0,Se._)([(0,un.j)("esri.widgets.Expand.ExpandViewModel")],$l);const ox=$l;var Yy=_(36911);const Uo="esri-expand",lo={base:Uo,modeAuto:`${Uo}--auto`,modeDrawer:`${Uo}--drawer`,modeFloating:`${Uo}--floating`,container:`${Uo}__container`,containerExpanded:`${Uo}__container--expanded`,panel:`${Uo}__panel`,icon:"esri-collapse__icon",iconExpanded:`${Uo}__icon--expanded`,iconNumber:`${Uo}__icon-number`,iconNumberExpanded:`${Uo}__icon-number--expanded`,content:`${Uo}__content`,contentExpanded:`${Uo}__content--expanded`,expandMask:`${Uo}__mask`,expandMaskExpanded:`${Uo}__mask--expanded`};let zr=class extends Rl.Z{constructor(p,y){super(p,y),this.closeOnEsc=!0,this.collapseIcon=null,this.collapseTooltip="",this.content="",this.expandTooltip="",this.iconClass=null,this.icon=null,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.viewModel=new ox,this._handleKeyDown=g=>{const{closeOnEsc:v,_toggleButtonEl:b,expanded:C}=this;!C||!v||g.target===b||"Escape"!==g.key||("function"==typeof v?v(g):v)&&(this.expanded=!1,b?.focus())}}loadDependencies(){return(0,wy.h)({icon:()=>_.e(4540).then(_.bind(_,24540))})}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const{expanded:p,messagesCommon:y,collapseTooltip:g,expandTooltip:v}=this;return(p?g||y?.collapse:v||y?.expand)??""}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(p){this.viewModel.autoCollapse=p}get collapseIconClass(){return Ms.W.collapse}set collapseIconClass(p){this._overrideIfSome("collapseIconClass",p)}get expanded(){return this.viewModel.expanded}set expanded(p){this.viewModel.expanded=p}get expandIconClass(){return(0,Yy.Qd)(this.content)?this.content.iconClass:Ms.W.expand}set expandIconClass(p){this._overrideIfSome("expandIconClass",p)}get expandIcon(){return(0,Yy.Qd)(this.content)?this.content.icon:void 0}set expandIcon(p){this._overrideIfSome("expandIcon",p)}get group(){return this.viewModel.group}set group(p){this.viewModel.group=p}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const{mode:p}=this;return(0,qt.u)("div",{class:this.classes(lo.base,cr.z.widget,{[lo.modeAuto]:"auto"===p,[lo.modeDrawer]:"drawer"===p,[lo.modeFloating]:"floating"===p}),onkeydown:this._handleKeyDown},this._renderMask(),this._renderContainer())}_renderContainer(){const{expanded:p}=this;return(0,qt.u)("div",{class:this.classes(lo.container,{[lo.containerExpanded]:p})},this._renderPanel(),this._renderContent())}_renderMask(){const{expanded:p}=this;return(0,qt.u)("div",{bind:this,class:this.classes(lo.expandMask,{[lo.expandMaskExpanded]:p}),onclick:this._toggle})}_renderBadgeNumber(){const{expanded:p,iconNumber:y}=this;return y&&!p?(0,qt.u)("span",{class:lo.iconNumber,key:"expand__icon-number"},y):null}_renderPanelNumber(){const{iconNumber:p,expanded:y}=this;return p&&y?(0,qt.u)("span",{class:this.classes(lo.iconNumber,lo.iconNumberExpanded),key:"expand__expand-icon-number"},p):null}_renderIcon(){return(0,qt.u)("calcite-icon",{icon:(this.expanded?this.collapseIcon:this.expandIcon)??"",key:"icon",scale:"s"})}_renderLegacyIcon(){const{collapseIconClass:p,expandIconClass:y,expanded:g}=this,v={[lo.iconExpanded]:g};return null!=y&&(v[y]=!g),null!=p&&(v[p]=p===y||g),(0,qt.u)("span",{"aria-hidden":"true",class:this.classes(lo.icon,v),key:"legacy-icon"})}_renderTitle(){return(0,qt.u)("span",{class:Ms.W.fontFallbackText},this.expandTitle)}_renderExpandButton(){const{expanded:p,expandTitle:y,expandIcon:g,collapseIcon:v,contentId:b}=this;return(0,qt.u)("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":b,"aria-expanded":p?"true":"false",bind:this,class:cr.z.widgetButton,onclick:this._toggle,onkeydown:this._toggle,role:"button",tabIndex:0,title:y},this._renderBadgeNumber(),!p&&null!=g||p&&null!=v?this._renderIcon():this._renderLegacyIcon(),this._renderTitle())}_renderPanel(){return(0,qt.u)("div",{class:lo.panel},this._renderExpandButton(),this._renderPanelNumber())}_renderContent(){const{expanded:p,contentId:y,content:g}=this,b={id:y,role:"region",class:this.classes(lo.content,{[lo.contentExpanded]:p})};return"string"==typeof g?(0,qt.u)("div",{innerHTML:g,key:"content__string",...b}):(0,Yy.Qd)(g)?(0,qt.u)("div",{key:"content__widget",...b},g.render()):g instanceof HTMLElement?(0,qt.u)("div",{afterCreate:this._attachToNode,bind:g,key:"content__html-element",...b}):(0,Yy.o)(g)?(0,qt.u)("div",{afterCreate:this._attachToNode,bind:g.domNode,key:"content__node",...b}):null}_toggle(){this.toggle()}_attachToNode(p){p.appendChild(this)}_storeToggleButtonEl(p){this._toggleButtonEl=p}};(0,Se._)([(0,Le.Cb)({readOnly:!0})],zr.prototype,"contentId",null),(0,Se._)([(0,Le.Cb)({readOnly:!0})],zr.prototype,"expandTitle",null),(0,Se._)([(0,Le.Cb)()],zr.prototype,"autoCollapse",null),(0,Se._)([(0,Le.Cb)()],zr.prototype,"closeOnEsc",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"collapseIconClass",null),(0,Se._)([(0,Le.Cb)()],zr.prototype,"collapseIcon",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"collapseTooltip",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"content",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"expanded",null),(0,Se._)([(0,Le.Cb)()],zr.prototype,"expandIconClass",null),(0,Se._)([(0,Le.Cb)()],zr.prototype,"expandIcon",null),(0,Se._)([(0,Le.Cb)()],zr.prototype,"expandTooltip",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"group",null),(0,Se._)([(0,Le.Cb)()],zr.prototype,"iconClass",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"icon",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"iconNumber",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"label",null),(0,Se._)([(0,Le.Cb)(),(0,jl.H)("esri/widgets/Expand/t9n/Expand")],zr.prototype,"messages",void 0),(0,Se._)([(0,Le.Cb)(),(0,jl.H)("esri/t9n/common")],zr.prototype,"messagesCommon",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"mode",void 0),(0,Se._)([(0,Le.Cb)()],zr.prototype,"view",null),(0,Se._)([(0,Le.Cb)({type:ox})],zr.prototype,"viewModel",void 0),(0,Se._)([(0,Sy.h)()],zr.prototype,"_toggle",null),zr=(0,Se._)([(0,un.j)("esri.widgets.Expand")],zr);const rK=zr,sK=["mapViewNode"];(function o7(p,y){return x6({rootComponent:p,...$I(y)})})((()=>{class p{constructor(){this.view=null}initializeMap(){const g=this.mapViewEl.nativeElement,v=new r$({portalItem:{id:"aa1d3f80270146208328cf66d022e09c"}});this.view=new fk({container:g,map:v});const b=new nK({view:this.view,editingEnabled:!0}),C=new rK({view:this.view,content:b,expanded:!0});return this.view.ui.add(C,"top-right"),v.when(()=>{v.bookmarks&&v.bookmarks.length?console.log("Bookmarks: ",v.bookmarks.length):console.log("No bookmarks in this webmap.")}),this.view.when()}ngOnInit(){this.initializeMap().then(()=>{console.log("The map is ready.")})}ngOnDestroy(){this.view&&this.view.destroy()}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275cmp=rh({type:p,selectors:[["app-root"]],viewQuery:function(v,b){if(1&v&&oO(sK,7),2&v){let C;J_(C=function Y_(){return function o8(p,y){return p[Gi].queries[y].queryList}(Zt(),NC())}())&&(b.mapViewEl=C.first)}},standalone:!0,features:[V_],decls:2,vars:0,consts:[["mapViewNode",""]],template:function(v,b){1&v&&W0(0,"div",null,0)},dependencies:[fF],styles:['@import"https://js.arcgis.com/4.28/@arcgis/core/assets/esri/themes/light/main.css";.esri-view[_ngcontent-%COMP%], #mapViewNode[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}']})}return p})(),QW).catch(p=>console.error(p))},55369:(Ze,me,_)=>{"use strict";_.d(me,{Z5:()=>S,HY:()=>Lr,mv:()=>Zu,AA:()=>Ee,yM:()=>et,xE:()=>Gn,K3:()=>L,h:()=>ue,GH:()=>Ye,wj:()=>Ei,YY:()=>O});var E=_(15861);let P,H,B,w=!1,j=!1,Z=!1,I=!1,G=null,A=!1;const S={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},L=Ue=>{const ke=new URL(Ue,_n.$resourcesUrl$);return ke.origin!==Un.location.origin?ke.href:ke.pathname},O=Ue=>_n.$resourcesUrl$=Ue,pe="http://www.w3.org/1999/xlink",fe={},ee=Ue=>"object"==(Ue=typeof Ue)||"function"===Ue;const ue=(Ue,ke,...tt)=>{let lt=null,Et=null,vt=null,St=!1,Nt=!1;const wt=[],$t=En=>{for(let jn=0;jn<En.length;jn++)lt=En[jn],Array.isArray(lt)?$t(lt):null!=lt&&"boolean"!=typeof lt&&((St="function"!=typeof Ue&&!ee(lt))&&(lt=String(lt)),St&&Nt?wt[wt.length-1].$text$+=lt:wt.push(St?ge(null,lt):lt),Nt=St)};if($t(tt),ke&&(ke.key&&(Et=ke.key),ke.name&&(vt=ke.name),true)){const En=ke.className||ke.class;En&&(ke.class="object"!=typeof En?En:Object.keys(En).filter(jn=>En[jn]).join(" "))}if("function"==typeof Ue)return Ue(null===ke?{}:ke,wt,ie);const tn=ge(Ue,null);return tn.$attrs$=ke,wt.length>0&&(tn.$children$=wt),tn.$key$=Et,tn.$name$=vt,tn},ge=(Ue,ke)=>{const tt={$flags$:0,$tag$:Ue,$text$:ke,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return tt},Ee={},be=Ue=>Ue&&Ue.$tag$===Ee,ie={forEach:(Ue,ke)=>Ue.map(De).forEach(ke),map:(Ue,ke)=>Ue.map(De).map(ke).map(Be)},De=Ue=>({vattrs:Ue.$attrs$,vchildren:Ue.$children$,vkey:Ue.$key$,vname:Ue.$name$,vtag:Ue.$tag$,vtext:Ue.$text$}),Be=Ue=>{if("function"==typeof Ue.vtag){const tt=Object.assign({},Ue.vattrs);return Ue.vkey&&(tt.key=Ue.vkey),Ue.vname&&(tt.name=Ue.vname),ue(Ue.vtag,tt,...Ue.vchildren||[])}const ke=ge(Ue.vtag,Ue.vtext);return ke.$attrs$=Ue.vattrs,ke.$children$=Ue.vchildren,ke.$key$=Ue.vkey,ke.$name$=Ue.vname,ke},et=(Ue,ke,tt)=>{const lt=Ue;return{emit:Et=>Fe(lt,ke,{bubbles:!!(4&tt),composed:!!(2&tt),cancelable:!!(1&tt),detail:Et})}},Fe=(Ue,ke,tt)=>{const lt=_n.ce(ke,tt);return Ue.dispatchEvent(lt),lt},Qe=new WeakMap,ve=(Ue,ke,tt,lt)=>{var Et;let vt=Te(ke,tt);const St=xs.get(vt);if(Ue=11===Ue.nodeType?Ue:Qn,St)if("string"==typeof St){let wt,Nt=Qe.get(Ue=Ue.head||Ue);if(Nt||Qe.set(Ue,Nt=new Set),!Nt.has(vt)){{wt=Qn.createElement("style"),wt.innerHTML=St;const $t=null!==(Et=_n.$nonce$)&&void 0!==Et?Et:function ae(Ue){var ke,tt,lt;return null!==(lt=null===(tt=null===(ke=Ue.head)||void 0===ke?void 0:ke.querySelector('meta[name="csp-nonce"]'))||void 0===tt?void 0:tt.getAttribute("content"))&&void 0!==lt?lt:void 0}(Qn);null!=$t&&wt.setAttribute("nonce",$t),Ue.insertBefore(wt,Ue.querySelector("link"))}Nt&&Nt.add(vt)}}else!Ue.adoptedStyleSheets.includes(St)&&(Ue.adoptedStyleSheets=[...Ue.adoptedStyleSheets,St]);return vt},Te=(Ue,ke)=>"sc-"+(ke&&32&Ue.$flags$?Ue.$tagName$+"-"+ke:Ue.$tagName$),$e=(Ue,ke,tt,lt,Et,vt)=>{if(tt!==lt){let St=Zs(Ue,ke),Nt=ke.toLowerCase();if("class"===ke){const wt=Ue.classList,$t=Je(tt),tn=Je(lt);wt.remove(...$t.filter(En=>En&&!tn.includes(En))),wt.add(...tn.filter(En=>En&&!$t.includes(En)))}else if("style"===ke){for(const wt in tt)(!lt||null==lt[wt])&&(wt.includes("-")?Ue.style.removeProperty(wt):Ue.style[wt]="");for(const wt in lt)(!tt||lt[wt]!==tt[wt])&&(wt.includes("-")?Ue.style.setProperty(wt,lt[wt]):Ue.style[wt]=lt[wt])}else if("key"!==ke)if("ref"===ke)lt&&lt(Ue);else if(Ue.__lookupSetter__(ke)||"o"!==ke[0]||"n"!==ke[1]){{const wt=ee(lt);if((St||wt&&null!==lt)&&!Et)try{if(Ue.tagName.includes("-"))Ue[ke]=lt;else{const tn=lt??"";"list"===ke?St=!1:(null==tt||Ue[ke]!=tn)&&(Ue[ke]=tn)}}catch{}let $t=!1;Nt!==(Nt=Nt.replace(/^xlink\:?/,""))&&(ke=Nt,$t=!0),null==lt||!1===lt?(!1!==lt||""===Ue.getAttribute(ke))&&($t?Ue.removeAttributeNS(pe,ke):Ue.removeAttribute(ke)):(!St||4&vt||Et)&&!wt&&(lt=!0===lt?"":lt,$t?Ue.setAttributeNS(pe,ke,lt):Ue.setAttribute(ke,lt))}}else ke="-"===ke[2]?ke.slice(3):Zs(Un,Nt)?Nt.slice(2):Nt[2]+ke.slice(3),tt&&_n.rel(Ue,ke,tt,!1),lt&&_n.ael(Ue,ke,lt,!1)}},nt=/\s/,Je=Ue=>Ue?Ue.split(nt):[],ot=(Ue,ke,tt,lt)=>{const Et=11===ke.$elm$.nodeType&&ke.$elm$.host?ke.$elm$.host:ke.$elm$,vt=Ue&&Ue.$attrs$||fe,St=ke.$attrs$||fe;for(lt in vt)lt in St||$e(Et,lt,vt[lt],void 0,tt,ke.$flags$);for(lt in St)$e(Et,lt,vt[lt],St[lt],tt,ke.$flags$)},at=(Ue,ke,tt,lt)=>{const Et=ke.$children$[tt];let St,Nt,wt,vt=0;if(!w&&(Z=!0,"slot"===Et.$tag$&&(P&&lt.classList.add(P+"-s"),Et.$flags$|=Et.$children$?2:1)),null!==Et.$text$)St=Et.$elm$=Qn.createTextNode(Et.$text$);else if(1&Et.$flags$)St=Et.$elm$=Qn.createTextNode("");else{if(!I&&(I="svg"===Et.$tag$),St=Et.$elm$=Qn.createElementNS(I?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Et.$flags$?"slot-fb":Et.$tag$),I&&"foreignObject"===Et.$tag$&&(I=!1),ot(null,Et,I),(Ue=>null!=Ue)(P)&&St["s-si"]!==P&&St.classList.add(St["s-si"]=P),Et.$children$)for(vt=0;vt<Et.$children$.length;++vt)Nt=at(Ue,Et,vt,St),Nt&&St.appendChild(Nt);"svg"===Et.$tag$?I=!1:"foreignObject"===St.tagName&&(I=!0)}return St["s-hn"]=B,3&Et.$flags$&&(St["s-sr"]=!0,St["s-cr"]=H,St["s-sn"]=Et.$name$||"",wt=Ue&&Ue.$children$&&Ue.$children$[tt],wt&&wt.$tag$===Et.$tag$&&Ue.$elm$&&mt(Ue.$elm$,!1)),St},mt=(Ue,ke)=>{_n.$flags$|=1;const tt=Ue.childNodes;for(let lt=tt.length-1;lt>=0;lt--){const Et=tt[lt];Et["s-hn"]!==B&&Et["s-ol"]&&(on(Et).insertBefore(Et,kt(Et)),Et["s-ol"].remove(),Et["s-ol"]=void 0,Z=!0),ke&&mt(Et,ke)}_n.$flags$&=-2},Tt=(Ue,ke,tt,lt,Et,vt)=>{let Nt,St=Ue["s-cr"]&&Ue["s-cr"].parentNode||Ue;for(St.shadowRoot&&St.tagName===B&&(St=St.shadowRoot);Et<=vt;++Et)lt[Et]&&(Nt=at(null,tt,Et,Ue),Nt&&(lt[Et].$elm$=Nt,St.insertBefore(Nt,kt(ke))))},Ot=(Ue,ke,tt,lt,Et)=>{for(;ke<=tt;++ke)(lt=Ue[ke])&&(Et=lt.$elm$,nn(lt),j=!0,Et["s-ol"]?Et["s-ol"].remove():mt(Et,!0),Et.remove())},Gt=(Ue,ke)=>Ue.$tag$===ke.$tag$&&("slot"===Ue.$tag$?Ue.$name$===ke.$name$:Ue.$key$===ke.$key$),kt=Ue=>Ue&&Ue["s-ol"]||Ue,on=Ue=>(Ue["s-ol"]?Ue["s-ol"]:Ue).parentNode,ft=(Ue,ke)=>{const tt=ke.$elm$=Ue.$elm$,lt=Ue.$children$,Et=ke.$children$,vt=ke.$tag$,St=ke.$text$;let Nt;null!==St?(Nt=tt["s-cr"])?Nt.parentNode.textContent=St:Ue.$text$!==St&&(tt.data=St):(I="svg"===vt||"foreignObject"!==vt&&I,"slot"===vt||ot(Ue,ke,I),null!==lt&&null!==Et?((Ue,ke,tt,lt)=>{let ks,Cn,Et=0,vt=0,St=0,Nt=0,wt=ke.length-1,$t=ke[0],tn=ke[wt],En=lt.length-1,jn=lt[0],Jr=lt[En];for(;Et<=wt&&vt<=En;)if(null==$t)$t=ke[++Et];else if(null==tn)tn=ke[--wt];else if(null==jn)jn=lt[++vt];else if(null==Jr)Jr=lt[--En];else if(Gt($t,jn))ft($t,jn),$t=ke[++Et],jn=lt[++vt];else if(Gt(tn,Jr))ft(tn,Jr),tn=ke[--wt],Jr=lt[--En];else if(Gt($t,Jr))("slot"===$t.$tag$||"slot"===Jr.$tag$)&&mt($t.$elm$.parentNode,!1),ft($t,Jr),Ue.insertBefore($t.$elm$,tn.$elm$.nextSibling),$t=ke[++Et],Jr=lt[--En];else if(Gt(tn,jn))("slot"===$t.$tag$||"slot"===Jr.$tag$)&&mt(tn.$elm$.parentNode,!1),ft(tn,jn),Ue.insertBefore(tn.$elm$,$t.$elm$),tn=ke[--wt],jn=lt[++vt];else{for(St=-1,Nt=Et;Nt<=wt;++Nt)if(ke[Nt]&&null!==ke[Nt].$key$&&ke[Nt].$key$===jn.$key$){St=Nt;break}St>=0?(Cn=ke[St],Cn.$tag$!==jn.$tag$?ks=at(ke&&ke[vt],tt,St,Ue):(ft(Cn,jn),ke[St]=void 0,ks=Cn.$elm$),jn=lt[++vt]):(ks=at(ke&&ke[vt],tt,vt,Ue),jn=lt[++vt]),ks&&on($t.$elm$).insertBefore(ks,kt($t.$elm$))}Et>wt?Tt(Ue,null==lt[En+1]?null:lt[En+1].$elm$,tt,lt,vt,En):vt>En&&Ot(ke,Et,wt)})(tt,lt,ke,Et):null!==Et?(null!==Ue.$text$&&(tt.textContent=""),Tt(tt,null,ke,Et,0,Et.length-1)):null!==lt&&Ot(lt,0,lt.length-1),I&&"svg"===vt&&(I=!1))},dt=Ue=>{const ke=Ue.childNodes;let tt,lt,Et,vt,St,Nt;for(lt=0,Et=ke.length;lt<Et;lt++)if(tt=ke[lt],1===tt.nodeType){if(tt["s-sr"])for(St=tt["s-sn"],tt.hidden=!1,vt=0;vt<Et;vt++)if(Nt=ke[vt].nodeType,ke[vt]["s-hn"]!==tt["s-hn"]||""!==St){if(1===Nt&&St===ke[vt].getAttribute("slot")){tt.hidden=!0;break}}else if(1===Nt||3===Nt&&""!==ke[vt].textContent.trim()){tt.hidden=!0;break}dt(tt)}},Ct=[],Dt=Ue=>{let ke,tt,lt,Et,vt,St,Nt=0;const wt=Ue.childNodes,$t=wt.length;for(;Nt<$t;Nt++){if(ke=wt[Nt],ke["s-sr"]&&(tt=ke["s-cr"])&&tt.parentNode)for(lt=tt.parentNode.childNodes,Et=ke["s-sn"],St=lt.length-1;St>=0;St--)tt=lt[St],!tt["s-cn"]&&!tt["s-nr"]&&tt["s-hn"]!==ke["s-hn"]&&(xt(tt,Et)?(vt=Ct.find(tn=>tn.$nodeToRelocate$===tt),j=!0,tt["s-sn"]=tt["s-sn"]||Et,vt?vt.$slotRefNode$=ke:Ct.push({$slotRefNode$:ke,$nodeToRelocate$:tt}),tt["s-sr"]&&Ct.map(tn=>{xt(tn.$nodeToRelocate$,tt["s-sn"])&&(vt=Ct.find(En=>En.$nodeToRelocate$===tt),vt&&!tn.$slotRefNode$&&(tn.$slotRefNode$=vt.$slotRefNode$))})):Ct.some(tn=>tn.$nodeToRelocate$===tt)||Ct.push({$nodeToRelocate$:tt}));1===ke.nodeType&&Dt(ke)}},xt=(Ue,ke)=>1===Ue.nodeType?null===Ue.getAttribute("slot")&&""===ke||Ue.getAttribute("slot")===ke:Ue["s-sn"]===ke||""===ke,nn=Ue=>{Ue.$attrs$&&Ue.$attrs$.ref&&Ue.$attrs$.ref(null),Ue.$children$&&Ue.$children$.map(nn)},Yt=(Ue,ke)=>{const tt=Ue.$hostElement$,lt=Ue.$cmpMeta$,Et=Ue.$vnode$||ge(null,null),vt=be(ke)?ke:ue(null,null,ke);if(B=tt.tagName,lt.$attrsToReflect$&&(vt.$attrs$=vt.$attrs$||{},lt.$attrsToReflect$.map(([St,Nt])=>vt.$attrs$[Nt]=tt[St])),vt.$tag$=null,vt.$flags$|=4,Ue.$vnode$=vt,vt.$elm$=Et.$elm$=tt.shadowRoot||tt,P=tt["s-sc"],H=tt["s-cr"],w=us&&0!=(1&lt.$flags$),j=!1,ft(Et,vt),_n.$flags$|=1,Z){Dt(vt.$elm$);let St,Nt,wt,$t,tn,En,jn=0;for(;jn<Ct.length;jn++)St=Ct[jn],Nt=St.$nodeToRelocate$,Nt["s-ol"]||(wt=Qn.createTextNode(""),wt["s-nr"]=Nt,Nt.parentNode.insertBefore(Nt["s-ol"]=wt,Nt));for(jn=0;jn<Ct.length;jn++)if(St=Ct[jn],Nt=St.$nodeToRelocate$,St.$slotRefNode$){for($t=St.$slotRefNode$.parentNode,tn=St.$slotRefNode$.nextSibling,wt=Nt["s-ol"];wt=wt.previousSibling;)if(En=wt["s-nr"],En&&En["s-sn"]===Nt["s-sn"]&&$t===En.parentNode&&(En=En.nextSibling,!En||!En["s-nr"])){tn=En;break}(!tn&&$t!==Nt.parentNode||Nt.nextSibling!==tn)&&Nt!==tn&&(!Nt["s-hn"]&&Nt["s-ol"]&&(Nt["s-hn"]=Nt["s-ol"].parentNode.nodeName),$t.insertBefore(Nt,tn))}else 1===Nt.nodeType&&(Nt.hidden=!0)}j&&dt(vt.$elm$),_n.$flags$&=-2,Ct.length=0},Mn=(Ue,ke)=>{Ue.$flags$|=16;const tt=()=>lr(Ue,ke);return _s(tt)},lr=(Ue,ke)=>{const tt=Ue.$hostElement$,lt=()=>{},Et=tt;let vt;return ke?(ns(tt,"componentWillLoad"),vt=yr(Et,"componentWillLoad")):(ns(tt,"componentWillUpdate"),vt=yr(Et,"componentWillUpdate")),ns(tt,"componentWillRender"),vt=vs(vt,()=>yr(Et,"componentWillRender")),lt(),vs(vt,()=>On(Ue,Et,ke))},On=function(){var Ue=(0,E.Z)(function*(ke,tt,lt){const Et=ke.$hostElement$,vt=()=>{};lt&&(Ue=>{const ke=Ue.$cmpMeta$,tt=Ue.$hostElement$,lt=ke.$flags$,Et=()=>{},vt=ve(us&&tt.shadowRoot?tt.shadowRoot:tt.getRootNode(),ke,Ue.$modeName$);10&lt&&(tt["s-sc"]=vt,tt.classList.add(vt+"-h"),2&lt&&tt.classList.add(vt+"-s")),Et()})(ke);const Nt=()=>{};zn(ke,tt,Et),Nt(),vt(),Xt(ke)});return function(tt,lt,Et){return Ue.apply(this,arguments)}}(),zn=(Ue,ke,tt)=>{try{G=ke,ke=ke.render&&ke.render(),Ue.$flags$&=-17,Ue.$flags$|=2,Yt(Ue,ke)}catch(Nt){Or(Nt,Ue.$hostElement$)}return G=null,null},Xt=Ue=>{const tt=Ue.$hostElement$,lt=()=>{},Et=tt;yr(Et,"componentDidRender"),ns(tt,"componentDidRender"),64&Ue.$flags$?(yr(Et,"componentDidUpdate"),ns(tt,"componentDidUpdate"),lt()):(Ue.$flags$|=64,yr(Et,"componentDidLoad"),ns(tt,"componentDidLoad"),lt())},Gn=Ue=>{{const ke=sr(Ue),tt=ke.$hostElement$.isConnected;return tt&&2==(18&ke.$flags$)&&Mn(ke,!1),tt}},yr=(Ue,ke,tt)=>{if(Ue&&Ue[ke])try{return Ue[ke](tt)}catch(lt){Or(lt)}},vs=(Ue,ke)=>Ue&&Ue.then?Ue.then(ke):ke(),ns=(Ue,ke)=>{},ze=(Ue,ke,tt)=>{if(ke.$members$){Ue.watchers&&(ke.$watchers$=Ue.watchers);const lt=Object.entries(ke.$members$),Et=Ue.prototype;lt.map(([vt,[St]])=>{(31&St||32&St)&&Object.defineProperty(Et,vt,{get(){return((Ue,ke)=>sr(this).$instanceValues$.get(ke))(0,vt)},set(Nt){((Ue,ke,tt,lt)=>{const Et=sr(Ue),vt=Ue,St=Et.$instanceValues$.get(ke),Nt=Et.$flags$,wt=vt;tt=((Ue,ke)=>null==Ue||ee(Ue)?Ue:4&ke?"false"!==Ue&&(""===Ue||!!Ue):2&ke?parseFloat(Ue):1&ke?String(Ue):Ue)(tt,lt.$members$[ke][0]);const $t=Number.isNaN(St)&&Number.isNaN(tt);if(tt!==St&&!$t&&(Et.$instanceValues$.set(ke,tt),1)){if(lt.$watchers$&&128&Nt){const En=lt.$watchers$[ke];En&&En.map(jn=>{try{wt[jn](tt,St,ke)}catch(Jr){Or(Jr,vt)}})}if(2==(18&Nt)){if(wt.componentShouldUpdate&&!1===wt.componentShouldUpdate(tt,St,ke))return;Mn(Et,!1)}}})(this,vt,Nt,ke)},configurable:!0,enumerable:!0})});{const vt=new Map;Et.attributeChangedCallback=function(St,Nt,wt){_n.jmp(()=>{const $t=vt.get(St);if(this.hasOwnProperty($t))wt=this[$t],delete this[$t];else if(Et.hasOwnProperty($t)&&"number"==typeof this[$t]&&this[$t]==wt)return;this[$t]=(null!==wt||"boolean"!=typeof this[$t])&&wt})},Ue.observedAttributes=lt.filter(([St,Nt])=>15&Nt[0]).map(([St,Nt])=>{const wt=Nt[1]||St;return vt.set(wt,St),512&Nt[0]&&ke.$attrsToReflect$.push([St,wt]),wt})}}return Ue},Ge=function(){var Ue=(0,E.Z)(function*(ke,tt,lt,Et,vt){if(!(32&tt.$flags$)&&(vt=ke.constructor,tt.$flags$|=32,customElements.whenDefined(lt.$tagName$).then(()=>tt.$flags$|=128),vt.style)){let wt=vt.style;"string"!=typeof wt&&(wt=wt[tt.$modeName$=(Ue=>Ki.map(ke=>ke(Ue)).find(ke=>!!ke))(ke)]);const $t=Te(lt,tt.$modeName$);if(!xs.has($t)){const tn=()=>{};((Ue,ke,tt)=>{let lt=xs.get(Ue);Qa&&tt?(lt=lt||new CSSStyleSheet,"string"==typeof lt?lt=ke:lt.replaceSync(ke)):lt=ke,xs.set(Ue,lt)})($t,wt,!!(1&lt.$flags$)),tn()}}const Nt=()=>Mn(tt,!0);Nt()});return function(tt,lt,Et,vt,St){return Ue.apply(this,arguments)}}(),yt=Ue=>{},_e=Ue=>{const ke=Ue["s-cr"]=Qn.createComment("");ke["s-cn"]=!0,Ue.insertBefore(ke,Ue.firstChild)},Ye=(Ue,ke)=>{const tt={$flags$:ke[0],$tagName$:ke[1]};tt.$members$=ke[2],tt.$listeners$=ke[3],tt.$watchers$=Ue.$watchers$,tt.$attrsToReflect$=[],!us&&1&tt.$flags$&&(tt.$flags$|=8);const lt=Ue.prototype.connectedCallback,Et=Ue.prototype.disconnectedCallback;return Object.assign(Ue.prototype,{__registerHost(){ki(this,tt)},connectedCallback(){(Ue=>{if(!(1&_n.$flags$)){const ke=sr(Ue),tt=ke.$cmpMeta$,lt=()=>{};if(1&ke.$flags$)Bo(Ue,ke,tt.$listeners$,!1),yt(ke.$lazyInstance$);else{let Et;ke.$flags$|=1,!Et&&12&tt.$flags$&&_e(Ue),tt.$members$&&Object.entries(tt.$members$).map(([vt,[St]])=>{if(31&St&&Ue.hasOwnProperty(vt)){const Nt=Ue[vt];delete Ue[vt],Ue[vt]=Nt}}),Ge(Ue,ke,tt)}lt()}})(this),lt&&lt.call(this)},disconnectedCallback(){(Ue=>{if(!(1&_n.$flags$)){const ke=sr(Ue);ke.$rmListeners$&&(ke.$rmListeners$.map(lt=>lt()),ke.$rmListeners$=void 0)}})(this),Et&&Et.call(this)},__attachShadow(){us?this.attachShadow({mode:"open",delegatesFocus:!!(16&tt.$flags$)}):this.shadowRoot=this}}),Ue.is=tt.$tagName$,ze(Ue,tt)},Lr=(Ue,ke)=>ke,Bo=(Ue,ke,tt,lt)=>{tt&&tt.map(([Et,vt,St])=>{const Nt=Ys(Ue,Et),wt=Fo(ke,St),$t=gi(Et);_n.ael(Nt,vt,wt,$t),(ke.$rmListeners$=ke.$rmListeners$||[]).push(()=>_n.rel(Nt,vt,wt,$t))})},Fo=(Ue,ke)=>tt=>{try{Ue.$hostElement$[ke](tt)}catch(lt){Or(lt)}},Ys=(Ue,ke)=>4&ke?Qn:8&ke?Un:16&ke?Qn.body:Ue,gi=Ue=>oi?{passive:0!=(1&Ue),capture:0!=(2&Ue)}:0!=(2&Ue),ri=new WeakMap,sr=Ue=>ri.get(Ue),ki=(Ue,ke)=>{const tt={$flags$:0,$hostElement$:Ue,$cmpMeta$:ke,$instanceValues$:new Map};return Bo(Ue,tt,ke.$listeners$,!1),ri.set(Ue,tt)},Zs=(Ue,ke)=>ke in Ue,Or=(Ue,ke)=>(0,console.error)(Ue,ke),xs=new Map,Ki=[],Un=typeof window<"u"?window:{},Qn=Un.document||{head:{}},Zu=Un.HTMLElement||class{},_n={$flags$:0,$resourcesUrl$:"",jmp:Ue=>Ue(),raf:Ue=>requestAnimationFrame(Ue),ael:(Ue,ke,tt,lt)=>Ue.addEventListener(ke,tt,lt),rel:(Ue,ke,tt,lt)=>Ue.removeEventListener(ke,tt,lt),ce:(Ue,ke)=>new CustomEvent(Ue,ke)},us=!0,oi=(()=>{let Ue=!1;try{Qn.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Ue=!0}}))}catch{}return Ue})(),Qa=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ii=[],ct=[],Qt=(Ue,ke)=>tt=>{Ue.push(tt),A||(A=!0,ke&&4&_n.$flags$?cs(ur):_n.raf(ur))},Ln=Ue=>{for(let ke=0;ke<Ue.length;ke++)try{Ue[ke](performance.now())}catch(tt){Or(tt)}Ue.length=0},ur=()=>{Ln(ii),Ln(ct),(A=ii.length>0)&&_n.raf(ur)},cs=Ue=>Promise.resolve(void 0).then(Ue),Ei=Qt(ii,!1),_s=Qt(ct,!0)},41993:Ze=>{function me(_){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+_+"'");throw E.code="MODULE_NOT_FOUND",E})}me.keys=()=>[],me.resolve=me,me.id=41993,Ze.exports=me},7624:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{default:()=>q});var E=_(15861),M=_(50484),V=_(66476),x=_(83944),P=_(18626),H=_(89317),B=_(34222),F=_(67016),T=_(30352),w=_(4703),j=_(51172),Z=_(79412),I=_(6785),G=_(80543),A=(_(1535),_(10141)),S=_(7547),N=_(43814),L=_(61018),O=_(27835),$=_(72380),K=_(73514),Y=(_(57678),_(14007),_(55829));const oe=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let ne=class extends K.Z{constructor(le){super(le),this.id=null,this.language=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps"}getLanguageParamValue(){if(this.language)return this.language;const le=(0,Y.Kd)().toLowerCase();switch(le){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const ee=(0,Y.G3)(le);return"pt"===ee?"pt-BR":ee&&oe.has(ee)?ee:"global"}};(0,M._)([(0,G.Cb)()],ne.prototype,"id",void 0),(0,M._)([(0,G.Cb)()],ne.prototype,"language",void 0),(0,M._)([(0,G.Cb)()],ne.prototype,"serviceUrl",void 0),ne=(0,M._)([(0,A.j)("esri.support.BasemapStyle")],ne);const se=ne;var k,te=_(5538);let re=0,pe=k=class extends((0,H.eC)(F.Z)){constructor(le){super(le),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+re++,this.baseLayers=new x.Z,this.referenceLayers=new x.Z;const ee=ue=>{ue.parent&&ue.parent!==this&&"remove"in ue.parent&&ue.parent.remove(ue),ue.parent=this,"elevation"===ue.type&&w.Z.getLogger(this).error(`Layer '${ue.title}, id:${ue.id}' of type '${ue.type}' is not supported as a basemap layer and will therefore be ignored.`)},ae=ue=>{ue.parent=null};this.addHandles([this.baseLayers.on("after-add",ue=>ee(ue.item)),this.referenceLayers.on("after-add",ue=>ee(ue.item)),this.baseLayers.on("after-remove",ue=>ae(ue.item)),this.referenceLayers.on("after-remove",ue=>ae(ue.item))])}initialize(){this.when().catch(le=>{w.Z.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,le)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const le=this.baseLayers.toArray();for(const ae of le)ae.destroy();const ee=this.referenceLayers.toArray();for(const ae of ee)ae.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,j.SC)(this.portalItem)}normalizeCtorArgs(le){return le&&"resourceInfo"in le&&(this._set("resourceInfo",le.resourceInfo),delete(le={...le}).resourceInfo),le}set baseLayers(le){this._set("baseLayers",(0,P.Z)(le,this._get("baseLayers")))}_writeBaseLayers(le,ee,ae){const ue=[];le&&(ae={...ae,layerContainerType:"basemap"},this.baseLayers.forEach(ge=>{const Ee=(0,te.Nw)(ge,ae.webmap?ae.webmap.getLayerJSONFromResourceInfo(ge):null,ae);null!=Ee&&ue.push(Ee)}),this.referenceLayers.forEach(ge=>{const Ee=(0,te.Nw)(ge,ae.webmap?ae.webmap.getLayerJSONFromResourceInfo(ge):null,ae);null!=Ee&&("scene"!==ge.type&&(Ee.isReference=!0),ue.push(Ee))})),ee.baseMapLayers=ue}set referenceLayers(le){this._set("referenceLayers",(0,P.Z)(le,this._get("referenceLayers")))}writeTitle(le,ee){ee.title=le||"Basemap"}load(le){return this.addResolvingPromise(this._loadFromSource(le)),Promise.resolve(this)}loadAll(){return(0,T.G)(this,le=>{le(this.baseLayers,this.referenceLayers)})}clone(){const le={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(ee=>(0,B.tZ)(ee)?ee.clone():ee),referenceLayers:this.referenceLayers.map(ee=>(0,B.tZ)(ee)?ee.clone():ee)};return this.loaded&&(le.loadStatus="loaded"),new k({resourceInfo:this.resourceInfo}).set(le)}read(le,ee){this.resourceInfo||this._set("resourceInfo",{data:le,context:ee}),super.read(le,ee)}write(le,ee){return le=le||{},ee?.origin||(ee={origin:"web-map",...ee}),super.write(le,ee),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(le.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(ae=>{const ue=(0,B.d9)(ae);return ue.url&&(0,I.oC)(ue.url)&&(ue.url=`https:${ue.url}`),ue.templateUrl&&(0,I.oC)(ue.templateUrl)&&(ue.templateUrl=`https:${ue.templateUrl}`),ue})),le}_loadFromSource(le){var ee=this;return(0,E.Z)(function*(){const{resourceInfo:ae,portalItem:ue,style:ge}=ee;(0,Z.k_)(le);const Ee=[];ae?(Ee.push(ee._loadLayersFromJSON(ae.data,ae.context?ae.context.url:null,le)),ae.data.id&&!ae.data.title&&Ee.push((0,$.g)(ae.data.id).then(De=>{De&&ee.read({title:De},ae.context)}))):ue?Ee.push(ee._loadFromItem(ue,le)):ge&&Ee.push(ee._loadFromStylesService(ge,le)),yield Promise.all(Ee)})()}_loadLayersFromJSON(le,ee,ae){var ue=this;return(0,E.Z)(function*(){const ge=ue.resourceInfo?.context,Ee=ue.portalItem?.portal||ge?.portal||null,be=ce[ge?.origin||""]??"web-map",{populateOperationalLayers:ie}=yield Promise.all([_.e(2772),_.e(8592)]).then(_.bind(_,4906)),De=[];if((0,Z.k_)(ae),le.baseMapLayers&&Array.isArray(le.baseMapLayers)){const Be={context:{...ge,origin:be,url:ee,portal:Ee,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},we=xe=>"web-scene"===be&&"ArcGISSceneServiceLayer"===xe.layerType||xe.isReference,Me=ie(ue.baseLayers,le.baseMapLayers.filter(xe=>!we(xe)),Be);De.push(Me);const He=ie(ue.referenceLayers,le.baseMapLayers.filter(we),Be);De.push(He)}yield Promise.allSettled(De)})()}_loadFromItem(le,ee){var ae=this;return(0,E.Z)(function*(){const ue=yield le.load(ee),ge=yield ue.fetchData("json",ee),Ee=(0,I.mN)(le.itemUrl??"");return ae._set("resourceInfo",{data:ge.baseMap??{},context:{origin:fe[le.type||""]??"web-map",portal:le.portal||L.Z.getDefault(),url:Ee}}),ae.read(ae.resourceInfo.data,ae.resourceInfo.context),ae.read({spatialReference:ge.spatialReference},ae.resourceInfo.context),ae.read({title:le.title,thumbnailUrl:le.thumbnailUrl},{origin:"portal-item",portal:le.portal||L.Z.getDefault(),url:Ee}),ae._loadLayersFromJSON(ae.resourceInfo.data,Ee,ee)})()}_loadFromStylesService(le,ee){var ae=this;return(0,E.Z)(function*(){const ue=`${le.serviceUrl}/${le.id}`,ge=(yield(0,V.Z)(ue,{query:{language:le.getLanguageParamValue()},signal:ee?.signal})).data;if(ge.baseMap&&Array.isArray(ge.baseMap.baseMapLayers))for(const be of ge.baseMap.baseMapLayers)if(!be.customParameters&&be.styleUrl?.includes("?")){const ie=(0,I.mN)(be.styleUrl);ie.query&&(be.styleUrl=ie.path,be.customParameters=ie.query)}const Ee=(0,I.mN)(ue);return ae._set("resourceInfo",{data:ge.baseMap??{},context:{origin:"web-map",url:Ee}}),ae.read(ae.resourceInfo.data,ae.resourceInfo.context),ae.read({spatialReference:ge.spatialReference},ae.resourceInfo.context),ae._loadLayersFromJSON(ae.resourceInfo.data,Ee,ee)})()}static fromId(le){const ee=$.s[le];return ee?ee.itemId?new k({portalItem:{id:ee.itemId,portal:{url:"https://www.arcgis.com"}}}):k.fromJSON(ee,{origin:ee.is3d?"web-scene":"web-map"}):null}};(0,M._)([(0,G.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(le,ee,ae,ue){this._writeBaseLayers(le,ee,ue)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:x.Z}},writer(le,ee,ae,ue){this._writeBaseLayers(le,ee,ue)}}}}}})],pe.prototype,"baseLayers",null),(0,M._)([(0,G.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],pe.prototype,"id",void 0),(0,M._)([(0,G.Cb)({type:O.default})],pe.prototype,"portalItem",void 0),(0,M._)([(0,G.Cb)()],pe.prototype,"referenceLayers",null),(0,M._)([(0,G.Cb)({readOnly:!0})],pe.prototype,"resourceInfo",void 0),(0,M._)([(0,G.Cb)({type:N.Z})],pe.prototype,"spatialReference",void 0),(0,M._)([(0,G.Cb)({type:se})],pe.prototype,"style",void 0),(0,M._)([(0,G.Cb)()],pe.prototype,"thumbnailUrl",void 0),(0,M._)([(0,G.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],pe.prototype,"title",void 0),(0,M._)([(0,S.c)("title")],pe.prototype,"writeTitle",null),pe=k=(0,M._)([(0,A.j)("esri.Basemap")],pe);const fe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},ce={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},q=pe},66599:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>F});var T,w,E=_(16343),M=_(55117),V=_(1535);function x(T){return(0,M.uZ)((0,V.vU)(T),0,255)}function P(T,w,j){return T=Number(T),isNaN(T)?j:T<w?w:T>j?j:T}function H(T,w){const j=T.toString(16).padStart(2,"0");return w?j.substring(0,1):j}class B{static blendColors(w,j,Z,I=new B){return I.r=Math.round(w.r+(j.r-w.r)*Z),I.g=Math.round(w.g+(j.g-w.g)*Z),I.b=Math.round(w.b+(j.b-w.b)*Z),I.a=w.a+(j.a-w.a)*Z,I._sanitize()}static fromRgb(w,j){const Z=w.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(Z){const I=Z[2].split(/\s*,\s*/),G=Z[1];if("rgb"===G&&3===I.length||"rgba"===G&&4===I.length){const W=I[0];if("%"===W.charAt(W.length-1)){const A=I.map(S=>2.56*parseFloat(S));return 4===I.length&&(A[3]=parseFloat(I[3])),B.fromArray(A,j)}return B.fromArray(I.map(A=>parseFloat(A)),j)}if("hsl"===G&&3===I.length||"hsla"===G&&4===I.length)return B.fromArray((0,E.B7)(parseFloat(I[0]),parseFloat(I[1])/100,parseFloat(I[2])/100,parseFloat(I[3])),j)}return null}static fromHex(w,j=new B){if("#"!==w[0]||isNaN(+`0x${w.substring(1)}`))return null;switch(w.length){case 4:case 5:{const Z=parseInt(w.substring(1,2),16),I=parseInt(w.substring(2,3),16),G=parseInt(w.substring(3,4),16),W=5===w.length?15:parseInt(w.substring(4),16);return B.fromArray([Z+16*Z,I+16*I,G+16*G,(W+16*W)/255],j)}case 7:case 9:{const Z=parseInt(w.substring(1,3),16),I=parseInt(w.substring(3,5),16),G=parseInt(w.substring(5,7),16),W=7===w.length?255:parseInt(w.substring(7),16);return B.fromArray([Z,I,G,W/255],j)}default:return null}}static fromArray(w,j=new B){return j._set(Number(w[0]),Number(w[1]),Number(w[2]),Number(w[3])),isNaN(j.a)&&(j.a=1),j._sanitize()}static fromString(w,j){const Z=(0,E.St)(w)?(0,E.h$)(w):null;return Z&&B.fromArray(Z,j)||B.fromRgb(w,j)||B.fromHex(w,j)}static fromJSON(w){return null!=w?new B([w[0],w[1],w[2],(w[3]??255)/255]):void 0}static toUnitRGB(w){return null!=w?[w.r/255,w.g/255,w.b/255]:null}static toUnitRGBA(w){return null!=w?[w.r/255,w.g/255,w.b/255,null!=w.a?w.a:1]:null}constructor(w){this.r=255,this.g=255,this.b=255,this.a=1,w&&this.setColor(w)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(w){return"string"==typeof w?B.fromString(w,this):Array.isArray(w)?B.fromArray(w,this):(this._set(w.r??0,w.g??0,w.b??0,w.a??1),w instanceof B||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(w){const j=w?.capitalize??!1,Z=w?.digits??6,I=3===Z||4===Z,G=4===Z||8===Z,W=`#${H(this.r,I)}${H(this.g,I)}${H(this.b,I)}${G?H(Math.round(255*this.a),I):""}`;return j?W.toUpperCase():W}toCss(w=!1){const j=this.r+", "+this.g+", "+this.b;return w?`rgba(${j}, ${this.a})`:`rgb(${j})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(w=B.AlphaMode.ALWAYS){const j=x(this.r),Z=x(this.g),I=x(this.b);return w===B.AlphaMode.ALWAYS||1!==this.a?[j,Z,I,x(255*this.a)]:[j,Z,I]}clone(){return new B(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(w){return null!=w&&w.r===this.r&&w.g===this.g&&w.b===this.b&&w.a===this.a}_sanitize(){return this.r=Math.round(P(this.r,0,255)),this.g=Math.round(P(this.g,0,255)),this.b=Math.round(P(this.b,0,255)),this.a=P(this.a,0,1),this}_set(w,j,Z,I){this.r=w,this.g=j,this.b=Z,this.a=I}}B.prototype.declaredClass="esri.Color",(w=(T=B||(B={})).AlphaMode||(T.AlphaMode={}))[w.ALWAYS=0]="ALWAYS",w[w.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const F=B},35458:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>N});var G,E=_(50484),M=_(2189),V=_(62691),x=_(71950),P=_(25387),H=_(89317),B=_(68160),F=_(80543),Z=(_(1535),_(57678),_(14007),_(10141)),I=_(40637);function A(L){if(null==L)return null;const O={};for(const $ in L){const K=L[$];K&&(O[$]=K.toJSON())}return 0!==Object.keys(O).length?O:null}let S=G=class extends((0,P.J)(H.wq)){constructor(...L){super(...L),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,B.D)(),configurable:!0})}normalizeCtorArgs(L,O,$,K){return L&&!L.declaredClass?L:{geometry:L,symbol:O,attributes:$,popupTemplate:K}}set aggregateGeometries(L){const O=this._get("aggregateGeometries");JSON.stringify(O)!==JSON.stringify(L)&&this._set("aggregateGeometries",L)}set attributes(L){const O=this._get("attributes");O!==L&&(this._set("attributes",L),this._notifyLayer("attributes",O,L))}set geometry(L){const O=this._get("geometry");O!==L&&(this._set("geometry",L),this._notifyLayer("geometry",O,L))}set symbol(L){const O=this._get("symbol");O!==L&&(this._set("symbol",L),this._notifyLayer("symbol",O,L))}set visible(L){const O=this._get("visible");O!==L&&(this._set("visible",L),this._notifyLayer("visible",O,L))}cloneShallow(){return new G({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})}getEffectivePopupTemplate(L=!1){if(this.popupTemplate)return this.popupTemplate;for(const O of[this.sourceLayer,this.layer])if(O){if("popupTemplate"in O&&O.popupTemplate)return O.popupTemplate;if(L&&"defaultPopupTemplate"in O&&null!=O.defaultPopupTemplate)return O.defaultPopupTemplate}return null}getAttribute(L){return this.attributes?.[L]}setAttribute(L,O){if(this.attributes){const $=this.getAttribute(L);this.attributes[L]=O,this._notifyLayer("attributes",$,O,L)}else this.attributes={[L]:O},this._notifyLayer("attributes",void 0,O,L)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:A(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:(0,H.AK)(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(L={}){const{geometry:O}=this;if("mesh"===O?.type){const $={origin:O.origin,transform:O.transform};this._notifyLayer("origin-transform",$,$,L.action)}}_notifyLayer(L,O,$,K){if(!this.layer||!("graphicChanged"in this.layer))return;const U={graphic:this,property:L,oldValue:O,newValue:$};"origin-transform"===L&&(U.action=K),"attributes"===L&&(U.attributeName=K),this.layer.graphicChanged(U)}};(0,E._)([(0,F.Cb)({value:null,json:{read:function W(L){if(!L)return null;const O={};for(const $ in L){const K=(0,I.im)(L[$]);K&&(O[$]=K)}return 0!==Object.keys(O).length?O:null}}})],S.prototype,"aggregateGeometries",null),(0,E._)([(0,F.Cb)({value:null})],S.prototype,"attributes",null),(0,E._)([(0,F.Cb)({value:null,types:M.qM,json:{read:I.im}})],S.prototype,"geometry",null),(0,E._)([(0,F.Cb)({type:Boolean})],S.prototype,"isAggregate",void 0),(0,E._)([(0,F.Cb)({clonable:"reference"})],S.prototype,"layer",void 0),(0,E._)([(0,F.Cb)({type:V.Z})],S.prototype,"popupTemplate",void 0),(0,E._)([(0,F.Cb)({clonable:"reference"})],S.prototype,"sourceLayer",void 0),(0,E._)([(0,F.Cb)({value:null,types:x.LB})],S.prototype,"symbol",null),(0,E._)([(0,F.Cb)({type:Boolean,value:!0})],S.prototype,"visible",null),S=G=(0,E._)([(0,Z.j)("esri.Graphic")],S),(S||(S={})).generateUID=B.D;const N=S},62691:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>He});var E=_(15861),M=_(50484),V=_(25387),x=_(83944),P=_(89317),H=_(34222),B=_(4703),F=_(79412),T=_(80543),w=_(73018),j=_(62185),Z=_(10141),I=_(7547),G=_(1535),W=_(85295),A=_(20004),S=_(37462),N=_(52225),L=_(49497),O=_(90629),$=_(57229),K=_(98522),U=_(23002);const Y={base:null,key:"type",typeMap:{attachment:A.Z,media:$.Z,text:U.Z,expression:L.Z,field:O.Z,relationship:K.Z}};var k,oe=_(59869),ne=_(42271);_(57678),_(14007);let re=k=class extends P.wq{constructor(xe){super(xe),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new k({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,M._)([(0,T.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"returnTopmostRaster",void 0),(0,M._)([(0,T.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"showNoDataRecords",void 0),re=k=(0,M._)([(0,Z.j)("esri.popup.LayerOptions")],re);const Q=re;var fe,pe=_(78496);let ce=fe=class extends P.wq{constructor(xe){super(xe),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new fe({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,H.d9)(this.orderByFields):null})}};(0,M._)([(0,T.Cb)({type:Boolean,json:{write:!0}})],ce.prototype,"showRelatedRecords",void 0),(0,M._)([(0,T.Cb)({type:[pe.Z],json:{write:!0}})],ce.prototype,"orderByFields",void 0),ce=fe=(0,M._)([(0,Z.j)("esri.popup.RelatedRecordsInfo")],ce);const q=ce;var le=_(12670),ee=_(72031),ae=_(99002),ue=_(25917);const Ee=B.Z.getLogger("esri.PopupTemplate"),be="relationships/",ie="expression/",De=x.Z.ofType({key:"type",defaultKeyValue:"button",base:ee.Z,typeMap:{button:ae.Z,toggle:ue.Z}}),Be={base:S.Z,key:"type",typeMap:{media:$.Z,custom:N.Z,text:U.Z,attachments:A.Z,fields:O.Z,expression:L.Z,relationship:K.Z}},we=new Set(["attachments","fields","media","text","expression","relationship"]);let Me=class extends((0,V.J)(P.wq)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(xe){return Array.isArray(xe)?xe.map(Xe=>(0,G.N7)(Be,Xe)):"string"==typeof xe||"function"==typeof xe||xe instanceof HTMLElement||(0,F.y8)(xe)?xe:(Ee.error("content error","unsupported content value",{value:xe}),null)}readContent(xe,Xe){const{popupElements:J}=Xe;return Array.isArray(J)&&J.length>0?this._readPopupInfoElements(Xe.description,Xe.mediaInfos,J):this._readPopupInfo(Xe)}writeContent(xe,Xe,J,ye){"string"!=typeof xe?Array.isArray(xe)&&(Xe.popupElements=xe.filter(Re=>we.has(Re.type)).map(Re=>Re?.toJSON(ye)),Xe.popupElements.forEach(Re=>{"attachments"===Re.type?this._writeAttachmentContent(Xe):"media"===Re.type?this._writeMediaContent(Re,Xe):"text"===Re.type?this._writeTextContent(Re,Xe):"relationship"===Re.type&&this._writeRelationshipContent(Re,Xe)})):Xe.description=xe}writeFieldInfos(xe,Xe,J,ye){const{content:Re}=this,Ve=Array.isArray(Re)?Re:null;if(xe){const et=Ve?Ve.filter(Qe=>"fields"===Qe.type):[],Fe=et.length&&et.every(Qe=>Qe.fieldInfos?.length);Xe.fieldInfos=xe.filter(Boolean).map(Qe=>{const Ne=Qe.toJSON(ye);return Fe&&(Ne.visible=!1),Ne})}if(Ve)for(const et of Ve)"fields"===et.type&&this._writeFieldsContent(et,Xe)}writeLayerOptions(xe,Xe,J,ye){Xe[J]=!xe||null===xe.showNoDataRecords&&null===xe.returnTopmostRaster?null:xe.toJSON(ye)}writeTitle(xe,Xe){Xe.title=xe||""}collectRequiredFields(xe,Xe){var J=this;return(0,E.Z)(function*(){const ye=J.expressionInfos||[];yield J._collectExpressionInfoFields(xe,Xe,[...ye,...J._getContentExpressionInfos(J.content,ye)]),(0,W.gd)(xe,Xe,[...J.outFields||[],...J._getActionsFields(J.actions),...J._getTitleFields(J.title),...J._getContentFields(J.content)])})()}getRequiredFields(xe){var Xe=this;return(0,E.Z)(function*(){const J=new Set;return yield Xe.collectRequiredFields(J,xe),[...J].sort()})()}_writeFieldsContent(xe,Xe){if(!Array.isArray(xe.fieldInfos)||!xe.fieldInfos.length)return;const J=(0,H.d9)(xe.fieldInfos);Array.isArray(Xe.fieldInfos)?J.forEach(ye=>{const Re=Xe.fieldInfos.find(Ve=>Ve.fieldName.toLowerCase()===ye.fieldName.toLowerCase());Re?Re.visible=!0:Xe.fieldInfos.push(ye)}):Xe.fieldInfos=J}_writeAttachmentContent(xe){xe.showAttachments||(xe.showAttachments=!0)}_writeRelationshipContent(xe,Xe){const J=xe.orderByFields?.map(Re=>this._toFieldOrderJSON(Re,xe.relationshipId))||[],ye=[...Xe.relatedRecordsInfo?.orderByFields||[],...J];Xe.relatedRecordsInfo={showRelatedRecords:!0,...ye?.length&&{orderByFields:ye}}}_writeTextContent(xe,Xe){!Xe.description&&xe.text&&(Xe.description=xe.text)}_writeMediaContent(xe,Xe){if(!Array.isArray(xe.mediaInfos)||!xe.mediaInfos.length)return;const J=(0,H.d9)(xe.mediaInfos);Xe.mediaInfos=Array.isArray(Xe.mediaInfos)?[...Xe.mediaInfos,...J]:J}_readPopupInfoElements(xe,Xe,J){const ye={description:!1,mediaInfos:!1};return J.map(Re=>"media"===Re.type?(Re.mediaInfos||!Xe||ye.mediaInfos||(Re.mediaInfos=Xe,ye.mediaInfos=!0),$.Z.fromJSON(Re)):"text"===Re.type?(Re.text||!xe||ye.description||(Re.text=xe,ye.description=!0),U.Z.fromJSON(Re)):"attachments"===Re.type?A.Z.fromJSON(Re):"fields"===Re.type?O.Z.fromJSON(Re):"expression"===Re.type?L.Z.fromJSON(Re):"relationship"===Re.type?K.Z.fromJSON(Re):void 0).filter(Boolean)}_toRelationshipContent(xe){const{field:Xe,order:J}=xe;if(!Xe?.startsWith(be))return null;const ye=Xe.replace(be,"").split("/");if(2!==ye.length)return null;const Re=parseInt(ye[0],10),Ve=ye[1];return"number"==typeof Re&&Ve?K.Z.fromJSON({relationshipId:Re,orderByFields:[{field:Ve,order:J}]}):null}_toFieldOrderJSON(xe,Xe){const{order:J,field:ye}=xe;return{field:`${be}${Xe}/${ye}`,order:J}}_readPopupInfo({description:xe,mediaInfos:Xe,showAttachments:J,relatedRecordsInfo:ye={showRelatedRecords:!1}}){const Re=[];Re.push(xe?new U.Z({text:xe}):new O.Z),Array.isArray(Xe)&&Xe.length&&Re.push($.Z.fromJSON({mediaInfos:Xe})),J&&Re.push(A.Z.fromJSON({displayType:"auto"}));const{showRelatedRecords:Ve,orderByFields:et}=ye;return Ve&&et?.length&&et.forEach(Fe=>{const Qe=this._toRelationshipContent(Fe);Qe&&Re.push(Qe)}),Re.length?Re:xe}_getContentElementFields(xe){const Xe=xe?.type;if("attachments"===Xe)return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description)];if("custom"===Xe)return xe.outFields||[];if("fields"===Xe)return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description),...this._getFieldInfoFields(xe.fieldInfos??this.fieldInfos)];if("media"===Xe){const J=xe.mediaInfos||[];return[...this._extractFieldNames(xe.title),...this._extractFieldNames(xe.description),...J.reduce((ye,Re)=>[...ye,...this._getMediaInfoFields(Re)],[])]}return"text"===Xe?this._extractFieldNames(xe.text):[]}_getMediaInfoFields(xe){const{caption:Xe,title:J,value:ye}=xe,Re=ye||{},{fields:Ve,normalizeField:et,tooltipField:Fe,sourceURL:Qe,linkURL:Ne}=Re,ve=[...this._extractFieldNames(J),...this._extractFieldNames(Xe),...this._extractFieldNames(Qe),...this._extractFieldNames(Ne),...Ve??[]];return et&&ve.push(et),Fe&&ve.push(Fe),ve}_getContentExpressionInfos(xe,Xe){return Array.isArray(xe)?xe.reduce((J,ye)=>[...J,..."expression"===ye.type&&ye.expressionInfo?[ye.expressionInfo]:[]],Xe):[]}_getContentFields(xe){return"string"==typeof xe?this._extractFieldNames(xe):Array.isArray(xe)?xe.reduce((Xe,J)=>[...Xe,...this._getContentElementFields(J)],[]):[]}_collectExpressionInfoFields(xe,Xe,J){return(0,E.Z)(function*(){J&&(yield Promise.all(J.map(ye=>(0,W.io)(xe,Xe,ye.expression))))})()}_getFieldInfoFields(xe){return xe?xe.filter(Xe=>void 0===Xe.visible||!!Xe.visible).map(Xe=>Xe.fieldName).filter(Xe=>!Xe.startsWith(be)&&!Xe.startsWith(ie)):[]}_getActionsFields(xe){return xe?xe.toArray().reduce((Xe,J)=>[...Xe,...this._getActionFields(J)],[]):[]}_getActionFields(xe){const{className:Xe,title:J,type:ye}=xe,Re="button"===ye||"toggle"===ye?xe.image:"";return[...this._extractFieldNames(J),...this._extractFieldNames(Xe),...this._extractFieldNames(Re)]}_getTitleFields(xe){return"string"==typeof xe?this._extractFieldNames(xe):[]}_extractFieldNames(xe){if(!xe||"string"!=typeof xe)return[];const J=xe.match(/{[^}]*}/g);if(!J)return[];const ye=/\{(\w+):.+\}/,Re=J.filter(Ve=>!(0===Ve.indexOf(`{${be}`)||0===Ve.indexOf(`{${ie}`))).map(Ve=>Ve.replace(ye,"{$1}"));return Re?Re.map(Ve=>Ve.slice(1,-1)):[]}};(0,M._)([(0,T.Cb)({type:De})],Me.prototype,"actions",void 0),(0,M._)([(0,T.Cb)()],Me.prototype,"content",void 0),(0,M._)([(0,w.p)("content")],Me.prototype,"castContent",null),(0,M._)([(0,j.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Me.prototype,"readContent",null),(0,M._)([(0,I.c)("content",{popupElements:{type:x.Z.ofType(Y)},showAttachments:{type:Boolean},mediaInfos:{type:x.Z.ofType(le.V)},description:{type:String},relatedRecordsInfo:{type:q}})],Me.prototype,"writeContent",null),(0,M._)([(0,T.Cb)({type:[oe.Z],json:{write:!0}})],Me.prototype,"expressionInfos",void 0),(0,M._)([(0,T.Cb)({type:[ne.Z]})],Me.prototype,"fieldInfos",void 0),(0,M._)([(0,I.c)("fieldInfos")],Me.prototype,"writeFieldInfos",null),(0,M._)([(0,T.Cb)({type:Q})],Me.prototype,"layerOptions",void 0),(0,M._)([(0,I.c)("layerOptions")],Me.prototype,"writeLayerOptions",null),(0,M._)([(0,T.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Me.prototype,"lastEditInfoEnabled",void 0),(0,M._)([(0,T.Cb)()],Me.prototype,"outFields",void 0),(0,M._)([(0,T.Cb)()],Me.prototype,"overwriteActions",void 0),(0,M._)([(0,T.Cb)()],Me.prototype,"returnGeometry",void 0),(0,M._)([(0,T.Cb)({json:{type:String}})],Me.prototype,"title",void 0),(0,M._)([(0,I.c)("title")],Me.prototype,"writeTitle",null),Me=(0,M._)([(0,Z.j)("esri.PopupTemplate")],Me);const He=Me},34411:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>A});var Z,E=_(50484),M=_(89317),V=_(51431),x=_(80543),F=(_(1535),_(57678),_(14007),_(62185)),T=_(10141),w=_(7547),j=_(764);let I=Z=class extends M.wq{static get allTime(){return G}static get empty(){return W}constructor(S){super(S),this.end=null,this.start=null}readEnd(S,N){return null!=N.end?new Date(N.end):null}writeEnd(S,N){N.end=S?.getTime()??null}get isAllTime(){return this.equals(Z.allTime)}get isEmpty(){return this.equals(Z.empty)}readStart(S,N){return null!=N.start?new Date(N.start):null}writeStart(S,N){N.start=S?.getTime()??null}clone(){return new Z({end:this.end,start:this.start})}equals(S){if(!S)return!1;const N=this.start?.getTime()??this.start,L=this.end?.getTime()??this.end,O=S.start?.getTime()??S.start,$=S.end?.getTime()??S.end;return N===O&&L===$}expandTo(S,N=j.By){if(this.isEmpty||this.isAllTime)return this.clone();let L=this.start;L&&(L=(0,V.JE)(L,S,N));let O=this.end;if(O){const $=(0,V.JE)(O,S,N);O=O.getTime()===$.getTime()?$:(0,V.Nm)($,1,S,N)}return new Z({start:L,end:O})}intersection(S){if(!S)return this.clone();if(this.isEmpty||S.isEmpty)return Z.empty;if(this.isAllTime)return S.clone();if(S.isAllTime)return this.clone();const N=this.start?.getTime()??-1/0,L=this.end?.getTime()??1/0,O=S.start?.getTime()??-1/0,$=S.end?.getTime()??1/0;let K,U;if(O>=N&&O<=L?K=O:N>=O&&N<=$&&(K=N),L>=O&&L<=$?U=L:$>=N&&$<=L&&(U=$),null!=K&&null!=U&&!isNaN(K)&&!isNaN(U)){const X=new Z;return X.start=K===-1/0?null:new Date(K),X.end=U===1/0?null:new Date(U),X}return Z.empty}offset(S,N,L=j.By){if(this.isEmpty||this.isAllTime)return this.clone();const O=new Z,{start:$,end:K}=this;return null!=$&&(O.start=(0,V.Nm)($,S,N,L)),null!=K&&(O.end=(0,V.Nm)(K,S,N,L)),O}union(S){if(!S||S.isEmpty)return this.clone();if(this.isEmpty)return S.clone();if(this.isAllTime||S.isAllTime)return G.clone();const N=null!=this.start&&null!=S.start?new Date(Math.min(this.start.getTime(),S.start.getTime())):null,L=null!=this.end&&null!=S.end?new Date(Math.max(this.end.getTime(),S.end.getTime())):null;return new Z({start:N,end:L})}};(0,E._)([(0,x.Cb)({type:Date,json:{write:{allowNull:!0}}})],I.prototype,"end",void 0),(0,E._)([(0,F.r)("end")],I.prototype,"readEnd",null),(0,E._)([(0,w.c)("end")],I.prototype,"writeEnd",null),(0,E._)([(0,x.Cb)({readOnly:!0,json:{read:!1}})],I.prototype,"isAllTime",null),(0,E._)([(0,x.Cb)({readOnly:!0,json:{read:!1}})],I.prototype,"isEmpty",null),(0,E._)([(0,x.Cb)({type:Date,json:{write:{allowNull:!0}}})],I.prototype,"start",void 0),(0,E._)([(0,F.r)("start")],I.prototype,"readStart",null),(0,E._)([(0,w.c)("start")],I.prototype,"writeStart",null),I=Z=(0,E._)([(0,T.j)("esri.TimeExtent")],I);const G=new I,W=new I({start:void 0,end:void 0}),A=I},95539:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var E=_(50484),M=_(25387),V=_(89317),x=_(51431),P=_(80543),T=(_(1535),_(57678),_(14007),_(21070)),w=_(10141),j=_(81238);let Z=class extends((0,M.J)(V.wq)){constructor(G){super(G),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,x.rJ)(this.value,this.unit,"milliseconds")}};(0,E._)([(0,T.J)(j.v,{nonNullable:!0})],Z.prototype,"unit",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0},nonNullable:!0})],Z.prototype,"value",void 0),Z=(0,E._)([(0,w.j)("esri.TimeInterval")],Z);const I=Z},78570:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>K});var E=_(50484),M=_(25387),V=_(32017),x=_(89317),P=_(55117),H=_(80543),B=_(73018),w=(_(57678),_(14007),_(62185)),j=_(10141),Z=_(7547),I=_(1535),G=_(85039);let W=class extends((0,M.J)(x.wq)){constructor(...U){super(...U),this.position=new G.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(U,X,Y,oe){if(U&&"object"==typeof U&&("x"in U||Array.isArray(U))){const ne={position:U};return null!=X&&(ne.heading=X),null!=Y&&(ne.tilt=Y),null!=oe&&(ne.fov=oe),ne}return U}writePosition(U,X,Y,oe){const ne=U.clone();ne.x=(0,I.q9)(U.x||0),ne.y=(0,I.q9)(U.y||0),ne.z=U.hasZ?(0,I.q9)(U.z||0):U.z,X[Y]=ne.write({},oe)}readPosition(U,X){const Y=new G.Z;return Y.read(U,X),Y.x=(0,I.q9)(Y.x||0),Y.y=(0,I.q9)(Y.y||0),Y.z=Y.hasZ?(0,I.q9)(Y.z||0):Y.z,Y}equals(U){return null!=U&&this.tilt===U.tilt&&this.heading===U.heading&&this.fov===U.fov&&this.position.equals(U.position)}};(0,E._)([(0,H.Cb)({type:G.Z,json:{write:{isRequired:!0}}})],W.prototype,"position",void 0),(0,E._)([(0,Z.c)("position")],W.prototype,"writePosition",null),(0,E._)([(0,w.r)("position")],W.prototype,"readPosition",null),(0,E._)([(0,H.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,B.p)(U=>V.BV.normalize((0,I.q9)(U)))],W.prototype,"heading",void 0),(0,E._)([(0,H.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,B.p)(U=>(0,P.uZ)((0,I.q9)(U),-180,180))],W.prototype,"tilt",void 0),(0,E._)([(0,H.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],W.prototype,"fov",void 0),W=(0,E._)([(0,j.j)("esri.Camera")],W);const A=W;var L,S=_(2189),N=_(40637);let O=L=class extends x.wq{constructor(U){super(U),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(U){return(U%=360)<0&&(U+=360),U}clone(){return new L({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};function $(){return{enabled:!this.camera}}(0,E._)([(0,H.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:$}}}}})],O.prototype,"rotation",void 0),(0,E._)([(0,B.p)("rotation")],O.prototype,"castRotation",null),(0,E._)([(0,H.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:$}}}}})],O.prototype,"scale",void 0),(0,E._)([(0,H.Cb)({types:S.qM,json:{read:N.im,write:!0,origins:{"web-scene":{read:N.im,write:{overridePolicy:$}}}}})],O.prototype,"targetGeometry",void 0),(0,E._)([(0,H.Cb)({type:A,json:{write:!0}})],O.prototype,"camera",void 0),O=L=(0,E._)([(0,j.j)("esri.Viewpoint")],O);const K=O},98930:(Ze,me,_)=>{"use strict";_.d(me,{V:()=>F});var E=_(11931),V=(_(66476),_(57964)),x=_(4703),P=_(6785);const H=x.Z.getLogger("esri.assets");function F(T){if(!E.default.assetsPath)throw H.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new V.Z("assets:path-not-set","config.assetsPath is not set");return(0,P.v_)(E.default.assetsPath,T)}},90104:(Ze,me,_)=>{"use strict";_.d(me,{c:()=>E,g:()=>M});var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}},52593:(Ze,me,_)=>{"use strict";_.d(me,{R:()=>x,a:()=>F,g:()=>M,t:()=>B});let E=1e-6;function M(){return E}const x=Math.random,P=Math.PI/180,H=180/Math.PI;function B(j){return j*P}function F(j){return j*H}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:x,equals:function T(j,Z){return Math.abs(j-Z)<=E*Math.max(1,Math.abs(j),Math.abs(Z))},getEpsilon:M,setEpsilon:function V(j){E=j},toDegree:F,toRadian:B},Symbol.toStringTag,{value:"Module"}))},86662:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>I,b:()=>j,c:()=>V,d:()=>x,f:()=>Z,i:()=>P,m:()=>B,r:()=>F,s:()=>T,t:()=>w});var E=_(52593);function V(Y){return Y[0]=1,Y[1]=0,Y[2]=0,Y[3]=1,Y[4]=0,Y[5]=0,Y}function x(Y,oe,ne,se,te,k,re){return Y[0]=oe,Y[1]=ne,Y[2]=se,Y[3]=te,Y[4]=k,Y[5]=re,Y}function P(Y,oe){const ne=oe[0],se=oe[1],te=oe[2],k=oe[3],re=oe[4],Q=oe[5];let pe=ne*k-se*te;return pe?(pe=1/pe,Y[0]=k*pe,Y[1]=-se*pe,Y[2]=-te*pe,Y[3]=ne*pe,Y[4]=(te*Q-k*re)*pe,Y[5]=(se*re-ne*Q)*pe,Y):null}function B(Y,oe,ne){const se=oe[0],te=oe[1],k=oe[2],re=oe[3],Q=oe[4],pe=oe[5],fe=ne[0],ce=ne[1],q=ne[2],le=ne[3],ee=ne[4],ae=ne[5];return Y[0]=se*fe+k*ce,Y[1]=te*fe+re*ce,Y[2]=se*q+k*le,Y[3]=te*q+re*le,Y[4]=se*ee+k*ae+Q,Y[5]=te*ee+re*ae+pe,Y}function F(Y,oe,ne){const se=oe[0],te=oe[1],k=oe[2],re=oe[3],Q=oe[4],pe=oe[5],fe=Math.sin(ne),ce=Math.cos(ne);return Y[0]=se*ce+k*fe,Y[1]=te*ce+re*fe,Y[2]=se*-fe+k*ce,Y[3]=te*-fe+re*ce,Y[4]=Q,Y[5]=pe,Y}function T(Y,oe,ne){const te=oe[1],k=oe[2],re=oe[3],Q=oe[4],pe=oe[5],fe=ne[0],ce=ne[1];return Y[0]=oe[0]*fe,Y[1]=te*fe,Y[2]=k*ce,Y[3]=re*ce,Y[4]=Q,Y[5]=pe,Y}function w(Y,oe,ne){const se=oe[0],te=oe[1],k=oe[2],re=oe[3],Q=oe[4],pe=oe[5],fe=ne[0],ce=ne[1];return Y[0]=se,Y[1]=te,Y[2]=k,Y[3]=re,Y[4]=se*fe+k*ce+Q,Y[5]=te*fe+re*ce+pe,Y}function j(Y,oe){const ne=Math.sin(oe),se=Math.cos(oe);return Y[0]=se,Y[1]=ne,Y[2]=-ne,Y[3]=se,Y[4]=0,Y[5]=0,Y}function Z(Y,oe){return Y[0]=oe[0],Y[1]=0,Y[2]=0,Y[3]=oe[1],Y[4]=0,Y[5]=0,Y}function I(Y,oe){return Y[0]=1,Y[1]=0,Y[2]=0,Y[3]=1,Y[4]=oe[0],Y[5]=oe[1],Y}function S(Y,oe,ne){return Y[0]=oe[0]-ne[0],Y[1]=oe[1]-ne[1],Y[2]=oe[2]-ne[2],Y[3]=oe[3]-ne[3],Y[4]=oe[4]-ne[4],Y[5]=oe[5]-ne[5],Y}Object.freeze(Object.defineProperty({__proto__:null,add:function A(Y,oe,ne){return Y[0]=oe[0]+ne[0],Y[1]=oe[1]+ne[1],Y[2]=oe[2]+ne[2],Y[3]=oe[3]+ne[3],Y[4]=oe[4]+ne[4],Y[5]=oe[5]+ne[5],Y},copy:function M(Y,oe){return Y[0]=oe[0],Y[1]=oe[1],Y[2]=oe[2],Y[3]=oe[3],Y[4]=oe[4],Y[5]=oe[5],Y},determinant:function H(Y){return Y[0]*Y[3]-Y[1]*Y[2]},equals:function $(Y,oe){const ne=Y[0],se=Y[1],te=Y[2],k=Y[3],re=Y[4],Q=Y[5],pe=oe[0],fe=oe[1],ce=oe[2],q=oe[3],le=oe[4],ee=oe[5],ae=(0,E.g)();return Math.abs(ne-pe)<=ae*Math.max(1,Math.abs(ne),Math.abs(pe))&&Math.abs(se-fe)<=ae*Math.max(1,Math.abs(se),Math.abs(fe))&&Math.abs(te-ce)<=ae*Math.max(1,Math.abs(te),Math.abs(ce))&&Math.abs(k-q)<=ae*Math.max(1,Math.abs(k),Math.abs(q))&&Math.abs(re-le)<=ae*Math.max(1,Math.abs(re),Math.abs(le))&&Math.abs(Q-ee)<=ae*Math.max(1,Math.abs(Q),Math.abs(ee))},exactEquals:function O(Y,oe){return Y[0]===oe[0]&&Y[1]===oe[1]&&Y[2]===oe[2]&&Y[3]===oe[3]&&Y[4]===oe[4]&&Y[5]===oe[5]},frob:function W(Y){return Math.sqrt(Y[0]**2+Y[1]**2+Y[2]**2+Y[3]**2+Y[4]**2+Y[5]**2+1)},fromRotation:j,fromScaling:Z,fromTranslation:I,identity:V,invert:P,mul:B,multiply:B,multiplyScalar:function N(Y,oe,ne){return Y[0]=oe[0]*ne,Y[1]=oe[1]*ne,Y[2]=oe[2]*ne,Y[3]=oe[3]*ne,Y[4]=oe[4]*ne,Y[5]=oe[5]*ne,Y},multiplyScalarAndAdd:function L(Y,oe,ne,se){return Y[0]=oe[0]+ne[0]*se,Y[1]=oe[1]+ne[1]*se,Y[2]=oe[2]+ne[2]*se,Y[3]=oe[3]+ne[3]*se,Y[4]=oe[4]+ne[4]*se,Y[5]=oe[5]+ne[5]*se,Y},rotate:F,scale:T,set:x,str:function G(Y){return"mat2d("+Y[0]+", "+Y[1]+", "+Y[2]+", "+Y[3]+", "+Y[4]+", "+Y[5]+")"},sub:S,subtract:S,translate:w},Symbol.toStringTag,{value:"Module"}))},89921:(Ze,me,_)=>{"use strict";function E(){const F=new Float32Array(6);return F[0]=1,F[3]=1,F}function P(F,T,w,j){const Z=T[j],I=T[j+1];F[j]=w[0]*Z+w[2]*I+w[4],F[j+1]=w[1]*Z+w[3]*I+w[5]}function H(F,T,w,j=0,Z=0,I=2){const G=Z||T.length/I;for(let W=j;W<G;W++)P(F,T,w,W*I)}_.d(me,{c:()=>E,t:()=>H}),Object.freeze(Object.defineProperty({__proto__:null,clone:function M(F){const T=new Float32Array(6);return T[0]=F[0],T[1]=F[1],T[2]=F[2],T[3]=F[3],T[4]=F[4],T[5]=F[5],T},create:E,createView:function x(F,T){return new Float32Array(F,T,6)},fromValues:function V(F,T,w,j,Z,I){const G=new Float32Array(6);return G[0]=F,G[1]=T,G[2]=w,G[3]=j,G[4]=Z,G[5]=I,G},transform:P,transformMany:H},Symbol.toStringTag,{value:"Module"}))},18755:(Ze,me,_)=>{"use strict";function E(){return[1,0,0,1,0,0]}_.d(me,{c:()=>E}),Object.freeze(Object.defineProperty({__proto__:null,clone:function M(H){return[H[0],H[1],H[2],H[3],H[4],H[5]]},create:E,createView:function x(H,B){return new Float64Array(H,B,6)},fromValues:function V(H,B,F,T,w,j){return[H,B,F,T,w,j]}},Symbol.toStringTag,{value:"Module"}))},51006:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>F,c:()=>I,d:()=>B,f:()=>M,g:()=>P,h:()=>j,i:()=>re,k:()=>W,l:()=>G,m:()=>w,n:()=>$,r:()=>Z,s:()=>x,t:()=>H});var E=_(52593);function M(ce,q){return ce[0]=q[0],ce[1]=q[1],ce[2]=q[2],ce[3]=q[4],ce[4]=q[5],ce[5]=q[6],ce[6]=q[8],ce[7]=q[9],ce[8]=q[10],ce}function x(ce,q,le,ee,ae,ue,ge,Ee,be,ie){return ce[0]=q,ce[1]=le,ce[2]=ee,ce[3]=ae,ce[4]=ue,ce[5]=ge,ce[6]=Ee,ce[7]=be,ce[8]=ie,ce}function P(ce){return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=1,ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce}function H(ce,q){if(ce===q){const le=q[1],ee=q[2],ae=q[5];ce[1]=q[3],ce[2]=q[6],ce[3]=le,ce[5]=q[7],ce[6]=ee,ce[7]=ae}else ce[0]=q[0],ce[1]=q[3],ce[2]=q[6],ce[3]=q[1],ce[4]=q[4],ce[5]=q[7],ce[6]=q[2],ce[7]=q[5],ce[8]=q[8];return ce}function B(ce,q){const le=q[0],ee=q[1],ae=q[2],ue=q[3],ge=q[4],Ee=q[5],be=q[6],ie=q[7],De=q[8],Be=De*ge-Ee*ie,we=-De*ue+Ee*be,Me=ie*ue-ge*be;let He=le*Be+ee*we+ae*Me;return He?(He=1/He,ce[0]=Be*He,ce[1]=(-De*ee+ae*ie)*He,ce[2]=(Ee*ee-ae*ge)*He,ce[3]=we*He,ce[4]=(De*le-ae*be)*He,ce[5]=(-Ee*le+ae*ue)*He,ce[6]=Me*He,ce[7]=(-ie*le+ee*be)*He,ce[8]=(ge*le-ee*ue)*He,ce):null}function F(ce,q){const le=q[0],ee=q[1],ae=q[2],ue=q[3],ge=q[4],Ee=q[5],be=q[6],ie=q[7],De=q[8];return ce[0]=ge*De-Ee*ie,ce[1]=ae*ie-ee*De,ce[2]=ee*Ee-ae*ge,ce[3]=Ee*be-ue*De,ce[4]=le*De-ae*be,ce[5]=ae*ue-le*Ee,ce[6]=ue*ie-ge*be,ce[7]=ee*be-le*ie,ce[8]=le*ge-ee*ue,ce}function w(ce,q,le){const ee=q[0],ae=q[1],ue=q[2],ge=q[3],Ee=q[4],be=q[5],ie=q[6],De=q[7],Be=q[8],we=le[0],Me=le[1],He=le[2],xe=le[3],Xe=le[4],J=le[5],ye=le[6],Re=le[7],Ve=le[8];return ce[0]=we*ee+Me*ge+He*ie,ce[1]=we*ae+Me*Ee+He*De,ce[2]=we*ue+Me*be+He*Be,ce[3]=xe*ee+Xe*ge+J*ie,ce[4]=xe*ae+Xe*Ee+J*De,ce[5]=xe*ue+Xe*be+J*Be,ce[6]=ye*ee+Re*ge+Ve*ie,ce[7]=ye*ae+Re*Ee+Ve*De,ce[8]=ye*ue+Re*be+Ve*Be,ce}function j(ce,q,le){const ee=q[0],ae=q[1],ue=q[2],ge=q[3],Ee=q[4],be=q[5],ie=q[6],De=q[7],Be=q[8],we=le[0],Me=le[1];return ce[0]=ee,ce[1]=ae,ce[2]=ue,ce[3]=ge,ce[4]=Ee,ce[5]=be,ce[6]=we*ee+Me*ge+ie,ce[7]=we*ae+Me*Ee+De,ce[8]=we*ue+Me*be+Be,ce}function Z(ce,q,le){const ee=q[0],ae=q[1],ue=q[2],ge=q[3],Ee=q[4],be=q[5],ie=q[6],De=q[7],Be=q[8],we=Math.sin(le),Me=Math.cos(le);return ce[0]=Me*ee+we*ge,ce[1]=Me*ae+we*Ee,ce[2]=Me*ue+we*be,ce[3]=Me*ge-we*ee,ce[4]=Me*Ee-we*ae,ce[5]=Me*be-we*ue,ce[6]=ie,ce[7]=De,ce[8]=Be,ce}function I(ce,q,le){const ee=le[0],ae=le[1],ue=le[2];return ce[0]=ee*q[0],ce[1]=ee*q[1],ce[2]=ee*q[2],ce[3]=ae*q[3],ce[4]=ae*q[4],ce[5]=ae*q[5],ce[6]=ue*q[6],ce[7]=ue*q[7],ce[8]=ue*q[8],ce}function G(ce,q,le){const ee=le[0],ae=le[1];return ce[0]=ee*q[0],ce[1]=ee*q[1],ce[2]=ee*q[2],ce[3]=ae*q[3],ce[4]=ae*q[4],ce[5]=ae*q[5],ce}function W(ce,q){return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=1,ce[5]=0,ce[6]=q[0],ce[7]=q[1],ce[8]=1,ce}function $(ce,q){const le=q[0],ee=q[1],ae=q[2],ue=q[3],ge=q[4],Ee=q[5],be=q[6],ie=q[7],De=q[8],Be=q[9],we=q[10],Me=q[11],He=q[12],xe=q[13],Xe=q[14],J=q[15],ye=le*Ee-ee*ge,Re=le*be-ae*ge,Ve=le*ie-ue*ge,et=ee*be-ae*Ee,Fe=ee*ie-ue*Ee,Qe=ae*ie-ue*be,Ne=De*xe-Be*He,ve=De*Xe-we*He,Oe=De*J-Me*He,Te=Be*Xe-we*xe,je=Be*J-Me*xe,$e=we*J-Me*Xe;let nt=ye*$e-Re*je+Ve*Te+et*Oe-Fe*ve+Qe*Ne;return nt?(nt=1/nt,ce[0]=(Ee*$e-be*je+ie*Te)*nt,ce[1]=(be*Oe-ge*$e-ie*ve)*nt,ce[2]=(ge*je-Ee*Oe+ie*Ne)*nt,ce[3]=(ae*je-ee*$e-ue*Te)*nt,ce[4]=(le*$e-ae*Oe+ue*ve)*nt,ce[5]=(ee*Oe-le*je-ue*Ne)*nt,ce[6]=(xe*Qe-Xe*Fe+J*et)*nt,ce[7]=(Xe*Ve-He*Qe-J*Re)*nt,ce[8]=(He*Fe-xe*Ve+J*ye)*nt,ce):null}function oe(ce,q,le){return ce[0]=q[0]-le[0],ce[1]=q[1]-le[1],ce[2]=q[2]-le[2],ce[3]=q[3]-le[3],ce[4]=q[4]-le[4],ce[5]=q[5]-le[5],ce[6]=q[6]-le[6],ce[7]=q[7]-le[7],ce[8]=q[8]-le[8],ce}function re(ce){const q=(0,E.g)(),le=ce[0],ee=ce[1],ae=ce[2],ue=ce[3],ge=ce[4],Ee=ce[5],be=ce[6],ie=ce[7],De=ce[8];return Math.abs(1-(le*le+ue*ue+be*be))<=q&&Math.abs(1-(ee*ee+ge*ge+ie*ie))<=q&&Math.abs(1-(ae*ae+Ee*Ee+De*De))<=q}Object.freeze(Object.defineProperty({__proto__:null,add:function Y(ce,q,le){return ce[0]=q[0]+le[0],ce[1]=q[1]+le[1],ce[2]=q[2]+le[2],ce[3]=q[3]+le[3],ce[4]=q[4]+le[4],ce[5]=q[5]+le[5],ce[6]=q[6]+le[6],ce[7]=q[7]+le[7],ce[8]=q[8]+le[8],ce},adjoint:F,copy:function V(ce,q){return ce[0]=q[0],ce[1]=q[1],ce[2]=q[2],ce[3]=q[3],ce[4]=q[4],ce[5]=q[5],ce[6]=q[6],ce[7]=q[7],ce[8]=q[8],ce},determinant:function T(ce){const ae=ce[3],ue=ce[4],ge=ce[5],Ee=ce[6],be=ce[7],ie=ce[8];return ce[0]*(ie*ue-ge*be)+ce[1]*(-ie*ae+ge*Ee)+ce[2]*(be*ae-ue*Ee)},equals:function k(ce,q){const le=ce[0],ee=ce[1],ae=ce[2],ue=ce[3],ge=ce[4],Ee=ce[5],be=ce[6],ie=ce[7],De=ce[8],Be=q[0],we=q[1],Me=q[2],He=q[3],xe=q[4],Xe=q[5],J=q[6],ye=q[7],Re=q[8],Ve=(0,E.g)();return Math.abs(le-Be)<=Ve*Math.max(1,Math.abs(le),Math.abs(Be))&&Math.abs(ee-we)<=Ve*Math.max(1,Math.abs(ee),Math.abs(we))&&Math.abs(ae-Me)<=Ve*Math.max(1,Math.abs(ae),Math.abs(Me))&&Math.abs(ue-He)<=Ve*Math.max(1,Math.abs(ue),Math.abs(He))&&Math.abs(ge-xe)<=Ve*Math.max(1,Math.abs(ge),Math.abs(xe))&&Math.abs(Ee-Xe)<=Ve*Math.max(1,Math.abs(Ee),Math.abs(Xe))&&Math.abs(be-J)<=Ve*Math.max(1,Math.abs(be),Math.abs(J))&&Math.abs(ie-ye)<=Ve*Math.max(1,Math.abs(ie),Math.abs(ye))&&Math.abs(De-Re)<=Ve*Math.max(1,Math.abs(De),Math.abs(Re))},exactEquals:function te(ce,q){return ce[0]===q[0]&&ce[1]===q[1]&&ce[2]===q[2]&&ce[3]===q[3]&&ce[4]===q[4]&&ce[5]===q[5]&&ce[6]===q[6]&&ce[7]===q[7]&&ce[8]===q[8]},frob:function X(ce){return Math.sqrt(ce[0]**2+ce[1]**2+ce[2]**2+ce[3]**2+ce[4]**2+ce[5]**2+ce[6]**2+ce[7]**2+ce[8]**2)},fromMat2d:function N(ce,q){return ce[0]=q[0],ce[1]=q[1],ce[2]=0,ce[3]=q[2],ce[4]=q[3],ce[5]=0,ce[6]=q[4],ce[7]=q[5],ce[8]=1,ce},fromMat4:M,fromQuat:function L(ce,q){const le=q[0],ee=q[1],ae=q[2],ue=q[3],ge=le+le,Ee=ee+ee,be=ae+ae,ie=le*ge,De=ee*ge,Be=ee*Ee,we=ae*ge,Me=ae*Ee,He=ae*be,xe=ue*ge,Xe=ue*Ee,J=ue*be;return ce[0]=1-Be-He,ce[3]=De-J,ce[6]=we+Xe,ce[1]=De+J,ce[4]=1-ie-He,ce[7]=Me-xe,ce[2]=we-Xe,ce[5]=Me+xe,ce[8]=1-ie-Be,ce},fromRotation:function A(ce,q){const le=Math.sin(q),ee=Math.cos(q);return ce[0]=ee,ce[1]=le,ce[2]=0,ce[3]=-le,ce[4]=ee,ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce},fromScaling:function S(ce,q){return ce[0]=q[0],ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=q[1],ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce},fromTranslation:W,identity:P,invert:B,isOrthoNormal:re,mul:w,multiply:w,multiplyScalar:function ne(ce,q,le){return ce[0]=q[0]*le,ce[1]=q[1]*le,ce[2]=q[2]*le,ce[3]=q[3]*le,ce[4]=q[4]*le,ce[5]=q[5]*le,ce[6]=q[6]*le,ce[7]=q[7]*le,ce[8]=q[8]*le,ce},multiplyScalarAndAdd:function se(ce,q,le,ee){return ce[0]=q[0]+le[0]*ee,ce[1]=q[1]+le[1]*ee,ce[2]=q[2]+le[2]*ee,ce[3]=q[3]+le[3]*ee,ce[4]=q[4]+le[4]*ee,ce[5]=q[5]+le[5]*ee,ce[6]=q[6]+le[6]*ee,ce[7]=q[7]+le[7]*ee,ce[8]=q[8]+le[8]*ee,ce},normalFromMat4:$,normalFromMat4Legacy:function O(ce,q){const le=q[0],ee=q[1],ae=q[2],ue=q[4],ge=q[5],Ee=q[6],be=q[8],ie=q[9],De=q[10],Be=De*ge-Ee*ie,we=-De*ue+Ee*be,Me=ie*ue-ge*be,He=le*Be+ee*we+ae*Me;if(!He)return null;const xe=1/He;return ce[0]=Be*xe,ce[1]=(-De*ee+ae*ie)*xe,ce[2]=(Ee*ee-ae*ge)*xe,ce[3]=we*xe,ce[4]=(De*le-ae*be)*xe,ce[5]=(-Ee*le+ae*ue)*xe,ce[6]=Me*xe,ce[7]=(-ie*le+ee*be)*xe,ce[8]=(ge*le-ee*ue)*xe,ce},projection:function K(ce,q,le){return ce[0]=2/q,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=-2/le,ce[5]=0,ce[6]=-1,ce[7]=1,ce[8]=1,ce},rotate:Z,scale:I,scaleByVec2:G,set:x,str:function U(ce){return"mat3("+ce[0]+", "+ce[1]+", "+ce[2]+", "+ce[3]+", "+ce[4]+", "+ce[5]+", "+ce[6]+", "+ce[7]+", "+ce[8]+")"},sub:oe,subtract:oe,translate:j,transpose:H},Symbol.toStringTag,{value:"Module"}))},71602:(Ze,me,_)=>{"use strict";function E(){const H=new Float32Array(9);return H[0]=1,H[4]=1,H[8]=1,H}function M(H){const B=new Float32Array(9);return B[0]=H[0],B[1]=H[1],B[2]=H[2],B[3]=H[3],B[4]=H[4],B[5]=H[5],B[6]=H[6],B[7]=H[7],B[8]=H[8],B}function V(H,B,F,T,w,j,Z,I,G){const W=new Float32Array(9);return W[0]=H,W[1]=B,W[2]=F,W[3]=T,W[4]=w,W[5]=j,W[6]=Z,W[7]=I,W[8]=G,W}_.d(me,{a:()=>M,c:()=>E,f:()=>V}),Object.freeze(Object.defineProperty({__proto__:null,clone:M,create:E,createView:function x(H,B){return new Float32Array(H,B,9)},fromValues:V},Symbol.toStringTag,{value:"Module"}))},60838:(Ze,me,_)=>{"use strict";_.d(me,{A:()=>$,a:()=>Be,b:()=>I,c:()=>O,d:()=>N,e:()=>De,f:()=>k,g:()=>P,i:()=>F,k:()=>G,m:()=>j,s:()=>x,t:()=>H,w:()=>Z,y:()=>Me,z:()=>we});var E=_(8554),M=_(52593);function x(J,ye,Re,Ve,et,Fe,Qe,Ne,ve,Oe,Te,je,$e,nt,Je,ot,at){return J[0]=ye,J[1]=Re,J[2]=Ve,J[3]=et,J[4]=Fe,J[5]=Qe,J[6]=Ne,J[7]=ve,J[8]=Oe,J[9]=Te,J[10]=je,J[11]=$e,J[12]=nt,J[13]=Je,J[14]=ot,J[15]=at,J}function P(J){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=1,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=1,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J}function H(J,ye){if(J===ye){const Re=ye[1],Ve=ye[2],et=ye[3],Fe=ye[6],Qe=ye[7],Ne=ye[11];J[1]=ye[4],J[2]=ye[8],J[3]=ye[12],J[4]=Re,J[6]=ye[9],J[7]=ye[13],J[8]=Ve,J[9]=Fe,J[11]=ye[14],J[12]=et,J[13]=Qe,J[14]=Ne}else J[0]=ye[0],J[1]=ye[4],J[2]=ye[8],J[3]=ye[12],J[4]=ye[1],J[5]=ye[5],J[6]=ye[9],J[7]=ye[13],J[8]=ye[2],J[9]=ye[6],J[10]=ye[10],J[11]=ye[14],J[12]=ye[3],J[13]=ye[7],J[14]=ye[11],J[15]=ye[15];return J}function F(J,ye){const Re=ye[0],Ve=ye[1],et=ye[2],Fe=ye[3],Qe=ye[4],Ne=ye[5],ve=ye[6],Oe=ye[7],Te=ye[8],je=ye[9],$e=ye[10],nt=ye[11],Je=ye[12],ot=ye[13],at=ye[14],mt=ye[15],Tt=Re*Ne-Ve*Qe,Ot=Re*ve-et*Qe,Bt=Re*Oe-Fe*Qe,Gt=Ve*ve-et*Ne,kt=Ve*Oe-Fe*Ne,on=et*Oe-Fe*ve,ft=Te*ot-je*Je,dt=Te*at-$e*Je,Ct=Te*mt-nt*Je,Dt=je*at-$e*ot,xt=je*mt-nt*ot,nn=$e*mt-nt*at;let Yt=Tt*nn-Ot*xt+Bt*Dt+Gt*Ct-kt*dt+on*ft;return Yt?(Yt=1/Yt,J[0]=(Ne*nn-ve*xt+Oe*Dt)*Yt,J[1]=(et*xt-Ve*nn-Fe*Dt)*Yt,J[2]=(ot*on-at*kt+mt*Gt)*Yt,J[3]=($e*kt-je*on-nt*Gt)*Yt,J[4]=(ve*Ct-Qe*nn-Oe*dt)*Yt,J[5]=(Re*nn-et*Ct+Fe*dt)*Yt,J[6]=(at*Bt-Je*on-mt*Ot)*Yt,J[7]=(Te*on-$e*Bt+nt*Ot)*Yt,J[8]=(Qe*xt-Ne*Ct+Oe*ft)*Yt,J[9]=(Ve*Ct-Re*xt-Fe*ft)*Yt,J[10]=(Je*kt-ot*Bt+mt*Tt)*Yt,J[11]=(je*Bt-Te*kt-nt*Tt)*Yt,J[12]=(Ne*dt-Qe*Dt-ve*ft)*Yt,J[13]=(Re*Dt-Ve*dt+et*ft)*Yt,J[14]=(ot*Ot-Je*Gt-at*Tt)*Yt,J[15]=(Te*Gt-je*Ot+$e*Tt)*Yt,J):null}function j(J,ye,Re){const Ve=ye[0],et=ye[1],Fe=ye[2],Qe=ye[3],Ne=ye[4],ve=ye[5],Oe=ye[6],Te=ye[7],je=ye[8],$e=ye[9],nt=ye[10],Je=ye[11],ot=ye[12],at=ye[13],mt=ye[14],Tt=ye[15];let Ot=Re[0],Bt=Re[1],Gt=Re[2],kt=Re[3];return J[0]=Ot*Ve+Bt*Ne+Gt*je+kt*ot,J[1]=Ot*et+Bt*ve+Gt*$e+kt*at,J[2]=Ot*Fe+Bt*Oe+Gt*nt+kt*mt,J[3]=Ot*Qe+Bt*Te+Gt*Je+kt*Tt,Ot=Re[4],Bt=Re[5],Gt=Re[6],kt=Re[7],J[4]=Ot*Ve+Bt*Ne+Gt*je+kt*ot,J[5]=Ot*et+Bt*ve+Gt*$e+kt*at,J[6]=Ot*Fe+Bt*Oe+Gt*nt+kt*mt,J[7]=Ot*Qe+Bt*Te+Gt*Je+kt*Tt,Ot=Re[8],Bt=Re[9],Gt=Re[10],kt=Re[11],J[8]=Ot*Ve+Bt*Ne+Gt*je+kt*ot,J[9]=Ot*et+Bt*ve+Gt*$e+kt*at,J[10]=Ot*Fe+Bt*Oe+Gt*nt+kt*mt,J[11]=Ot*Qe+Bt*Te+Gt*Je+kt*Tt,Ot=Re[12],Bt=Re[13],Gt=Re[14],kt=Re[15],J[12]=Ot*Ve+Bt*Ne+Gt*je+kt*ot,J[13]=Ot*et+Bt*ve+Gt*$e+kt*at,J[14]=Ot*Fe+Bt*Oe+Gt*nt+kt*mt,J[15]=Ot*Qe+Bt*Te+Gt*Je+kt*Tt,J}function Z(J,ye,Re){const Ve=Re[0],et=Re[1],Fe=Re[2];if(ye===J)J[12]=ye[0]*Ve+ye[4]*et+ye[8]*Fe+ye[12],J[13]=ye[1]*Ve+ye[5]*et+ye[9]*Fe+ye[13],J[14]=ye[2]*Ve+ye[6]*et+ye[10]*Fe+ye[14],J[15]=ye[3]*Ve+ye[7]*et+ye[11]*Fe+ye[15];else{const Qe=ye[0],Ne=ye[1],ve=ye[2],Oe=ye[3],Te=ye[4],je=ye[5],$e=ye[6],nt=ye[7],Je=ye[8],ot=ye[9],at=ye[10],mt=ye[11];J[0]=Qe,J[1]=Ne,J[2]=ve,J[3]=Oe,J[4]=Te,J[5]=je,J[6]=$e,J[7]=nt,J[8]=Je,J[9]=ot,J[10]=at,J[11]=mt,J[12]=Qe*Ve+Te*et+Je*Fe+ye[12],J[13]=Ne*Ve+je*et+ot*Fe+ye[13],J[14]=ve*Ve+$e*et+at*Fe+ye[14],J[15]=Oe*Ve+nt*et+mt*Fe+ye[15]}return J}function I(J,ye,Re){const Ve=Re[0],et=Re[1],Fe=Re[2];return J[0]=ye[0]*Ve,J[1]=ye[1]*Ve,J[2]=ye[2]*Ve,J[3]=ye[3]*Ve,J[4]=ye[4]*et,J[5]=ye[5]*et,J[6]=ye[6]*et,J[7]=ye[7]*et,J[8]=ye[8]*Fe,J[9]=ye[9]*Fe,J[10]=ye[10]*Fe,J[11]=ye[11]*Fe,J[12]=ye[12],J[13]=ye[13],J[14]=ye[14],J[15]=ye[15],J}function G(J,ye,Re,Ve){let et,Fe,Qe,Ne,ve,Oe,Te,je,$e,nt,Je,ot,at,mt,Tt,Ot,Bt,Gt,kt,on,ft,dt,Ct,Dt,xt=Ve[0],nn=Ve[1],Yt=Ve[2],rn=Math.sqrt(xt*xt+nn*nn+Yt*Yt);return rn<(0,M.g)()?null:(rn=1/rn,xt*=rn,nn*=rn,Yt*=rn,et=Math.sin(Re),Fe=Math.cos(Re),Qe=1-Fe,Ne=ye[0],ve=ye[1],Oe=ye[2],Te=ye[3],je=ye[4],$e=ye[5],nt=ye[6],Je=ye[7],ot=ye[8],at=ye[9],mt=ye[10],Tt=ye[11],Ot=xt*xt*Qe+Fe,Bt=nn*xt*Qe+Yt*et,Gt=Yt*xt*Qe-nn*et,kt=xt*nn*Qe-Yt*et,on=nn*nn*Qe+Fe,ft=Yt*nn*Qe+xt*et,dt=xt*Yt*Qe+nn*et,Ct=nn*Yt*Qe-xt*et,Dt=Yt*Yt*Qe+Fe,J[0]=Ne*Ot+je*Bt+ot*Gt,J[1]=ve*Ot+$e*Bt+at*Gt,J[2]=Oe*Ot+nt*Bt+mt*Gt,J[3]=Te*Ot+Je*Bt+Tt*Gt,J[4]=Ne*kt+je*on+ot*ft,J[5]=ve*kt+$e*on+at*ft,J[6]=Oe*kt+nt*on+mt*ft,J[7]=Te*kt+Je*on+Tt*ft,J[8]=Ne*dt+je*Ct+ot*Dt,J[9]=ve*dt+$e*Ct+at*Dt,J[10]=Oe*dt+nt*Ct+mt*Dt,J[11]=Te*dt+Je*Ct+Tt*Dt,ye!==J&&(J[12]=ye[12],J[13]=ye[13],J[14]=ye[14],J[15]=ye[15]),J)}function N(J,ye){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=1,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=1,J[11]=0,J[12]=ye[0],J[13]=ye[1],J[14]=ye[2],J[15]=1,J}function O(J,ye,Re){if(0===ye)return P(J);let Ve,et,Fe,Qe=Re[0],Ne=Re[1],ve=Re[2],Oe=Math.sqrt(Qe*Qe+Ne*Ne+ve*ve);return Oe<(0,M.g)()?null:(Oe=1/Oe,Qe*=Oe,Ne*=Oe,ve*=Oe,Ve=Math.sin(ye),et=Math.cos(ye),Fe=1-et,J[0]=Qe*Qe*Fe+et,J[1]=Ne*Qe*Fe+ve*Ve,J[2]=ve*Qe*Fe-Ne*Ve,J[3]=0,J[4]=Qe*Ne*Fe-ve*Ve,J[5]=Ne*Ne*Fe+et,J[6]=ve*Ne*Fe+Qe*Ve,J[7]=0,J[8]=Qe*ve*Fe+Ne*Ve,J[9]=Ne*ve*Fe-Qe*Ve,J[10]=ve*ve*Fe+et,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J)}function $(J,ye){const Re=Math.sin(ye),Ve=Math.cos(ye);return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=Ve,J[6]=Re,J[7]=0,J[8]=0,J[9]=-Re,J[10]=Ve,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J}function X(J,ye,Re){const Ve=ye[0],et=ye[1],Fe=ye[2],Qe=ye[3],Ne=Ve+Ve,ve=et+et,Oe=Fe+Fe,Te=Ve*Ne,je=Ve*ve,$e=Ve*Oe,nt=et*ve,Je=et*Oe,ot=Fe*Oe,at=Qe*Ne,mt=Qe*ve,Tt=Qe*Oe;return J[0]=1-(nt+ot),J[1]=je+Tt,J[2]=$e-mt,J[3]=0,J[4]=je-Tt,J[5]=1-(Te+ot),J[6]=Je+at,J[7]=0,J[8]=$e+mt,J[9]=Je-at,J[10]=1-(Te+nt),J[11]=0,J[12]=Re[0],J[13]=Re[1],J[14]=Re[2],J[15]=1,J}const oe=(0,E.c)();function k(J,ye,Re,Ve){const et=ye[0],Fe=ye[1],Qe=ye[2],Ne=ye[3],ve=et+et,Oe=Fe+Fe,Te=Qe+Qe,je=et*ve,$e=et*Oe,nt=et*Te,Je=Fe*Oe,ot=Fe*Te,at=Qe*Te,mt=Ne*ve,Tt=Ne*Oe,Ot=Ne*Te,Bt=Ve[0],Gt=Ve[1],kt=Ve[2];return J[0]=(1-(Je+at))*Bt,J[1]=($e+Ot)*Bt,J[2]=(nt-Tt)*Bt,J[3]=0,J[4]=($e-Ot)*Gt,J[5]=(1-(je+at))*Gt,J[6]=(ot+mt)*Gt,J[7]=0,J[8]=(nt+Tt)*kt,J[9]=(ot-mt)*kt,J[10]=(1-(je+Je))*kt,J[11]=0,J[12]=Re[0],J[13]=Re[1],J[14]=Re[2],J[15]=1,J}function Ee(J,ye,Re){return J[0]=ye[0]-Re[0],J[1]=ye[1]-Re[1],J[2]=ye[2]-Re[2],J[3]=ye[3]-Re[3],J[4]=ye[4]-Re[4],J[5]=ye[5]-Re[5],J[6]=ye[6]-Re[6],J[7]=ye[7]-Re[7],J[8]=ye[8]-Re[8],J[9]=ye[9]-Re[9],J[10]=ye[10]-Re[10],J[11]=ye[11]-Re[11],J[12]=ye[12]-Re[12],J[13]=ye[13]-Re[13],J[14]=ye[14]-Re[14],J[15]=ye[15]-Re[15],J}function De(J,ye){return J[0]===ye[0]&&J[1]===ye[1]&&J[2]===ye[2]&&J[3]===ye[3]&&J[4]===ye[4]&&J[5]===ye[5]&&J[6]===ye[6]&&J[7]===ye[7]&&J[8]===ye[8]&&J[9]===ye[9]&&J[10]===ye[10]&&J[11]===ye[11]&&J[12]===ye[12]&&J[13]===ye[13]&&J[14]===ye[14]&&J[15]===ye[15]}function Be(J,ye){if(J===ye)return!0;const Re=J[0],Ve=J[1],et=J[2],Fe=J[3],Qe=J[4],Ne=J[5],ve=J[6],Oe=J[7],Te=J[8],je=J[9],$e=J[10],nt=J[11],Je=J[12],ot=J[13],at=J[14],mt=J[15],Tt=ye[0],Ot=ye[1],Bt=ye[2],Gt=ye[3],kt=ye[4],on=ye[5],ft=ye[6],dt=ye[7],Ct=ye[8],Dt=ye[9],xt=ye[10],nn=ye[11],Yt=ye[12],rn=ye[13],gn=ye[14],yn=ye[15],Mn=(0,M.g)();return Math.abs(Re-Tt)<=Mn*Math.max(1,Math.abs(Re),Math.abs(Tt))&&Math.abs(Ve-Ot)<=Mn*Math.max(1,Math.abs(Ve),Math.abs(Ot))&&Math.abs(et-Bt)<=Mn*Math.max(1,Math.abs(et),Math.abs(Bt))&&Math.abs(Fe-Gt)<=Mn*Math.max(1,Math.abs(Fe),Math.abs(Gt))&&Math.abs(Qe-kt)<=Mn*Math.max(1,Math.abs(Qe),Math.abs(kt))&&Math.abs(Ne-on)<=Mn*Math.max(1,Math.abs(Ne),Math.abs(on))&&Math.abs(ve-ft)<=Mn*Math.max(1,Math.abs(ve),Math.abs(ft))&&Math.abs(Oe-dt)<=Mn*Math.max(1,Math.abs(Oe),Math.abs(dt))&&Math.abs(Te-Ct)<=Mn*Math.max(1,Math.abs(Te),Math.abs(Ct))&&Math.abs(je-Dt)<=Mn*Math.max(1,Math.abs(je),Math.abs(Dt))&&Math.abs($e-xt)<=Mn*Math.max(1,Math.abs($e),Math.abs(xt))&&Math.abs(nt-nn)<=Mn*Math.max(1,Math.abs(nt),Math.abs(nn))&&Math.abs(Je-Yt)<=Mn*Math.max(1,Math.abs(Je),Math.abs(Yt))&&Math.abs(ot-rn)<=Mn*Math.max(1,Math.abs(ot),Math.abs(rn))&&Math.abs(at-gn)<=Mn*Math.max(1,Math.abs(at),Math.abs(gn))&&Math.abs(mt-yn)<=Mn*Math.max(1,Math.abs(mt),Math.abs(yn))}function we(J){const ye=(0,M.g)(),Re=J[0],Ve=J[1],et=J[2],Fe=J[4],Qe=J[5],Ne=J[6],ve=J[8],Oe=J[9],Te=J[10];return Math.abs(1-(Re*Re+Fe*Fe+ve*ve))<=ye&&Math.abs(1-(Ve*Ve+Qe*Qe+Oe*Oe))<=ye&&Math.abs(1-(et*et+Ne*Ne+Te*Te))<=ye}function Me(J){return 1===J[0]&&0===J[1]&&0===J[2]&&0===J[4]&&1===J[5]&&0===J[6]&&0===J[8]&&0===J[9]&&1===J[10]}Object.freeze(Object.defineProperty({__proto__:null,add:function ge(J,ye,Re){return J[0]=ye[0]+Re[0],J[1]=ye[1]+Re[1],J[2]=ye[2]+Re[2],J[3]=ye[3]+Re[3],J[4]=ye[4]+Re[4],J[5]=ye[5]+Re[5],J[6]=ye[6]+Re[6],J[7]=ye[7]+Re[7],J[8]=ye[8]+Re[8],J[9]=ye[9]+Re[9],J[10]=ye[10]+Re[10],J[11]=ye[11]+Re[11],J[12]=ye[12]+Re[12],J[13]=ye[13]+Re[13],J[14]=ye[14]+Re[14],J[15]=ye[15]+Re[15],J},adjoint:function T(J,ye){const Re=ye[0],Ve=ye[1],et=ye[2],Fe=ye[3],Qe=ye[4],Ne=ye[5],ve=ye[6],Oe=ye[7],Te=ye[8],je=ye[9],$e=ye[10],nt=ye[11],Je=ye[12],ot=ye[13],at=ye[14],mt=ye[15];return J[0]=Ne*($e*mt-nt*at)-je*(ve*mt-Oe*at)+ot*(ve*nt-Oe*$e),J[1]=-(Ve*($e*mt-nt*at)-je*(et*mt-Fe*at)+ot*(et*nt-Fe*$e)),J[2]=Ve*(ve*mt-Oe*at)-Ne*(et*mt-Fe*at)+ot*(et*Oe-Fe*ve),J[3]=-(Ve*(ve*nt-Oe*$e)-Ne*(et*nt-Fe*$e)+je*(et*Oe-Fe*ve)),J[4]=-(Qe*($e*mt-nt*at)-Te*(ve*mt-Oe*at)+Je*(ve*nt-Oe*$e)),J[5]=Re*($e*mt-nt*at)-Te*(et*mt-Fe*at)+Je*(et*nt-Fe*$e),J[6]=-(Re*(ve*mt-Oe*at)-Qe*(et*mt-Fe*at)+Je*(et*Oe-Fe*ve)),J[7]=Re*(ve*nt-Oe*$e)-Qe*(et*nt-Fe*$e)+Te*(et*Oe-Fe*ve),J[8]=Qe*(je*mt-nt*ot)-Te*(Ne*mt-Oe*ot)+Je*(Ne*nt-Oe*je),J[9]=-(Re*(je*mt-nt*ot)-Te*(Ve*mt-Fe*ot)+Je*(Ve*nt-Fe*je)),J[10]=Re*(Ne*mt-Oe*ot)-Qe*(Ve*mt-Fe*ot)+Je*(Ve*Oe-Fe*Ne),J[11]=-(Re*(Ne*nt-Oe*je)-Qe*(Ve*nt-Fe*je)+Te*(Ve*Oe-Fe*Ne)),J[12]=-(Qe*(je*at-$e*ot)-Te*(Ne*at-ve*ot)+Je*(Ne*$e-ve*je)),J[13]=Re*(je*at-$e*ot)-Te*(Ve*at-et*ot)+Je*(Ve*$e-et*je),J[14]=-(Re*(Ne*at-ve*ot)-Qe*(Ve*at-et*ot)+Je*(Ve*ve-et*Ne)),J[15]=Re*(Ne*$e-ve*je)-Qe*(Ve*$e-et*je)+Te*(Ve*ve-et*Ne),J},copy:function V(J,ye){return J[0]=ye[0],J[1]=ye[1],J[2]=ye[2],J[3]=ye[3],J[4]=ye[4],J[5]=ye[5],J[6]=ye[6],J[7]=ye[7],J[8]=ye[8],J[9]=ye[9],J[10]=ye[10],J[11]=ye[11],J[12]=ye[12],J[13]=ye[13],J[14]=ye[14],J[15]=ye[15],J},determinant:function w(J){const ye=J[0],Re=J[1],Ve=J[2],et=J[3],Fe=J[4],Qe=J[5],Ne=J[6],ve=J[7],Oe=J[8],Te=J[9],je=J[10],$e=J[11],nt=J[12],Je=J[13],ot=J[14],at=J[15];return(ye*Qe-Re*Fe)*(je*at-$e*ot)-(ye*Ne-Ve*Fe)*(Te*at-$e*Je)+(ye*ve-et*Fe)*(Te*ot-je*Je)+(Re*Ne-Ve*Qe)*(Oe*at-$e*nt)-(Re*ve-et*Qe)*(Oe*ot-je*nt)+(Ve*ve-et*Ne)*(Oe*Je-Te*nt)},equals:Be,exactEquals:De,frob:function ue(J){return Math.sqrt(J[0]**2+J[1]**2+J[2]**2+J[3]**2+J[4]**2+J[5]**2+J[6]**2+J[7]**2+J[8]**2+J[9]**2+J[10]**2+J[11]**2+J[12]**2+J[13]**2+J[14]**2+J[15]**2)},fromQuat:function Q(J,ye){const Re=ye[0],Ve=ye[1],et=ye[2],Fe=ye[3],Qe=Re+Re,Ne=Ve+Ve,ve=et+et,Oe=Re*Qe,Te=Ve*Qe,je=Ve*Ne,$e=et*Qe,nt=et*Ne,Je=et*ve,ot=Fe*Qe,at=Fe*Ne,mt=Fe*ve;return J[0]=1-je-Je,J[1]=Te+mt,J[2]=$e-at,J[3]=0,J[4]=Te-mt,J[5]=1-Oe-Je,J[6]=nt+ot,J[7]=0,J[8]=$e+at,J[9]=nt-ot,J[10]=1-Oe-je,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J},fromQuat2:function Y(J,ye){const Re=oe,Ve=-ye[0],et=-ye[1],Fe=-ye[2],Qe=ye[3],Ne=ye[4],ve=ye[5],Oe=ye[6],Te=ye[7],je=Ve*Ve+et*et+Fe*Fe+Qe*Qe;return je>0?(Re[0]=2*(Ne*Qe+Te*Ve+ve*Fe-Oe*et)/je,Re[1]=2*(ve*Qe+Te*et+Oe*Ve-Ne*Fe)/je,Re[2]=2*(Oe*Qe+Te*Fe+Ne*et-ve*Ve)/je):(Re[0]=2*(Ne*Qe+Te*Ve+ve*Fe-Oe*et),Re[1]=2*(ve*Qe+Te*et+Oe*Ve-Ne*Fe),Re[2]=2*(Oe*Qe+Te*Fe+Ne*et-ve*Ve)),X(J,ye,Re),J},fromRotation:O,fromRotationTranslation:X,fromRotationTranslationScale:k,fromRotationTranslationScaleOrigin:function re(J,ye,Re,Ve,et){const Fe=ye[0],Qe=ye[1],Ne=ye[2],ve=ye[3],Oe=Fe+Fe,Te=Qe+Qe,je=Ne+Ne,$e=Fe*Oe,nt=Fe*Te,Je=Fe*je,ot=Qe*Te,at=Qe*je,mt=Ne*je,Tt=ve*Oe,Ot=ve*Te,Bt=ve*je,Gt=Ve[0],kt=Ve[1],on=Ve[2],ft=et[0],dt=et[1],Ct=et[2],Dt=(1-(ot+mt))*Gt,xt=(nt+Bt)*Gt,nn=(Je-Ot)*Gt,Yt=(nt-Bt)*kt,rn=(1-($e+mt))*kt,gn=(at+Tt)*kt,yn=(Je+Ot)*on,Mn=(at-Tt)*on,lr=(1-($e+ot))*on;return J[0]=Dt,J[1]=xt,J[2]=nn,J[3]=0,J[4]=Yt,J[5]=rn,J[6]=gn,J[7]=0,J[8]=yn,J[9]=Mn,J[10]=lr,J[11]=0,J[12]=Re[0]+ft-(Dt*ft+Yt*dt+yn*Ct),J[13]=Re[1]+dt-(xt*ft+rn*dt+Mn*Ct),J[14]=Re[2]+Ct-(nn*ft+gn*dt+lr*Ct),J[15]=1,J},fromScaling:function L(J,ye){return J[0]=ye[0],J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=ye[1],J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=ye[2],J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J},fromTranslation:N,fromXRotation:$,fromYRotation:function K(J,ye){const Re=Math.sin(ye),Ve=Math.cos(ye);return J[0]=Ve,J[1]=0,J[2]=-Re,J[3]=0,J[4]=0,J[5]=1,J[6]=0,J[7]=0,J[8]=Re,J[9]=0,J[10]=Ve,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J},fromZRotation:function U(J,ye){const Re=Math.sin(ye),Ve=Math.cos(ye);return J[0]=Ve,J[1]=Re,J[2]=0,J[3]=0,J[4]=-Re,J[5]=Ve,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=1,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J},frustum:function pe(J,ye,Re,Ve,et,Fe,Qe){const Ne=1/(Re-ye),ve=1/(et-Ve),Oe=1/(Fe-Qe);return J[0]=2*Fe*Ne,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=2*Fe*ve,J[6]=0,J[7]=0,J[8]=(Re+ye)*Ne,J[9]=(et+Ve)*ve,J[10]=(Qe+Fe)*Oe,J[11]=-1,J[12]=0,J[13]=0,J[14]=Qe*Fe*2*Oe,J[15]=0,J},getRotation:function te(J,ye){const Re=ye[0]+ye[5]+ye[10];let Ve=0;return Re>0?(Ve=2*Math.sqrt(Re+1),J[3]=.25*Ve,J[0]=(ye[6]-ye[9])/Ve,J[1]=(ye[8]-ye[2])/Ve,J[2]=(ye[1]-ye[4])/Ve):ye[0]>ye[5]&&ye[0]>ye[10]?(Ve=2*Math.sqrt(1+ye[0]-ye[5]-ye[10]),J[3]=(ye[6]-ye[9])/Ve,J[0]=.25*Ve,J[1]=(ye[1]+ye[4])/Ve,J[2]=(ye[8]+ye[2])/Ve):ye[5]>ye[10]?(Ve=2*Math.sqrt(1+ye[5]-ye[0]-ye[10]),J[3]=(ye[8]-ye[2])/Ve,J[0]=(ye[1]+ye[4])/Ve,J[1]=.25*Ve,J[2]=(ye[6]+ye[9])/Ve):(Ve=2*Math.sqrt(1+ye[10]-ye[0]-ye[5]),J[3]=(ye[1]-ye[4])/Ve,J[0]=(ye[8]+ye[2])/Ve,J[1]=(ye[6]+ye[9])/Ve,J[2]=.25*Ve),J},getScaling:function se(J,ye){const Re=ye[0],Ve=ye[1],et=ye[2],Fe=ye[4],Qe=ye[5],Ne=ye[6],ve=ye[8],Oe=ye[9],Te=ye[10];return J[0]=Math.sqrt(Re*Re+Ve*Ve+et*et),J[1]=Math.sqrt(Fe*Fe+Qe*Qe+Ne*Ne),J[2]=Math.sqrt(ve*ve+Oe*Oe+Te*Te),J},getTranslation:function ne(J,ye){return J[0]=ye[12],J[1]=ye[13],J[2]=ye[14],J},hasIdentityRotation:Me,identity:P,invert:F,invertOrIdentity:function B(J,ye){return F(J,ye)||P(J),J},isOrthoNormal:we,lookAt:function le(J,ye,Re,Ve){const et=ye[0],Fe=ye[1],Qe=ye[2];let Ne=et-Re[0],ve=Fe-Re[1],Oe=Qe-Re[2];const Te=(0,M.g)();if(Math.abs(Ne)<Te&&Math.abs(ve)<Te&&Math.abs(Oe)<Te)return void P(J);let je=1/Math.sqrt(Ne*Ne+ve*ve+Oe*Oe);Ne*=je,ve*=je,Oe*=je;const $e=Ve[0],nt=Ve[1],Je=Ve[2];let ot=nt*Oe-Je*ve,at=Je*Ne-$e*Oe,mt=$e*ve-nt*Ne;je=Math.sqrt(ot*ot+at*at+mt*mt),je?(je=1/je,ot*=je,at*=je,mt*=je):(ot=0,at=0,mt=0);let Tt=ve*mt-Oe*at,Ot=Oe*ot-Ne*mt,Bt=Ne*at-ve*ot;je=Math.sqrt(Tt*Tt+Ot*Ot+Bt*Bt),je?(je=1/je,Tt*=je,Ot*=je,Bt*=je):(Tt=0,Ot=0,Bt=0),J[0]=ot,J[1]=Tt,J[2]=Ne,J[3]=0,J[4]=at,J[5]=Ot,J[6]=ve,J[7]=0,J[8]=mt,J[9]=Bt,J[10]=Oe,J[11]=0,J[12]=-(ot*et+at*Fe+mt*Qe),J[13]=-(Tt*et+Ot*Fe+Bt*Qe),J[14]=-(Ne*et+ve*Fe+Oe*Qe),J[15]=1},mul:j,multiply:j,multiplyScalar:function be(J,ye,Re){return J[0]=ye[0]*Re,J[1]=ye[1]*Re,J[2]=ye[2]*Re,J[3]=ye[3]*Re,J[4]=ye[4]*Re,J[5]=ye[5]*Re,J[6]=ye[6]*Re,J[7]=ye[7]*Re,J[8]=ye[8]*Re,J[9]=ye[9]*Re,J[10]=ye[10]*Re,J[11]=ye[11]*Re,J[12]=ye[12]*Re,J[13]=ye[13]*Re,J[14]=ye[14]*Re,J[15]=ye[15]*Re,J},multiplyScalarAndAdd:function ie(J,ye,Re,Ve){return J[0]=ye[0]+Re[0]*Ve,J[1]=ye[1]+Re[1]*Ve,J[2]=ye[2]+Re[2]*Ve,J[3]=ye[3]+Re[3]*Ve,J[4]=ye[4]+Re[4]*Ve,J[5]=ye[5]+Re[5]*Ve,J[6]=ye[6]+Re[6]*Ve,J[7]=ye[7]+Re[7]*Ve,J[8]=ye[8]+Re[8]*Ve,J[9]=ye[9]+Re[9]*Ve,J[10]=ye[10]+Re[10]*Ve,J[11]=ye[11]+Re[11]*Ve,J[12]=ye[12]+Re[12]*Ve,J[13]=ye[13]+Re[13]*Ve,J[14]=ye[14]+Re[14]*Ve,J[15]=ye[15]+Re[15]*Ve,J},ortho:function q(J,ye,Re,Ve,et,Fe,Qe){const Ne=1/(ye-Re),ve=1/(Ve-et),Oe=1/(Fe-Qe);return J[0]=-2*Ne,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=-2*ve,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=2*Oe,J[11]=0,J[12]=(ye+Re)*Ne,J[13]=(et+Ve)*ve,J[14]=(Qe+Fe)*Oe,J[15]=1,J},perspective:function fe(J,ye,Re,Ve,et){const Fe=1/Math.tan(ye/2);let Qe;return J[0]=Fe/Re,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=Fe,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[11]=-1,J[12]=0,J[13]=0,J[15]=0,null!=et&&et!==1/0?(Qe=1/(Ve-et),J[10]=(et+Ve)*Qe,J[14]=2*et*Ve*Qe):(J[10]=-1,J[14]=-2*Ve),J},perspectiveFromFieldOfView:function ce(J,ye,Re,Ve){const et=Math.tan(ye.upDegrees*Math.PI/180),Fe=Math.tan(ye.downDegrees*Math.PI/180),Qe=Math.tan(ye.leftDegrees*Math.PI/180),Ne=Math.tan(ye.rightDegrees*Math.PI/180),ve=2/(Qe+Ne),Oe=2/(et+Fe);return J[0]=ve,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=Oe,J[6]=0,J[7]=0,J[8]=-(Qe-Ne)*ve*.5,J[9]=(et-Fe)*Oe*.5,J[10]=Ve/(Re-Ve),J[11]=-1,J[12]=0,J[13]=0,J[14]=Ve*Re/(Re-Ve),J[15]=0,J},rotate:G,rotateX:function W(J,ye,Re){const Ve=Math.sin(Re),et=Math.cos(Re),Fe=ye[4],Qe=ye[5],Ne=ye[6],ve=ye[7],Oe=ye[8],Te=ye[9],je=ye[10],$e=ye[11];return ye!==J&&(J[0]=ye[0],J[1]=ye[1],J[2]=ye[2],J[3]=ye[3],J[12]=ye[12],J[13]=ye[13],J[14]=ye[14],J[15]=ye[15]),J[4]=Fe*et+Oe*Ve,J[5]=Qe*et+Te*Ve,J[6]=Ne*et+je*Ve,J[7]=ve*et+$e*Ve,J[8]=Oe*et-Fe*Ve,J[9]=Te*et-Qe*Ve,J[10]=je*et-Ne*Ve,J[11]=$e*et-ve*Ve,J},rotateY:function A(J,ye,Re){const Ve=Math.sin(Re),et=Math.cos(Re),Fe=ye[0],Qe=ye[1],Ne=ye[2],ve=ye[3],Oe=ye[8],Te=ye[9],je=ye[10],$e=ye[11];return ye!==J&&(J[4]=ye[4],J[5]=ye[5],J[6]=ye[6],J[7]=ye[7],J[12]=ye[12],J[13]=ye[13],J[14]=ye[14],J[15]=ye[15]),J[0]=Fe*et-Oe*Ve,J[1]=Qe*et-Te*Ve,J[2]=Ne*et-je*Ve,J[3]=ve*et-$e*Ve,J[8]=Fe*Ve+Oe*et,J[9]=Qe*Ve+Te*et,J[10]=Ne*Ve+je*et,J[11]=ve*Ve+$e*et,J},rotateZ:function S(J,ye,Re){const Ve=Math.sin(Re),et=Math.cos(Re),Fe=ye[0],Qe=ye[1],Ne=ye[2],ve=ye[3],Oe=ye[4],Te=ye[5],je=ye[6],$e=ye[7];return ye!==J&&(J[8]=ye[8],J[9]=ye[9],J[10]=ye[10],J[11]=ye[11],J[12]=ye[12],J[13]=ye[13],J[14]=ye[14],J[15]=ye[15]),J[0]=Fe*et+Oe*Ve,J[1]=Qe*et+Te*Ve,J[2]=Ne*et+je*Ve,J[3]=ve*et+$e*Ve,J[4]=Oe*et-Fe*Ve,J[5]=Te*et-Qe*Ve,J[6]=je*et-Ne*Ve,J[7]=$e*et-ve*Ve,J},scale:I,set:x,str:function ae(J){return"mat4("+J[0]+", "+J[1]+", "+J[2]+", "+J[3]+", "+J[4]+", "+J[5]+", "+J[6]+", "+J[7]+", "+J[8]+", "+J[9]+", "+J[10]+", "+J[11]+", "+J[12]+", "+J[13]+", "+J[14]+", "+J[15]+")"},sub:Ee,subtract:Ee,targetTo:function ee(J,ye,Re,Ve){const et=ye[0],Fe=ye[1],Qe=ye[2],Ne=Ve[0],ve=Ve[1],Oe=Ve[2];let Te=et-Re[0],je=Fe-Re[1],$e=Qe-Re[2],nt=Te*Te+je*je+$e*$e;nt>0&&(nt=1/Math.sqrt(nt),Te*=nt,je*=nt,$e*=nt);let Je=ve*$e-Oe*je,ot=Oe*Te-Ne*$e,at=Ne*je-ve*Te;return nt=Je*Je+ot*ot+at*at,nt>0&&(nt=1/Math.sqrt(nt),Je*=nt,ot*=nt,at*=nt),J[0]=Je,J[1]=ot,J[2]=at,J[3]=0,J[4]=je*at-$e*ot,J[5]=$e*Je-Te*at,J[6]=Te*ot-je*Je,J[7]=0,J[8]=Te,J[9]=je,J[10]=$e,J[11]=0,J[12]=et,J[13]=Fe,J[14]=Qe,J[15]=1,J},translate:Z,transpose:H},Symbol.toStringTag,{value:"Module"}))},39392:(Ze,me,_)=>{"use strict";_.d(me,{P:()=>w,a:()=>T,g:()=>F,h:()=>G,i:()=>P,j:()=>L,l:()=>B,p:()=>oe});var E=_(98930),M=_(14007);let V,x=null;function P(){return!!x}function B(){return V||(V=_.e(1587).then(_.bind(_,31587)).then(ne=>ne.p).then(({default:ne})=>ne({locateFile:se=>(0,E.V)(`esri/geometry/support/${se}`)})).then(ne=>{$(ne)}),V)}var F,T,w,ne;(function(ne){function se(Q,pe,fe){x.ensureCache.prepare();const ce=X(fe),q=fe===ce,le=x.ensureFloat64(ce),ee=x._pe_geog_to_proj(x.getPointer(Q),pe,le);return ee&&Y(fe,pe,le,q),ee}function k(Q,pe,fe){return re(Q,pe,fe,0)}function re(Q,pe,fe,ce){x.ensureCache.prepare();const q=X(fe),le=fe===q,ee=x.ensureFloat64(q),ae=x._pe_proj_to_geog_center(x.getPointer(Q),pe,ee,ce);return ae&&Y(fe,pe,ee,le),ae}ne.geogToProj=se,ne.projGeog=function te(Q,pe,fe,ce){switch(ce){case T.PE_TRANSFORM_P_TO_G:return k(Q,pe,fe);case T.PE_TRANSFORM_G_TO_P:return se(Q,pe,fe)}return 0},ne.projToGeog=k,ne.projToGeogCenter=re})(F||(F={})),(ne=T||(T={})).init=function se(){ne.PE_BUFFER_MAX=x.PeDefs.prototype.PE_BUFFER_MAX,ne.PE_NAME_MAX=x.PeDefs.prototype.PE_NAME_MAX,ne.PE_MGRS_MAX=x.PeDefs.prototype.PE_MGRS_MAX,ne.PE_USNG_MAX=x.PeDefs.prototype.PE_USNG_MAX,ne.PE_DD_MAX=x.PeDefs.prototype.PE_DD_MAX,ne.PE_DDM_MAX=x.PeDefs.prototype.PE_DDM_MAX,ne.PE_DMS_MAX=x.PeDefs.prototype.PE_DMS_MAX,ne.PE_UTM_MAX=x.PeDefs.prototype.PE_UTM_MAX,ne.PE_PARM_MAX=x.PeDefs.prototype.PE_PARM_MAX,ne.PE_TYPE_NONE=x.PeDefs.prototype.PE_TYPE_NONE,ne.PE_TYPE_GEOGCS=x.PeDefs.prototype.PE_TYPE_GEOGCS,ne.PE_TYPE_PROJCS=x.PeDefs.prototype.PE_TYPE_PROJCS,ne.PE_TYPE_GEOGTRAN=x.PeDefs.prototype.PE_TYPE_GEOGTRAN,ne.PE_TYPE_COORDSYS=x.PeDefs.prototype.PE_TYPE_COORDSYS,ne.PE_TYPE_UNIT=x.PeDefs.prototype.PE_TYPE_UNIT,ne.PE_TYPE_LINUNIT=x.PeDefs.prototype.PE_TYPE_LINUNIT,ne.PE_STR_OPTS_NONE=x.PeDefs.prototype.PE_STR_OPTS_NONE,ne.PE_STR_AUTH_NONE=x.PeDefs.prototype.PE_STR_AUTH_NONE,ne.PE_STR_AUTH_TOP=x.PeDefs.prototype.PE_STR_AUTH_TOP,ne.PE_STR_NAME_CANON=x.PeDefs.prototype.PE_STR_NAME_CANON,ne.PE_STR_FMT_WKT=x.PeDefs.prototype.PE_STR_FMT_WKT,ne.PE_STR_FMT_WKT2=x.PeDefs.prototype.PE_STR_FMT_WKT2,ne.PE_PARM_X0=x.PeDefs.prototype.PE_PARM_X0,ne.PE_PARM_ND=x.PeDefs.prototype.PE_PARM_ND,ne.PE_TRANSFORM_1_TO_2=x.PeDefs.prototype.PE_TRANSFORM_1_TO_2,ne.PE_TRANSFORM_2_TO_1=x.PeDefs.prototype.PE_TRANSFORM_2_TO_1,ne.PE_TRANSFORM_P_TO_G=x.PeDefs.prototype.PE_TRANSFORM_P_TO_G,ne.PE_TRANSFORM_G_TO_P=x.PeDefs.prototype.PE_TRANSFORM_G_TO_P,ne.PE_HORIZON_RECT=x.PeDefs.prototype.PE_HORIZON_RECT,ne.PE_HORIZON_POLY=x.PeDefs.prototype.PE_HORIZON_POLY,ne.PE_HORIZON_LINE=x.PeDefs.prototype.PE_HORIZON_LINE,ne.PE_HORIZON_DELTA=x.PeDefs.prototype.PE_HORIZON_DELTA},function(ne){const se={},te={},k=ue=>{if(ue){const ge=ue.getType();switch(ge){case T.PE_TYPE_GEOGCS:ue=x.castObject(ue,x.PeGeogcs);break;case T.PE_TYPE_PROJCS:ue=x.castObject(ue,x.PeProjcs);break;case T.PE_TYPE_GEOGTRAN:ue=x.castObject(ue,x.PeGeogtran);break;default:ge&T.PE_TYPE_UNIT&&(ue=x.castObject(ue,x.PeUnit))}}return ue};function pe(ue,ge){let Ee=null,be=se[ue];if(be||(be={},se[ue]=be),be.hasOwnProperty(String(ge)))Ee=be[ge];else{const ie=x.PeFactory.prototype.factoryByType(ue,ge);x.compare(ie,x.NULL)||(Ee=ie,be[ge]=Ee)}return Ee=k(Ee),Ee}ne.initialize=function re(){x.PeFactory.prototype.initialize(null)},ne.coordsys=function Q(ue){return pe(T.PE_TYPE_COORDSYS,ue)},ne.factoryByType=pe,ne.fromString=function fe(ue,ge){let Ee=null,be=te[ue];if(be||(be={},te[ue]=be),be.hasOwnProperty(ge))Ee=be[ge];else{const ie=x.PeFactory.prototype.fromString(ue,ge);x.compare(ie,x.NULL)||(Ee=ie,be[ge]=Ee)}return Ee=k(Ee),Ee},ne.geogcs=function ce(ue){return pe(T.PE_TYPE_GEOGCS,ue)},ne.geogtran=function q(ue){return pe(T.PE_TYPE_GEOGTRAN,ue)},ne.getCode=function le(ue){return x.PeFactory.prototype.getCode(ue)},ne.projcs=function ee(ue){return pe(T.PE_TYPE_PROJCS,ue)},ne.unit=function ae(ue){return pe(T.PE_TYPE_UNIT,ue)}}(w||(w={}));let j=null;var Z,I,G,W,A,S,N,L,O;function $(ne){function se(Q,pe,fe){Q[pe]=fe(Q[pe])}x=ne,T.init(),Z.init(),A.init(),N.init(),L.init(),j=class extends x.PeGCSExtent{destroy(){x.destroy(this)}};const te=[x.PeDatum,x.PeGeogcs,x.PeGeogtran,x.PeObject,x.PeParameter,x.PePrimem,x.PeProjcs,x.PeSpheroid,x.PeUnit];for(const Q of te)se(Q.prototype,"getName",pe=>function(){return pe.call(this,new Array(T.PE_NAME_MAX))});for(const Q of[x.PeGeogtran,x.PeProjcs])se(Q.prototype,"getParameters",pe=>function(){const fe=new Array(T.PE_PARM_MAX);let ce=pe.call(this);for(let q=0;q<fe.length;q++){const le=x.getValue(ce,"*");fe[q]=le?x.wrapPointer(le,x.PeParameter):null,ce+=Int32Array.BYTES_PER_ELEMENT}return fe});se(x.PeHorizon.prototype,"getCoord",Q=>function(){const pe=this.getSize();if(!pe)return null;const fe=[];return Y(fe,pe,Q.call(this)),fe}),se(x.PeGTlistExtendedEntry.prototype,"getEntries",Q=>{const pe=x._pe_getPeGTlistExtendedGTsSize();return function(){let fe=null;const ce=Q.call(this);if(!x.compare(ce,x.NULL)){fe=[ce];const q=this.getSteps();if(q>1){const le=x.getPointer(ce);for(let ee=1;ee<q;ee++)fe.push(x.wrapPointer(le+pe*ee,x.PeGTlistExtendedGTs))}}return fe}});const k=x._pe_getPeHorizonSize(),re=Q=>function(){let pe=this._cache;if(pe||(pe=new Map,this._cache=pe),pe.has(Q))return pe.get(Q);let fe=null;const ce=Q.call(this);if(!x.compare(ce,x.NULL)){fe=[ce];const q=ce.getNump();if(q>1){const le=x.getPointer(ce);for(let ee=1;ee<q;ee++)fe.push(x.wrapPointer(le+k*ee,x.PeHorizon))}}return pe.set(Q,fe),fe};se(x.PeProjcs.prototype,"horizonGcsGenerate",re),se(x.PeProjcs.prototype,"horizonPcsGenerate",re),x.PeObject.prototype.toString=function(Q=T.PE_STR_OPTS_NONE){x.ensureCache.prepare();const pe=x.getPointer(this),fe=x.ensureInt8(new Array(T.PE_BUFFER_MAX));return x.UTF8ToString(x._pe_object_to_string_ext(pe,Q,fe))}}function K(ne){if(!ne)return;const se=x.getClass(ne);if(!se)return;const te=x.getCache(se);if(!te)return;const k=x.getPointer(ne);k&&delete te[k]}function U(ne,se){const te=[],k=new Array(se);for(let re=0;re<ne;re++)te.push(x.ensureInt8(k));return te}function X(ne){let se;return Array.isArray(ne[0])?(se=[],ne.forEach(te=>{se.push(te[0],te[1])})):se=ne,se}function Y(ne,se,te,k=!1){if(k)for(let re=0;re<2*se;re++)ne[re]=x.getValue(te+re*Float64Array.BYTES_PER_ELEMENT,"double");else{const re=0===ne.length;for(let Q=0;Q<se;Q++)re&&(ne[Q]=new Array(2)),ne[Q][0]=x.getValue(te,"double"),ne[Q][1]=x.getValue(te+Float64Array.BYTES_PER_ELEMENT,"double"),te+=2*Float64Array.BYTES_PER_ELEMENT}}(function(ne){let se;ne.init=function te(){ne.PE_GTLIST_OPTS_COMMON=x.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,se=x._pe_getPeGTlistExtendedEntrySize()},ne.getGTlist=function k(re,Q,pe,fe,ce,q){let le=null;const ee=new x.PeInteger(q);try{const ae=x.PeGTlistExtended.prototype.getGTlist(re,Q,pe,fe,ce,ee);if((q=ee.val)&&(le=[ae],q>1)){const ue=x.getPointer(ae);for(let ge=1;ge<q;ge++)le.push(x.wrapPointer(ue+se*ge,x.PeGTlistExtendedEntry))}}finally{x.destroy(ee)}return le}})(Z||(Z={})),function(ne){ne.destroy=function se(te){if(te?.length){for(const k of te)K(k),k.getEntries().forEach(re=>{K(re);const Q=re.getGeogtran();K(Q),Q.getParameters().forEach(K),[Q.getGeogcs1(),Q.getGeogcs2()].forEach(pe=>{K(pe);const fe=pe.getDatum();K(fe),K(fe.getSpheroid()),K(pe.getPrimem()),K(pe.getUnit())})});x.PeGTlistExtendedEntry.prototype.Delete(te[0])}}}(I||(I={})),function(ne){ne.geogToGeog=function se(te,k,re,Q,pe){x.ensureCache.prepare();const fe=X(re),ce=re===fe,q=x.ensureFloat64(fe);let le=0;Q&&(le=x.ensureFloat64(Q));const ee=x._pe_geog_to_geog(x.getPointer(te),k,q,le,pe);return ee&&Y(re,k,q,ce),ee}}(G||(G={})),function(ne){const se=(q,le,ee,ae,ue,ge)=>{let Ee,be;switch(x.ensureCache.prepare(),q){case"dd":Ee=x._pe_geog_to_dd,be=T.PE_DD_MAX;break;case"ddm":Ee=x._pe_geog_to_ddm,be=T.PE_DDM_MAX;break;case"dms":Ee=x._pe_geog_to_dms,be=T.PE_DMS_MAX}let ie=0;le&&(ie=x.getPointer(le));const De=X(ae),Be=x.ensureFloat64(De),we=U(ee,be),Me=Ee(ie,ee,Be,ue,x.ensureInt32(we));if(Me)for(let He=0;He<ee;He++)ge[He]=x.UTF8ToString(we[He]);return Me},te=(q,le,ee,ae,ue)=>{let ge;switch(x.ensureCache.prepare(),q){case"dd":ge=x._pe_dd_to_geog;break;case"ddm":ge=x._pe_ddm_to_geog;break;case"dms":ge=x._pe_dms_to_geog}let Ee=0;le&&(Ee=x.getPointer(le));const be=ae.map(we=>x.ensureString(we)),ie=x.ensureInt32(be),De=x.ensureFloat64(new Array(2*ee)),Be=ge(Ee,ee,ie,De);return Be&&Y(ue,ee,De),Be};ne.geogToDms=function k(q,le,ee,ae,ue){return se("dms",q,le,ee,ae,ue)},ne.dmsToGeog=function re(q,le,ee,ae){return te("dms",q,le,ee,ae)},ne.geogToDdm=function Q(q,le,ee,ae,ue){return se("ddm",q,le,ee,ae,ue)},ne.ddmToGeog=function pe(q,le,ee,ae){return te("ddm",q,le,ee,ae)},ne.geogToDd=function fe(q,le,ee,ae,ue){return se("dd",q,le,ee,ae,ue)},ne.ddToGeog=function ce(q,le,ee,ae){return te("dd",q,le,ee,ae)}}(W||(W={})),function(ne){ne.init=function se(){ne.PE_MGRS_STYLE_NEW=x.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,ne.PE_MGRS_STYLE_OLD=x.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,ne.PE_MGRS_STYLE_AUTO=x.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,ne.PE_MGRS_180_ZONE_1_PLUS=x.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,ne.PE_MGRS_ADD_SPACES=x.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},ne.geogToMgrsExtended=function te(re,Q,pe,fe,ce,q,le){x.ensureCache.prepare();let ee=0;re&&(ee=x.getPointer(re));const ae=X(pe),ue=x.ensureFloat64(ae),ge=U(Q,T.PE_MGRS_MAX),Ee=x.ensureInt32(ge),be=x._pe_geog_to_mgrs_extended(ee,Q,ue,fe,ce,q,Ee);if(be)for(let ie=0;ie<Q;ie++)le[ie]=x.UTF8ToString(ge[ie]);return be},ne.mgrsToGeogExtended=function k(re,Q,pe,fe,ce){x.ensureCache.prepare();let q=0;re&&(q=x.getPointer(re));const le=pe.map(ge=>x.ensureString(ge)),ee=x.ensureInt32(le),ae=x.ensureFloat64(new Array(2*Q)),ue=x._pe_mgrs_to_geog_extended(q,Q,ee,fe,ae);return ue&&Y(ce,Q,ae),ue}}(A||(A={})),function(ne){ne.geogToUsng=function se(k,re,Q,pe,fe,ce,q){x.ensureCache.prepare();let le=0;k&&(le=x.getPointer(k));const ee=X(Q),ae=x.ensureFloat64(ee),ue=U(re,T.PE_MGRS_MAX),ge=x.ensureInt32(ue),Ee=x._pe_geog_to_usng(le,re,ae,pe,fe,ce,ge);if(Ee)for(let be=0;be<re;be++)q[be]=x.UTF8ToString(ue[be]);return Ee},ne.usngToGeog=function te(k,re,Q,pe){x.ensureCache.prepare();let fe=0;k&&(fe=x.getPointer(k));const ce=Q.map(ae=>x.ensureString(ae)),q=x.ensureInt32(ce),le=x.ensureFloat64(new Array(2*re)),ee=x._pe_usng_to_geog(fe,re,q,le);return ee&&Y(pe,re,le),ee}}(S||(S={})),function(ne){ne.init=function se(){ne.PE_UTM_OPTS_NONE=x.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,ne.PE_UTM_OPTS_ADD_SPACES=x.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,ne.PE_UTM_OPTS_NS=x.PeNotationUtm.prototype.PE_UTM_OPTS_NS},ne.geogToUtm=function te(re,Q,pe,fe,ce){x.ensureCache.prepare();let q=0;re&&(q=x.getPointer(re));const le=X(pe),ee=x.ensureFloat64(le),ae=U(Q,T.PE_UTM_MAX),ue=x.ensureInt32(ae),ge=x._pe_geog_to_utm(q,Q,ee,fe,ue);if(ge)for(let Ee=0;Ee<Q;Ee++)ce[Ee]=x.UTF8ToString(ae[Ee]);return ge},ne.utmToGeog=function k(re,Q,pe,fe,ce){x.ensureCache.prepare();let q=0;re&&(q=x.getPointer(re));const le=pe.map(ge=>x.ensureString(ge)),ee=x.ensureInt32(le),ae=x.ensureFloat64(new Array(2*Q)),ue=x._pe_utm_to_geog(q,Q,ee,fe,ae);return ue&&Y(ce,Q,ae),ue}}(N||(N={})),function(ne){const se=new Map;ne.init=function te(){ne.PE_PCSINFO_OPTION_NONE=x.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,ne.PE_PCSINFO_OPTION_DOMAIN=x.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,ne.PE_POLE_OUTSIDE_BOUNDARY=x.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,ne.PE_POLE_POINT=x.PePCSInfo.prototype.PE_POLE_POINT},ne.generate=function k(re,Q=ne.PE_PCSINFO_OPTION_DOMAIN){let pe=null,fe=null;return se.has(re)&&(fe=se.get(re),fe[Q]&&(pe=fe[Q])),pe||(pe=x.PePCSInfo.prototype.generate(re,Q),fe||(fe=[],se.set(re,fe)),fe[Q]=pe),pe}}(L||(L={})),function(ne){ne.versionString=function se(){return x.PeVersion.prototype.version_string()}}(O||(O={}));const oe=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return F},get PeDefs(){return T},get PeFactory(){return w},get PeGCSExtent(){return j},get PeGTTransformations(){return G},get PeGTlistExtended(){return Z},get PeGTlistExtendedEntry(){return I},get PeNotationDms(){return W},get PeNotationMgrs(){return A},get PeNotationUsng(){return S},get PeNotationUtm(){return N},get PePCSInfo(){return L},get PeVersion(){return O},_init:$,get _pe(){return x},isLoaded:P,isSupported:function H(){return!!(0,M.Z)("esri-wasm")},load:B},Symbol.toStringTag,{value:"Module"}))},19677:(Ze,me,_)=>{"use strict";_.d(me,{M:()=>Z,a:()=>I,e:()=>w,f:()=>M,i:()=>F,p:()=>T,r:()=>x,t:()=>V,w:()=>P});var E=_(6785);function M(G,W){const A=W?.url?.path;if(G&&A&&(G=(0,E.hF)(G,A,{preserveProtocolRelative:!0}),W.portalItem&&W.readResourcePaths)){const S=(0,E.PF)(G,W.portalItem.itemUrl);null!=S&&B.test(S)&&W.readResourcePaths.push(W.portalItem.resourceFromPath(S).path)}return j(G,W?.portal)}function V(G,W,A=Z.YES){if(null==G)return G;!(0,E.YP)(G)&&W?.blockedRelativeUrls&&W.blockedRelativeUrls.push(G);let S=(0,E.hF)(G);if(W){const N=W.verifyItemRelativeUrls?.rootPath||W.url?.path;if(N){const L=j(N,W.portal),O=j(S,W.portal);S=(0,E.PF)(O,L,L),null!=S&&S!==O&&S!==G&&W.verifyItemRelativeUrls&&W.verifyItemRelativeUrls.writtenUrls.push(S)}}return S=w(S,W?.portal),(0,E.YP)(S)&&(S=(0,E.Fv)(S)),W?.resources&&W?.portalItem&&!(0,E.YP)(S)&&!(0,E.HK)(S)&&A===Z.YES&&W.resources.toKeep.push({resource:W.portalItem.resourceFromPath(S),compress:!1}),S}function x(G,W,A){return M(G,A)}function P(G,W,A,S){const N=V(G,S);void 0!==N&&(W[A]=N)}const H=/\/items\/([^\/]+)\/resources\/(.*)/,B=/^\.\/resources\//;function F(G){return(G?.match(H)??null)?.[1]??null}function T(G){const W=G?.match(H)??null;if(null==W)return null;const A=W[2],S=A.lastIndexOf("/");if(-1===S){const{path:O,extension:$}=(0,E.fZ)(A);return{prefix:null,filename:O,extension:$}}const{path:N,extension:L}=(0,E.fZ)(A.slice(S+1));return{prefix:A.slice(0,S),filename:N,extension:L}}function w(G,W){return W&&!W.isPortal&&W.urlKey&&W.customBaseUrl?(0,E.Ie)(G,`${W.urlKey}.${W.customBaseUrl}`,W.portalHostname):G}function j(G,W){if(!W||W.isPortal||!W.urlKey||!W.customBaseUrl)return G;const A=`${W.urlKey}.${W.customBaseUrl}`,S=(0,E.TI)();return(0,E.D6)(S,`${S.scheme}://${A}`)?(0,E.Ie)(G,W.portalHostname,A):(0,E.Ie)(G,A,W.portalHostname)}var Z,G;(G=Z||(Z={}))[G.YES=0]="YES",G[G.NO=1]="NO";const I=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Z},ensureMainOnlineDomain:w,fromJSON:M,itemIdFromResourceUrl:F,prefixAndFilenameFromResourceUrl:T,read:x,toJSON:V,write:P},Symbol.toStringTag,{value:"Module"}))},4758:(Ze,me,_)=>{"use strict";_.d(me,{q:()=>H});var M,x,E=_(90104),P={exports:{}};M=P,void 0!==(x=function(){function F(j,Z,I,G,W){for(;G>I;){if(G-I>600){var A=G-I+1,S=Z-I+1,N=Math.log(A),L=.5*Math.exp(2*N/3),O=.5*Math.sqrt(N*L*(A-L)/A)*(S-A/2<0?-1:1);F(j,Z,Math.max(I,Math.floor(Z-S*L/A+O)),Math.min(G,Math.floor(Z+(A-S)*L/A+O)),W)}var $=j[Z],K=I,U=G;for(T(j,I,Z),W(j[G],$)>0&&T(j,I,G);K<U;){for(T(j,K,U),K++,U--;W(j[K],$)<0;)K++;for(;W(j[U],$)>0;)U--}0===W(j[I],$)?T(j,I,U):T(j,++U,G),U<=Z&&(I=U+1),Z<=U&&(G=U-1)}}function T(j,Z,I){var G=j[Z];j[Z]=j[I],j[I]=G}function w(j,Z){return j<Z?-1:j>Z?1:0}return function B(j,Z,I,G,W){F(j,Z,I||0,G||j.length-1,W||w)}}())&&(M.exports=x);const H=(0,E.g)(P.exports)},62168:(Ze,me,_)=>{"use strict";_.d(me,{r:()=>M});var E=_(4758);function M(S,N){if(!(this instanceof M))return new M(S,N);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),N&&("function"==typeof N?this.toBBox=N:this._initFormat(N)),this.clear()}function V(S,N,L){if(!L)return N.indexOf(S);for(var O=0;O<N.length;O++)if(L(S,N[O]))return O;return-1}function x(S,N){P(S,0,S.children.length,N,S)}function P(S,N,L,O,$){$||($=W(null)),$.minX=1/0,$.minY=1/0,$.maxX=-1/0,$.maxY=-1/0;for(var K,U=N;U<L;U++)K=S.children[U],H($,S.leaf?O(K):K);return $}function H(S,N){return S.minX=Math.min(S.minX,N.minX),S.minY=Math.min(S.minY,N.minY),S.maxX=Math.max(S.maxX,N.maxX),S.maxY=Math.max(S.maxY,N.maxY),S}function B(S,N){return S.minX-N.minX}function F(S,N){return S.minY-N.minY}function T(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function w(S){return S.maxX-S.minX+(S.maxY-S.minY)}function j(S,N){return(Math.max(N.maxX,S.maxX)-Math.min(N.minX,S.minX))*(Math.max(N.maxY,S.maxY)-Math.min(N.minY,S.minY))}function Z(S,N){var L=Math.max(S.minX,N.minX),O=Math.max(S.minY,N.minY),$=Math.min(S.maxX,N.maxX),K=Math.min(S.maxY,N.maxY);return Math.max(0,$-L)*Math.max(0,K-O)}function I(S,N){return S.minX<=N.minX&&S.minY<=N.minY&&N.maxX<=S.maxX&&N.maxY<=S.maxY}function G(S,N){return N.minX<=S.maxX&&N.minY<=S.maxY&&N.maxX>=S.minX&&N.maxY>=S.minY}function W(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A(S,N,L,O,$){for(var K,U=[N,L];U.length;)(L=U.pop())-(N=U.pop())<=O||(K=N+Math.ceil((L-N)/O/2)*O,(0,E.q)(S,K,N,L,$),U.push(N,K,K,L))}M.prototype={all:function(){return this._all(this.data,[])},search:function(S){var N=this.data,L=[],O=this.toBBox;if(!G(S,N))return L;for(var $,K,U,X,Y=[];N;){for($=0,K=N.children.length;$<K;$++)U=N.children[$],G(S,X=N.leaf?O(U):U)&&(N.leaf?L.push(U):I(S,X)?this._all(U,L):Y.push(U));N=Y.pop()}return L},collides:function(S){var N=this.data,L=this.toBBox;if(!G(S,N))return!1;for(var O,$,K,U,X=[];N;){for(O=0,$=N.children.length;O<$;O++)if(K=N.children[O],G(S,U=N.leaf?L(K):K)){if(N.leaf||I(S,U))return!0;X.push(K)}N=X.pop()}return!1},load:function(S){if(!S||!S.length)return this;if(S.length<this._minEntries){for(var N=0,L=S.length;N<L;N++)this.insert(S[N]);return this}var O=this._build(S.slice(),0,S.length-1,0);if(this.data.children.length)if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var $=this.data;this.data=O,O=$}this._insert(O,this.data.height-O.height-1,!0)}else this.data=O;return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=W([]),this},remove:function(S,N){if(!S)return this;for(var L,O,$,K,U=this.data,X=this.toBBox(S),Y=[],oe=[];U||Y.length;){if(U||(U=Y.pop(),O=Y[Y.length-1],L=oe.pop(),K=!0),U.leaf&&-1!==($=V(S,U.children,N)))return U.children.splice($,1),Y.push(U),this._condense(Y),this;K||U.leaf||!I(U,X)?O?(L++,U=O.children[L],K=!1):U=null:(Y.push(U),oe.push(L),L=0,O=U,U=U.children[0])}return this},toBBox:function(S){return S},compareMinX:B,compareMinY:F,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,N){for(var L=[];S;)S.leaf?N.push.apply(N,S.children):L.push.apply(L,S.children),S=L.pop();return N},_build:function(S,N,L,O){var $,K=L-N+1,U=this._maxEntries;if(K<=U)return x($=W(S.slice(N,L+1)),this.toBBox),$;O||(O=Math.ceil(Math.log(K)/Math.log(U)),U=Math.ceil(K/Math.pow(U,O-1))),($=W([])).leaf=!1,$.height=O;var X,Y,oe,ne,se=Math.ceil(K/U),te=se*Math.ceil(Math.sqrt(U));for(A(S,N,L,te,this.compareMinX),X=N;X<=L;X+=te)for(A(S,X,oe=Math.min(X+te-1,L),se,this.compareMinY),Y=X;Y<=oe;Y+=se)ne=Math.min(Y+se-1,oe),$.children.push(this._build(S,Y,ne,O-1));return x($,this.toBBox),$},_chooseSubtree:function(S,N,L,O){for(var $,K,U,X,Y,oe,ne,se;O.push(N),!N.leaf&&O.length-1!==L;){for(ne=se=1/0,$=0,K=N.children.length;$<K;$++)Y=T(U=N.children[$]),(oe=j(S,U)-Y)<se?(se=oe,ne=Y<ne?Y:ne,X=U):oe===se&&Y<ne&&(ne=Y,X=U);N=X||N.children[0]}return N},_insert:function(S,N,L){var $=L?S:(0,this.toBBox)(S),K=[],U=this._chooseSubtree($,this.data,N,K);for(U.children.push(S),H(U,$);N>=0&&K[N].children.length>this._maxEntries;)this._split(K,N),N--;this._adjustParentBBoxes($,K,N)},_split:function(S,N){var L=S[N],O=L.children.length,$=this._minEntries;this._chooseSplitAxis(L,$,O);var K=this._chooseSplitIndex(L,$,O),U=W(L.children.splice(K,L.children.length-K));U.height=L.height,U.leaf=L.leaf,x(L,this.toBBox),x(U,this.toBBox),N?S[N-1].children.push(U):this._splitRoot(L,U)},_splitRoot:function(S,N){this.data=W([S,N]),this.data.height=S.height+1,this.data.leaf=!1,x(this.data,this.toBBox)},_chooseSplitIndex:function(S,N,L){var O,$,K,U,X,Y,oe,ne;for(Y=oe=1/0,O=N;O<=L-N;O++)U=Z($=P(S,0,O,this.toBBox),K=P(S,O,L,this.toBBox)),X=T($)+T(K),U<Y?(Y=U,ne=O,oe=X<oe?X:oe):U===Y&&X<oe&&(oe=X,ne=O);return ne},_chooseSplitAxis:function(S,N,L){var O=S.leaf?this.compareMinX:B,$=S.leaf?this.compareMinY:F;this._allDistMargin(S,N,L,O)<this._allDistMargin(S,N,L,$)&&S.children.sort(O)},_allDistMargin:function(S,N,L,O){S.children.sort(O);var $,K,U=this.toBBox,X=P(S,0,N,U),Y=P(S,L-N,L,U),oe=w(X)+w(Y);for($=N;$<L-N;$++)K=S.children[$],H(X,S.leaf?U(K):K),oe+=w(X);for($=L-N-1;$>=N;$--)K=S.children[$],H(Y,S.leaf?U(K):K),oe+=w(Y);return oe},_adjustParentBBoxes:function(S,N,L){for(var O=L;O>=0;O--)H(N[O],S)},_condense:function(S){for(var N,L=S.length-1;L>=0;L--)0===S[L].children.length?L>0?(N=S[L-1].children).splice(N.indexOf(S[L]),1):this.clear():x(S[L],this.toBBox)},_initFormat:function(S){var N=["return a"," - b",";"];this.compareMinX=new Function("a","b",N.join(S[0])),this.compareMinY=new Function("a","b",N.join(S[1])),this.toBBox=new Function("a","return {minX: a"+S[0]+", minY: a"+S[1]+", maxX: a"+S[2]+", maxY: a"+S[3]+"};")}}},50484:(Ze,me,_)=>{"use strict";function E(V,x,P,H){var B,F=arguments.length,T=F<3?x:null===H?H=Object.getOwnPropertyDescriptor(x,P):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(V,x,P,H);else for(var w=V.length-1;w>=0;w--)(B=V[w])&&(T=(F<3?B(T):F>3?B(x,P,T):B(x,P))||T);return F>3&&T&&Object.defineProperty(x,P,T),T}function M(V,x,P,H){return new(P||(P=Promise))(function(F,T){function w(I){try{Z(H.next(I))}catch(G){T(G)}}function j(I){try{Z(H.throw(I))}catch(G){T(G)}}function Z(I){I.done?F(I.value):function B(F){return F instanceof P?F:new P(function(T){T(F)})}(I.value).then(w,j)}Z((H=H.apply(V,x||[])).next())})}_.d(me,{_:()=>E,a:()=>M}),"function"==typeof SuppressedError&&SuppressedError},46033:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>I,b:()=>le,c:()=>P,d:()=>W,e:()=>$,f:()=>U,g:()=>K,h:()=>S,i:()=>x,j:()=>M,k:()=>A,l:()=>X,n:()=>L,r:()=>k,s:()=>V,t:()=>ne});var E=_(52593);function M(ie,De){return ie[0]=De[0],ie[1]=De[1],ie}function V(ie,De,Be){return ie[0]=De,ie[1]=Be,ie}function x(ie,De,Be){return ie[0]=De[0]+Be[0],ie[1]=De[1]+Be[1],ie}function P(ie,De,Be){return ie[0]=De[0]-Be[0],ie[1]=De[1]-Be[1],ie}function H(ie,De,Be){return ie[0]=De[0]*Be[0],ie[1]=De[1]*Be[1],ie}function B(ie,De,Be){return ie[0]=De[0]/Be[0],ie[1]=De[1]/Be[1],ie}function I(ie,De,Be){return ie[0]=De[0]*Be,ie[1]=De[1]*Be,ie}function W(ie,De){const Be=De[0]-ie[0],we=De[1]-ie[1];return Math.sqrt(Be*Be+we*we)}function A(ie,De){const Be=De[0]-ie[0],we=De[1]-ie[1];return Be*Be+we*we}function S(ie){const De=ie[0],Be=ie[1];return Math.sqrt(De*De+Be*Be)}function N(ie){const De=ie[0],Be=ie[1];return De*De+Be*Be}function L(ie,De){return ie[0]=-De[0],ie[1]=-De[1],ie}function $(ie,De){const Be=De[0],we=De[1];let Me=Be*Be+we*we;return Me>0&&(Me=1/Math.sqrt(Me),ie[0]=De[0]*Me,ie[1]=De[1]*Me),ie}function K(ie,De){return ie[0]*De[0]+ie[1]*De[1]}function U(ie,De,Be){const we=De[0]*Be[1]-De[1]*Be[0];return ie[0]=ie[1]=0,ie[2]=we,ie}function X(ie,De,Be,we){const Me=De[0],He=De[1];return ie[0]=Me+we*(Be[0]-Me),ie[1]=He+we*(Be[1]-He),ie}function ne(ie,De,Be){const we=De[0],Me=De[1];return ie[0]=Be[0]*we+Be[2]*Me+Be[4],ie[1]=Be[1]*we+Be[3]*Me+Be[5],ie}function k(ie,De,Be,we){const Me=De[0]-Be[0],He=De[1]-Be[1],xe=Math.sin(we),Xe=Math.cos(we);return ie[0]=Me*Xe-He*xe+Be[0],ie[1]=Me*xe+He*Xe+Be[1],ie}const le=P;Object.freeze(Object.defineProperty({__proto__:null,add:x,angle:function re(ie,De){const Be=ie[0],we=ie[1],Me=De[0],He=De[1];let xe=Be*Be+we*we;xe>0&&(xe=1/Math.sqrt(xe));let Xe=Me*Me+He*He;Xe>0&&(Xe=1/Math.sqrt(Xe));const J=(Be*Me+we*He)*xe*Xe;return J>1?0:J<-1?Math.PI:Math.acos(J)},ceil:function F(ie,De){return ie[0]=Math.ceil(De[0]),ie[1]=Math.ceil(De[1]),ie},copy:M,cross:U,dist:W,distance:W,div:B,divide:B,dot:K,equals:function fe(ie,De){const Be=ie[0],we=ie[1],Me=De[0],He=De[1],xe=(0,E.g)();return Math.abs(Be-Me)<=xe*Math.max(1,Math.abs(Be),Math.abs(Me))&&Math.abs(we-He)<=xe*Math.max(1,Math.abs(we),Math.abs(He))},exactEquals:function pe(ie,De){return ie[0]===De[0]&&ie[1]===De[1]},floor:function T(ie,De){return ie[0]=Math.floor(De[0]),ie[1]=Math.floor(De[1]),ie},inverse:function O(ie,De){return ie[0]=1/De[0],ie[1]=1/De[1],ie},len:S,length:S,lerp:X,max:function j(ie,De,Be){return ie[0]=Math.max(De[0],Be[0]),ie[1]=Math.max(De[1],Be[1]),ie},min:function w(ie,De,Be){return ie[0]=Math.min(De[0],Be[0]),ie[1]=Math.min(De[1],Be[1]),ie},mul:H,multiply:H,negate:L,normalize:$,projectAndScale:function ce(ie,De,Be,we,Me){let He=De[0]-Be[0],xe=De[1]-Be[1];const Xe=(we[0]*He+we[1]*xe)*(Me-1);return He=we[0]*Xe,xe=we[1]*Xe,ie[0]=De[0]+He,ie[1]=De[1]+xe,ie},random:function Y(ie,De){De=De||1;const Be=2*(0,E.R)()*Math.PI;return ie[0]=Math.cos(Be)*De,ie[1]=Math.sin(Be)*De,ie},rotate:k,round:function Z(ie,De){return ie[0]=Math.round(De[0]),ie[1]=Math.round(De[1]),ie},scale:I,scaleAndAdd:function G(ie,De,Be,we){return ie[0]=De[0]+Be[0]*we,ie[1]=De[1]+Be[1]*we,ie},set:V,sqrDist:A,sqrLen:N,squaredDistance:A,squaredLength:N,str:function Q(ie){return"vec2("+ie[0]+", "+ie[1]+")"},sub:le,subtract:P,transformMat2:function oe(ie,De,Be){const we=De[0],Me=De[1];return ie[0]=Be[0]*we+Be[2]*Me,ie[1]=Be[1]*we+Be[3]*Me,ie},transformMat2d:ne,transformMat3:function se(ie,De,Be){const we=De[0],Me=De[1];return ie[0]=Be[0]*we+Be[3]*Me+Be[6],ie[1]=Be[1]*we+Be[4]*Me+Be[7],ie},transformMat4:function te(ie,De,Be){const we=De[0],Me=De[1];return ie[0]=Be[0]*we+Be[4]*Me+Be[12],ie[1]=Be[1]*we+Be[5]*Me+Be[13],ie}},Symbol.toStringTag,{value:"Module"}))},7077:(Ze,me,_)=>{"use strict";function E(){return new Float32Array(2)}function V(G,W){const A=new Float32Array(2);return A[0]=G,A[1]=W,A}function P(){return E()}function H(){return V(1,1)}function B(){return V(1,0)}function F(){return V(0,1)}_.d(me,{O:()=>w,Z:()=>T,c:()=>E,f:()=>V});const T=P(),w=H(),j=B(),Z=F();Object.freeze(Object.defineProperty({__proto__:null,ONES:w,UNIT_X:j,UNIT_Y:Z,ZEROS:T,clone:function M(G){const W=new Float32Array(2);return W[0]=G[0],W[1]=G[1],W},create:E,createView:function x(G,W){return new Float32Array(G,W,2)},fromValues:V,ones:H,unitX:B,unitY:F,zeros:P},Symbol.toStringTag,{value:"Module"}))},51675:(Ze,me,_)=>{"use strict";function E(){return[0,0]}function V(W,A){return[W,A]}function P(W,A){return new Float64Array(W,A,2)}function B(){return V(1,1)}function F(){return V(1,0)}function T(){return V(0,1)}_.d(me,{Z:()=>w,a:()=>E,c:()=>P,f:()=>V});const w=[0,0],j=B(),Z=F(),I=T();Object.freeze(Object.defineProperty({__proto__:null,ONES:j,UNIT_X:Z,UNIT_Y:I,ZEROS:w,clone:function M(W){return[W[0],W[1]]},create:E,createView:P,fromArray:function x(W,A=[0,0]){const S=Math.min(2,W.length);for(let N=0;N<S;++N)A[N]=W[N];return A},fromValues:V,ones:B,unitX:F,unitY:T,zeros:function H(){return[0,0]}},Symbol.toStringTag,{value:"Module"}))},43589:(Ze,me,_)=>{"use strict";_.d(me,{A:()=>F,B:()=>T,C:()=>be,D:()=>W,a:()=>O,b:()=>oe,c:()=>x,e:()=>re,f:()=>B,g:()=>H,h:()=>ge,i:()=>S,j:()=>Y,k:()=>He,l:()=>V,m:()=>$,n:()=>X,o:()=>L,p:()=>ne,q:()=>N,r:()=>we,s:()=>P,t:()=>Q,u:()=>ie,v:()=>pe,w:()=>Z,x:()=>G,z:()=>I});var E=_(8554),M=_(52593);function V(J){const ye=J[0],Re=J[1],Ve=J[2];return Math.sqrt(ye*ye+Re*Re+Ve*Ve)}function x(J,ye){return J[0]=ye[0],J[1]=ye[1],J[2]=ye[2],J}function P(J,ye,Re,Ve){return J[0]=ye,J[1]=Re,J[2]=Ve,J}function H(J,ye,Re){return J[0]=ye[0]+Re[0],J[1]=ye[1]+Re[1],J[2]=ye[2]+Re[2],J}function B(J,ye,Re){return J[0]=ye[0]-Re[0],J[1]=ye[1]-Re[1],J[2]=ye[2]-Re[2],J}function F(J,ye,Re){return J[0]=ye[0]*Re[0],J[1]=ye[1]*Re[1],J[2]=ye[2]*Re[2],J}function T(J,ye,Re){return J[0]=ye[0]/Re[0],J[1]=ye[1]/Re[1],J[2]=ye[2]/Re[2],J}function Z(J,ye){return J[0]=Math.abs(ye[0]),J[1]=Math.abs(ye[1]),J[2]=Math.abs(ye[2]),J}function I(J,ye){return J[0]=Math.sign(ye[0]),J[1]=Math.sign(ye[1]),J[2]=Math.sign(ye[2]),J}function G(J,ye,Re){return J[0]=Math.min(ye[0],Re[0]),J[1]=Math.min(ye[1],Re[1]),J[2]=Math.min(ye[2],Re[2]),J}function W(J,ye,Re){return J[0]=Math.max(ye[0],Re[0]),J[1]=Math.max(ye[1],Re[1]),J[2]=Math.max(ye[2],Re[2]),J}function S(J,ye,Re){return J[0]=ye[0]*Re,J[1]=ye[1]*Re,J[2]=ye[2]*Re,J}function N(J,ye,Re,Ve){return J[0]=ye[0]+Re[0]*Ve,J[1]=ye[1]+Re[1]*Ve,J[2]=ye[2]+Re[2]*Ve,J}function L(J,ye){const Re=ye[0]-J[0],Ve=ye[1]-J[1],et=ye[2]-J[2];return Math.sqrt(Re*Re+Ve*Ve+et*et)}function O(J,ye){const Re=ye[0]-J[0],Ve=ye[1]-J[1],et=ye[2]-J[2];return Re*Re+Ve*Ve+et*et}function $(J){const ye=J[0],Re=J[1],Ve=J[2];return ye*ye+Re*Re+Ve*Ve}function X(J,ye){const Re=ye[0],Ve=ye[1],et=ye[2];let Fe=Re*Re+Ve*Ve+et*et;return Fe>0&&(Fe=1/Math.sqrt(Fe),J[0]=ye[0]*Fe,J[1]=ye[1]*Fe,J[2]=ye[2]*Fe),J}function Y(J,ye){return J[0]*ye[0]+J[1]*ye[1]+J[2]*ye[2]}function oe(J,ye,Re){const Ve=ye[0],et=ye[1],Fe=ye[2],Qe=Re[0],Ne=Re[1],ve=Re[2];return J[0]=et*ve-Fe*Ne,J[1]=Fe*Qe-Ve*ve,J[2]=Ve*Ne-et*Qe,J}function ne(J,ye,Re,Ve){const et=ye[0],Fe=ye[1],Qe=ye[2];return J[0]=et+Ve*(Re[0]-et),J[1]=Fe+Ve*(Re[1]-Fe),J[2]=Qe+Ve*(Re[2]-Qe),J}function re(J,ye,Re){const Ve=ye[0],et=ye[1],Fe=ye[2];return J[0]=Re[0]*Ve+Re[4]*et+Re[8]*Fe+Re[12],J[1]=Re[1]*Ve+Re[5]*et+Re[9]*Fe+Re[13],J[2]=Re[2]*Ve+Re[6]*et+Re[10]*Fe+Re[14],J}function Q(J,ye,Re){const Ve=ye[0],et=ye[1],Fe=ye[2];return J[0]=Ve*Re[0]+et*Re[3]+Fe*Re[6],J[1]=Ve*Re[1]+et*Re[4]+Fe*Re[7],J[2]=Ve*Re[2]+et*Re[5]+Fe*Re[8],J}function pe(J,ye,Re){const Ve=Re[0],et=Re[1],Fe=Re[2],Ne=ye[0],ve=ye[1],Oe=ye[2];let Te=et*Oe-Fe*ve,je=Fe*Ne-Ve*Oe,$e=Ve*ve-et*Ne,nt=et*$e-Fe*je,Je=Fe*Te-Ve*$e,ot=Ve*je-et*Te;const at=2*Re[3];return Te*=at,je*=at,$e*=at,nt*=2,Je*=2,ot*=2,J[0]=Ne+Te+nt,J[1]=ve+je+Je,J[2]=Oe+$e+ot,J}const ee=(0,E.c)(),ae=(0,E.c)();function ge(J,ye){return J[0]===ye[0]&&J[1]===ye[1]&&J[2]===ye[2]}function be(J,ye,Re){const Ve=Re[0]-ye[0],et=Re[1]-ye[1],Fe=Re[2]-ye[2];let Qe=Ve*Ve+et*et+Fe*Fe;return Qe>0?(Qe=1/Math.sqrt(Qe),J[0]=Ve*Qe,J[1]=et*Qe,J[2]=Fe*Qe,J):(J[0]=0,J[1]=0,J[2]=0,J)}const ie=B,we=L,He=V;Object.freeze(Object.defineProperty({__proto__:null,abs:Z,add:H,angle:function le(J,ye){x(ee,J),x(ae,ye),X(ee,ee),X(ae,ae);const Re=Y(ee,ae);return Re>1?0:Re<-1?Math.PI:Math.acos(Re)},bezier:function te(J,ye,Re,Ve,et,Fe){const Qe=1-Fe,Ne=Qe*Qe,ve=Fe*Fe,Oe=Ne*Qe,Te=3*Fe*Ne,je=3*ve*Qe,$e=ve*Fe;return J[0]=ye[0]*Oe+Re[0]*Te+Ve[0]*je+et[0]*$e,J[1]=ye[1]*Oe+Re[1]*Te+Ve[1]*je+et[1]*$e,J[2]=ye[2]*Oe+Re[2]*Te+Ve[2]*je+et[2]*$e,J},ceil:function w(J,ye){return J[0]=Math.ceil(ye[0]),J[1]=Math.ceil(ye[1]),J[2]=Math.ceil(ye[2]),J},copy:x,cross:oe,direction:be,dist:we,distance:L,div:T,divide:T,dot:Y,equals:function Ee(J,ye){if(J===ye)return!0;const Re=J[0],Ve=J[1],et=J[2],Fe=ye[0],Qe=ye[1],Ne=ye[2],ve=(0,M.g)();return Math.abs(Re-Fe)<=ve*Math.max(1,Math.abs(Re),Math.abs(Fe))&&Math.abs(Ve-Qe)<=ve*Math.max(1,Math.abs(Ve),Math.abs(Qe))&&Math.abs(et-Ne)<=ve*Math.max(1,Math.abs(et),Math.abs(Ne))},exactEquals:ge,floor:function j(J,ye){return J[0]=Math.floor(ye[0]),J[1]=Math.floor(ye[1]),J[2]=Math.floor(ye[2]),J},hermite:function se(J,ye,Re,Ve,et,Fe){const Qe=Fe*Fe,Ne=Qe*(2*Fe-3)+1,ve=Qe*(Fe-2)+Fe,Oe=Qe*(Fe-1),Te=Qe*(3-2*Fe);return J[0]=ye[0]*Ne+Re[0]*ve+Ve[0]*Oe+et[0]*Te,J[1]=ye[1]*Ne+Re[1]*ve+Ve[1]*Oe+et[1]*Te,J[2]=ye[2]*Ne+Re[2]*ve+Ve[2]*Oe+et[2]*Te,J},inverse:function U(J,ye){return J[0]=1/ye[0],J[1]=1/ye[1],J[2]=1/ye[2],J},len:He,length:V,lerp:ne,max:W,min:G,mul:F,multiply:F,negate:function K(J,ye){return J[0]=-ye[0],J[1]=-ye[1],J[2]=-ye[2],J},normalize:X,random:function k(J,ye){ye=ye||1;const Re=M.R,Ve=2*Re()*Math.PI,et=2*Re()-1,Fe=Math.sqrt(1-et*et)*ye;return J[0]=Math.cos(Ve)*Fe,J[1]=Math.sin(Ve)*Fe,J[2]=et*ye,J},rotateX:function fe(J,ye,Re,Ve){const et=[],Fe=[];return et[0]=ye[0]-Re[0],et[1]=ye[1]-Re[1],et[2]=ye[2]-Re[2],Fe[0]=et[0],Fe[1]=et[1]*Math.cos(Ve)-et[2]*Math.sin(Ve),Fe[2]=et[1]*Math.sin(Ve)+et[2]*Math.cos(Ve),J[0]=Fe[0]+Re[0],J[1]=Fe[1]+Re[1],J[2]=Fe[2]+Re[2],J},rotateY:function ce(J,ye,Re,Ve){const et=[],Fe=[];return et[0]=ye[0]-Re[0],et[1]=ye[1]-Re[1],et[2]=ye[2]-Re[2],Fe[0]=et[2]*Math.sin(Ve)+et[0]*Math.cos(Ve),Fe[1]=et[1],Fe[2]=et[2]*Math.cos(Ve)-et[0]*Math.sin(Ve),J[0]=Fe[0]+Re[0],J[1]=Fe[1]+Re[1],J[2]=Fe[2]+Re[2],J},rotateZ:function q(J,ye,Re,Ve){const et=[],Fe=[];return et[0]=ye[0]-Re[0],et[1]=ye[1]-Re[1],et[2]=ye[2]-Re[2],Fe[0]=et[0]*Math.cos(Ve)-et[1]*Math.sin(Ve),Fe[1]=et[0]*Math.sin(Ve)+et[1]*Math.cos(Ve),Fe[2]=et[2],J[0]=Fe[0]+Re[0],J[1]=Fe[1]+Re[1],J[2]=Fe[2]+Re[2],J},round:function A(J,ye){return J[0]=Math.round(ye[0]),J[1]=Math.round(ye[1]),J[2]=Math.round(ye[2]),J},scale:S,scaleAndAdd:N,set:P,sign:I,sqrDist:O,sqrLen:$,squaredDistance:O,squaredLength:$,str:function ue(J){return"vec3("+J[0]+", "+J[1]+", "+J[2]+")"},sub:ie,subtract:B,transformMat3:Q,transformMat4:re,transformQuat:pe},Symbol.toStringTag,{value:"Module"}))},8554:(Ze,me,_)=>{"use strict";function E(){return[0,0,0]}function M(S){return[S[0],S[1],S[2]]}function V(S,N,L){return[S,N,L]}function x(S,N=[0,0,0]){const L=Math.min(3,S.length);for(let O=0;O<L;++O)N[O]=S[O];return N}function P(S,N){return new Float64Array(S,N,3)}function B(){return V(1,1,1)}function F(){return V(1,0,0)}function T(){return V(0,1,0)}function w(){return V(0,0,1)}_.d(me,{O:()=>Z,U:()=>I,Z:()=>j,a:()=>P,b:()=>G,c:()=>E,d:()=>W,e:()=>x,f:()=>V,g:()=>M});const j=[0,0,0],Z=B(),I=F(),G=T(),W=w();Object.freeze(Object.defineProperty({__proto__:null,ONES:Z,UNIT_X:I,UNIT_Y:G,UNIT_Z:W,ZEROS:j,clone:M,create:E,createView:P,fromArray:x,fromValues:V,ones:B,unitX:F,unitY:T,unitZ:w,zeros:function H(){return[0,0,0]}},Symbol.toStringTag,{value:"Module"}))},70993:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>x,b:()=>I,c:()=>M,d:()=>K,e:()=>te,f:()=>S,g:()=>N,h:()=>se,l:()=>U,n:()=>$,s:()=>V});var E=_(52593);function M(ee,ae){return ee[0]=ae[0],ee[1]=ae[1],ee[2]=ae[2],ee[3]=ae[3],ee}function V(ee,ae,ue,ge,Ee){return ee[0]=ae,ee[1]=ue,ee[2]=ge,ee[3]=Ee,ee}function x(ee,ae,ue){return ee[0]=ae[0]+ue[0],ee[1]=ae[1]+ue[1],ee[2]=ae[2]+ue[2],ee[3]=ae[3]+ue[3],ee}function P(ee,ae,ue){return ee[0]=ae[0]-ue[0],ee[1]=ae[1]-ue[1],ee[2]=ae[2]-ue[2],ee[3]=ae[3]-ue[3],ee}function H(ee,ae,ue){return ee[0]=ae[0]*ue[0],ee[1]=ae[1]*ue[1],ee[2]=ae[2]*ue[2],ee[3]=ae[3]*ue[3],ee}function B(ee,ae,ue){return ee[0]=ae[0]/ue[0],ee[1]=ae[1]/ue[1],ee[2]=ae[2]/ue[2],ee[3]=ae[3]/ue[3],ee}function I(ee,ae,ue){return ee[0]=ae[0]*ue,ee[1]=ae[1]*ue,ee[2]=ae[2]*ue,ee[3]=ae[3]*ue,ee}function W(ee,ae){const ue=ae[0]-ee[0],ge=ae[1]-ee[1],Ee=ae[2]-ee[2],be=ae[3]-ee[3];return Math.sqrt(ue*ue+ge*ge+Ee*Ee+be*be)}function A(ee,ae){const ue=ae[0]-ee[0],ge=ae[1]-ee[1],Ee=ae[2]-ee[2],be=ae[3]-ee[3];return ue*ue+ge*ge+Ee*Ee+be*be}function S(ee){const ae=ee[0],ue=ee[1],ge=ee[2],Ee=ee[3];return Math.sqrt(ae*ae+ue*ue+ge*ge+Ee*Ee)}function N(ee){const ae=ee[0],ue=ee[1],ge=ee[2],Ee=ee[3];return ae*ae+ue*ue+ge*ge+Ee*Ee}function $(ee,ae){const ue=ae[0],ge=ae[1],Ee=ae[2],be=ae[3];let ie=ue*ue+ge*ge+Ee*Ee+be*be;return ie>0&&(ie=1/Math.sqrt(ie),ee[0]=ue*ie,ee[1]=ge*ie,ee[2]=Ee*ie,ee[3]=be*ie),ee}function K(ee,ae){return ee[0]*ae[0]+ee[1]*ae[1]+ee[2]*ae[2]+ee[3]*ae[3]}function U(ee,ae,ue,ge){const Ee=ae[0],be=ae[1],ie=ae[2],De=ae[3];return ee[0]=Ee+ge*(ue[0]-Ee),ee[1]=be+ge*(ue[1]-be),ee[2]=ie+ge*(ue[2]-ie),ee[3]=De+ge*(ue[3]-De),ee}function se(ee,ae){return ee[0]===ae[0]&&ee[1]===ae[1]&&ee[2]===ae[2]&&ee[3]===ae[3]}function te(ee,ae){const ue=ee[0],ge=ee[1],Ee=ee[2],be=ee[3],ie=ae[0],De=ae[1],Be=ae[2],we=ae[3],Me=(0,E.g)();return Math.abs(ue-ie)<=Me*Math.max(1,Math.abs(ue),Math.abs(ie))&&Math.abs(ge-De)<=Me*Math.max(1,Math.abs(ge),Math.abs(De))&&Math.abs(Ee-Be)<=Me*Math.max(1,Math.abs(Ee),Math.abs(Be))&&Math.abs(be-we)<=Me*Math.max(1,Math.abs(be),Math.abs(we))}Object.freeze(Object.defineProperty({__proto__:null,add:x,ceil:function F(ee,ae){return ee[0]=Math.ceil(ae[0]),ee[1]=Math.ceil(ae[1]),ee[2]=Math.ceil(ae[2]),ee[3]=Math.ceil(ae[3]),ee},copy:M,dist:W,distance:W,div:B,divide:B,dot:K,equals:te,exactEquals:se,floor:function T(ee,ae){return ee[0]=Math.floor(ae[0]),ee[1]=Math.floor(ae[1]),ee[2]=Math.floor(ae[2]),ee[3]=Math.floor(ae[3]),ee},inverse:function O(ee,ae){return ee[0]=1/ae[0],ee[1]=1/ae[1],ee[2]=1/ae[2],ee[3]=1/ae[3],ee},len:S,length:S,lerp:U,max:function j(ee,ae,ue){return ee[0]=Math.max(ae[0],ue[0]),ee[1]=Math.max(ae[1],ue[1]),ee[2]=Math.max(ae[2],ue[2]),ee[3]=Math.max(ae[3],ue[3]),ee},min:function w(ee,ae,ue){return ee[0]=Math.min(ae[0],ue[0]),ee[1]=Math.min(ae[1],ue[1]),ee[2]=Math.min(ae[2],ue[2]),ee[3]=Math.min(ae[3],ue[3]),ee},mul:H,multiply:H,negate:function L(ee,ae){return ee[0]=-ae[0],ee[1]=-ae[1],ee[2]=-ae[2],ee[3]=-ae[3],ee},normalize:$,random:function X(ee,ae){const ue=E.R;let ge,Ee,be,ie,De,Be;ae=ae||1;do{ge=2*ue()-1,Ee=2*ue()-1,De=ge*ge+Ee*Ee}while(De>=1);do{be=2*ue()-1,ie=2*ue()-1,Be=be*be+ie*ie}while(Be>=1);const we=Math.sqrt((1-De)/Be);return ee[0]=ae*ge,ee[1]=ae*Ee,ee[2]=ae*be*we,ee[3]=ae*ie*we,ee},round:function Z(ee,ae){return ee[0]=Math.round(ae[0]),ee[1]=Math.round(ae[1]),ee[2]=Math.round(ae[2]),ee[3]=Math.round(ae[3]),ee},scale:I,scaleAndAdd:function G(ee,ae,ue,ge){return ee[0]=ae[0]+ue[0]*ge,ee[1]=ae[1]+ue[1]*ge,ee[2]=ae[2]+ue[2]*ge,ee[3]=ae[3]+ue[3]*ge,ee},set:V,sqrDist:A,sqrLen:N,squaredDistance:A,squaredLength:N,str:function ne(ee){return"vec4("+ee[0]+", "+ee[1]+", "+ee[2]+", "+ee[3]+")"},sub:P,subtract:P,transformMat4:function Y(ee,ae,ue){const ge=ae[0],Ee=ae[1],be=ae[2],ie=ae[3];return ee[0]=ue[0]*ge+ue[4]*Ee+ue[8]*be+ue[12]*ie,ee[1]=ue[1]*ge+ue[5]*Ee+ue[9]*be+ue[13]*ie,ee[2]=ue[2]*ge+ue[6]*Ee+ue[10]*be+ue[14]*ie,ee[3]=ue[3]*ge+ue[7]*Ee+ue[11]*be+ue[15]*ie,ee},transformQuat:function oe(ee,ae,ue){const ge=ae[0],Ee=ae[1],be=ae[2],ie=ue[0],De=ue[1],Be=ue[2],we=ue[3],Me=we*ge+De*be-Be*Ee,He=we*Ee+Be*ge-ie*be,xe=we*be+ie*Ee-De*ge,Xe=-ie*ge-De*Ee-Be*be;return ee[0]=Me*we+Xe*-ie+He*-Be-xe*-De,ee[1]=He*we+Xe*-De+xe*-ie-Me*-Be,ee[2]=xe*we+Xe*-Be+Me*-De-He*-ie,ee[3]=ae[3],ee}},Symbol.toStringTag,{value:"Module"}))},79516:(Ze,me,_)=>{"use strict";function E(){return[0,0,0,0]}function V(L,O,$,K){return[L,O,$,K]}function P(L,O){return new Float64Array(L,O,4)}function B(){return V(1,1,1,1)}function F(){return V(1,0,0,0)}function T(){return V(0,1,0,0)}function w(){return V(0,0,1,0)}function j(){return V(0,0,0,1)}_.d(me,{a:()=>P,c:()=>E,f:()=>V});const I=B(),G=F(),W=T(),A=w(),S=j();Object.freeze(Object.defineProperty({__proto__:null,ONES:I,UNIT_W:S,UNIT_X:G,UNIT_Y:W,UNIT_Z:A,ZEROS:[0,0,0,0],clone:function M(L){return[L[0],L[1],L[2],L[3]]},create:E,createView:P,fromArray:function x(L,O=[0,0,0,0]){const $=Math.min(4,L.length);for(let K=0;K<$;++K)O[K]=L[K];return O},fromValues:V,ones:B,unitW:j,unitX:F,unitY:T,unitZ:w,zeros:function H(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},16343:(Ze,me,_)=>{"use strict";_.d(me,{B7:()=>H,St:()=>M,VL:()=>x,h$:()=>V,rW:()=>B});const E={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function M(F){return!!E[F]||!!E[F.toLowerCase()]}function V(F){return E[F]??E[F.toLowerCase()]}function x(F){return[...V(F)]}function P(F,T,w){w<0&&++w,w>1&&--w;const j=6*w;return j<1?F+(T-F)*j:2*w<1?T:3*w<2?F+(T-F)*(2/3-w)*6:F}function H(F,T,w,j=1){const Z=(F%360+360)%360/360,I=w<=.5?w*(T+1):w+T-w*T,G=2*w-I;return[Math.round(255*P(G,I,Z+1/3)),Math.round(255*P(G,I,Z)),Math.round(255*P(G,I,Z-1/3)),j]}function B(F){const T=F.length>5,w=T?8:4,j=(1<<w)-1,Z=T?1:17,I=T?9===F.length:5===F.length;let G=+("0x"+F.substr(1));if(isNaN(G))return null;const W=[0,0,0,1];let A;return I&&(A=G&j,G>>=w,W[3]=Z*A/255),A=G&j,G>>=w,W[2]=Z*A,A=G&j,G>>=w,W[1]=Z*A,A=G&j,G>>=w,W[0]=Z*A,W}},11931:(Ze,me,_)=>{"use strict";_.d(me,{default:()=>V}),_(14007);var M=_(71763);const V={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,M.RH)(V,globalThis.esriConfig,!0),delete V.has),V.assetsPath||(V.assetsPath="https://js.arcgis.com/4.28/@arcgis/core/assets",V.defaultAssetsPath=V.assetsPath)},73514:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>le});var E=_(93300),M=_(50433),V=_(4703),x=_(51172),P=_(18178),H=_(37718),B=_(9203),T=(_(14007),_(34222)),w=_(51479),j=_(33761),Z=_(64198),I=_(60301),G=_(56295),W=_(6210);class A extends Z.s{constructor(ae,ue){super(),this.propertyName=ae,this.metadata=ue,this._accessed=null,this._handles=null,this.flags=0,this.flags=W.v.Dirty|(ue.nonNullable?W.v.NonNullable:0)|(ue.hasOwnProperty("value")?W.v.HasDefaultValue:0)|(void 0===ue.get?W.v.DepTrackingInitialized:0)|(void 0===ue.dependsOn?W.v.AutoTracked:0)}destroy(){this.flags&W.v.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(ae){(0,G.it)(this);const ue=ae.store,ge=this.propertyName,Ee=this.flags,be=ue.get(ge);if(Ee&W.v.Computing||~Ee&W.v.Dirty&&ue.has(ge))return be;this.flags|=W.v.Computing;const ie=ae.host;let De;Ee&W.v.AutoTracked?De=(0,G.LJ)(this,this.metadata.get,ie):((0,G.GF)(ie,this),De=this.metadata.get.call(ie)),ue.set(ge,De,I.s3.COMPUTED);const Be=ue.get(ge);return Be===be?this.flags&=~W.v.Dirty:(0,G.gb)(this.commit,this),this.flags&=~W.v.Computing,Be}onObservableAccessed(ae){if(ae===this)return;let ue=this._accessed;if(null==ue)ue=[],this._accessed=ue;else if(ue.includes(ae))return;ue.push(ae)}onTrackingEnd(){this._clearObservationHandles(),this.flags|=W.v.DepTrackingInitialized;const ae=this._accessed;if(null==ae||0===ae.length)return;let ue=this._handles;null==ue&&(ue=[],this._handles=ue);for(let ge=0;ge<ae.length;++ge)ue.push(ae[ge].observe(this));ae.length=0}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~W.v.Dirty,this.onCommitted()}_clearObservationHandles(){const ae=this._handles;if(null!==ae){for(let ue=0;ue<ae.length;++ue)ae[ue].remove();ae.length=0}}onInvalidated(){~this.flags&W.v.Overriden&&(this.flags|=W.v.Dirty);const ae=this._observers;if(ae&&ae.length>0)for(const ue of ae)ue.onInvalidated()}onCommitted(){const ae=this._observers;if(ae&&ae.length>0){const ue=ae.slice();for(const ge of ue)ge.onCommitted()}}}class S{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(ae){const ue=new S;return this._values.forEach((ge,Ee)=>{ae&&ae.has(Ee)||ue.set(Ee,(0,T.d9)(ge))}),ue}get(ae){return this._values.get(ae)}originOf(){return I.s3.USER}keys(){return[...this._values.keys()]}set(ae,ue){this._values.set(ae,ue)}delete(ae){this._values.delete(ae)}has(ae){return this._values.has(ae)}forEach(ae){this._values.forEach(ae)}}function N(ee,ae,ue){return void 0!==ee}function L(ee,ae,ue,ge){return!(void 0===ee||null==ue&&ee.flags&W.v.NonNullable)}V.Z.getLogger("esri.core.accessorSupport.Properties");class ${constructor(ae){this.host=ae,this.propertiesByName=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=j.F.INITIALIZING,this.store=new S,this._origin=I.s3.USER;const ue=this.host.constructor.__accessorMetadata__;for(const ge in ue){const Ee=new A(ge,ue[ge]);this.propertiesByName.set(ge,Ee)}this.metadatas=ue}initialize(){this.lifecycle=j.F.CONSTRUCTING}constructed(){this.lifecycle=j.F.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[ae,ue]of this.propertiesByName){if(ue.metadata.autoDestroy){const ge=this.internalGet(ae);ge&&(ee=ge)&&"function"==typeof ee.destroy&&(ge.destroy(),~ue.flags&W.v.NonNullable&&this._internalSet(ue,null))}ue.destroy()}var ee}get initialized(){return this.lifecycle!==j.F.INITIALIZING}get(ae){const ue=this.propertiesByName.get(ae);if(ue.metadata.get)return ue.getComputed(this);(0,G.it)(ue);const ge=this.store;return ge.has(ae)?ge.get(ae):ue.metadata.value}originOf(ae){const ue=this.store.originOf(ae);if(void 0===ue){const ge=this.propertiesByName.get(ae);if(void 0!==ge&&ge.flags&W.v.HasDefaultValue)return"defaults"}return(0,I.x3)(ue)}has(ae){return!!this.propertiesByName.has(ae)&&this.store.has(ae)}keys(){return[...this.propertiesByName.keys()]}internalGet(ae){const ue=this.propertiesByName.get(ae);if(N(ue))return this.store.has(ae)?this.store.get(ae):ue.metadata.value}internalSet(ae,ue){const ge=this.propertiesByName.get(ae);N(ge)&&this._internalSet(ge,ue)}getDependsInfo(ae,ue,ge){const Ee=this.propertiesByName.get(ue);if(!N(Ee))return"";const be=new Set,ie=(0,G.LJ)({onObservableAccessed:Be=>be.add(Be),onTrackingEnd:()=>{}},()=>Ee.metadata.get?.call(ae));let De=`${ge}${ae.declaredClass.split(".").pop()}.${ue}: ${ie}\n`;if(0===be.size)return De;ge+="  ";for(const Be of be)Be instanceof A&&(De+=`${ge}${Be.propertyName}: undefined\n`);return De}setAtOrigin(ae,ue,ge){const Ee=this.propertiesByName.get(ae);if(N(Ee))return this._setAtOrigin(Ee,ue,ge)}isOverridden(ae){const ue=this.propertiesByName.get(ae);return void 0!==ue&&!!(ue.flags&W.v.Overriden)}clearOverride(ae){const ue=this.propertiesByName.get(ae);ue&&ue.flags&W.v.Overriden&&(ue.flags&=~W.v.Overriden,ue.notifyChange())}override(ae,ue){const ge=this.propertiesByName.get(ae);if(!L(ge,0,ue))return;const Ee=ge.metadata.cast;if(Ee){const be=this._cast(Ee,ue),{valid:ie,value:De}=be;if(U.release(be),!ie)return;ue=De}ge.flags|=W.v.Overriden,this._internalSet(ge,ue)}set(ae,ue){const ge=this.propertiesByName.get(ae);if(!L(ge,0,ue))return;const Ee=ge.metadata.cast;if(Ee){const ie=this._cast(Ee,ue),{valid:De,value:Be}=ie;if(U.release(ie),!De)return;ue=Be}const be=ge.metadata.set;be?be.call(this.host,ue):this._internalSet(ge,ue)}setDefaultOrigin(ae){this._origin=(0,I.M9)(ae)}getDefaultOrigin(){return(0,I.x3)(this._origin)}notifyChange(ae){const ue=this.propertiesByName.get(ae);void 0!==ue&&ue.notifyChange()}invalidate(ae){const ue=this.propertiesByName.get(ae);void 0!==ue&&ue.invalidate()}commit(ae){const ue=this.propertiesByName.get(ae);void 0!==ue&&ue.commit()}_internalSet(ae,ue){this._setAtOrigin(ae,ue,this.lifecycle!==j.F.INITIALIZING?this._origin:I.s3.DEFAULTS)}_setAtOrigin(ae,ue,ge){const Ee=this.store,be=ae.propertyName;Ee.has(be,ge)&&(0,T.fS)(ue,Ee.get(be))&&~ae.flags&W.v.Overriden&&ge===Ee.originOf(be)||(ae.invalidate(),Ee.set(be,ue,ge),ae.commit(),(0,G.mS)(this.host,ae))}_cast(ae,ue){const ge=U.acquire();return ge.valid=!0,ge.value=ue,ae&&(ge.value=ae.call(this.host,ue,ge)),ge}}const U=new w.Z(class K{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var X=_(39189);var se,ee;(ee=se||(se={}))[ee.Ignore=0]="Ignore",ee[ee.Destroy=1]="Destroy",ee[ee.ThrowError=2]="ThrowError";var Q,pe,te=_(12926),k=_(80543),re=_(10141);function fe(ee){if(null==ee)return{value:ee};if(Array.isArray(ee))return{type:[ee[0]],value:null};switch(typeof ee){case"object":return ee.constructor?.__accessorMetadata__||ee instanceof Date?{type:ee.constructor,value:ee}:ee;case"boolean":return{type:Boolean,value:ee};case"string":return{type:String,value:ee};case"number":return{type:Number,value:ee};case"function":return{type:ee,value:null};default:return}}const ce=Symbol("Accessor-Handles"),q=Symbol("Accessor-Initialized");class le{static createSubclass(ae={}){if(Array.isArray(ae))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:ue,declaredClass:ge,constructor:Ee}=ae;delete ae.declaredClass,delete ae.properties,delete ae.constructor;const be=this;class ie extends be{constructor(...Be){super(...Be),this.inherited=null,Ee&&Ee.apply(this,Be)}}(0,B.fp)(ie.prototype);for(const De in ae){const Be=ae[De];ie.prototype[De]="function"==typeof Be?function(...we){const Me=this.inherited;let He;this.inherited=function(...xe){if(be.prototype[De])return be.prototype[De].apply(this,xe)};try{He=Be.apply(this,we)}catch(xe){throw this.inherited=Me,xe}return this.inherited=Me,He}:ae[De]}for(const De in ue){const Be=fe(ue[De]);(0,k.Cb)(Be)(ie.prototype,De)}return(0,re.j)(ge)(ie)}constructor(...ae){if(this[Q]=null,this[pe]=!1,this.constructor===le)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const ue=new $(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:ue}),ae.length>0&&this.normalizeCtorArgs&&(ue.ctorArgs=this.normalizeCtorArgs.apply(this,ae))}postscript(ae){const ue=this.__accessor__,ge=ue.ctorArgs||ae;ue.initialize(),ge&&(this.set(ge),ue.ctorArgs=null),ue.constructed(),this.initialize(),this[q]=!0}initialize(){}[P.l](){this[ce]=(0,x.SC)(this[ce])}destroy(){this.destroyed||((0,te.BT)(this),this.__accessor__.destroy())}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[q]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(ae){(0,H.U2)(this,ae)}get(ae){return(0,E.XV)(V.Z.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),(0,H.U2)(this,ae)}hasOwnProperty(ae){return this.__accessor__?this.__accessor__.has(ae):Object.prototype.hasOwnProperty.call(this,ae)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(ae,ue){return(0,X.t)(this,ae,ue),this}watch(ae,ue,ge){return(0,te.YP)(this,ae,ue,ge)}addHandles(ae,ue){if(this.destroyed){const Ee=Array.isArray(ae)?ae:[ae];for(const be of Ee)be.remove();return}let ge=this[ce];null==ge&&(ge=this[ce]=new M.Z),ge.add(ae,ue)}removeHandles(ae){const ue=this[ce];ue?.remove(ae)}removeAllHandles(){const ae=this[ce];ae?.removeAll()}hasHandles(ae){const ue=this[ce];return null!=ue&&ue.has(ae)}_override(ae,ue){void 0===ue?this.__accessor__.clearOverride(ae):this.__accessor__.override(ae,ue)}_clearOverride(ae){return this.__accessor__.clearOverride(ae)}_overrideIfSome(ae,ue){null==ue?this.__accessor__.clearOverride(ae):this.__accessor__.override(ae,ue)}_isOverridden(ae){return this.__accessor__.isOverridden(ae)}notifyChange(ae){this.__accessor__.notifyChange(ae)}_get(ae){return this.__accessor__.internalGet(ae)}_set(ae,ue){return this.__accessor__.internalSet(ae,ue),this}}Q=ce,pe=q},11667:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>V});var E=_(51479);function M(P){P.length=0}class V{constructor(H=50,B=50){this._pool=new E.Z(Array,void 0,M,B,H)}acquire(){return this._pool.acquire()}release(H){this._pool.release(H)}prune(){this._pool.prune(0)}static acquire(){return x.acquire()}static release(H){return x.release(H)}static prune(){x.prune()}}const x=new V(100)},25387:(Ze,me,_)=>{"use strict";_.d(me,{J:()=>w,j:()=>j});var E=_(50484),M=_(73514),x=(_(14007),_(34222)),H=(_(4703),_(51172)),B=_(60301),F=_(49301),T=_(10141);const w=Z=>{let I=class extends Z{clone(){const G=(0,F.vw)(this);(0,H.O3)(G,"unable to clone instance of non-accessor class");const W=G.metadatas,A=G.store,S={},N=new Map;for(const O in W){const $=W[O],K=A?.originOf(O),U=$.clonable;if($.readOnly||!1===U||K!==B.s3.USER&&K!==B.s3.DEFAULTS&&K!==B.s3.WEB_MAP&&K!==B.s3.WEB_SCENE)continue;const X=this[O];let Y=null;Y="function"==typeof U?U(X):"reference"===U?X:(0,x.Vo)(X),null!=X&&null==Y||(K===B.s3.DEFAULTS?N.set(O,Y):S[O]=Y)}const L=new(Object.getPrototypeOf(this).constructor)(S);if(N.size){const O=(0,F.vw)(L)?.store;if(O)for(const[$,K]of N)O.set($,K,B.s3.DEFAULTS)}return L}};return I=(0,E._)([(0,T.j)("esri.core.Clonable")],I),I};let j=class extends(w(M.Z)){};j=(0,E._)([(0,T.j)("esri.core.Clonable")],j)},83944:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>te});var B,k,E=_(50484),M=_(11667),V=_(88278),x=_(1258),P=_(34222),H=_(51479);(k=B||(B={}))[k.ADD=1]="ADD",k[k.REMOVE=2]="REMOVE",k[k.MOVE=4]="MOVE";var W,F=_(66679),T=_(1535),w=_(56295),j=_(80543),Z=_(63788),I=_(10141),G=_(19994);class S{constructor(re,Q,pe,fe,ce){this.target=re,this.added=Q,this.removed=pe,this.start=fe,this.deleteCount=ce}}const N=new H.Z(class A{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(re){this.defaultPrevented=!1,this.item=re}},void 0,k=>{k.item=null,k.target=null,k.defaultPrevented=!1,k.cancellable=!1});function L(k){return k?k instanceof se?k.toArray():k.length?Array.prototype.slice.apply(k):[]:[]}function O(k){if(k?.length)return k[0]}function $(k,re,Q,pe){const fe=Math.min(k.length-Q,re.length-pe);let ce=0;for(;ce<fe&&k[Q+ce]===re[pe+ce];)ce++;return ce}function K(k,re,Q,pe){re&&re.forEach((fe,ce,q)=>{k.push(fe),K(k,Q.call(pe,fe,ce,q),Q,pe)})}const U=new Set,X=new Set,Y=new Set,oe=new Map;let ne=0,se=W=class extends V.Z.EventedAccessor{static isCollection(k){return null!=k&&k instanceof W}constructor(k){super(k),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new G.s,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:ne++})}normalizeCtorArgs(k){return k?Array.isArray(k)||k instanceof W?{items:k}:k:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return(0,w.it)(this._observable),this._items}set items(k){this._emitBeforeChanges(B.ADD)||(this._splice(0,this.length,L(k)),this._emitAfterChanges(B.ADD))}hasEventListener(k){return"change"===k?this._chgListeners.length>0:this._emitter.hasEventListener(k)}on(k,re){if("change"===k){const Q=this._chgListeners,pe={removed:!1,callback:re};return Q.push(pe),this._notifications&&this._notifications.push({listeners:Q.slice(),items:this._items.slice(),changes:[]}),(0,x.kB)(()=>{pe.removed=!0,Q.splice(Q.indexOf(pe),1)})}return this._emitter.on(k,re)}once(k,re){const Q="deref"in re?()=>re.deref():()=>re,pe=this.on(k,fe=>{Q()?.call(null,fe),pe.remove()});return pe}add(k,re){if((0,w.it)(this._observable),this._emitBeforeChanges(B.ADD))return this;const Q=this.getNextIndex(re??null);return this._splice(Q,0,[k]),this._emitAfterChanges(B.ADD),this}addMany(k,re=this._items.length){if((0,w.it)(this._observable),!k?.length)return this;if(this._emitBeforeChanges(B.ADD))return this;const Q=this.getNextIndex(re);return this._splice(Q,0,L(k)),this._emitAfterChanges(B.ADD),this}at(k){if((0,w.it)(this._observable),(k=Math.trunc(k)||0)<0&&(k+=this.length),!(k<0||k>=this.length))return this._items[k]}removeAll(){if((0,w.it)(this._observable),!this.length||this._emitBeforeChanges(B.REMOVE))return[];const k=this._removeAllRaw();return this._emitAfterChanges(B.REMOVE),k}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,w.it)(this._observable),this._createNewInstance({items:this._items.map(P.d9)})}concat(...k){(0,w.it)(this._observable);const re=k.map(L);return this._createNewInstance({items:this._items.concat(...re)})}drain(k,re){if((0,w.it)(this._observable),!this.length||this._emitBeforeChanges(B.REMOVE))return;const Q=this._splice(0,this.length),pe=Q.length;for(let fe=0;fe<pe;fe++)k.call(re,Q[fe],fe,Q);this._emitAfterChanges(B.REMOVE)}every(k,re){return(0,w.it)(this._observable),this._items.every(k,re)}filter(k,re){let Q;return(0,w.it)(this._observable),Q=2===arguments.length?this._items.filter(k,re):this._items.filter(k),this._createNewInstance({items:Q})}find(k,re){return(0,w.it)(this._observable),this._items.find(k,re)}findIndex(k,re){return(0,w.it)(this._observable),this._items.findIndex(k,re)}flatten(k,re){(0,w.it)(this._observable);const Q=[];return K(Q,this,k,re),new W(Q)}forEach(k,re){return(0,w.it)(this._observable),this._items.forEach(k,re)}getItemAt(k){return(0,w.it)(this._observable),this._items[k]}getNextIndex(k){(0,w.it)(this._observable);const re=this.length;return(k=k??re)<0?k=0:k>re&&(k=re),k}includes(k,re=0){return(0,w.it)(this._observable),this._items.includes(k,re)}indexOf(k,re=0){return(0,w.it)(this._observable),this._items.indexOf(k,re)}join(k=","){return(0,w.it)(this._observable),this._items.join(k)}lastIndexOf(k,re=this.length-1){return(0,w.it)(this._observable),this._items.lastIndexOf(k,re)}map(k,re){(0,w.it)(this._observable);const Q=this._items.map(k,re);return new W({items:Q})}reorder(k,re=this.length-1){(0,w.it)(this._observable);const Q=this.indexOf(k);if(-1!==Q){if(re<0?re=0:re>=this.length&&(re=this.length-1),Q!==re){if(this._emitBeforeChanges(B.MOVE))return k;this._splice(Q,1),this._splice(re,0,[k]),this._emitAfterChanges(B.MOVE)}return k}}pop(){if((0,w.it)(this._observable),!this.length||this._emitBeforeChanges(B.REMOVE))return;const k=O(this._splice(this.length-1,1));return this._emitAfterChanges(B.REMOVE),k}push(...k){return(0,w.it)(this._observable),this._emitBeforeChanges(B.ADD)||(this._splice(this.length,0,k),this._emitAfterChanges(B.ADD)),this.length}reduce(k,re){(0,w.it)(this._observable);const Q=this._items;return 2===arguments.length?Q.reduce(k,re):Q.reduce(k)}reduceRight(k,re){(0,w.it)(this._observable);const Q=this._items;return 2===arguments.length?Q.reduceRight(k,re):Q.reduceRight(k)}remove(k){return(0,w.it)(this._observable),this.removeAt(this.indexOf(k))}removeAt(k){if((0,w.it)(this._observable),k<0||k>=this.length||this._emitBeforeChanges(B.REMOVE))return;const re=O(this._splice(k,1));return this._emitAfterChanges(B.REMOVE),re}removeMany(k){if((0,w.it)(this._observable),!k?.length||this._emitBeforeChanges(B.REMOVE))return[];const re=k instanceof W?k.toArray():k,Q=this._items,pe=[],fe=re.length;for(let ce=0;ce<fe;ce++){const le=Q.indexOf(re[ce]);if(le>-1){const ee=1+$(re,Q,ce+1,le+1),ae=this._splice(le,ee);ae&&ae.length>0&&pe.push.apply(pe,ae),ce+=ee-1}}return this._emitAfterChanges(B.REMOVE),pe}reverse(){if((0,w.it)(this._observable),this._emitBeforeChanges(B.MOVE))return this;const k=this._splice(0,this.length);return k&&(k.reverse(),this._splice(0,0,k)),this._emitAfterChanges(B.MOVE),this}shift(){if((0,w.it)(this._observable),!this.length||this._emitBeforeChanges(B.REMOVE))return;const k=O(this._splice(0,1));return this._emitAfterChanges(B.REMOVE),k}slice(k=0,re=this.length){return(0,w.it)(this._observable),this._createNewInstance({items:this._items.slice(k,re)})}some(k,re){return(0,w.it)(this._observable),this._items.some(k,re)}sort(k){if((0,w.it)(this._observable),!this.length||this._emitBeforeChanges(B.MOVE))return this;const re=this._splice(0,this.length);return arguments.length?re.sort(k):re.sort(),this._splice(0,0,re),this._emitAfterChanges(B.MOVE),this}splice(k,re,...Q){(0,w.it)(this._observable);const pe=(re?B.REMOVE:0)|(Q.length?B.ADD:0);if(this._emitBeforeChanges(pe))return[];const fe=this._splice(k,re,Q)||[];return this._emitAfterChanges(pe),fe}toArray(){return(0,w.it)(this._observable),this._items.slice()}toJSON(){return(0,w.it)(this._observable),this.toArray()}toLocaleString(){return(0,w.it)(this._observable),this._items.toLocaleString()}toString(){return(0,w.it)(this._observable),this._items.toString()}unshift(...k){return(0,w.it)(this._observable),!k.length||this._emitBeforeChanges(B.ADD)||(this._splice(0,0,k),this._emitAfterChanges(B.ADD)),this.length}_createNewInstance(k){return new this.constructor(k)}_splice(k,re,Q){const pe=this._items,fe=this.itemType;let ce,q;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,F.Os)(()=>this._dispatchChange())),k<0&&(k+=this.length),re){if(q=pe.splice(k,re),this.hasEventListener("before-remove")){const le=N.acquire();le.target=this,le.cancellable=!0;for(let ee=0,ae=q.length;ee<ae;ee++)ce=q[ee],le.reset(ce),this.emit("before-remove",le),le.defaultPrevented&&(q.splice(ee,1),pe.splice(k,0,ce),k+=1,ee-=1,ae-=1);N.release(le)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const le=N.acquire();le.target=this,le.cancellable=!1;const ee=q.length;for(let ae=0;ae<ee;ae++)le.reset(q[ae]),this.emit("after-remove",le);N.release(le)}}if(Q?.length){if(fe){const ue=[];for(const ge of Q){const Ee=fe.ensureType(ge);null==Ee&&null!=ge||ue.push(Ee)}Q=ue}const le=this.hasEventListener("before-add"),ee=this.hasEventListener("after-add"),ae=k===this.length;if(le||ee){const ue=N.acquire();ue.target=this,ue.cancellable=!0;const ge=N.acquire();ge.target=this,ge.cancellable=!1;for(const Ee of Q)le?(ue.reset(Ee),this.emit("before-add",ue),ue.defaultPrevented||(ae?pe.push(Ee):pe.splice(k++,0,Ee),this._set("length",pe.length),ee&&(ge.reset(Ee),this.emit("after-add",ge)))):(ae?pe.push(Ee):pe.splice(k++,0,Ee),this._set("length",pe.length),ge.reset(Ee),this.emit("after-add",ge));N.release(ge),N.release(ue)}else{if(ae)for(const ue of Q)pe.push(ue);else pe.splice(k,0,...Q);this._set("length",pe.length)}}if((Q?.length||q?.length)&&this._notifyChangeEvent(Q,q),this.hasEventListener("after-splice")){const le=new S(this,Q,q,k,re);this.emit("after-splice",le)}return q}_emitBeforeChanges(k){let re=!1;if(this.hasEventListener("before-changes")){const Q=N.acquire();Q.target=this,Q.cancellable=!0,Q.type=k,this.emit("before-changes",Q),re=Q.defaultPrevented,N.release(Q)}return re}_emitAfterChanges(k){if(this.hasEventListener("after-changes")){const re=N.acquire();re.target=this,re.cancellable=!1,re.type=k,this.emit("after-changes",re),N.release(re)}this._observable.notify()}_notifyChangeEvent(k,re){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:k,removed:re})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const k=this._notifications;this._notifications=null;for(const re of k){const Q=re.changes;U.clear(),X.clear(),Y.clear();for(const{added:ee,removed:ae}of Q){if(ee)if(0===Y.size&&0===X.size)for(const ue of ee)U.add(ue);else for(const ue of ee)X.has(ue)?(Y.add(ue),X.delete(ue)):Y.has(ue)||U.add(ue);if(ae)if(0===Y.size&&0===U.size)for(const ue of ae)X.add(ue);else for(const ue of ae)U.has(ue)?U.delete(ue):(Y.delete(ue),X.add(ue))}const pe=M.Z.acquire();U.forEach(ee=>{pe.push(ee)});const fe=M.Z.acquire();X.forEach(ee=>{fe.push(ee)});const ce=this._items,q=re.items,le=M.Z.acquire();if(Y.forEach(ee=>{q.indexOf(ee)!==ce.indexOf(ee)&&le.push(ee)}),re.listeners&&(pe.length||fe.length||le.length)){const ee={target:this,added:pe,removed:fe,moved:le},ae=re.listeners.length;for(let ue=0;ue<ae;ue++){const ge=re.listeners[ue];ge.removed||ge.callback.call(this,ee)}}M.Z.release(pe),M.Z.release(fe),M.Z.release(le)}U.clear(),X.clear(),Y.clear()}};se.ofType=k=>{if(!k)return W;if(oe.has(k))return oe.get(k);let re=null;if("function"==typeof k)re=k.prototype.declaredClass;else if(k.base)re=k.base.prototype.declaredClass;else for(const pe in k.typeMap){const fe=k.typeMap[pe].prototype.declaredClass;re?re+=` | ${fe}`:re=fe}let Q=class extends W{};return(0,E._)([(0,Z.c)({Type:k,ensureType:"function"==typeof k?(0,T.se)(k):(0,T.N7)(k)})],Q.prototype,"itemType",void 0),Q=(0,E._)([(0,I.j)(`esri.core.Collection<${re}>`)],Q),oe.set(k,Q),Q},(0,E._)([(0,j.Cb)()],se.prototype,"length",void 0),(0,E._)([(0,j.Cb)()],se.prototype,"items",null),se=W=(0,E._)([(0,I.j)("esri.core.Collection")],se);const te=se},5603:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var E=_(50484),M=_(83944),B=(_(37636),_(57964),_(4703),_(12926),_(43571)),F=_(80543),T=_(10141);let w=class extends M.Z{constructor(Z){super(Z),this.getCollections=null}initialize(){this.addHandles((0,B.EH)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const Z=null!=this.getCollections?this.getCollections():null;if(null==Z)return void this.removeAll();let I=0;for(const G of Z)null!=G&&(I=this._processCollection(I,G));this.splice(I,this.length)}_createNewInstance(Z){return new M.Z(Z)}_processCollection(Z,I){if(!I)return Z;const G=this.itemFilterFunction??(W=>!!W);for(const W of I)if(W){if(G(W)){const A=this.indexOf(W,Z);A>=0?A!==Z&&this.reorder(W,Z):this.add(W,Z),++Z}if(this.getChildrenFunction){const A=this.getChildrenFunction(W);if(Array.isArray(A))for(const S of A)Z=this._processCollection(Z,S);else Z=this._processCollection(Z,A)}}return Z}};(0,E._)([(0,F.Cb)()],w.prototype,"getCollections",void 0),(0,E._)([(0,F.Cb)()],w.prototype,"getChildrenFunction",void 0),(0,E._)([(0,F.Cb)()],w.prototype,"itemFilterFunction",void 0),w=(0,E._)([(0,T.j)("esri.core.CollectionFlattener")],w);const j=w},32017:(Ze,me,_)=>{"use strict";_.d(me,{BV:()=>H});var E=_(55117);class M{constructor(F,T){this.min=F,this.max=T,this.range=T-F}ndiff(F,T=0){return Math.ceil((F-T)/this.range)*this.range+T}_normalize(F,T,w,j=0,Z=!1){return(w-=j)<F?w+=this.ndiff(F-w):w>T&&(w-=this.ndiff(w-T)),Z&&w===T&&(w=F),w+j}normalize(F,T=0,w=!1){return this._normalize(this.min,this.max,F,T,w)}clamp(F,T=0){return(0,E.uZ)(F-T,this.min,this.max)+T}monotonic(F,T,w){return F<T?T:T+this.ndiff(F-T,w)}minimalMonotonic(F,T,w){return this._normalize(F,F+this.range,T,w)}center(F,T,w){return T=this.monotonic(F,T,w),this.normalize((F+T)/2,w)}diff(F,T,w){return this.monotonic(F,T,w)-F}shortestSignedDiff(F,T){F=this.normalize(F);const w=(T=this.normalize(T))-F,j=T<F?this.minimalMonotonic(F,T)-F:T-this.minimalMonotonic(T,F);return Math.abs(w)<Math.abs(j)?w:j}contains(F,T,w){return T=this.minimalMonotonic(F,T),(w=this.minimalMonotonic(F,w))>F&&w<T}}function V(B){for(const F in B){const T=B[F];T instanceof Function&&(B[F]=T.bind(B))}return B}V(new M(0,2*Math.PI)),V(new M(-Math.PI,Math.PI));const H=V(new M(0,360))},57964:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>x});var E=_(34222),M=_(4703),V=_(25764);class x extends V.Z{constructor(H,B,F){super(H,B,F)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(H,B)=>{if(B&&"object"==typeof B&&"function"==typeof B.toJSON)return B;try{return(0,E.d9)(B)}catch{return"[object]"}}))}}catch(H){throw M.Z.getLogger("esri.core.Error").error(H),H}return{name:this.name,message:this.message,details:this.details}}static fromJSON(H){return new x(H.name,H.message,H.details)}}x.prototype.type="error"},88278:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>H});var E=_(50484),M=_(73514),V=_(1258),x=_(10141);class P{constructor(){this._emitter=new P.EventEmitter(this)}emit(F,T){return this._emitter.emit(F,T)}on(F,T){return this._emitter.on(F,T)}once(F,T){return this._emitter.once(F,T)}hasEventListener(F){return this._emitter.hasEventListener(F)}}!function(B){class F{constructor(j=null){this._target=j,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(j,Z){let I=this._listenersMap?.get(j);if(!I)return!1;const G=this._target||this;let W=!1;for(const A of I.slice()){const S="deref"in A?A.deref():A;S?S?.call(G,Z):W=!0}return W&&(I=I.filter(A=>!("deref"in A)||null!=A.deref()),this._listenersMap.set(j,I)),I.length>0}on(j,Z){if(Array.isArray(j)){const G=j.map(W=>this.on(W,Z));return(0,V.AL)(G)}if(j.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const I=this._listenersMap.get(j)||[];return I.push(Z),this._listenersMap.set(j,I),(0,V.kB)(()=>{const G=this._listenersMap?.get(j),W=G?.indexOf(Z)??-1;W>=0&&G.splice(W,1)})}once(j,Z){const I=this.on(j,G=>{I.remove(),("deref"in Z?Z.deref():Z)?.call(null,G)});return I}hasEventListener(j){const Z=this._listenersMap?.get(j);return null!=Z&&Z.length>0}}B.EventEmitter=F,B.EventedMixin=w=>{let j=class extends w{constructor(){super(...arguments),this._emitter=new F}destroy(){this._emitter.clear()}emit(Z,I){return this._emitter.emit(Z,I)}on(Z,I){return this._emitter.on(Z,I)}once(Z,I){return this._emitter.once(Z,I)}hasEventListener(Z){return this._emitter.hasEventListener(Z)}};return j=(0,E._)([(0,x.j)("esri.core.Evented")],j),j};let T=class extends M.Z{constructor(){super(...arguments),this._emitter=new P.EventEmitter(this)}destroy(){this._emitter.clear()}emit(w,j){return this._emitter.emit(w,j)}on(w,j){return this._emitter.on(w,j)}once(w,j){return this._emitter.once(w,j)}hasEventListener(w){return this._emitter.hasEventListener(w)}};T=(0,E._)([(0,x.j)("esri.core.Evented")],T),B.EventedAccessor=T}(P||(P={}));const H=P},50433:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>M});var E=_(44242);class M{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let x=0;return this._groups.forEach(P=>{x+=P.length}),x}add(x,P){if((0,E.TW)(x)){const H=this._getOrCreateGroup(P);for(const B of x)this._isHandle(B)&&H.push(B)}else this._isHandle(x)&&this._getOrCreateGroup(P).push(x);return this}forEach(x,P){if("function"==typeof x)this._groups.forEach(H=>H.forEach(x));else{const H=this._getGroup(x);H&&P&&H.forEach(P)}}has(x){return this._groups.has(this._ensureGroupKey(x))}remove(x){if("string"!=typeof x&&(0,E.TW)(x)){for(const P of x)this.remove(P);return this}return this.has(x)?(this._removeAllFromGroup(this._getGroup(x)),this._groups.delete(this._ensureGroupKey(x)),this):this}removeAll(){return this._groups.forEach(x=>this._removeAllFromGroup(x)),this._groups.clear(),this}_isHandle(x){return x&&(!!x.remove||x instanceof M)}_getOrCreateGroup(x){if(this.has(x))return this._getGroup(x);const P=[];return this._groups.set(this._ensureGroupKey(x),P),P}_getGroup(x){return this._groups.get(this._ensureGroupKey(x))}_ensureGroupKey(x){return x||"_default_"}_removeAllFromGroup(x){for(const P of x)P instanceof M?P.removeAll():P.remove()}}},84373:(Ze,me,_)=>{"use strict";_.d(me,{IG:()=>x,iv:()=>P});var E=_(50484),M=_(10141);let V=0;const x=B=>{let F=class extends B{constructor(...T){super(...T),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+V++})}};return F=(0,E._)([(0,M.j)("esri.core.Identifiable")],F),F},P=B=>{let F=class extends B{constructor(...T){super(...T),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:V++})}};return F=(0,E._)([(0,M.j)("esri.core.NumericIdentifiable")],F),F};let H=class extends(x(class{})){};H=(0,E._)([(0,M.j)("esri.core.Identifiable")],H)},89317:(Ze,me,_)=>{"use strict";_.d(me,{wq:()=>W,eC:()=>Z,AK:()=>G});var E=_(50484),M=_(73514),V=_(34222),x=_(60301);class P{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(S){const N=new P;return this._values.forEach((L,O)=>{S&&S.has(O)||N.set(O,(0,V.d9)(L.value),L.origin)}),N}get(S,N){N=this._normalizeOrigin(N);const L=this._values.get(S);return null==N||L?.origin===N?L?.value:void 0}originOf(S){return this._values.get(S)?.origin??x.s3.USER}keys(S){S=this._normalizeOrigin(S);const N=[...this._values.keys()];return null==S?N:N.filter(L=>this._values.get(L)?.origin===S)}set(S,N,L){if((L=this._normalizeOrigin(L))===x.s3.DEFAULTS){const O=this._values.get(S);if(null!=O?.origin&&O.origin>L)return}this._values.set(S,new H(N,L))}delete(S,N){null!=(N=this._normalizeOrigin(N))&&this._values.get(S)?.origin!==N||this._values.delete(S)}has(S,N){return null!=(N=this._normalizeOrigin(N))?this._values.get(S)?.origin===N:this._values.has(S)}forEach(S){this._values.forEach(({value:N},L)=>S(N,L))}_normalizeOrigin(S){if(null!=S)return S===x.s3.DEFAULTS?S:x.s3.USER}}class H{constructor(S,N){this.value=S,this.origin=N}}var B=_(44469),F=_(68090),T=_(49301),w=_(82206),j=_(10141);const Z=A=>{let S=class extends A{constructor(...N){super(...N);const L=(0,T.vw)(this),O=L.store,$=new P;L.store=$,(0,B.M)(L,O,$)}read(N,L){(0,F.i)(this,N,L)}write(N,L){return(0,w.c)(this,N??{},L)}toJSON(N){return this.write({},N)}static fromJSON(N,L){return I.call(this,N,L)}};return S=(0,E._)([(0,j.j)("esri.core.JSONSupport")],S),S.prototype.toJSON.isDefaultToJSON=!0,S};function I(A,S){if(!A)return null;if(A.declaredClass)throw new Error("JSON object is already hydrated");const N=new this;return N.read(A,S),N}function G(A){return A&&"object"==typeof A&&"toJSON"in A&&"function"==typeof A.toJSON}let W=class extends(Z(M.Z)){};W=(0,E._)([(0,j.j)("esri.core.JSONSupport")],W)},52540:(Ze,me,_)=>{"use strict";_.d(me,{z:()=>M});var E=_(39921);class M{constructor(x,P){this._storage=new E.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=x,this._storage.register(this),P&&this._storage.registerRemoveFunc("",P)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(x,P,H=1){this._storage.put(this,x,P,H,1)}pop(x){return this._storage.pop(this,x)}get(x){return this._storage.get(this,x)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(x){this._storage.maxSize=x}resetHitRate(){}}},67016:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>W});var E=_(50484),M=_(57964),V=_(51172),x=_(47868),P=_(79412),H=_(23206),B=_(80543),F=_(10141);const Z="loaded",I=A=>{let S=class extends A{constructor(...N){super(...N),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(L=>{const O=this.load.bind(this);this.load=$=>{const K=new Promise((U,X)=>{const Y=(0,P.$F)($,X);this.destroyed&&X(new M.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(U,X).finally(()=>{Y&&Y.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const U=this._loadController=new AbortController;O({signal:U.signal})}return L(),K}})),this.when(()=>{this._set("loadStatus",Z),this._loadController=null},L=>{this._set("loadStatus","failed"),this._set("loadError",L),this._loadController=null})}destroy(){this._loadController&&(this._loadController=(0,V.IM)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===Z}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new M.Z("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,E._)([(0,B.Cb)({readOnly:!0})],S.prototype,"loaded",null),(0,E._)([(0,B.Cb)({readOnly:!0})],S.prototype,"loadError",void 0),(0,E._)([(0,B.Cb)({clonable:!1})],S.prototype,"loadStatus",void 0),(0,E._)([(0,B.Cb)({type:[H.Z],readOnly:!0})],S.prototype,"loadWarnings",null),S=(0,E._)([(0,F.j)("esri.core.Loadable")],S),S};let G=class extends(I(x.D)){};var A;G=(0,E._)([(0,F.j)("esri.core.Loadable")],G),(A=G||(G={})).LoadableMixin=I,A.isLoadable=function S(N){return!(!N||!N.load)};const W=G},4703:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>P});var E=_(11931),V=(_(14007),_(72578));const x={info:0,warn:1,error:2,none:3};class P{constructor(B){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=B.level&&(this.level=B.level),null!=B.writer&&(this.writer=B.writer),this._module=B.module,P._loggers.set(this.module,this);const F=this.module.lastIndexOf(".");-1!==F&&(this._parent=P.getLogger(this.module.slice(0,F)))}get module(){return this._module}get parent(){return this._parent}error(...B){this._log("error","always",...B)}warn(...B){this._log("warn","always",...B)}info(...B){this._log("info","always",...B)}errorOnce(...B){this._log("error","once",...B)}warnOnce(...B){this._log("warn","once",...B)}infoOnce(...B){this._log("info","once",...B)}errorOncePerTick(...B){this._log("error","oncePerTick",...B)}warnOncePerTick(...B){this._log("warn","oncePerTick",...B)}infoOncePerTick(...B){this._log("info","oncePerTick",...B)}get test(){const B=this;return{loggedMessages:B._loggedMessages,clearLoggedWarnings:()=>B._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(B=new Map){const F=P._loggers;return P._loggers=B,F},set throttlingDisabled(B){P._throttlingDisabled=B}}}static getLogger(B){return P._loggers.get(B="string"!=typeof B?B.declaredClass:B)||new P({module:B})}_log(B,F,...T){if(this._matchLevel(B)){if("always"!==F&&!P._throttlingDisabled){const w=this._argsToKey(T),j=this._loggedMessages[B].get(w);if("once"===F&&null!=j||"oncePerTick"===F&&j&&j>=P._tickCounter)return;this._loggedMessages[B].set(w,P._tickCounter),P._scheduleTickCounterIncrement()}for(const w of E.default.log.interceptors)if(w(B,this.module,...T))return;this._inheritedWriter()(B,this.module,...T)}}_parentWithMember(B,F){let T=this;for(;null!=T;){const w=T[B];if(null!=w)return w;T=T.parent}return F}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(B,F,...T){console[B](`[${F}]`,...T)}_matchLevel(B){return x[this._parentWithMember("level",E.default.log.level||"warn")]<=x[B]}_argsToKey(...B){return(0,V.hP)(JSON.stringify(B,(T,w)=>"object"!=typeof w||Array.isArray(w)?w:"[Object]"))}static _scheduleTickCounterIncrement(){P._tickCounterScheduled||(P._tickCounterScheduled=!0,Promise.resolve().then(()=>{P._tickCounter++,P._tickCounterScheduled=!1}))}}P._loggers=new Map,P._tickCounter=0,P._tickCounterScheduled=!1,P._throttlingDisabled=!1},19799:(Ze,me,_)=>{"use strict";_.d(me,{F:()=>A,M:()=>E});const E={Base64:0,Hex:1,String:2,Raw:3},M=8,V=(1<<M)-1;function x(S,N){const L=(65535&S)+(65535&N);return(S>>16)+(N>>16)+(L>>16)<<16|65535&L}function w(S,N,L,O,$,K){return x(function T(S,N){return S<<N|S>>>32-N}(x(x(N,S),x(O,K)),$),L)}function j(S,N,L,O,$,K,U){return w(N&L|~N&O,S,N,$,K,U)}function Z(S,N,L,O,$,K,U){return w(N&O|L&~O,S,N,$,K,U)}function I(S,N,L,O,$,K,U){return w(N^L^O,S,N,$,K,U)}function G(S,N,L,O,$,K,U){return w(L^(N|~O),S,N,$,K,U)}function A(S,N=E.Hex){const L=N||E.Base64,O=function W(S,N){S[N>>5]|=128<<N%32,S[14+(N+64>>>9<<4)]=N;let L=1732584193,O=-271733879,$=-1732584194,K=271733878;for(let U=0;U<S.length;U+=16){const X=L,Y=O,oe=$,ne=K;L=j(L,O,$,K,S[U],7,-680876936),K=j(K,L,O,$,S[U+1],12,-389564586),$=j($,K,L,O,S[U+2],17,606105819),O=j(O,$,K,L,S[U+3],22,-1044525330),L=j(L,O,$,K,S[U+4],7,-176418897),K=j(K,L,O,$,S[U+5],12,1200080426),$=j($,K,L,O,S[U+6],17,-1473231341),O=j(O,$,K,L,S[U+7],22,-45705983),L=j(L,O,$,K,S[U+8],7,1770035416),K=j(K,L,O,$,S[U+9],12,-1958414417),$=j($,K,L,O,S[U+10],17,-42063),O=j(O,$,K,L,S[U+11],22,-1990404162),L=j(L,O,$,K,S[U+12],7,1804603682),K=j(K,L,O,$,S[U+13],12,-40341101),$=j($,K,L,O,S[U+14],17,-1502002290),O=j(O,$,K,L,S[U+15],22,1236535329),L=Z(L,O,$,K,S[U+1],5,-165796510),K=Z(K,L,O,$,S[U+6],9,-1069501632),$=Z($,K,L,O,S[U+11],14,643717713),O=Z(O,$,K,L,S[U],20,-373897302),L=Z(L,O,$,K,S[U+5],5,-701558691),K=Z(K,L,O,$,S[U+10],9,38016083),$=Z($,K,L,O,S[U+15],14,-660478335),O=Z(O,$,K,L,S[U+4],20,-405537848),L=Z(L,O,$,K,S[U+9],5,568446438),K=Z(K,L,O,$,S[U+14],9,-1019803690),$=Z($,K,L,O,S[U+3],14,-187363961),O=Z(O,$,K,L,S[U+8],20,1163531501),L=Z(L,O,$,K,S[U+13],5,-1444681467),K=Z(K,L,O,$,S[U+2],9,-51403784),$=Z($,K,L,O,S[U+7],14,1735328473),O=Z(O,$,K,L,S[U+12],20,-1926607734),L=I(L,O,$,K,S[U+5],4,-378558),K=I(K,L,O,$,S[U+8],11,-2022574463),$=I($,K,L,O,S[U+11],16,1839030562),O=I(O,$,K,L,S[U+14],23,-35309556),L=I(L,O,$,K,S[U+1],4,-1530992060),K=I(K,L,O,$,S[U+4],11,1272893353),$=I($,K,L,O,S[U+7],16,-155497632),O=I(O,$,K,L,S[U+10],23,-1094730640),L=I(L,O,$,K,S[U+13],4,681279174),K=I(K,L,O,$,S[U],11,-358537222),$=I($,K,L,O,S[U+3],16,-722521979),O=I(O,$,K,L,S[U+6],23,76029189),L=I(L,O,$,K,S[U+9],4,-640364487),K=I(K,L,O,$,S[U+12],11,-421815835),$=I($,K,L,O,S[U+15],16,530742520),O=I(O,$,K,L,S[U+2],23,-995338651),L=G(L,O,$,K,S[U],6,-198630844),K=G(K,L,O,$,S[U+7],10,1126891415),$=G($,K,L,O,S[U+14],15,-1416354905),O=G(O,$,K,L,S[U+5],21,-57434055),L=G(L,O,$,K,S[U+12],6,1700485571),K=G(K,L,O,$,S[U+3],10,-1894986606),$=G($,K,L,O,S[U+10],15,-1051523),O=G(O,$,K,L,S[U+1],21,-2054922799),L=G(L,O,$,K,S[U+8],6,1873313359),K=G(K,L,O,$,S[U+15],10,-30611744),$=G($,K,L,O,S[U+6],15,-1560198380),O=G(O,$,K,L,S[U+13],21,1309151649),L=G(L,O,$,K,S[U+4],6,-145523070),K=G(K,L,O,$,S[U+11],10,-1120210379),$=G($,K,L,O,S[U+2],15,718787259),O=G(O,$,K,L,S[U+9],21,-343485551),L=x(L,X),O=x(O,Y),$=x($,oe),K=x(K,ne)}return[L,O,$,K]}(function P(S){const N=[];for(let L=0,O=S.length*M;L<O;L+=M)N[L>>5]|=(S.charCodeAt(L/M)&V)<<L%32;return N}(S),S.length*M);switch(L){case E.Raw:return O;case E.Hex:return function B(S){const N="0123456789abcdef",L=[];for(let O=0,$=4*S.length;O<$;O++)L.push(N.charAt(S[O>>2]>>O%4*8+4&15)+N.charAt(S[O>>2]>>O%4*8&15));return L.join("")}(O);case E.String:return function H(S){const N=[];for(let L=0,O=32*S.length;L<O;L+=M)N.push(String.fromCharCode(S[L>>5]>>>L%32&V));return N.join("")}(O);case E.Base64:return function F(S){const O=[];for(let $=0,K=4*S.length;$<K;$+=3){const U=(S[$>>2]>>$%4*8&255)<<16|(S[$+1>>2]>>($+1)%4*8&255)<<8|S[$+2>>2]>>($+2)%4*8&255;for(let X=0;X<4;X++)O.push(8*$+6*X>32*S.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(U>>6*(3-X)&63))}return O.join("")}(O)}}},8611:(Ze,me,_)=>{"use strict";function E(P,H){for(const[B,F]of P)if(H(F,B))return!0;return!1}function V(P,H,B){const F=P.get(H);if(void 0!==F)return F;const T=B();return P.set(H,T),T}_.d(me,{oE:()=>E,s1:()=>V})},39921:(Ze,me,_)=>{"use strict";_.d(me,{WJ:()=>P,Xq:()=>x});var V,B,E=_(43029);(B=V||(V={}))[B.ALL=0]="ALL",B[B.SOME=1]="SOME";class x{constructor(F,T,w){this.name=F,this._storage=T,this.id=H+++":",this.size=0,this.maxSize=0,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),w&&(this._storage.registerRemoveFunc(this.id,w),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get sizeAll(){return this._storage.size}resetHitRate(){this._hit=this._miss=0}put(F,T,w,j=0){this._storage.put(this,F,T,w,j)}get(F){const T=this._storage.get(this,F);return void 0===T?++this._miss:++this._hit,T}peek(F){return this._storage.peek(this,F)}pop(F){const T=this._storage.pop(this,F);return void 0===T?++this._miss:++this._hit,T}updateSize(F,T,w){this._storage.updateSize(this,F,T,w)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class P{get size(){return this._size}constructor(F=10485760){this._maxSize=F,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new E.Z,this._users=new E.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(F){this._users.push(F)}deregister(F){this._users.removeUnordered(F)}registerRemoveFunc(F,T){this._removeFuncs.push([F,T])}deregisterRemoveFunc(F){this._removeFuncs.filterInPlace(T=>T[0]!==F)}get maxSize(){return this._maxSize}set maxSize(F){this._maxSize=Math.max(F,0),this._checkSizeLimits()}put(F,T,w,j,Z){const I=this._db.get(T=F.id+T);if(I&&(this._size-=I.size,F.size-=I.size,this._db.delete(T),I.entry!==w&&this._notifyRemove(T,I.entry,V.ALL)),j>this._maxSize)return void this._notifyRemove(T,w,V.ALL);if(void 0===w)return void console.warn("Refusing to cache undefined entry ");if(!j||j<0)return console.warn(`Refusing to cache entry with size ${j} for key ${T}`),void this._notifyRemove(T,w,V.ALL);const G=1+Math.max(Z,-3)- -3;this._db.set(T,{entry:w,size:j,lifetime:G,lives:G}),this._size+=j,F.size+=j,this._checkSizeLimits()}updateSize(F,T,w,j){const Z=this._db.get(T=F.id+T);if(Z&&Z.entry===w){for(this._size-=Z.size,F.size-=Z.size;j>this._maxSize;){const I=this._notifyRemove(T,w,V.SOME);if(!(null!=I&&I>0))return void this._db.delete(T);j=I}Z.size=j,this._size+=j,F.size+=j,this._checkSizeLimits()}}pop(F,T){const w=this._db.get(T=F.id+T);if(w)return this._size-=w.size,F.size-=w.size,this._db.delete(T),++this._hit,w.entry;++this._miss}get(F,T){const w=this._db.get(T=F.id+T);if(void 0!==w)return this._db.delete(T),w.lives=w.lifetime,this._db.set(T,w),++this._hit,w.entry;++this._miss}peek(F,T){const w=this._db.get(F.id+T);return w?++this._hit:++this._miss,w?.entry}get performanceInfo(){const F={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},T={},w=new Array;this._db.forEach((I,G)=>{const W=I.lifetime;w[W]=(w[W]||0)+I.size,this._users.forAll(A=>{const{id:S,name:N}=A;G.startsWith(S)&&(T[N]=(T[N]||0)+I.size)})});const j={};this._users.forAll(I=>{const G=I.name;"hitRate"in I&&"number"==typeof I.hitRate&&!isNaN(I.hitRate)&&I.hitRate>0?(T[G]=T[G]||0,j[G]=Math.round(100*I.hitRate)+"%"):j[G]="0%"});const Z=Object.keys(T);Z.sort((I,G)=>T[G]-T[I]),Z.forEach(I=>F[I]=Math.round(T[I]/2**20)+"MB / "+j[I]);for(let I=w.length-1;I>=0;--I){const G=w[I];G&&(F["Priority "+(I+-3-1)]=Math.round(G/this._size*100)+"%")}return F}resetStats(){this._hit=this._miss=0,this._users.forAll(F=>F.resetHitRate())}clear(F){const T=F.id;this._db.forEach((w,j)=>{j.startsWith(T)&&(this._size-=w.size,this._db.delete(j),this._notifyRemove(j,w.entry,V.ALL))}),F.size=0}clearAll(){this._db.forEach((F,T)=>this._notifyRemove(T,F.entry,V.ALL)),this._users.forEach(F=>F.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(F,T,w){let j;return this._removeFuncs.some(Z=>{if(F.startsWith(Z[0])){const I=Z[1](T,w);return"number"==typeof I&&(j=I),!0}return!1}),j}_checkSizeLimits(){if(this._size>this._maxSize)for(const[F,T]of this._db)if(this._purgeItem(F,T),this._size<=.9*this.maxSize)return;this._users.forEach(F=>{if(F.maxSize>0&&F.size>F.maxSize)for(const[T,w]of this._db)if(T.startsWith(F.id)&&(this._purgeItem(T,w,F),F.size<=.9*F.maxSize))return})}_purgeItem(F,T,w=this._users.find(j=>F.startsWith(j.id))){if(this._db.delete(F),T.lives<=1){this._size-=T.size,w&&(w.size-=T.size);const j=this._notifyRemove(F,T.entry,V.SOME);null!=j&&j>0&&(this._size+=j,w&&(w.size+=j),T.lives=T.lifetime,T.size=j,this._db.set(F,T))}else--T.lives,this._db.set(F,T)}}let H=0},25764:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>V});var E=_(71763);class V{constructor(P,H,B){this.name=P,this.details=B,this.message=(H&&function M(x,P){return x.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(H,B)=>""===B?"$":((0,E.hS)(B,P)??"").toString())}(H,B))??""}toString(){return"["+this.name+"]: "+this.message}}},3233:(Ze,me,_)=>{"use strict";_.d(me,{R:()=>S,w:()=>N});var E=_(50484),M=_(73514),V=_(44469),x=_(34222),P=_(60301);class H{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(P.kk),this._values=new Map,this.multipleOriginsSupported=!0}clone(O){const $=new H,K=this._originStores[P.s3.DEFAULTS];K&&K.forEach((U,X)=>{$.set(X,(0,x.d9)(U),P.s3.DEFAULTS)});for(let U=P.s3.SERVICE;U<P.kk;U++){const X=this._originStores[U];X&&X.forEach((Y,oe)=>{O&&O.has(oe)||$.set(oe,(0,x.d9)(Y),U)})}return $}get(O,$){const K=void 0===$?this._values:this._originStores[$];return K?K.get(O):void 0}keys(O){const $=null==O?this._values:this._originStores[O];return $?[...$.keys()]:[]}set(O,$,K=P.s3.USER){let U=this._originStores[K];if(U||(U=new Map,this._originStores[K]=U),U.set(O,$),!this._values.has(O)||this._propertyOriginMap.get(O)<=K){const X=this._values.get(O);return this._values.set(O,$),this._propertyOriginMap.set(O,K),X!==$}return!1}delete(O,$=P.s3.USER){const K=this._originStores[$];if(!K)return;const U=K.get(O);if(K.delete(O),this._values.has(O)&&this._propertyOriginMap.get(O)===$){this._values.delete(O);for(let X=$-1;X>=0;X--){const Y=this._originStores[X];if(Y&&Y.has(O)){this._values.set(O,Y.get(O)),this._propertyOriginMap.set(O,X);break}}}return U}has(O,$){const K=void 0===$?this._values:this._originStores[$];return!!K&&K.has(O)}revert(O,$){for(;$>0&&!this.has(O,$);)--$;const K=this._originStores[$],U=K?.get(O),X=this._values.get(O);return this._values.set(O,U),this._propertyOriginMap.set(O,$),X!==U}originOf(O){return this._propertyOriginMap.get(O)||P.s3.DEFAULTS}forEach(O){this._values.forEach(O)}}var B=_(68090),F=_(49301),T=_(10141);const w=L=>{let O=class extends L{constructor(...$){super(...$);const K=(0,F.vw)(this),U=K.store,X=new H;K.store=X,(0,V.M)(K,U,X)}read($,K){(0,B.i)(this,$,K)}getAtOrigin($,K){const U=j(this),X=(0,P.M9)(K);if("string"==typeof $)return U.get($,X);const Y={};return $.forEach(oe=>{Y[oe]=U.get(oe,X)}),Y}originOf($){return(0,P.x3)(this.originIdOf($))}originIdOf($){return j(this).originOf($)}revert($,K){const U=j(this),X=(0,P.M9)(K),Y=(0,F.vw)(this);let oe;oe="string"==typeof $?"*"===$?U.keys(X):[$]:$,oe.forEach(ne=>{Y.invalidate(ne),U.revert(ne,X),Y.commit(ne)})}};return O=(0,E._)([(0,T.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],O),O};function j(L){return(0,F.vw)(L).store}let Z=class extends(w(M.Z)){};Z=(0,E._)([(0,T.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],Z);var I=_(37718),G=_(82206);const W=L=>{let O=class extends L{constructor(...$){super(...$)}clear($,K="user"){return A(this).delete($,(0,P.M9)(K))}write($,K){return(0,G.c)(this,$=$||{},K),$}setAtOrigin($,K,U){(0,F.vw)(this).setAtOrigin($,K,(0,P.M9)(U))}removeOrigin($){const K=A(this),U=(0,P.M9)($),X=K.keys(U);for(const Y of X)K.originOf(Y)===U&&K.set(Y,K.get(Y,U),P.s3.USER)}updateOrigin($,K){const U=A(this),X=(0,P.M9)(K),Y=(0,I.U2)(this,$);for(let oe=X+1;oe<P.kk;++oe)U.delete($,oe);U.set($,Y,X)}toJSON($){return this.write({},$)}};return O=(0,E._)([(0,T.j)("esri.core.WriteableMultiOriginJSONSupport")],O),O.prototype.toJSON.isDefaultToJSON=!0,O};function A(L){return(0,F.vw)(L).store}const S=L=>{let O=class extends(W(w(L))){constructor(...$){super(...$)}};return O=(0,E._)([(0,T.j)("esri.core.MultiOriginJSONSupport")],O),O};let N=class extends(S(M.Z)){};N=(0,E._)([(0,T.j)("esri.core.MultiOriginJSONSupport")],N)},51479:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>V});let V=(()=>{class x{constructor(H,B,F,T=1,w=0){if(this._ctor=H,this._acquireFunction=B,this._releaseFunction=F,this.allocationSize=T,this._pool=new Array(w),this._initialSize=w,this._ctor)for(let j=0;j<w;j++)this._pool[j]=new this._ctor;this.allocationSize=Math.max(T,1)}destroy(){this.prune(0)}acquire(...H){let B;if(x.test.disabled)B=new this._ctor;else{if(0===this._pool.length){const F=this.allocationSize;for(let T=0;T<F;T++)this._pool[T]=new this._ctor}B=this._pool.pop()}return this._acquireFunction?this._acquireFunction(B,...H):function M(x){return x?.acquire&&"function"==typeof x.acquire}(B)&&B.acquire(...H),B}release(H){H&&!x.test.disabled&&(this._releaseFunction?this._releaseFunction(H):function E(x){return x?.release&&"function"==typeof x.release}(H)&&H.release(),this._pool.push(H))}prune(H=this._initialSize){if(!(H>=this._pool.length)){for(let B=H;B<this._pool.length;++B)this._dispose(this._pool[B]);this._pool.length=H}}_dispose(H){H.dispose&&"function"==typeof H.dispose&&H.dispose()}}return x.test={disabled:!1},x})()},44169:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>E});class E{constructor(V,x=30){this.name=V,this._counter=0,this._samples=new Array(x)}record(V){null!=V&&(this._samples[++this._counter%this._samples.length]=V)}get median(){return this._samples.slice().sort((V,x)=>V-x)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((V,x)=>V+x,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},43029:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>H});var M,E=_(57678);!function(F){const T=(I,G,W,A)=>{let S=G,N=G;const L=W>>>1,O=I[S-1];for(;N<=L;){N=S<<1,N<W&&A(I[N-1],I[N])<0&&++N;const $=I[N-1];if(A($,O)<=0)break;I[S-1]=$,S=N}I[S-1]=O},w=(I,G)=>I<G?-1:I>G?1:0;F.sort=function j(I,G,W,A){void 0===G&&(G=0),void 0===W&&(W=I.length),void 0===A&&(A=w);for(let N=W>>>1;N>G;N--)T(I,N,W,A);const S=G+1;for(let N=W-1;N>G;N--){const L=I[G];I[G]=I[N],I[N]=L,T(I,S,N,A)}},F.iterableSort=function*Z(I,G,W,A){void 0===G&&(G=0),void 0===W&&(W=I.length),void 0===A&&(A=w);for(let N=W>>>1;N>G;N--)T(I,N,W,A),yield;const S=G+1;for(let N=W-1;N>G;N--){const L=I[G];I[G]=I[N],I[N]=L,T(I,S,N,A),yield}}}(M||(M={}));const V=M;class H{constructor(T){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new E.SO,T&&(T.initialSize&&(this.data=new Array(T.initialSize)),T.allocator&&(this._allocator=T.allocator),void 0!==T.deallocator&&(this._deallocator=T.deallocator),T.shrink&&(this._shrink=()=>B(this)))}toArray(){return this.data.slice(0,this.length)}filter(T){const w=new Array;for(let j=0;j<this._length;j++){const Z=this.data[j];T(Z)&&w.push(Z)}return w}at(T){if((T=Math.trunc(T)||0)<0&&(T+=this._length),!(T<0||T>=this._length))return this.data[T]}includes(T,w){const j=this.data.indexOf(T,w);return-1!==j&&j<this.length}get length(){return this._length}set length(T){if(T>this._length){if(this._allocator){for(;this._length<T;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=T}else{if(this._deallocator)for(let w=T;w<this._length;++w)this.data[w]=this._deallocator(this.data[w]);this._length=T,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(T){this.data[this._length++]=T}pushArray(T,w=T.length){for(let j=0;j<w;j++)this.data[this._length++]=T[j]}fill(T,w){for(let j=0;j<w;j++)this.data[this._length++]=T}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const T=this.data[this._length];return++this._length,T}unshift(T){this.data.unshift(T),this._length++,B(this)}pop(){if(0===this.length)return;const T=this.data[this.length-1];return this.length=this.length-1,this._shrink(),T}remove(T){const w=(0,E.cq)(this.data,T,this.length,this._hint);if(-1!==w)return this.data.splice(w,1),this.length=this.length-1,T}removeUnordered(T){return this.removeUnorderedIndex((0,E.cq)(this.data,T,this.length,this._hint))}removeUnorderedIndex(T){if(!(T>=this.length||T<0))return this.swapElements(T,this.length-1),this.pop()}removeUnorderedMany(T,w=T.length,j){this.length=(0,E.FY)(this.data,T,this.length,w,this._hint,j),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(T,w){if(T>=this.length||w>=this.length||T===w)return;const j=this.data[T];this.data[T]=this.data[w],this.data[w]=j}sort(T){V.sort(this.data,0,this.length,T)}iterableSort(T){return V.iterableSort(this.data,0,this.length,T)}some(T,w){for(let j=0;j<this.length;++j)if(T.call(w,this.data[j],j,this.data))return!0;return!1}find(T,w){for(let j=0;j<this.length;++j){const Z=this.data[j];if(T.call(w,Z,j))return Z}}filterInPlace(T,w){let j=0;for(let Z=0;Z<this._length;++Z){const I=this.data[Z];T.call(w,I,Z,this.data)&&(this.data[Z]=this.data[j],this.data[j]=I,j++)}if(this._deallocator)for(let Z=j;Z<this._length;Z++)this.data[Z]=this._deallocator(this.data[Z]);return this._length=j,this._shrink(),this}forAll(T,w){const j=this.length,Z=this.data;for(let I=0;I<j;++I)T.call(w,Z[I],I,Z)}forEach(T,w){for(let j=0;j<this.length;++j)T.call(w,this.data[j],j,this.data)}map(T,w){const j=new Array(this.length);for(let Z=0;Z<this.length;++Z)j[Z]=T.call(w,this.data[Z],Z,this.data);return j}reduce(T,w){let j=w;for(let Z=0;Z<this.length;++Z)j=T(j,this.data[Z],Z,this.data);return j}has(T){const w=this.length,j=this.data;for(let Z=0;Z<w;++Z)if(j[Z]===T)return!0;return!1}}function B(F){F.data.length>1.5*F.length&&(F.data.length=Math.floor(1.1*F.length))}},47868:(Ze,me,_)=>{"use strict";_.d(me,{D:()=>F,v:()=>B});var P,T,E=_(50484),M=_(73514),V=_(79412),x=_(10141);(T=P||(P={}))[T.PENDING=0]="PENDING",T[T.RESOLVED=1]="RESOLVED",T[T.REJECTED=2]="REJECTED";class H{constructor(){this._resolver=(0,V.hh)(),this._status=P.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=P.RESOLVED,this._cleanUp()},()=>{this._status=P.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(w){this._resolvingPromises.push(w),this._tryResolve()}isResolved(){return this._status===P.RESOLVED}isRejected(){return this._status===P.REJECTED}isFulfilled(){return this._status!==P.PENDING}abort(){this._resolver.reject((0,V.zE)())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const w=(0,V.hh)(),j=[...this._resolvingPromises,w.promise],Z=this._allPromise=Promise.all(j);Z.then(()=>{this.isFulfilled()||this._allPromise!==Z||this._resolver.resolve()},I=>{this.isFulfilled()||this._allPromise!==Z||(0,V.D_)(I)||this._resolver.reject(I)}),w.resolve()}}const B=T=>{let w=class extends T{constructor(...j){super(...j),this._promiseProps=new H,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(j,Z){return this._promiseProps.promise.then(()=>this).then(j,Z)}catch(j){return this.when(null,j)}addResolvingPromise(j){j&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in j?j.when():j)}};return w=(0,E._)([(0,x.j)("esri.core.Promise")],w),w};let F=class extends(B(M.Z)){};F=(0,E._)([(0,x.j)("esri.core.Promise")],F)},65430:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>V});var E=_(56295),M=_(19994);class V{constructor(P=(H=>H.values().next().value)){this._peeker=P,this._observable=new M.s,this._items=new Set}get length(){return(0,E.it)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let P;for(P of this._items);return P}peek(){if(0!==this.length)return this._peeker(this._items)}push(P){this.contains(P)||(this._items.add(P),this._observable.notify())}contains(P){return(0,E.it)(this._observable),this._items.has(P)}pop(){if(0===this.length)return;const P=this.peek();return this._items.delete(P),this._observable.notify(),P}popLast(){if(0===this.length)return;const P=this.last();return this._items.delete(P),this._observable.notify(),P}remove(P){this.contains(P)&&(this._items.delete(P),this._observable.notify())}filter(P){const H=this.length;return this._items.forEach(B=>{P(B)||this._items.delete(B)}),H!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,E.it)(this._observable),yield*this._items}}},65311:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>E});class E{constructor(V=1){this._seed=V}set seed(V){this._seed=V??Math.random()*E._m}getInt(){return this._seed=(E._a*this._seed+E._c)%E._m,this._seed}getFloat(){return this.getInt()/(E._m-1)}getIntRange(V,x){return Math.round(this.getFloatRange(V,x))}getFloatRange(V,x){const P=x-V;return V+this.getInt()/E._m*P}}E._m=2147483647,E._a=48271,E._c=0},14467:(Ze,me,_)=>{"use strict";_.d(me,{e:()=>M});var E=_(51479);class M extends E.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...x){const P=super.acquire(...x);return this._set.delete(P),P}release(x){x&&!this._set.has(x)&&(super.release(x),this._set.add(x))}_dispose(x){this._set.delete(x),super._dispose(x)}}},79876:(Ze,me,_)=>{"use strict";function E(w,j){for(const Z of w.entries())if(j(Z[0]))return!0;return!1}function M(w,j){if(!j)return w;for(const Z of j)w.add(Z);return w}function V(w,j){const Z=new Set;return M(Z,w),M(Z,j),Z}function x(w,j){const Z=new Set;for(const I of j)w.has(I)&&Z.add(I);return Z}function P(w,j){if(!w||!j)return!1;if(w===j)return!0;for(const Z of w)if(!j.has(Z))return!1;return!0}function H(w,j){if(null==w&&null==j)return!0;if(null==w||null==j||w.size!==j.size)return!1;for(const Z of w)if(!j.has(Z))return!1;return!0}function B(w,j){const Z=new Set(w);for(const I of j)Z.delete(I);return Z}_.d(me,{G0:()=>V,e5:()=>B,fS:()=>H,fn:()=>E,ik:()=>P,jV:()=>x})},93960:(Ze,me,_)=>{"use strict";_.d(me,{G:()=>M});var E=_(57964);let M=class{constructor(V,x,P=""){this.major=V,this.minor=x,this._context=P}lessThan(V,x){return this.major<V||V===this.major&&this.minor<x}since(V,x){return!this.lessThan(V,x)}validate(V){if(this.major!==V.major)throw new E.Z((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:V})}clone(){return new M(this.major,this.minor,this._context)}static parse(V,x=""){const[P,H]=V.split("."),B=/^\s*\d+\s*$/;if(!P?.match||!B.test(P))throw new E.Z((x&&x+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:V});if(!H?.match||!B.test(H))throw new E.Z((x&&x+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:V});const F=parseInt(P,10),T=parseInt(H,10);return new M(F,T,x)}}},23206:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>M});var E=_(25764);class M extends E.Z{constructor(x,P,H){super(x,P,H)}}M.prototype.type="warning"},64198:(Ze,me,_)=>{"use strict";_.d(me,{s:()=>x});var E=_(1258),M=_(57678);class V{constructor(B,F){this._observers=B,this._observer=F}remove(){(0,M.Od)(this._observers,this._observer)}}class x{constructor(){this._observers=null,this.destroyed=!1}observe(B){if(this.destroyed||B.destroyed)return P;null==this._observers&&(this._observers=[]);const F=this._observers;let T=!1,w=!1;const j=F.length;for(let Z=0;Z<j;++Z){const I=F[Z];if(I.destroyed)w=!0;else if(I===B){T=!0;break}}return T||(F.push(B),w&&this._removeDestroyedObservers()),new V(F,B)}_removeDestroyedObservers(){const B=this._observers;if(!B||0===B.length)return;const F=B.length;let T=0;for(let w=0;w<F;++w){for(;w+T<F&&B[w+T].destroyed;)++T;if(T>0){if(!(w+T<F))break;B[w]=B[w+T]}}B.length=F-T}destroy(){if(this.destroyed)return;this.destroyed=!0;const B=this._observers;if(null!=B){for(const F of B)F.onCommitted();this._observers=null}}}const P=(0,E.kB)()},60301:(Ze,me,_)=>{"use strict";var E,T;_.d(me,{M9:()=>V,Wm:()=>H,kk:()=>M,s3:()=>E,x3:()=>x}),(T=E||(E={}))[T.DEFAULTS=0]="DEFAULTS",T[T.COMPUTED=1]="COMPUTED",T[T.SERVICE=2]="SERVICE",T[T.PORTAL_ITEM=3]="PORTAL_ITEM",T[T.WEB_SCENE=4]="WEB_SCENE",T[T.WEB_MAP=5]="WEB_MAP",T[T.LINK_CHART=6]="LINK_CHART",T[T.USER=7]="USER";const M=E.USER+1;function V(T){switch(T){case"defaults":return E.DEFAULTS;case"service":return E.SERVICE;case"portal-item":return E.PORTAL_ITEM;case"web-scene":return E.WEB_SCENE;case"web-map":return E.WEB_MAP;case"link-chart":return E.LINK_CHART;case"user":return E.USER;default:return null}}function x(T){switch(T){case E.DEFAULTS:return"defaults";case E.SERVICE:return"service";case E.PORTAL_ITEM:return"portal-item";case E.WEB_SCENE:return"web-scene";case E.WEB_MAP:return"web-map";case E.LINK_CHART:return"link-chart";case E.USER:return"user"}}function H(T){return x(T)}},18178:(Ze,me,_)=>{"use strict";_.d(me,{l:()=>E});const E=Symbol("Accessor-beforeDestroy")},73018:(Ze,me,_)=>{"use strict";_.d(me,{p:()=>B});var E=_(1535),M=_(9203);const V=Object.prototype.toString;function x(F){const T="__accessorMetadata__"in F?(0,E.se)(F):F;return function(...w){if(w.push(T),"number"==typeof w[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return P.apply(this,w)}}function P(F,T,w,j){(0,M.Oe)(F,T).cast=j}function B(...F){if(3!==F.length||"string"!=typeof F[1])return 1===F.length&&"[object Function]"===V.call(F[0])?x(F[0]):1===F.length&&"string"==typeof F[0]?function H(F){return(T,w)=>{(0,M.Oe)(T,F).cast=T[w]}}(F[0]):void 0}},21070:(Ze,me,_)=>{"use strict";_.d(me,{J:()=>V});var E=_(84303),M=_(80543);function V(x,P={}){const H=x instanceof E.X?x:new E.X(x,P),B={type:P?.ignoreUnknown??1?H.apiValues:String,json:{type:H.jsonValues,read:!P?.readOnly&&{reader:H.read},write:{writer:H.write}}};return void 0!==P?.readOnly&&(B.readOnly=!!P.readOnly),void 0!==P?.default&&(B.json.default=P.default),void 0!==P?.name&&(B.json.name=P.name),void 0!==P?.nonNullable&&(B.nonNullable=P.nonNullable),(0,M.Cb)(B)}},80543:(Ze,me,_)=>{"use strict";_.d(me,{CJ:()=>B,Cb:()=>H,Eg:()=>T});var E=_(4703),M=_(1535),V=_(37718),x=_(9203),P=_(39189);function H(w={}){return(j,Z)=>{if(j===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${j.name}.${Z}. Accessor does not support static properties.`);const I=Object.getOwnPropertyDescriptor(j,Z),G=(0,x.Oe)(j,Z);I&&(I.get||I.set?(G.get=I.get||G.get,G.set=I.set||G.set):"value"in I&&("value"in w&&E.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${Z}" on "${j.constructor.name}" already defined in the metadata`,w),G.value=w.value=I.value)),null!=w.readOnly&&(G.readOnly=w.readOnly);const W=w.aliasOf;if(W){const N="string"==typeof W?W:W.source,L="string"==typeof W?null:!0===W.overridable;let O;G.dependsOn=[N],G.get=function(){let $=(0,V.U2)(this,N);if("function"==typeof $){O||(O=N.split(".").slice(0,-1).join("."));const K=(0,V.U2)(this,O);K&&($=$.bind(K))}return $},G.readOnly||(G.set=L?function($){this._override(Z,$)}:function($){(0,P.t)(this,N,$)})}const A=w.type,S=w.types;G.cast||(A?G.cast=function F(w){let j=0,Z=w;if((0,M.AY)(w))return(0,M.sY)(w);for(;Array.isArray(Z)&&1===Z.length&&"string"!=typeof Z[0]&&"number"!=typeof Z[0];)Z=Z[0],j++;const I=Z;if((0,M.gB)(I))return 0===j?(0,M.i$)(I):(0,M.Iu)((0,M.i$)(I),j);if(1===j)return(0,M.rY)(I);if(j>1)return(0,M.di)(I,j);return w.from?w.from:(0,M.se)(w)}(A):S&&(G.cast=Array.isArray(S)?(0,M.Ls)((0,M.N7)(S[0])):(0,M.N7)(S))),(0,x.tz)(G,w),w.range&&(G.cast=T(G.cast,w.range))}}function B(w,j,Z){const I=(0,x.Oe)(w,Z);I.json||(I.json={});let G=I.json;return void 0!==j&&(G.origins||(G.origins={}),G.origins[j]||(G.origins[j]={}),G=G.origins[j]),G}function T(w,j){return Z=>{let I=+w(Z);return null!=j.step&&(I=Math.round(I/j.step)*j.step),null!=j.min&&(I=Math.max(j.min,I)),null!=j.max&&(I=Math.min(j.max,I)),I}}},62185:(Ze,me,_)=>{"use strict";_.d(me,{r:()=>M});var E=_(80543);function M(V,x,P){let H,B;return void 0===x||Array.isArray(x)?(B=V,P=x,H=[void 0]):(B=x,H=Array.isArray(V)?V:[V]),(F,T)=>{const w=F.constructor.prototype;H.forEach(j=>{const Z=(0,E.CJ)(F,j,B);Z.read&&"object"==typeof Z.read||(Z.read={}),Z.read.reader=w[T],P&&(Z.read.source=(Z.read.source||[]).concat(P))})}}},63788:(Ze,me,_)=>{"use strict";function E(M){return(V,x)=>{V[x]=M}}_.d(me,{c:()=>E})},10141:(Ze,me,_)=>{"use strict";_.d(me,{j:()=>T}),_(14007);var M=_(18178),V=_(33761),x=_(9203),P=_(56295),H=_(80535);const B=new Set,F=new Set;function T(Z){return I=>{Z??="esri.core.Accessor",I.prototype.declaredClass=Z,function j(Z){const G=(0,x.fp)(Z.prototype),W={};for(const A of Object.getOwnPropertyNames(G)){const S=G[A];(0,H.OM)(S),W[A]={enumerable:!0,configurable:!0,get:w(A,S),set(N){const L=this.__accessor__;if(void 0!==L){if(!Object.isFrozen(this)){if(L.initialized&&S.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${A}' of ${this.declaredClass}`);if(L.lifecycle===V.F.CONSTRUCTED&&S.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${A}' of ${this.declaredClass}`);L.set(A,N)}}else Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:N})}}}Object.defineProperties(Z.prototype,W)}(I);const G=[],W=[];let A=I.prototype;for(;A;)A.hasOwnProperty("initialize")&&!B.has(A.initialize)&&(B.add(A.initialize),G.push(A.initialize)),A.hasOwnProperty("destroy")&&!F.has(A.destroy)&&(F.add(A.destroy),W.push(A.destroy)),A=Object.getPrototypeOf(A);B.clear(),F.clear();const S=class extends I{constructor(...L){if(super(...L),this.constructor===S&&"function"==typeof this.postscript){if(G.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let O=G.length-1;O>=0;O--)G[O].call(this)}}),W.length){let O=!1;const $=this[M.l];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!O){O=!0,$.call(this);for(let K=0;K<W.length;K++)W[K].call(this)}}})}this.postscript(...L)}}};S.__accessorMetadata__=(0,x.fp)(I.prototype),S.prototype.declaredClass=Z;const N=(Z||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(S,"name",{value:N,configurable:!0}),S}}function w(Z,I){return null==I.get?function(){const G=this.__accessor__,W=G.propertiesByName.get(Z);if(void 0===W)return;(0,P.it)(W);const A=G.store;return A.has(Z)?A.get(Z):W.metadata.value}:function(){const G=this.__accessor__,W=G.propertiesByName.get(Z);if(void 0!==W)return W.getComputed(G)}}},7547:(Ze,me,_)=>{"use strict";_.d(me,{c:()=>M});var E=_(80543);function M(V,x,P){let H,B;return void 0===x?(B=V,H=[void 0]):"string"!=typeof x?(B=V,H=[void 0],P=x):(B=x,H=Array.isArray(V)?V:[V]),(F,T)=>{const w=F.constructor.prototype;for(const j of H){const Z=(0,E.CJ)(F,j,B);Z.write&&"object"==typeof Z.write||(Z.write={}),P&&(Z.write.target=P),Z.write.writer=w[T]}}}},44469:(Ze,me,_)=>{"use strict";_.d(me,{M:()=>M});var E=_(60301);function M(V,x,P){x.keys().forEach(B=>{P.set(B,x.get(B),E.s3.DEFAULTS)}),Object.keys(V.metadatas).forEach(B=>{V.internalGet(B)&&P.set(B,V.internalGet(B),E.s3.DEFAULTS)})}},657:(Ze,me,_)=>{"use strict";_.d(me,{Hg:()=>I,V7:()=>Z,uD:()=>j});var E=_(73514),M=_(83944),V=_(49301);const x=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function P(W){return W instanceof E.Z}function H(W){return W instanceof M.Z?Object.keys(W.items):P(W)?(0,V.vw)(W).keys():W?Object.keys(W):[]}function B(W,A){return W instanceof M.Z?W.items[A]:W[A]}function T(W){return W?W.declaredClass:null}function w(W,A){const S=W.diff;if(S&&"function"==typeof S)return S(W,A);const N=H(W),L=H(A);if(0===N.length&&0===L.length)return;if(!N.length||!L.length||function F(W,A){return!(!Array.isArray(W)||!Array.isArray(A))&&W.length!==A.length}(W,A))return{type:"complete",oldValue:W,newValue:A};const O=L.filter(oe=>!N.includes(oe)),$=N.filter(oe=>!L.includes(oe)),K=N.filter(oe=>L.includes(oe)&&B(W,oe)!==B(A,oe)).concat(O,$).sort(),U=T(W);if(U&&x.has(U)&&K.length)return{type:"complete",oldValue:W,newValue:A};let X;const Y=P(W)&&P(A);for(const oe of K){const ne=B(W,oe),se=B(A,oe);let te;if((Y||"function"!=typeof ne&&"function"!=typeof se)&&ne!==se&&(null!=ne||null!=se)){if(S&&S[oe]&&"function"==typeof S[oe])te=S[oe]?.(ne,se);else if(ne instanceof Date&&se instanceof Date){if(ne.getTime()===se.getTime())continue;te={type:"complete",oldValue:ne,newValue:se}}else te="object"==typeof ne&&"object"==typeof se&&T(ne)===T(se)?w(ne,se):{type:"complete",oldValue:ne,newValue:se};null!=te&&(null!=X?X.diff[oe]=te:X={type:"partial",diff:{[oe]:te}})}}return X}function j(W,A){if(null==W)return!1;const S=A.split(".");let N=W;for(const L of S){if("complete"===N.type)return!0;if("partial"!==N.type)return!1;{const O=N.diff[L];if(!O)return!1;N=O}}return!0}function Z(W,A){for(const S of A)if(j(W,S))return!0;return!1}function I(W,A){if("function"!=typeof W&&"function"!=typeof A&&(null!=W||null!=A))return null==W||null==A||"object"==typeof W&&"object"==typeof A&&T(W)!==T(A)?{type:"complete",oldValue:W,newValue:A}:w(W,A)}},1535:(Ze,me,_)=>{"use strict";_.d(me,{AY:()=>re,Iu:()=>X,Ls:()=>$,N7:()=>se,TJ:()=>A,V5:()=>k,Zs:()=>B,di:()=>Y,gB:()=>oe,i$:()=>ne,q9:()=>F,rY:()=>K,sY:()=>Q,se:()=>O,vU:()=>T,z8:()=>te}),_(14007);var M=_(4703),V=_(8611);const x=M.Z.getLogger("esri.core.accessorSupport.ensureTypes");function P(q){return null==q?q:new Date(q)}function H(q){return null==q?q:!!q}function B(q){return null==q?q:q.toString()}function F(q){return null==q?q:(q=parseFloat(q),isNaN(q)?0:q)}function T(q){return null==q?q:Math.round(parseFloat(q))}function w(q){return q?.constructor&&void 0!==q.constructor.__accessorMetadata__}function j(q,le){return null!=le&&q&&!(le instanceof q)}function Z(q){return q&&"isCollection"in q}function I(q){return q?.Type?"function"==typeof q.Type?q.Type:q.Type.base:null}function W(q,le){return!!w(le)&&(x.error("Accessor#set","Assigning an instance of '"+(le.declaredClass||"unknown")+"' which is not a subclass of '"+S(q)+"'"),!0)}function A(q,le){return null==le?le:Z(q)?function G(q,le){if(!le?.constructor||!Z(le.constructor))return W(q,le)?le:new q(le);const ee=I(q.prototype.itemType),ae=I(le.constructor.prototype.itemType);return ee?ae?ee===ae?le:ee.prototype.isPrototypeOf(ae.prototype)?new q(le):(W(q,le),le):new q(le):le}(q,le):j(q,le)?W(q,le)?le:new q(le):le}function S(q){return q?.prototype?.declaredClass||"unknown"}const N=new WeakMap;function O(q,le){const ee=function L(q){switch(q){case Number:return F;case te:return T;case Boolean:return H;case String:return B;case Date:return P;default:return(0,V.s1)(N,q,()=>A.bind(null,q))}}(q);return 1===arguments.length?ee:ee(le)}function $(q,le,ee){return 1===arguments.length?$.bind(null,q):le&&(Array.isArray(le)?le.map(ae=>q(ae,ee)):[q(le,ee)])}function K(q,le){return 1===arguments.length?$(ee=>O(q,ee)):$(ee=>O(q,ee),le)}function U(q,le,ee){return 0!==le&&Array.isArray(ee)?ee.map(ae=>U(q,le-1,ae)):q(ee)}function X(q,le,ee){if(2===arguments.length)return ge=>X(q,le,ge);if(!ee)return ee;ee=U(q,le,ee);let ae=le,ue=ee;for(;ae>0&&Array.isArray(ue);)ae--,ue=ue[0];if(void 0!==ue)for(let ge=0;ge<ae;ge++)ee=[ee];return ee}function Y(q,le,ee){return 2===arguments.length?X(ae=>O(q,ae),le):X(ae=>O(q,ae),le,ee)}function oe(q){return!!Array.isArray(q)&&!q.some(le=>{const ee=typeof le;return!("string"===ee||"number"===ee||"function"===ee&&q.length>1)})}function ne(q,le){if(2===arguments.length)return ne(q).call(null,le);const ee=new Set,ae=q.filter(be=>"function"!=typeof be),ue=q.filter(be=>"function"==typeof be);for(const be of q)"string"!=typeof be&&"number"!=typeof be||ee.add(be);let ge=null,Ee=null;return(be,ie)=>{if(null==be)return be;const De=typeof be,Be="string"===De||"number"===De;return Be&&(ee.has(be)||ue.some(we=>"string"===De&&we===String||"number"===De&&we===Number))||"object"===De&&ue.some(we=>!j(be,we))?be:(Be&&ae.length?(ge||(ge=ae.map(we=>"string"==typeof we?`'${we}'`:`${we}`).join(", ")),x.error("Accessor#set",`'${be}' is not a valid value for this property, only the following values are valid: ${ge}`)):"object"==typeof be&&ue.length?(Ee||(Ee=ue.map(we=>S(we)).join(", ")),x.error("Accessor#set",`'${be}' is not a valid value for this property, value must be one of ${Ee}`)):x.error("Accessor#set",`'${be}' is not a valid value for this property`),ie&&(ie.valid=!1),null)}}function se(q,le){if(2===arguments.length)return se(q).call(null,le);const ee={},ae=[],ue=[];for(const ie in q.typeMap){const De=q.typeMap[ie];ee[ie]=O(De),ae.push(S(De)),ue.push(ie)}const be="string"==typeof q.key?ie=>ie[q.key]:q.key;return ie=>{if(q.base&&!j(q.base,ie)||null==ie)return ie;const De=be(ie)||q.defaultKeyValue,Be=ee[De];if(!Be)return x.error("Accessor#set",`Invalid property value, value needs to be one of '${ae.join("', '")}', or a plain object that can autocast (having .type = '${ue.join("', '")}')`),null;if(!j(q.typeMap[De],ie))return ie;if("string"==typeof q.key&&!w(ie)){const we={};for(const Me in ie)Me!==q.key&&(we[Me]=ie[Me]);return Be(we)}return Be(ie)}}class te{}const k={native:q=>({type:"native",value:q}),array:q=>({type:"array",value:q}),oneOf:q=>({type:"one-of",values:q})};function re(q){if(!q||!("type"in q))return!1;switch(q.type){case"native":case"array":case"one-of":return!0}return!1}function Q(q){switch(q.type){case"native":return O(q.value);case"array":return $(Q(q.value));case"one-of":return function pe(q){let le=null;return(ee,ae)=>ce(ee,q)?ee:(null==le&&(le=fe(q)),x.error("Accessor#set",`Invalid property value, value needs to be of type ${le}`),ae&&(ae.valid=!1),null)}(q);default:return null}}function fe(q){switch(q.type){case"native":switch(q.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case te:return"integer";case Date:return"date";default:return S(q.value)}case"array":return`array of ${fe(q.value)}`;case"one-of":{const le=q.values.map(ee=>fe(ee));return`one of ${le.slice(0,-1)} or ${le[le.length-1]}`}}return"unknown"}function ce(q,le){if(null==q)return!0;switch(le.type){case"native":switch(le.value){case Number:case te:return"number"==typeof q;case Boolean:return"boolean"==typeof q;case String:return"string"==typeof q}return q instanceof le.value;case"array":return!!Array.isArray(q)&&!q.some(ee=>!ce(ee,le.value));case"one-of":return le.values.some(ee=>ce(q,ee))}}},80535:(Ze,me,_)=>{"use strict";_.d(me,{hk:()=>T,HS:()=>w,Ah:()=>j,OM:()=>N});var E=_(1535),V=_(50106);function P(L){L.name&&(L.read&&"object"==typeof L.read?void 0===L.read.source&&(L.read.source=L.name):L.read={source:L.name},L.write&&"object"==typeof L.write?void 0===L.write.target&&(L.write.target=L.name):L.write={target:L.name})}function H(L){"boolean"==typeof L.read?L.read={enabled:L.read}:"function"==typeof L.read?L.read={enabled:!0,reader:L.read}:L.read&&"object"==typeof L.read&&void 0===L.read.enabled&&(L.read.enabled=!0)}function B(L){"boolean"==typeof L.write?L.write={enabled:L.write}:"function"==typeof L.write?L.write={enabled:!0,writer:L.write}:L.write&&"object"==typeof L.write&&void 0===L.write.enabled&&(L.write.enabled=!0)}var F=_(73710);function T(L,O){return Z(L,"any",O?.origin)}function w(L,O){return Z(L,"read",O?.origin)}function j(L,O){return Z(L,"write",O?.origin)}function Z(L,O,$){let K=L?.json;if(K?.origins&&$){let U;U="link-chart"===$?K.origins[$]&&("any"===O||O in K.origins[$])?K.origins[$]:K.origins["web-map"]:K.origins[$],U&&("any"===O||O in U)&&(K=U)}return K}function W(L){return L.type?A(L):S(L)}function A(L){if(!L.type)return;let O=0,$=L.type;for(;Array.isArray($)&&!(0,E.gB)($);)$=$[0],O++;return{type:$,ndimArray:O}}function S(L){if(!L.types)return;let O=0,$=L.types;for(;Array.isArray($);)$=$[0],O++;return{types:$,ndimArray:O}}function N(L){(function x(L){if(L.json||(L.json={}),H(L.json),B(L.json),P(L.json),L.json.origins)for(const O in L.json.origins)H(L.json.origins[O]),B(L.json.origins[O]),P(L.json.origins[O]);return!0})(L)&&(function M(L){if(L.json&&L.json.origins){const O=L.json.origins,$={"web-document":["web-scene","web-map"]};for(const K in $)if(O[K]){const U=O[K];$[K].forEach(X=>{O[X]=U}),delete O[K]}}}(L),function I(L){const O=function G(L){return L.json.types?S(L.json):L.type?A(L):S(L)}(L);if(L.json.origins)for(const $ in L.json.origins){const K=L.json.origins[$],U=K.types?W(K):O;(0,V.U)(U,K,!1),K.types&&!K.write&&L.json.write&&L.json.write.enabled&&(K.write={...L.json.write}),(0,F.U)(U,K)}(0,V.U)(O,L.json,!0),(0,F.U)(O,L.json)}(L))}},50106:(Ze,me,_)=>{"use strict";_.d(me,{U:()=>B,d:()=>F});var E=_(4703),M=_(71763),V=_(23206),x=_(9203),P=_(16201);const H=E.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function B(O,$,K){O&&(!K&&!$.read||$.read?.reader||!1===$.read?.enabled||function W(O){return"types"in O?S(O.types):A(O.type)}(O)&&(0,M.RB)("read.reader",F(O),$))}function F(O){const $=O.ndimArray??0;if($>1)return function Z(O){const $=T(O),K=j.bind(null,$),U=O.ndimArray??0;return(X,Y,oe)=>{if(null==X)return X;X=K(X,oe,U);let ne=U,se=X;for(;ne>0&&Array.isArray(se);)ne--,se=se[0];if(void 0!==se)for(let te=0;te<ne;te++)X=[X];return X}}(O);if(1===$)return I(O);if("type"in O&&G(O.type)){const K=O.type.prototype?.itemType?.Type,U=I("function"==typeof K?{type:K}:{types:K});return(X,Y,oe)=>{const ne=U(X,Y,oe);return ne&&new O.type(ne)}}return T(O)}function T(O){return"type"in O?function w(O){return O.prototype.read?($,K,U)=>{if(null==$)return $;const X=typeof $;if("object"!==X)return void H.error(`Expected JSON value of type 'object' to deserialize type '${O.prototype.declaredClass}', but got '${X}'`);const Y=new O;return Y.read($,U),Y}:O.fromJSON}(O.type):function N(O){let $=null;const K=O.errorContext??"type",U=O.validate;return(X,Y,oe)=>{if(null==X)return X;const ne=typeof X;if("object"!==ne)return void H.error(`Expected JSON value of type 'object' to deserialize, but got '${ne}'`);$||($=function L(O){const $={};for(const K in O.typeMap){const U=O.typeMap[K],X=(0,x.fp)(U.prototype);if("function"==typeof O.key)continue;const Y=X[O.key];if(!Y)continue;Y.json?.type&&Array.isArray(Y.json.type)&&1===Y.json.type.length&&"string"==typeof Y.json.type[0]&&($[Y.json.type[0]]=U);const oe=Y.json?.write;if(!oe?.writer){$[K]=U;continue}const ne=oe.target,se="string"==typeof ne?ne:O.key,te={};oe.writer(K,te,se),te[se]&&($[te[se]]=U)}return $}(O));const se=O.key;if("string"!=typeof se)return;const te=X[se],k=te?$[te]:O.defaultKeyValue?O.typeMap[O.defaultKeyValue]:void 0;if(!k){const Q=`Type '${te||"unknown"}' is not supported`;return oe?.messages&&X&&oe.messages.push(new V.Z(`${K}:unsupported`,Q,{definition:X,context:oe})),void H.error(Q)}const re=new k;return re.read(X,oe),U?U(re):re}}(O.types)}function j(O,$,K,U){return 0!==U&&Array.isArray($)?$.map(X=>j(O,X,K,U-1)):O($,void 0,K)}function I(O){const $=T(O);return(K,U,X)=>{if(null==K)return K;if(Array.isArray(K)){const oe=[];for(const ne of K){const se=$(ne,void 0,X);void 0!==se&&oe.push(se)}return oe}const Y=$(K,void 0,X);return void 0!==Y?[Y]:void 0}}function G(O){if(!(0,P.u)(O))return!1;const $=O.prototype.itemType;return!(!$||!$.Type)&&("function"==typeof $.Type?A($.Type):S($.Type))}function A(O){return!Array.isArray(O)&&!!O&&O.prototype&&("read"in O.prototype||"fromJSON"in O||G(O))}function S(O){for(const $ in O.typeMap)if(!A(O.typeMap[$]))return!1;return!0}},16201:(Ze,me,_)=>{"use strict";function E(M){return!!M&&M.prototype?.declaredClass&&0===M.prototype.declaredClass.indexOf("esri.core.Collection")}_.d(me,{u:()=>E})},73710:(Ze,me,_)=>{"use strict";_.d(me,{U:()=>P,k:()=>j});var E=_(57964),M=_(4703),V=_(71763),x=_(16201);function P(W,A){if(!A.write||A.write.writer||!1===A.write.enabled&&!A.write.overridePolicy)return;const S=W?.ndimArray??0;A.write.writer=W&&(1===S||"type"in W&&(0,x.u)(W.type))?Z:S>1?function G(W){return(A,S,N,L)=>{let O;if(null===A)O=null;else{O=I(A,L,W);let $=W,K=O;for(;$>0&&Array.isArray(K);)$--,K=K[0];if(void 0!==K)for(let U=0;U<$;U++)O=[O]}(0,V.RB)(N,O,S)}}(S):A.types?Array.isArray(A.types)?function F(W){return(A,S,N,L)=>A&&Array.isArray(A)?T(A.filter(O=>B(O,W,L)),S,N,L):T(A,S,N,L)}(A.types[0]):function H(W){return(A,S,N,L)=>A?B(A,W,L)?T(A,S,N,L):void 0:T(A,S,N,L)}(A.types):T}function B(W,A,S){for(const N in A.typeMap)if(W instanceof A.typeMap[N])return!0;if(S?.messages){const L=`Values of type '${("function"!=typeof A.key?W[A.key]:W.declaredClass)??"Unknown"}' cannot be written`;S&&S.messages&&W&&S.messages.push(new E.Z(`${A.errorContext??"type"}:unsupported`,L,{definition:W,context:S})),M.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(L)}return!1}function T(W,A,S,N){(0,V.RB)(S,w(W,N),A)}function w(W,A){return W&&"function"==typeof W.write?W.write({},A):W&&"function"==typeof W.toJSON?W.toJSON():"number"==typeof W?j(W):W}function j(W){return W===-1/0?-Number.MAX_VALUE:W===1/0?Number.MAX_VALUE:isNaN(W)?null:W}function Z(W,A,S,N){let L;null===W?L=null:W&&"function"==typeof W.map?(L=W.map(O=>w(O,N)),"function"==typeof L.toArray&&(L=L.toArray())):L=[w(W,N)],(0,V.RB)(S,L,A)}function I(W,A,S){return 0!==S&&Array.isArray(W)?W.map(N=>I(N,A,S-1)):w(W,A)}},37718:(Ze,me,_)=>{"use strict";_.d(me,{$z:()=>x,Gg:()=>H,U2:()=>P});var E=_(49301);function M(B,F){const T="?"===B[B.length-1]?B.slice(0,-1):B;if(null!=F.getItemAt||Array.isArray(F)){const j=parseInt(T,10);if(!isNaN(j))return Array.isArray(F)?F[j]:F.at(j)}const w=(0,E.vw)(F);return(0,E.b6)(w,T)?w.get(T):F[T]}function V(B,F,T){if(null==B)return B;const w=M(F[T],B);return!w&&T<F.length-1?void 0:T===F.length-1?w:V(w,F,T+1)}function x(B,F,T=0){return"string"!=typeof F||F.includes(".")?V(B,(0,E.NI)(F),T):M(F,B)}function P(B,F){return x(B,F)}function H(B,F){return void 0!==x(F,B)}},33761:(Ze,me,_)=>{"use strict";var E,M;_.d(me,{F:()=>E}),(M=E||(E={}))[M.INITIALIZING=0]="INITIALIZING",M[M.CONSTRUCTING=1]="CONSTRUCTING",M[M.CONSTRUCTED=2]="CONSTRUCTED"},76215:(Ze,me,_)=>{"use strict";_.d(me,{C:()=>E});const E=["operational-layers","basemap","ground"]},9203:(Ze,me,_)=>{"use strict";_.d(me,{Oe:()=>x,fp:()=>V,tz:()=>H});var E=_(34222),M=_(49301);function V(T){let w=T.constructor.__accessorMetadata__;const j=Object.prototype.hasOwnProperty.call(T.constructor,"__accessorMetadata__");if(w){if(!j){w=Object.create(w);for(const Z in w)w[Z]=(0,E.d9)(w[Z]);Object.defineProperty(T.constructor,"__accessorMetadata__",{value:w,enumerable:!1,configurable:!0,writable:!0})}}else w={},Object.defineProperty(T.constructor,"__accessorMetadata__",{value:w,enumerable:!1,configurable:!0,writable:!0});return T.constructor.__accessorMetadata__}function x(T,w){const j=V(T);let Z=j[w];return Z||(Z=j[w]={}),Z}function H(T,w){return(0,M.TS)(T,w,F)}const B=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function F(T){return B.test(T)?"replace":"merge"}},68090:(Ze,me,_)=>{"use strict";_.d(me,{$:()=>w,i:()=>T});var E=_(37718),M=_(49301),V=_(80535);function x(j,Z,I){if(!j?.read||!1===j.read.enabled||!j.read.source)return!1;const G=j.read.source;if("string"==typeof G){if(G===Z||G.includes(".")&&0===G.indexOf(Z)&&(0,E.Gg)(G,I))return!0}else for(const W of G)if(W===Z||W.includes(".")&&0===W.indexOf(Z)&&(0,E.Gg)(W,I))return!0;return!1}function H(j,Z,I,G,W){let A=(0,V.HS)(Z[I],W);(function P(j){return j&&(!j.read||!1!==j.read.enabled&&!j.read.source)})(A)&&(j[I]=!0);for(const S of Object.getOwnPropertyNames(Z))A=(0,V.HS)(Z[S],W),x(A,I,G)&&(j[S]=!0)}function B(j,Z,I,G){const A=(0,V.hk)(I.metadatas[Z],G),S=A?.default;if(void 0===S)return;const N="function"==typeof S?S.call(j,Z,G):S;void 0!==N&&I.set(Z,N)}const F={origin:"service"};function T(j,Z,I=F){if(!Z||"object"!=typeof Z)return;const G=(0,M.vw)(j),W=G.metadatas,A={};for(const S of Object.getOwnPropertyNames(Z))H(A,W,S,Z,I);G.setDefaultOrigin(I.origin);for(const S of Object.getOwnPropertyNames(A)){const N=(0,V.HS)(W[S],I).read,L=N?.source;let O;O=L&&"string"==typeof L?(0,E.$z)(Z,L):Z[S],N?.reader&&(O=N.reader.call(j,O,Z,I)),void 0!==O&&G.set(S,O)}if(!I||!I.ignoreDefaults){G.setDefaultOrigin("defaults");for(const S of Object.getOwnPropertyNames(W))A[S]||B(j,S,G,I)}G.setDefaultOrigin("user")}function w(j,Z,I,G=F){const W={...G,messages:[]};I(W),W.messages?.forEach(A=>{"warning"!==A.type||j.loaded?G?.messages&&G.messages.push(A):j.loadWarnings.push(A)})}},39189:(Ze,me,_)=>{"use strict";_.d(me,{t:()=>P});var E=_(57964),M=_(14007),x=(_(4703),_(37718));function P(T,w,j){if(T&&w)if("object"==typeof w)for(const Z of Object.getOwnPropertyNames(w))P(T,Z,w[Z]);else{if(w.includes(".")){const I=w.split("."),G=I.splice(-1,1)[0];return void P((0,x.U2)(T,I),G,j)}const Z=T.__accessor__;null!=Z&&function H(T,w){if((0,M.Z)("esri-unknown-property-errors")&&!function B(T,w){return null!=w.metadatas[T]}(T,w))throw new E.Z("set:unknown-property",function F(T,w){return"setting unknown property '"+T+"' on instance of "+w.host.declaredClass}(T,w))}(w,Z),T[w]=j}}},56295:(Ze,me,_)=>{"use strict";_.d(me,{GF:()=>N,LJ:()=>j,gb:()=>Z,it:()=>F,mS:()=>A}),_(14007);var M=_(4703),V=_(49301),x=_(6210);const P={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},H=[];let B=P;function F(O){B.onObservableAccessed(O)}let T=!1,w=!1;function j(O,$,K){if(T)return I(O,$,K);G(O);const U=$.call(K);return W(),U}function Z(O,$){return j(P,O,$)}function I(O,$,K){const U=T;T=!0,G(O);let X=null;try{X=$.call(K)}catch(Y){w&&M.Z.getLogger("esri.core.accessorSupport.tracking").error(Y)}return W(),T=U,X}function G(O){B=O,H.push(O)}function W(){const O=H.length;if(O>1){const $=H.pop();B=H[O-2],$.onTrackingEnd()}else if(1===O){const $=H.pop();B=P,$.onTrackingEnd()}else B=P}function A(O,$){if($.flags&x.v.DepTrackingInitialized)return;const K=w;w=!1,$.flags&x.v.AutoTracked?I($,$.metadata.get,O):N(O,$),w=K}const S=[];function N(O,$){$.flags&x.v.ExplicitlyTracking||($.flags|=x.v.ExplicitlyTracking,I($,()=>{const K=$.metadata.dependsOn||S;for(const U of K)if("string"!=typeof U||U.includes(".")){const X=(0,V.NI)(U);for(let Y=0,oe=O;Y<X.length&&null!=oe&&"object"==typeof oe;++Y)oe=L(oe,X[Y],Y!==X.length-1)}else L(O,U,!1)}),$.flags&=~x.v.ExplicitlyTracking)}function L(O,$,K){const U="?"===$[$.length-1]?$.slice(0,-1):$;if(null!=O.getItemAt||Array.isArray(O)){const Y=parseInt(U,10);if(!isNaN(Y))return Array.isArray(O)?O[Y]:O.at(Y)}const X=(0,V.vw)(O);if(X){const Y=X.propertiesByName.get(U);Y&&(F(Y),A(O,Y))}return K?O[U]:void 0}},6210:(Ze,me,_)=>{"use strict";var E,M;_.d(me,{v:()=>E}),(M=E||(E={}))[M.Dirty=1]="Dirty",M[M.Overriden=2]="Overriden",M[M.Computing=4]="Computing",M[M.NonNullable=8]="NonNullable",M[M.HasDefaultValue=16]="HasDefaultValue",M[M.DepTrackingInitialized=32]="DepTrackingInitialized",M[M.AutoTracked=64]="AutoTracked",M[M.ExplicitlyTracking=128]="ExplicitlyTracking"},19994:(Ze,me,_)=>{"use strict";_.d(me,{s:()=>M});var E=_(64198);class M extends E.s{notify(){const x=this._observers;if(x&&x.length>0){const P=x.slice();for(const H of P)H.onInvalidated(),H.onCommitted()}}}},714:(Ze,me,_)=>{"use strict";_.d(me,{M:()=>E});class E{constructor(H){this._accessed=[],this._handles=[],this._observerObject=new M(H),V.register(this,new WeakRef(this._observerObject),this)}destroy(){V.unregister(this._observerObject),this._accessed.length=0,this._observerObject?.destroy(),this.clear()}onObservableAccessed(H){const B=this._accessed;B.includes(H)||B.push(H)}onTrackingEnd(){const H=this._handles,B=this._accessed,F=this._observerObject;for(let T=0;T<B.length;++T)H.push(B[T].observe(F));B.length=0}clear(){const H=this._handles;for(let B=0;B<H.length;++B)H[B].remove();H.length=0}}class M{constructor(H){this._notify=H,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const H=this._invalidCount;if(1===H)return this._invalidCount=0,void this._notify();this._invalidCount=H>0?H-1:0}destroy(){this.destroyed=!0,this._notify=x}}const V=new FinalizationRegistry(P=>{P.deref()?.destroy()});function x(){}},43571:(Ze,me,_)=>{"use strict";_.d(me,{EH:()=>F,U5:()=>H,Xz:()=>B});var E=_(1258),M=_(56295),V=_(714);let x=!1;const P=[];function H(j,Z){let I=new V.M(function A(){if(!I||W)return;if(x)return void T(A);const N=G;I.clear(),x=!0,W=!0,G=(0,M.LJ)(I,j),W=!1,x=!1,Z(G,N),w()}),G=null,W=!1;return W=!0,G=(0,M.LJ)(I,j),W=!1,(0,E.kB)(function S(){I&&(I.destroy(),I=null,G=null)})}function B(j,Z){let I=new V.M(function W(){Z(G,S)}),G=null;function S(){return I?(I.clear(),G=(0,M.LJ)(I,j),G):null}return S(),(0,E.kB)(function A(){I&&(I.destroy(),I=null),G=null})}function F(j){let Z=new V.M(function G(){Z&&!I&&(x?T(G):(Z.clear(),x=!0,I=!0,(0,M.LJ)(Z,j),I=!1,x=!1,w()))}),I=!1;return I=!0,(0,M.LJ)(Z,j),I=!1,(0,E.kB)(function W(){Z&&(Z.destroy(),Z=null)})}function T(j){P.includes(j)||P.unshift(j)}function w(){for(;P.length;)P.pop()()}},49301:(Ze,me,_)=>{"use strict";_.d(me,{NI:()=>T,Qc:()=>I,TS:()=>H,b6:()=>x,vw:()=>V});var E=_(1258),M=_(34222);function V(G){return G.__accessor__??null}function x(G,W){return null!=G?.metadatas?.[W]}function H(G,W,A){return B(G,W,A?{policy:A,path:""}:null)}function B(G,W,A){return W?Object.keys(W).reduce((S,N)=>{const L=N;let O=null,$="merge";if(A&&(O=A.path?`${A.path}.${N}`:N,$=A.policy(O)),"replace"===$||"replace-arrays"===$&&Array.isArray(S[L]))return S[L]=W[L],S;if(void 0===S[L])return S[L]=(0,M.d9)(W[L]),S;let K=S[L],U=W[L];if(K===U)return S;if(Array.isArray(U)||Array.isArray(S))K=S[L]=K?Array.isArray(K)?K.concat():[K]:[],U&&(Array.isArray(U)||(U=[U]),U.forEach(X=>{K.includes(X)||K.push(X)}));else if(U&&"object"==typeof U)if(A){const X=A.path;A.path=O,S[L]=B(K,U,A),A.path=X}else S[L]=B(K,U,null);else S.hasOwnProperty(N)&&!W.hasOwnProperty(N)||(S[L]=U);return S},G||{}):G}function T(G){return Array.isArray(G)?G:G.split(".")}function w(G){return G.includes(",")?G.split(",").map(W=>W.trim()):[G.trim()]}function I(G,W,A,S){const N=function j(G){if(Array.isArray(G)){const W=[];for(const A of G)W.push(...w(A));return W}return w(G)}(W);if(1!==N.length){const L=N.map(O=>S(G,O,A));return(0,E.AL)(L)}return S(G,N[0],A)}},12926:(Ze,me,_)=>{"use strict";_.d(me,{BT:()=>N,Fs:()=>K,NC:()=>te,YP:()=>Y,aQ:()=>se});var j,k,E=_(11667),M=_(1258),V=_(34222),x=_(14467),P=_(66679),H=_(79876),B=_(68160),F=_(37718),T=_(43571),w=_(49301);(k=j||(j={}))[k.Untracked=0]="Untracked",k[k.Tracked=1]="Tracked";class Z{constructor(){this.uid=(0,B.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(re,Q,pe,fe,ce){return this.pool.acquire(j.Untracked,re,Q,pe,fe,ce,V.fS)}static acquireTracked(re,Q,pe,fe){return this.pool.acquire(j.Tracked,re,Q,pe,null,null,fe)}notify(re,Q){this.type===j.Untracked?this.callback.call(this.target,re,Q,this.path,this.target):this.callback.call(null,re,Q,void 0,void 0)}acquire(re,Q,pe,fe,ce,q,le){this.uid=(0,B.D)(),this.removed=!1,this.type=re,this.oldValue=Q,this.callback=pe,this.getValue=fe,this.target=ce,this.path=q,this.equals=le}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,B.D)(),this.removed=!0}}Z.pool=new x.e(Z);const I=new E.Z,G=new Set;let W;function A(k){G.delete(k),G.add(k),W||(W=(0,P.Os)(L))}function S(k){if(k.removed)return;const re=k.oldValue,Q=k.getValue();k.equals(re,Q)||(k.oldValue=Q,k.notify(Q,re))}function N(k){for(const re of G.values())re.target===k&&(re.removed=!0)}function L(){let k=10;for(;W&&k--;){W=null;const re=O(),Q=I.acquire();for(const pe of re){const fe=pe.uid;S(pe),fe===pe.uid&&pe.removed&&Q.push(pe)}for(const pe of G)pe.removed&&(Q.push(pe),G.delete(pe));for(const pe of Q)Z.pool.release(pe);I.release(Q),I.release(re),$.forEach(pe=>pe())}}function O(){const k=I.acquire();k.length=G.size;let re=0;for(const Q of G)k[re]=Q,++re;return G.clear(),k}const $=new Set;function K(k){return $.add(k),(0,M.kB)(()=>$.delete(k))}function Y(k,re,Q,pe=!1){return!k.__accessor__||k.__accessor__.destroyed?(0,M.kB)():pe?function X(k,re,Q){const pe=(0,w.Qc)(k,re,Q,(fe,ce,q)=>{let le=!1;return(0,T.U5)(()=>(0,F.$z)(fe,ce),(ee,ae)=>{fe.__accessor__.destroyed?pe.remove():le||(le=!0,(0,V.fS)(ae,ee)||q.call(fe,ee,ae,ce,fe),le=!1)})});return pe}(k,re,Q):function U(k,re,Q){let pe=(0,w.Qc)(k,re,Q,(fe,ce,q)=>{let le,ee,ae=(0,T.Xz)(()=>(0,F.$z)(fe,ce),(ue,ge)=>{fe.__accessor__.destroyed||le&&le.uid!==ee?pe.remove():(le||(le=Z.acquireUntracked(ue,q,ge,fe,ce),ee=le.uid),A(le))});return(0,M.kB)(()=>{ae.remove(),le&&(le.uid!==ee||le.removed||(le.removed=!0,A(le)),le=null),pe=ae=null})});return pe}(k,re,Q)}function se(k,re,Q=!1,pe=V.y7){return Q?function ne(k,re,Q){let pe=!1;return(0,T.U5)(k,(fe,ce)=>{pe||(pe=!0,Q(ce,fe)||re(fe,ce),pe=!1)})}(k,re,pe):function oe(k,re,Q){let pe,fe,ce=(0,T.Xz)(k,(q,le)=>{pe&&pe.uid!==fe?ce.remove():(pe||(pe=Z.acquireTracked(q,re,le,Q),fe=pe.uid),A(pe))});return(0,M.kB)(()=>{ce.remove(),pe&&(pe.uid!==fe||pe.removed||(pe.removed=!0,A(pe)),pe=null),ce=null})}(k,re,pe)}function te(k){return(0,H.fn)(G,re=>re.oldValue===k)}},82206:(Ze,me,_)=>{"use strict";_.d(me,{c:()=>Z,d:()=>j});var E=_(57678),M=_(57964),V=_(4703),x=_(37718),P=_(60301),H=_(49301),B=_(80535);function F(I,G,W,A,S){const N={};return G.write?.writer?.call(I,A,N,W,S),N}function T(I,G,W,A,S,N){if(!A?.write)return!1;const L=(0,x.U2)(I,W);if(!S&&A.write.overridePolicy){const O=A.write.overridePolicy.call(I,L,W,N??void 0);void 0!==O&&(S=O)}if(S||(S=A.write),!S||!1===S.enabled||S.layerContainerTypes&&N?.layerContainerType&&!S.layerContainerTypes.includes(N.layerContainerType))return!1;if((null===L&&!S.allowNull&&!S.writerEnsuresNonNull||void 0===L)&&S.isRequired){const O=new M.Z("web-document-write:property-required",`Missing value for required property '${W}' on '${I.declaredClass}'`,{propertyName:W,target:I});return O&&N?.messages?N.messages.push(O):O&&!N&&V.Z.getLogger("esri.core.accessorSupport.write").error(O.name,O.message),!1}return!(void 0===L||null===L&&!S.allowNull&&!S.writerEnsuresNonNull||!S.alwaysWriteDefaults&&(!G.store.multipleOriginsSupported||G.store.originOf(W)===P.s3.DEFAULTS)&&function w(I,G,W,A,S){const N=A.default;if(void 0===N)return!1;if(null!=A.defaultEquals)return A.defaultEquals(S);if("function"==typeof N){if(Array.isArray(S)){const L=N.call(I,G,W??void 0);return(0,E.fS)(L,S)}return!1}return N===S}(I,W,N,A,L)||!S.ignoreOrigin&&N?.origin&&G.store.multipleOriginsSupported&&G.store.originOf(W)<(0,P.M9)(N.origin))}function j(I,G,W,A){const S=(0,H.vw)(I),L=(0,B.Ah)(S.metadatas[G],A);return!!L&&T(I,S,G,L,W,A)}function Z(I,G,W){if(I&&"function"==typeof I.toJSON&&(!I.toJSON.isDefaultToJSON||!I.write))return(0,H.TS)(G,I.toJSON(W));const A=(0,H.vw)(I),S=A.metadatas;for(const N in S){const L=(0,B.Ah)(S[N],W);if(!T(I,A,N,L,void 0,W))continue;const O=(0,x.U2)(I,N),$=F(I,L,L.write&&"string"==typeof L.write.target?L.write.target:N,O,W);Object.keys($).length>0&&(G=(0,H.TS)(G,$),W?.resources?.pendingOperations?.length&&W.resources.pendingOperations.push(Promise.all(W.resources.pendingOperations).then(()=>(0,H.TS)(G,$,()=>"replace-arrays"))),W?.writtenProperties&&W.writtenProperties.push({target:I,propName:N,oldOrigin:(0,P.Wm)(A.store.originOf(N)),newOrigin:W.origin}))}return G}},57678:(Ze,me,_)=>{"use strict";_.d(me,{FY:()=>se,Od:()=>fe,SO:()=>U,Tw:()=>j,Vx:()=>I,_X:()=>M,a9:()=>L,cq:()=>Y,e$:()=>oe,e5:()=>G,fS:()=>Z,pC:()=>q,wR:()=>O,zG:()=>A});var E=_(65311);const M=1.5;function j(ee,ae){return ae?ee.filter((ue,ge,Ee)=>Ee.findIndex(ae.bind(null,ue))===ge):Array.from(new Set(ee))}function Z(ee,ae,ue){if(null==ee&&null==ae)return!0;if(null==ee||null==ae||ee.length!==ae.length)return!1;if(ue){for(let ge=0;ge<ee.length;ge++)if(!ue(ee[ge],ae[ge]))return!1}else for(let ge=0;ge<ee.length;ge++)if(ee[ge]!==ae[ge])return!1;return!0}function I(ee,ae){let ue=ee.length!==ae.length;ue&&(ee.length=ae.length);for(let ge=0;ge<ae.length;++ge)ee[ge]!==ae[ge]&&(ee[ge]=ae[ge],ue=!0);return ue}function G(ee,ae,ue){let ge,Ee;return ue?(ge=ae.filter(be=>!ee.some(ie=>ue(ie,be))),Ee=ee.filter(be=>!ae.some(ie=>ue(ie,be)))):(ge=ae.filter(be=>!ee.includes(be)),Ee=ee.filter(be=>!ae.includes(be))),{added:ge,removed:Ee}}function A(ee){return ee&&"number"==typeof ee.length}const N=!!Array.prototype.fill;function L(ee,ae){if(N)return new Array(ee).fill(ae);const ue=new Array(ee);for(let ge=0;ge<ee;ge++)ue[ge]=ae;return ue}function O(ee,ae){void 0===ae&&(ae=ee,ee=0);const ue=new Array(ae-ee);for(let ge=ee;ge<ae;ge++)ue[ge-ee]=ge;return ue}class U{constructor(){this.last=0}}const X=new U;function Y(ee,ae,ue,ge){ge=ge||X;const Ee=Math.max(0,ge.last-10);for(let ie=Ee;ie<ue;++ie)if(ee[ie]===ae)return ge.last=ie,ie;const be=Math.min(Ee,ue);for(let ie=0;ie<be;++ie)if(ee[ie]===ae)return ge.last=ie,ie;return-1}function oe(ee,ae,ue,ge){const Ee=ue??ee.length,be=Y(ee,ae,Ee,ge);if(-1!==be)return ee[be]=ee[Ee-1],null==ue&&ee.pop(),ae}const ne=new Set;function se(ee,ae,ue=ee.length,ge=ae.length,Ee,be){if(0===ge||0===ue)return ue;ne.clear();for(let De=0;De<ge;++De)ne.add(ae[De]);Ee=Ee||X;const ie=Math.max(0,Ee.last-10);for(let De=ie;De<ue;++De)if(ne.has(ee[De])&&(be?.push(ee[De]),ne.delete(ee[De]),ee[De]=ee[ue-1],--ue,--De,0===ne.size||0===ue))return ne.clear(),ue;for(let De=0;De<ie;++De)if(ne.has(ee[De])&&(be?.push(ee[De]),ne.delete(ee[De]),ee[De]=ee[ue-1],--ue,--De,0===ne.size||0===ue))return ne.clear(),ue;return ne.clear(),ue}function fe(ee,ae){const ue=ee.indexOf(ae);return-1!==ue?(ee.splice(ue,1),ae):null}function q(ee,ae){return null!=ee}new E.Z},37636:(Ze,me,_)=>{"use strict";_.d(me,{Ed:()=>F,UI:()=>T,mt:()=>S,q6:()=>W,vr:()=>O});var E=_(15861),M=_(50484),V=_(73514),x=_(51172),P=_(79412),H=_(80543),B=_(10141);function F(K,U,X){return(0,P.as)(K.map((Y,oe)=>U.apply(X,[Y,oe])))}function T(K,U,X){return w.apply(this,arguments)}function w(){return(w=(0,E.Z)(function*(K,U,X){return(yield(0,P.as)(K.map((Y,oe)=>U.apply(X,[Y,oe])))).map(Y=>Y.value)})).apply(this,arguments)}function j(K){return{ok:!0,value:K}}function Z(K){return{ok:!1,error:K}}function W(K){return A.apply(this,arguments)}function A(){return(A=(0,E.Z)(function*(K){if(null==K)return{ok:!1,error:new Error("no promise provided")};try{return j(yield K)}catch(U){return Z(U)}})).apply(this,arguments)}function S(K){return N.apply(this,arguments)}function N(){return(N=(0,E.Z)(function*(K){try{return j(yield K)}catch(U){return(0,P.r9)(U),Z(U)}})).apply(this,arguments)}function O(K,U){return new $(K,U)}let $=class extends V.Z{get value(){return function I(K){return null!=K&&!0===K.ok?K.value:null}(this._result)}get error(){return function G(K){return null!=K&&!1===K.ok?K.error:null}(this._result)}get finished(){return null!=this._result}constructor(K,U){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,x.IM)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:X}=this._abortController;this.promise=K(X),this.promise.then(Y=>{this._result=j(Y),this._cleanup()},Y=>{this._result=Z(Y),this._cleanup()}),this._abortHandle=(0,P.fu)(U,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,x.hw)(this._abortHandle),this._abortController=null}};(0,M._)([(0,H.Cb)()],$.prototype,"value",null),(0,M._)([(0,H.Cb)()],$.prototype,"error",null),(0,M._)([(0,H.Cb)()],$.prototype,"finished",null),(0,M._)([(0,H.Cb)()],$.prototype,"promise",void 0),(0,M._)([(0,H.Cb)()],$.prototype,"_result",void 0),$=(0,M._)([(0,B.j)("esri.core.asyncUtils.ReactiveTask")],$)},91307:(Ze,me,_)=>{"use strict";function E(w){return 32+w.length}function M(){return 16}function V(w){if(!w)return 0;let j=F;for(const Z in w)if(w.hasOwnProperty(Z)){const I=w[Z];switch(typeof I){case"string":j+=E(I);break;case"number":j+=16;break;case"boolean":j+=4}}return j}function x(w){if(!w)return 0;if(Array.isArray(w))return function P(w){const j=w.length;if(0===j||"number"==typeof w[0])return 32+8*j;let Z=T;for(let I=0;I<j;I++)Z+=H(w[I]);return Z}(w);let j=F;for(const Z in w)w.hasOwnProperty(Z)&&(j+=H(w[Z]));return j}function H(w){switch(typeof w){case"object":return x(w);case"string":return E(w);case"number":return 16;case"boolean":return 4;default:return 8}}function B(w,j){return T+w.length*j}_.d(me,{G3:()=>M,Ul:()=>x,do:()=>B,f2:()=>V});const F=32,T=32},8169:(Ze,me,_)=>{"use strict";_.d(me,{m:()=>V});var E=_(1258);const V=function M(x){return{setTimeout:(P,H)=>{const B=x.setTimeout(P,H);return(0,E.kB)(()=>x.clearTimeout(B))}}}(globalThis)},18626:(Ze,me,_)=>{"use strict";_.d(me,{R:()=>V,Z:()=>M});var E=_(83944);function M(P,H,B=E.Z){return H||(H=new B),H===P||(H.removeAll(),function x(P){return P&&(Array.isArray(P)||"items"in P&&Array.isArray(P.items))}(P)?H.addMany(P):P&&H.add(P)),H}function V(P){return P}},480:(Ze,me,_)=>{"use strict";function M(P){}function x(P){return()=>P}_.d(me,{Bg:()=>M,sM:()=>x}),_(14007)},93300:(Ze,me,_)=>{"use strict";_.d(me,{Mr:()=>H,XV:()=>P,x9:()=>B});var E=_(14007);const M=new Set;function P(F,T,w={}){if((0,E.Z)("esri-deprecation-warnings")){const{moduleName:j}=w;B(F,"Function: "+(j?j+"::":"")+T+"()",w)}}function H(F,T,w={}){if((0,E.Z)("esri-deprecation-warnings")){const{moduleName:j}=w;B(F,"Property: "+(j?j+"::":"")+T,w)}}function B(F,T,w={}){if((0,E.Z)("esri-deprecation-warnings")){const{replacement:j,version:Z,see:I,warnOnce:G}=w;let W=T;j&&(W+=`\n\t\u{1f6e0}\ufe0f Replacement: ${j}`),Z&&(W+=`\n\t\u2699\ufe0f Version: ${Z}`),I&&(W+=`\n\t\u{1f517} See ${I} for more details.`),function V(F,T,w=!1){w&&M.has(T)||(w&&M.add(T),F.warn(`\u{1f6d1} DEPRECATED - ${T}`))}(F,W,G)}}},66081:(Ze,me,_)=>{"use strict";function E(F){return"string"==typeof F?document.getElementById(F):F??null}function M(F){for(;F.hasChildNodes();)F.removeChild(F.firstChild)}function x(F,T){const w=T.parentNode;w&&w.insertBefore(F,T)}function P(F,T){for(;;){const w=F.firstChild;if(!w)break;T.appendChild(w)}}_.d(me,{L7:()=>E,Vt:()=>x,YD:()=>P,cS:()=>M}),Element},90984:(Ze,me,_)=>{"use strict";_.d(me,{IH:()=>x,kK:()=>B,on:()=>V,vT:()=>M});var E=_(1258);function M(F){return F&&("function"==typeof F.on||"function"==typeof F.addEventListener)}function V(F,T,w){if(!M(F))throw new TypeError("target is not a Evented or EventTarget object");if("on"in F)return F.on(T,w);if(Array.isArray(T)){const j=T.slice();for(const Z of j)F.addEventListener(Z,w);return(0,E.kB)(()=>{for(const Z of j)F.removeEventListener(Z,w)})}return F.addEventListener(T,w),(0,E.kB)(()=>F.removeEventListener(T,w))}function x(F,T,w){if(!M(F))throw new TypeError("target is not a Evented or EventTarget object");if("once"in F)return F.once(T,w);const j=V(F,T,Z=>{j.remove(),w.call(F,Z)});return j}const H={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function B({key:F}){return H[F]||F}},1258:(Ze,me,_)=>{"use strict";_.d(me,{AL:()=>x,kB:()=>M});const E={remove:()=>{}};function M(w){return w?{remove(){w&&(w(),w=void 0)}}:E}function x(w){return M(()=>function V(w){w.forEach(j=>j?.remove())}(w))}},14007:(Ze,me,_)=>{"use strict";let E;function M(V){return"function"==typeof E[V]?E[V]=E[V](globalThis):E[V]}_.d(me,{Z:()=>M}),E=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},M.add=(V,x,P,H)=>((H||void 0===E[V])&&(E[V]=x),P&&M(V)),M.cache=E,M.add("big-integer-warning-enabled",!0),M.add("esri-deprecation-warnings",!0),M.add("esri-tests-disable-screenshots",!1),M.add("esri-tests-use-full-window",!1),M.add("esri-tests-post-to-influx",!0),(()=>{M.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const V=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(M.add("host-browser",V),M.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),M.add("dom",V),M("host-browser")){const x=navigator,P=x.userAgent,H=x.appVersion,B=parseFloat(H);if(M.add("wp",parseFloat(P.split("Windows Phone")[1])||void 0),M.add("msapp",parseFloat(P.split("MSAppHost/")[1])||void 0),M.add("khtml",H.includes("Konqueror")?B:void 0),M.add("edge",parseFloat(P.split("Edge/")[1])||void 0),M.add("opr",parseFloat(P.split("OPR/")[1])||void 0),M.add("webkit",!M("wp")&&!M("edge")&&parseFloat(P.split("WebKit/")[1])||void 0),M.add("chrome",!M("edge")&&!M("opr")&&parseFloat(P.split("Chrome/")[1])||void 0),M.add("android",!M("wp")&&parseFloat(P.split("Android ")[1])||void 0),M.add("safari",!H.includes("Safari")||M("wp")||M("chrome")||M("android")||M("edge")||M("opr")?void 0:parseFloat(H.split("Version/")[1])),M.add("mac",H.includes("Macintosh")),!M("wp")&&/(iPhone|iPod|iPad)/.test(P)){const F=RegExp.$1.replace(/P/,"p"),T=/OS ([\d_]+)/.test(P)?RegExp.$1:"1",w=parseFloat(T.replace(/_/,".").replaceAll("_",""));M.add(F,w),M.add("ios",w)}M("webkit")||(!P.includes("Gecko")||M("wp")||M("khtml")||M("edge")||M.add("mozilla",B),M("mozilla")&&M.add("ff",parseFloat(P.split("Firefox/")[1]||P.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const V=navigator.userAgent,x=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(V),P=/iPhone/i.test(V);x&&M.add("esri-mobile",x),P&&M.add("esri-iPhone",P),M.add("esri-geolocation",!!navigator.geolocation)}M.add("esri-wasm","WebAssembly"in globalThis),M.add("esri-performance-mode-frames-between-render",20),M.add("esri-force-performance-mode",!1),M.add("esri-shared-array-buffer",()=>{const V="SharedArrayBuffer"in globalThis,x=!1===globalThis.crossOriginIsolated;return V&&!x}),M.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),M.add("esri-atomics","Atomics"in globalThis),M.add("esri-workers","Worker"in globalThis),M.add("web-feat:cache","caches"in globalThis),M.add("esri-workers-arraybuffer-transfer",!M("safari")||Number(M("safari"))>=12),M.add("workers-pool-size",8),M.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),M.add("featurelayer-simplify-payload-size-factors",[1,1,4]),M.add("featurelayer-animation-enabled",!0),M.add("featurelayer-snapshot-enabled",!0),M.add("featurelayer-snapshot-point-min-threshold",8e4),M.add("featurelayer-snapshot-point-max-threshold",4e5),M.add("featurelayer-snapshot-point-coverage",.1),M.add("featurelayer-advanced-symbols",!1),M.add("featurelayer-pbf",!0),M.add("featurelayer-pbf-statistics",!1),M.add("feature-layers-workers",!0),M.add("feature-polyline-generalization-factor",1),M.add("mapview-transitions-duration",200),M.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),M.add("mapserver-pbf-version-support",10.81),M.add("mapservice-popup-identify-max-tolerance",20),M.add("heatmap-allow-raster-fallback",!1),M.add("heatmap-force-raster",!1),M("host-webworker")||M("host-browser")&&(M.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),M.add("esri-image-decode",()=>{if("decode"in new Image){const V=new Image;return V.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void V.decode().then(()=>{M.add("esri-image-decode",!0,!0,!0)}).catch(()=>{M.add("esri-image-decode",!1,!0,!0)})}return!1}),M.add("esri-url-encodes-apostrophe",()=>{const V=window.document.createElement("a");return V.href="?'",V.href.includes("?%27")}))})()},26517:(Ze,me,_)=>{"use strict";_.d(me,{Jl:()=>w,n$:()=>W,r7:()=>T});var E=_(15861),M=_(66476),V=_(57964),x=_(79412),P=_(6785),H=_(20940);let B=null,F=!0;function T(L,O,$){if(!L||!O)throw new Error("Cannot construct image data without dimensions");if(F)try{return new ImageData(L,O)}catch{F=!1}return Z(L,O,$)}function w(L,O,$,K){if(!O||!$)throw new Error("Cannot construct image data without dimensions");if(F)try{return new ImageData(L,O,$)}catch{F=!1}const U=Z(O,$,K);return U.data.set(L,0),U}function Z(L,O,$){return $||($=function j(){return B||(B=document.createElement("canvas"),B.width=1,B.height=1),B}()),$.getContext("2d").createImageData(L,O)}function G(){return(G=(0,E.Z)(function*(L,O){const $=window.URL.createObjectURL(L);try{const{data:K}=yield(0,M.Z)($,{...O,responseType:"image"});return K}catch(K){throw(0,x.D_)(K)?K:new V.Z("invalid-image",`Could not fetch requested image at ${$}`)}finally{window.URL.revokeObjectURL($)}})).apply(this,arguments)}function W(L,O){return A.apply(this,arguments)}function A(){return A=(0,E.Z)(function*(L,O){const{arrayBuffer:$,mediaType:K}=yield function S(L,O){return N.apply(this,arguments)}(L,O),U="image/png"===K;if("image/gif"===K){const{isAnimatedGIF:X,parseGif:Y}=yield _.e(3657).then(_.bind(_,13657));if(X($))return Y($,O)}if(U){const{isAnimatedPNG:X,parseApng:Y}=yield _.e(4622).then(_.bind(_,64622));if(X($))return Y($,O)}return function I(L,O){return G.apply(this,arguments)}(new Blob([$],{type:K}),O)}),A.apply(this,arguments)}function N(){return(N=(0,E.Z)(function*(L,O){const $=(0,P.sJ)(L);if($?.isBase64)return{arrayBuffer:(0,H.R)($.data),mediaType:$.mediaType};const K=yield(0,M.Z)(L,{responseType:"array-buffer",...O});return{arrayBuffer:K.data,mediaType:K.getHeader("Content-Type")}})).apply(this,arguments)}},44242:(Ze,me,_)=>{"use strict";function E(x){const P=[];return function*(){yield*P;for(const H of x)P.push(H),yield H}}function M(x,P){for(const H of x)if(null!=H&&P(H))return H}function V(x){return null!=x&&"function"==typeof x[Symbol.iterator]}_.d(me,{Fs:()=>E,TW:()=>V,sE:()=>M})},84303:(Ze,me,_)=>{"use strict";_.d(me,{X:()=>M,w:()=>V});var E=_(71763);class M{constructor(P,H={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=P,this._options=H,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(P),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=B=>this.fromJSON(B),this.write=(B,F,T)=>{const w=this.toJSON(B);void 0!==w&&(0,E.RB)(T,w,F)},this.write.isJSONMapWriter=!0}toJSON(P){if(null==P)return null;if(this._apiToJSON.hasOwnProperty(P)){const H=this._apiToJSON[P];return this._options.useNumericKeys?+H:H}return this._options.ignoreUnknown?void 0:P}fromJSON(P){return null!=P&&this._jsonToAPI.hasOwnProperty(P)?this._jsonToAPI[P]:this._options.ignoreUnknown?void 0:P}_invertMap(P){const H={};for(const B in P)H[P[B]]=B;return H}_getKeysSorted(P){const H=[];for(const B in P)H.push(B);return H.sort(),H}}function V(){return function(x,P){return new M(x,{ignoreUnknown:!0,...P})}}},34222:(Ze,me,_)=>{"use strict";_.d(me,{Vo:()=>P,d9:()=>x,fS:()=>j,tZ:()=>H,y7:()=>Z,yd:()=>V});var E=_(57678),M=_(40271);function V(A,S){let N;if(S)for(N in A)A.hasOwnProperty(N)&&(void 0===A[N]?delete A[N]:A[N]instanceof Object&&V(A[N],!0));else for(N in A)A.hasOwnProperty(N)&&void 0===A[N]&&delete A[N];return A}function x(A){if(!A||"object"!=typeof A||"function"==typeof A)return A;const S=w(A);if(null!=S)return S;if(H(A))return A.clone();if(B(A))return A.map(x);if(F(A))return A.clone();const N={};for(const L of Object.getOwnPropertyNames(A))N[L]=x(A[L]);return N}function P(A){if(!A||"object"!=typeof A||"function"==typeof A||"HTMLElement"in globalThis&&A instanceof HTMLElement)return A;const S=w(A);if(null!=S)return S;if(B(A)){let N=!0;const L=A.map(O=>{const $=P(O);return null!=O&&null==$&&(N=!1),$});return N?L:null}if(H(A))return A.clone();if(A instanceof File||A instanceof Blob)return A;if(!F(A)){const N=new(Object.getPrototypeOf(A).constructor);for(const L of Object.getOwnPropertyNames(A)){const O=A[L],$=P(O);if(null!=O&&null==$)return null;N[L]=$}return N}return null}function H(A){return"function"==typeof A.clone}function B(A){return"function"==typeof A.map&&"function"==typeof A.forEach}function F(A){return"function"==typeof A.notifyChange&&"function"==typeof A.watch}function T(A){if("[object Object]"!==Object.prototype.toString.call(A))return!1;const S=Object.getPrototypeOf(A);return null===S||S===Object.prototype}function w(A){if((0,M.W0)(A)||(0,M.lq)(A)||(0,M.KZ)(A)||(0,M.z3)(A)||(0,M.Uc)(A)||(0,M.Hx)(A)||(0,M.ZY)(A)||(0,M.xZ)(A)||(0,M.fS)(A))return A.slice();if(A instanceof Date)return new Date(A.getTime());if(A instanceof ArrayBuffer)return A.slice(0,A.byteLength);if(A instanceof Map){const S=new Map;for(const[N,L]of A)S.set(N,x(L));return S}if(A instanceof Set){const S=new Set;for(const N of A)S.add(x(N));return S}return null}function j(A,S){return A===S||"number"==typeof A&&isNaN(A)&&"number"==typeof S&&isNaN(S)||"function"==typeof A?.getTime&&"function"==typeof S?.getTime&&A.getTime()===S.getTime()||!1}function Z(A,S){return A===S||(null==A||"string"==typeof A?A===S:"number"==typeof A?A===S||"number"==typeof S&&isNaN(A)&&isNaN(S):A instanceof Date?S instanceof Date&&A.getTime()===S.getTime():Array.isArray(A)?Array.isArray(S)&&(0,E.fS)(A,S):A instanceof Set?S instanceof Set&&function G(A,S){if(A.size!==S.size)return!1;for(const N of A)if(!S.has(N))return!1;return!0}(A,S):A instanceof Map?S instanceof Map&&function W(A,S){if(A.size!==S.size)return!1;for(const[N,L]of A){const O=S.get(N);if(O!==L||void 0===O&&!S.has(N))return!1}return!0}(A,S):!!T(A)&&T(S)&&function I(A,S){if(null===A||null===S)return!1;const N=Object.keys(A);if(null===S||Object.keys(S).length!==N.length)return!1;for(const L of N)if(A[L]!==S[L]||!Object.prototype.hasOwnProperty.call(S,L))return!1;return!0}(A,S))}},30352:(Ze,me,_)=>{"use strict";_.d(me,{G:()=>P,w:()=>B});var E=_(15861),M=_(37636),V=_(83944),x=_(67016);function P(w,j){return H.apply(this,arguments)}function H(){return(H=(0,E.Z)(function*(w,j){return yield w.load(),B(w,j)})).apply(this,arguments)}function B(w,j){return F.apply(this,arguments)}function F(){return F=(0,E.Z)(function*(w,j){const Z=[],I=(...W)=>{for(const A of W)null!=A&&(Array.isArray(A)?I(...A):V.Z.isCollection(A)?A.forEach(S=>I(S)):x.Z.isLoadable(A)&&Z.push(A))};j(I);let G=null;if(yield(0,M.UI)(Z,function(){var W=(0,E.Z)(function*(A){const S=yield(0,M.q6)(function T(w){return"loadAll"in w&&"function"==typeof w.loadAll}(A)?A.loadAll():A.load());!1!==S.ok||G||(G=S)});return function(A){return W.apply(this,arguments)}}()),G)throw G.error;return w}),F.apply(this,arguments)}},55117:(Ze,me,_)=>{"use strict";_.d(me,{BV:()=>I,F3:()=>ce,Kt:()=>A,Sf:()=>x,Vl:()=>Z,W8:()=>S,ZF:()=>W,bA:()=>j,fp:()=>F,jE:()=>k,oK:()=>oe,oc:()=>pe,t7:()=>w,uZ:()=>P,wt:()=>B});var E=_(43589);_(70993);const V=new Float32Array(1);function x(q){--q;for(let le=1;le<32;le<<=1)q|=q>>le;return q+1}function P(q,le,ee){return Math.min(Math.max(q,le),ee)}function B(q){return 0==(q&q-1)}function F(q){return q--,q|=q>>1,q|=q>>2,q|=q>>4,q|=q>>8,q|=q>>16,++q}function w(q,le,ee){return q+(le-q)*ee}function j(q,le,ee,ae,ue){return w(ae,ue,(q-le)/(ee-le))}function Z(q){return q*Math.PI/180}function I(q){return 180*q/Math.PI}function W(q){return Math.acos(P(q,-1,1))}function A(q){return Math.asin(P(q,-1,1))}function S(q,le,ee=1e-6){return q===le||!(!Number.isFinite(q)||!Number.isFinite(le))&&(q>le?q-le:le-q)<=ee}const N=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));const $=BigInt("1000000");function oe(q){return ne(Math.max(-ce,Math.min(q,ce)))}function ne(q){return V[0]=q,V[0]}function k(q,le){const ee=(0,E.l)(q),ae=A(q[2]/ee),ue=Math.atan2(q[1]/ee,q[0]/ee);return(0,E.s)(le,ee,ae,ue),le}function pe(q){const ee=q[3]*q[3]+q[4]*q[4]+q[5]*q[5],ae=q[6]*q[6]+q[7]*q[7]+q[8]*q[8];return!(S(q[0]*q[0]+q[1]*q[1]+q[2]*q[2],1)&&S(ee,1)&&S(ae,1))}!function U(q){const le=function L(q){return N.setFloat64(0,q),N.getBigInt64(0)}(q=Math.abs(q)),ee=function O(q){return N.setBigInt64(0,q),N.getFloat64(0)}(le<=$?$:le-$);return Math.abs(q-ee)}(1);const ce=ne(34028234663852886e22)},51172:(Ze,me,_)=>{"use strict";function E(w,j){if(null==w)throw new Error(j??"value is None")}function M(w){return w?.destroy(),null}function V(w){return w?.dispose(),null}function x(w){return w?.remove(),null}function P(w){return w?.abort(),null}function H(w){return w?.release(),null}function B(w,j,Z){return null!=w&&null!=j?null!=Z?Z(w,j):w.equals(j):w===j}_.d(me,{IM:()=>P,M2:()=>V,O3:()=>E,RY:()=>H,SC:()=>M,_W:()=>B,hw:()=>x})},38119:(Ze,me,_)=>{"use strict";_.d(me,{Y:()=>M});const E=[];function M(V){E.push(V),1===E.length&&queueMicrotask(()=>{const x=E.slice();E.length=0;for(const P of x)P()})}},71763:(Ze,me,_)=>{"use strict";_.d(me,{RB:()=>x,RH:()=>M,hS:()=>V});var E=_(34222);function M(B,F,T=!1){return H(B,F,T)}function V(B,F){if(null!=F)return F[B]||P(B.split("."),!1,F)}function x(B,F,T){const w=B.split("."),j=w.pop(),Z=P(w,!0,T);Z&&j&&(Z[j]=F)}function P(B,F,T){let w=T;for(const j of B){if(null==w)return;if(!(j in w)){if(!F)return;w[j]={}}w=w[j]}return w}function H(B,F,T){return F?Object.keys(F).reduce((w,j)=>{let Z=w[j],I=F[j];return Z===I?w:void 0===Z?(w[j]=(0,E.d9)(I),w):(Array.isArray(I)||Array.isArray(w)?(Z=w[j]=Z?Array.isArray(Z)?Z.concat():[Z]:[],I&&(Array.isArray(I)||(I=[I]),T?I.forEach(G=>{Z.includes(G)||Z.push(G)}):w[j]=I.concat())):I&&"object"==typeof I?w[j]=H(Z,I,T):w.hasOwnProperty(j)&&!F.hasOwnProperty(j)||(w[j]=I),w)},B||{}):B}},79412:(Ze,me,_)=>{"use strict";_.d(me,{$F:()=>A,D_:()=>L,Ds:()=>q,H9:()=>G,Hc:()=>Z,Hl:()=>S,OT:()=>se,R8:()=>O,UO:()=>k,WW:()=>oe,Yn:()=>ue,as:()=>X,e4:()=>Q,fu:()=>W,gx:()=>ce,hh:()=>le,k_:()=>w,r9:()=>I,y8:()=>fe,zE:()=>T});var E=_(15861),M=_(8169),V=_(57964),x=_(90984),H=(_(4703),_(51172));function T(Ee="Aborted"){return new V.Z("AbortError",Ee)}function w(Ee,be="Aborted"){if(Z(Ee))throw T(be)}function j(Ee){return null!=Ee?"aborted"in Ee?Ee:Ee.signal:Ee}function Z(Ee){const be=j(Ee);return null!=be&&be.aborted}function I(Ee){if(L(Ee))throw Ee}function G(Ee){if(!L(Ee))throw Ee}function W(Ee,be){const ie=j(Ee);if(null!=ie){if(!ie.aborted)return(0,x.IH)(ie,"abort",()=>be());be()}}function A(Ee,be){const ie=j(Ee);if(null!=ie)return w(ie),(0,x.IH)(ie,"abort",()=>be(T()))}function S(Ee,be){return null==j(be)?Ee:new Promise((ie,De)=>{let Be=W(be,()=>De(T()));const we=()=>{Be=(0,H.hw)(Be)};Ee.then(we,we),Ee.then(ie,De)})}function L(Ee){return"AbortError"===Ee?.name}function O(Ee){return $.apply(this,arguments)}function $(){return($=(0,E.Z)(function*(Ee){try{return yield Ee}catch(be){if(!L(be))throw be;return}})).apply(this,arguments)}function X(Ee){return Y.apply(this,arguments)}function Y(){return(Y=(0,E.Z)(function*(Ee){if(!Ee)return;if("function"!=typeof Ee.forEach){const ie=Object.keys(Ee),De=ie.map(Me=>Ee[Me]),Be=yield X(De),we={};return ie.map((Me,He)=>we[Me]=Be[He]),we}const be=Ee;return Promise.allSettled(be).then(ie=>Array.from(be,(De,Be)=>{const we=ie[Be];return"fulfilled"===we.status?{promise:De,value:we.value}:{promise:De,error:we.reason}}))})).apply(this,arguments)}function oe(Ee){return ne.apply(this,arguments)}function ne(){return(ne=(0,E.Z)(function*(Ee){return(yield X(Ee)).filter(be=>!!be.value).map(be=>be.value)})).apply(this,arguments)}function se(Ee){return te.apply(this,arguments)}function te(){return(te=(0,E.Z)(function*(Ee){return(yield Promise.allSettled(Ee)).filter(be=>"fulfilled"===be.status).map(be=>be.value)})).apply(this,arguments)}function k(Ee){return re.apply(this,arguments)}function re(){return(re=(0,E.Z)(function*(Ee){return(yield Promise.allSettled(Ee)).filter(be=>"rejected"===be.status).map(be=>be.reason)})).apply(this,arguments)}function Q(Ee,be=void 0,ie){const De=new AbortController;return W(ie,()=>De.abort()),new Promise((Be,we)=>{let Me=setTimeout(()=>{Me=0,Be(be)},Ee);W(De,()=>{Me&&(clearTimeout(Me),we(T()))})})}function fe(Ee){return Ee&&"function"==typeof Ee.then}function ce(Ee){return fe(Ee)?Ee:Promise.resolve(Ee)}function q(Ee,be=-1){let ie,De,Be,we,Me=null;const He=(...xe)=>{if(ie){De=xe,we&&we.reject(T()),we=le();const Re=we.promise;if(Me){const Ve=Me;Me=null,Ve.abort()}return Re}if(Be=we||le(),we=null,be>0){const Re=new AbortController;ie=ce(Ee(...xe,Re.signal));const Ve=ie;Q(be).then(()=>{ie===Ve&&(we?Re.abort():Me=Re)})}else ie=1,ie=ce(Ee(...xe));const Xe=()=>{const Re=De;De=Be=ie=Me=null,null!=Re&&He(...Re)},J=ie,ye=Be;return J.then(Xe,Xe),J.then(ye.resolve,ye.reject),ye.promise};return He}function le(){let Ee,be;const ie=new Promise((Be,we)=>{Ee=Be,be=we}),De=Be=>{Ee(Be)};return De.resolve=Be=>Ee(Be),De.reject=Be=>be(Be),De.timeout=(Be,we)=>M.m.setTimeout(()=>De.reject(we),Be),De.promise=ie,De}function ue(Ee){return ge.apply(this,arguments)}function ge(){return(ge=(0,E.Z)(function*(Ee){yield Promise.resolve(),w(Ee)})).apply(this,arguments)}},77675:(Ze,me,_)=>{"use strict";_.d(me,{N1:()=>G,Wy:()=>N,YP:()=>T,Z_:()=>$,gx:()=>w,nn:()=>K,on:()=>Z,tX:()=>U}),_(37636),_(83944);var V=_(90984),x=_(1258),P=_(51172),H=_(79412),B=_(12926);function T(X,Y,oe={}){return j(X,Y,oe,A)}function w(X,Y,oe={}){return j(X,Y,oe,S)}function j(X,Y,oe={},ne){let se=null;const te=oe.once?(k,re)=>{ne(k)&&((0,P.hw)(se),Y(k,re))}:(k,re)=>{ne(k)&&Y(k,re)};if(se=(0,B.aQ)(X,te,oe.sync,oe.equals),oe.initial){const k=X();te(k,k)}return se}function Z(X,Y,oe,ne={}){let se=null,te=null,k=null;function re(){se&&te&&(te.remove(),ne.onListenerRemove?.(se),se=null,te=null)}function Q(fe){ne.once&&ne.once&&(0,P.hw)(k),oe(fe)}const pe=T(X,(fe,ce)=>{re(),(0,V.vT)(fe)&&(se=fe,te=(0,V.on)(fe,Y,Q),ne.onListenerAdd?.(fe))},{sync:ne.sync,initial:!0});return k=(0,x.kB)(()=>{pe.remove(),re()}),k}function G(X,Y){return function W(X,Y,oe){if((0,H.Hc)(oe))return Promise.reject((0,H.zE)());const ne=X();if(Y?.(ne))return Promise.resolve(ne);let se=null;function te(){se=(0,P.hw)(se)}return new Promise((k,re)=>{se=(0,x.AL)([(0,H.fu)(oe,()=>{te(),re((0,H.zE)())}),j(X,Q=>{te(),k(Q)},{sync:!1,once:!0},Y??A)])})}(X,S,Y)}function A(X){return!0}function S(X){return!!X}function N(X,Y,oe={}){let ne=!1;const se=T(X,(te,k)=>{ne||Y(te,k)},oe);return{remove(){se.remove()},pause(){ne=!0},resume(){ne=!1}}}_(43571);const $={sync:!0},K={initial:!0},U={sync:!0,initial:!0}},66679:(Ze,me,_)=>{"use strict";_.d(me,{A:()=>S,MU:()=>oe,Os:()=>A});var E=_(38119),M=_(44169),V=_(43029),x=_(79412),P=_(95854);class H{constructor(re){this.phases=re,this.paused=!1,this.ticks=-1,this.removed=!1}}class B{constructor(re){this.callback=re,this.isActive=!0}remove(){this.isActive=!1}}let F=0;const w={time:(0,P.HA)(0),deltaTime:(0,P.HA)(0),elapsedFrameTime:(0,P.HA)(0),frameDuration:(0,P.HA)(0)},j=["prepare","preRender","render","postRender","update","finish"],Z=[],I=new V.Z;class G{constructor(re){this._task=re}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const W={frameTasks:I,willDispatch:!1,clearFrameTasks:function L(k=!1){I.forAll(re=>{re.removed=!0}),k&&X()},dispatch:Y,executeFrameTasks:function K(k){const re=(0,P.HA)(k-F);F=k;const Q=1e3/60,pe=Math.max(0,re-Q);w.time=k,w.frameDuration=(0,P.HA)(Q-pe);for(let fe=0;fe<j.length;fe++){const ce=performance.now(),q=j[fe];I.forAll(le=>{le.paused||le.removed||(0===fe&&le.ticks++,le.phases[q]&&(w.elapsedFrameTime=(0,P.HA)(performance.now()-k),w.deltaTime=0===le.ticks?(0,P.HA)(0):re,le.phases[q]?.call(le,w)))}),se[fe].record(performance.now()-ce)}X(),te.record(performance.now()-k)}};function A(k){const re=new B(k);return Z.push(re),W.willDispatch||(W.willDispatch=!0,(0,E.Y)(Y)),re}function S(k){const re=new H(k);return I.push(re),null==N&&(F=performance.now(),N=requestAnimationFrame($)),new G(re)}let N=null;function $(){const k=performance.now();N=null,N=I.length>0?requestAnimationFrame($):null,W.executeFrameTasks(k)}const U=new V.Z;function X(){I.forAll(k=>{k.removed&&U.push(k)}),I.removeUnorderedMany(U.data,U.length),U.clear()}function Y(){for(;Z.length;){const k=Z.shift();k.isActive&&k.callback()}W.willDispatch=!1}function oe(k=1,re){const Q=(0,x.hh)(),pe=()=>{(0,x.Hc)(re)?Q.reject((0,x.zE)()):0===k?Q():(--k,(0,E.Y)(()=>pe()))};return pe(),Q.promise}const se=j.map(k=>new M.Z(k)),te=new M.Z("total")},55768:(Ze,me,_)=>{"use strict";_.d(me,{F2:()=>x,Wz:()=>P,s1:()=>F,t_:()=>H,vW:()=>B});const E=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,M="screenUtils.toPt: input not recognized!",V=96;function x(S){return S?S/72*V:0}function P(S){return S?72*S/V:0}function H(S){if("string"==typeof S){const N=S.match(E);if(N){const L=Number(N[1]),O=N[3]&&N[3].toLowerCase(),$="-"===S.charAt(0),K="px"===O?P(L):L;return $?-K:K}return console.warn(M),null}return S}function B(S=0,N=0){return{x:S,y:N}}function F(S=0,N=0){return[S,N]}},45974:(Ze,me,_)=>{"use strict";_.d(me,{t:()=>P});var E=_(34222),M=_(56295),V=_(19994);class x{constructor(B,F){this._observable=new V.s,this._value=B,this._equalityFunction=F}get value(){return(0,M.it)(this._observable),this._value}set value(B){this._equalityFunction(B,this._value)||(this._value=B,this._observable.notify())}mutate(B){B(this._value),this._observable.notify()}}function P(H,B=E.y7){return new x(H,B)}},38955:(Ze,me,_)=>{"use strict";_.d(me,{E:()=>M,_:()=>x});var E=_(15861);function M(P,H){return V.apply(this,arguments)}function V(){return(V=(0,E.Z)(function*(P,H){const{WhereClause:B}=yield Promise.all([_.e(3866),_.e(5904)]).then(_.bind(_,85904));return B.create(P,H)})).apply(this,arguments)}function x(P,H){return null!=P?null!=H?`(${P}) AND (${H})`:P:H}},15398:(Ze,me,_)=>{"use strict";_.d(me,{A4:()=>V,L9:()=>x,yV:()=>M});var E=_(25037);class M{}function V(H){return H instanceof E.ld?H===M.instance:"unknown"===H?.toString().toLowerCase()}function x(H){return V(H)?M.instance:H}M.instance=new E.vF("Etc/UTC")},72578:(Ze,me,_)=>{"use strict";_.d(me,{Cb:()=>B,Qs:()=>P,gx:()=>x,hP:()=>H,pZ:()=>F});var E=_(71763);const M=/\{([^\}]+)\}/g;function V(T){return T??""}function x(T,w){return w?T.replaceAll(M,"object"==typeof w?(j,Z)=>V((0,E.hS)(Z,w)):(j,Z)=>V(w(Z))):T}function P(T,w){return T.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,j=>w&&w.includes(j)?j:`\\${j}`)}function H(T){let w=0;for(let j=0;j<T.length;j++)w=(w<<5)-w+T.charCodeAt(j),w|=0;return w}function B(T){return(new DOMParser).parseFromString(T||"","text/html").body.innerText||""}function F(T,w){return new RegExp(`{${w}}`,"ig").test(T)}},18714:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>w,z:()=>j});var E=_(50484),M=_(83944),V=_(18626),H=(_(14007),_(4703),_(80543)),T=(_(1535),_(57678),_(10141));let w=class extends M.Z{constructor(Z){super(Z),this.addHandles([this.on("before-add",I=>{null==I.item&&I.preventDefault()}),this.on("after-add",I=>this._own(I.item)),this.on("after-remove",I=>this._release(I.item))])}get owner(){return this._get("owner")}set owner(Z){Z!==this._get("owner")&&(this._releaseAll(),this._set("owner",Z),this._ownAll())}_ownAll(){for(const Z of this.items)this._own(Z)}_releaseAll(){for(const Z of this.items)this._release(Z)}_createNewInstance(Z){return this.itemType?new(M.Z.ofType(this.itemType.Type))(Z):new M.Z(Z)}};function j(Z,I){return{type:Z,cast:V.R,set(G){const W=(0,V.Z)(G,this._get(I),Z);W.owner=this,this._set(I,W)}}}(0,E._)([(0,H.Cb)()],w.prototype,"owner",null),w=(0,E._)([(0,T.j)("esri.core.support.OwningCollection")],w)},90110:(Ze,me,_)=>{"use strict";_.d(me,{R:()=>F});var E=_(50484),M=_(73514),V=_(1258),x=_(77675),P=_(66679),H=_(80543),B=_(10141);let F=class extends M.Z{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(w,j,Z={}){return this._installWatch(w,j,Z,x.YP)}addWhen(w,j,Z={}){return this._installWatch(w,j,Z,x.gx)}addOnCollectionChange(w,j,{initial:Z=!1,final:I=!1}={}){const G=++this._handleId;return this.addHandles([(0,x.on)(w,"after-changes",this._createSyncUpdatingCallback(),x.Z_),(0,x.on)(w,"change",j,{onListenerAdd:Z?W=>j({added:W.toArray(),removed:[]}):void 0,onListenerRemove:I?W=>j({added:[],removed:W.toArray()}):void 0})],G),(0,V.kB)(()=>this.removeHandles(G))}addPromise(w){if(null==w)return w;const j=++this._handleId;this.addHandles((0,V.kB)(()=>{this._pendingPromises.delete(w)&&(0!==this._pendingPromises.size||this.hasHandles(T)||this._set("updating",!1))}),j),this._pendingPromises.add(w),this._set("updating",!0);const Z=()=>this.removeHandles(j);return w.then(Z,Z),w}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(w,j,Z={},I){const G=++this._handleId;Z.sync||this._installSyncUpdatingWatch(w,G);const W=I(w,j,Z);return this.addHandles(W,G),(0,V.kB)(()=>this.removeHandles(G))}_installSyncUpdatingWatch(w,j){const Z=this._createSyncUpdatingCallback(),I=(0,x.YP)(w,Z,{sync:!0,equals:()=>!1});return this.addHandles(I,j),I}_createSyncUpdatingCallback(){return()=>{this.removeHandles(T),++this._scheduleHandleId;const w=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,P.Os)(()=>{w===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(T))}),T)}}};(0,E._)([(0,H.Cb)({readOnly:!0})],F.prototype,"updating",void 0),F=(0,E._)([(0,B.j)("esri.core.support.UpdatingHandles")],F);const T=-42},95854:(Ze,me,_)=>{"use strict";function E(H){return H}function M(H){return 1e3*H}function V(H){return H}_.d(me,{HA:()=>E,_H:()=>V,up:()=>M})},51431:(Ze,me,_)=>{"use strict";_.d(me,{JE:()=>B,Nm:()=>P,fM:()=>x,rJ:()=>Z});var E=_(94678),M=_(764),V=_(25037);const x={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function P(A,S,N,L=M.By){const O=new V.vF((0,E.f1)(L)),$=V.ou.fromJSDate(A,{zone:O}),K="decades"===N||"centuries"===N?"year":W(N);return"decades"===N&&(S*=10),"centuries"===N&&(S*=100),$.plus({[K]:S}).toJSDate()}function B(A,S,N=M.By){const L=new V.vF((0,E.f1)(N)),O=V.ou.fromJSDate(A,{zone:L});if("decades"===S||"centuries"===S){const K=O.startOf("year"),{year:U}=K;return K.set({year:U-U%("decades"===S?10:100)}).toJSDate()}const $=W(S);return O.startOf($).toJSDate()}function Z(A,S,N){return 0===A?0:A*x[S]/x[N]}function W(A){switch(A){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},40271:(Ze,me,_)=>{"use strict";_.d(me,{B3:()=>S,Hx:()=>T,KZ:()=>H,Op:()=>L,Q7:()=>N,Uc:()=>F,W0:()=>x,Xw:()=>G,ZY:()=>w,c8:()=>A,eP:()=>V,fS:()=>Z,kJ:()=>I,lq:()=>P,ru:()=>W,xZ:()=>j,z3:()=>B});var E=_(91307);function V(O){return O instanceof ArrayBuffer}function x(O){return"Int8Array"===O?.constructor?.name}function P(O){return"Uint8Array"===O?.constructor?.name}function H(O){return"Uint8ClampedArray"===O?.constructor?.name}function B(O){return"Int16Array"===O?.constructor?.name}function F(O){return"Uint16Array"===O?.constructor?.name}function T(O){return"Int32Array"===O?.constructor?.name}function w(O){return"Uint32Array"===O?.constructor?.name}function j(O){return"Float32Array"===O?.constructor?.name}function Z(O){return"Float64Array"===O?.constructor?.name}function I(O){return!("buffer"in O)}function G(...O){return O.reduce(($,K)=>$+(K?I(K)?(0,E.do)(K,(0,E.G3)()):K.byteLength+W:0),0)}_(14007);const W=145,A=1024;function S(O){return Z(O)||j(O)||T(O)||B(O)||x(O)}function N(O){return Z(O)||j(O)}function L(O){return Z(O)?179769e303:j(O)?3402823e32:w(O)?4294967295:F(O)?65535:P(O)||H(O)?255:T(O)?2147483647:B(O)?32767:x(O)?127:256}},68160:(Ze,me,_)=>{"use strict";_.d(me,{D:()=>V});let E=0;function V(){return++E}},49602:(Ze,me,_)=>{"use strict";_.d(me,{$C:()=>Ee,CN:()=>nt,En:()=>se,Jo:()=>$e,UF:()=>X,_R:()=>ie,c9:()=>Be,cM:()=>De,gV:()=>je,hd:()=>B,qE:()=>Xe,r6:()=>Me,ty:()=>ge}),_(14007);var M=_(84303),V=_(82921),x=_(82301),P=_(33721),H=_(74359);const B=39.37,F=x.sv.radius*Math.PI/200,T=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,w=H.Z,j=/UNIT\[([^\]]+)]/i,Z=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),I=(0,M.w)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),G=Je=>Je*Je,W=Je=>Je*Je*Je,A={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:G(.001)},"square-centimeters":{inBaseUnits:G(.01)},"square-decimeters":{inBaseUnits:G(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:G(1e3)},"square-inches":{inBaseUnits:G(.0254)},"square-feet":{inBaseUnits:G(.3048)},"square-yards":{inBaseUnits:G(.9144)},"square-miles":{inBaseUnits:G(1609.344)},"square-us-feet":{inBaseUnits:G(1200/3937)},acres:{inBaseUnits:.0015625*G(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*W(.001)},"cubic-centimeters":{inBaseUnits:1e3*W(.01)},"cubic-decimeters":{inBaseUnits:1e3*W(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*W(1e3)},"cubic-inches":{inBaseUnits:1e3*W(.0254)},"cubic-feet":{inBaseUnits:1e3*W(.3048)},"cubic-yards":{inBaseUnits:1e3*W(.9144)},"cubic-miles":{inBaseUnits:1e3*W(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},S=(()=>{const Je={};for(const ot in A)for(const at in A[ot].units)Je[at]=ot;return Je})();function X(Je){const ot=S[Je];if(!ot)throw new Error("unknown type");return ot}function ne(Je,ot=null){return ot=ot||X(Je),A[ot].baseUnit===Je}function se(Je,ot,at){if(ot===at)return Je;const mt=X(ot);if(mt!==X(at))throw new Error("incompatible units");const Tt=ne(ot,mt)?Je:function N(Je,ot,at){return Je*A[at].units[ot].inBaseUnits}(Je,ot,mt);return ne(at,mt)?Tt:function L(Je,ot,at){return Je/A[at].units[ot].inBaseUnits}(Tt,at,mt)}function ge(Je,ot,at){return se(Je,ot,"meters")/(at*Math.PI/180)}function Ee(Je){return I.fromJSON(Je.toLowerCase())||null}function ie(Je){if(null!=Je&&!(0,P.N$)(Je))return 1;const ot=Be(Je);return ot>1e5?1:ot}function De(Je){return Be(Je)>=(0,V.Iu)(Je).metersPerDegree?"meters":Xe(Je)}function Be(Je,ot=x.sv.metersPerDegree){return function we(Je,ot=!1){const at=Je?.wkid??null,mt=Je?.wkt2??Je?.wkt??null;let Tt=null;if(at){if((0,P.o$)(at))return x.yr.metersPerDegree;if((0,P.ME)(at))return x.Z1.metersPerDegree;Tt=w.values[w[at]],!Tt&&ot&&Z.has(at)&&(Tt=F)}else mt&&(et(mt)?Tt=He(T.exec(mt),Tt):Ve(mt)&&(Tt=He(j.exec(mt),Tt)));return Tt}(Je,!0)??ot}function Me(Je){return(0,P.sT)(Je)?1:Be(Je)}function He(Je,ot){return Je?.[1]?xe(Je[1]):ot}function xe(Je){return parseFloat(Je.split(",")[1])}function Xe(Je){const ot=Je?.wkid??null,at=Je?.wkt2??Je?.wkt??null;let mt=null;if(ot)mt=w.units[w[ot]];else if(at){const Tt=et(at)?T:Ve(at)?j:null;if(Tt){const Ot=Tt.exec(at);Ot?.[1]&&(mt=function Qe(Je){let at=/[\\"']{1}([^\\"']+)/.exec(Je)?.[1];if(!at||!w.units.includes(at)){const mt=xe(Je);at=null;const Tt=w.values;for(let Ot=0;Ot<Tt.length;++Ot)if(Math.abs(mt-Tt[Ot])<Fe){at=w.units[Ot];break}}return at}(Ot[1]))}}return null!=mt?Ee(mt):null}function Ve(Je){return/^GEOCCS/i.test(Je)}function et(Je){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(Je)}const Fe=1e-7,je=(0,M.w)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),$e=(0,M.w)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),nt=(0,M.w)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},6785:(Ze,me,_)=>{"use strict";_.d(me,{$U:()=>Tt,AH:()=>et,B7:()=>Q,D6:()=>De,Fv:()=>xe,HK:()=>Ve,Hu:()=>zn,IR:()=>vs,Ie:()=>Mn,L:()=>ne,Ml:()=>qr,P$:()=>J,PF:()=>He,Qj:()=>Yt,R9:()=>O,TI:()=>oe,YP:()=>ye,Yd:()=>Dt,ZN:()=>Ut,Zo:()=>ue,_l:()=>ve,b7:()=>pe,ed:()=>ae,fZ:()=>yr,fl:()=>Xt,fw:()=>je,gi:()=>Oe,hF:()=>Me,hO:()=>kt,io:()=>nt,jc:()=>Re,kl:()=>Be,mN:()=>k,oC:()=>at,oh:()=>ie,qg:()=>fe,rS:()=>Fe,sJ:()=>Ne,tD:()=>ee,tm:()=>Ee,u0:()=>re,v_:()=>Xe,vt:()=>xt,xs:()=>nn,zd:()=>On});var E=_(15861),M=_(11931),V=_(57678),x=_(57964),P=_(89317),H=_(4703),B=_(71438),F=_(20940);const T=H.Z.getLogger("esri.core.urlUtils"),w=M.default.request,j="esri/config: esriConfig.request.proxyUrl is not set.",Z=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,I=/^\s*http:/i,G=/^\s*https:/i,W=/^\s*file:/i,A=/:\d+$/,S=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,N=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),L=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class O{constructor(Rt=""){this.uri=Rt,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let ze=this.uri.match(N);this.scheme=ze[2]||(ze[1]?"":null),this.authority=ze[4]||(ze[3]?"":null),this.path=ze[5],this.query=ze[7]||(ze[6]?"":null),this.fragment=ze[9]||(ze[8]?"":null),null!=this.authority&&(ze=this.authority.match(L),this.user=ze[3]||null,this.password=ze[4]||null,this.host=ze[6]||ze[7],this.port=ze[9]||null)}toString(){return this.uri}}const $={};let U=new O(M.default.applicationUrl);let Y=function se(){const qe=U.path,Rt=qe.substring(0,qe.lastIndexOf(qe.split("/")[qe.split("/").length-1]));return`${U.scheme}://${U.host}${null!=U.port?`:${U.port}`:""}${Rt}`}();const oe=()=>U,ne=()=>Y;function k(qe){if(!qe)return null;const Rt={path:null,query:null},ze=new O(qe),Ge=qe.indexOf("?");return null===ze.query?Rt.path=qe:(Rt.path=qe.substring(0,Ge),Rt.query=re(ze.query)),ze.fragment&&(Rt.hash=ze.fragment,null===ze.query&&(Rt.path=Rt.path.substring(0,Rt.path.length-(ze.fragment.length+1)))),Rt}function re(qe){const Rt=qe.split("&"),ze={};for(const Ge of Rt){if(!Ge)continue;const yt=Ge.indexOf("=");let Pt,_e;yt<0?(Pt=decodeURIComponent(Ge),_e=""):(Pt=decodeURIComponent(Ge.slice(0,yt)),_e=decodeURIComponent(Ge.slice(yt+1)));let ht=ze[Pt];"string"==typeof ht&&(ht=ze[Pt]=[ht]),Array.isArray(ht)?ht.push(_e):ze[Pt]=_e}return ze}function Q(qe,Rt){return qe?Rt&&"function"==typeof Rt?Object.keys(qe).map(ze=>encodeURIComponent(ze)+"="+encodeURIComponent(Rt(ze,qe[ze]))).join("&"):Object.keys(qe).map(ze=>{const Ge=qe[ze];if(null==Ge)return"";const yt=encodeURIComponent(ze)+"=",Pt=Rt?.[ze];return Pt?yt+encodeURIComponent(Pt(Ge)):Array.isArray(Ge)?Ge.map(_e=>(0,P.AK)(_e)?yt+encodeURIComponent(JSON.stringify(_e)):yt+encodeURIComponent(_e)).join("&"):(0,P.AK)(Ge)?yt+encodeURIComponent(JSON.stringify(Ge)):yt+encodeURIComponent(Ge)}).filter(ze=>ze).join("&"):""}function pe(qe=!1){let Rt,ze=w.proxyUrl;if("string"==typeof qe){Rt=Tt(qe);const Ge=ae(qe);Ge&&(ze=Ge.proxyUrl)}else Rt=!!qe;if(!ze)throw T.warn(j),new x.Z("urlutils:proxy-not-set",j);return Rt&&ft()&&(ze=kt(ze)),k(ze)}function fe(qe){const Rt=ae(qe);let ze,Ge;if(Rt){const yt=q(Rt.proxyUrl);ze=yt.path,Ge=yt.query?re(yt.query):null}if(ze){const yt=k(qe);qe=ze+"?"+yt.path;const Pt=Q({...Ge,...yt.query});Pt&&(qe=`${qe}?${Pt}`)}return qe}const ce={path:"",query:""};function q(qe){const Rt=qe.indexOf("?");return-1!==Rt?(ce.path=qe.slice(0,Rt),ce.query=qe.slice(Rt+1)):(ce.path=qe,ce.query=null),ce}function le(qe){return(qe=dt(qe=nn(qe=q(qe).path),!0)).toLowerCase()}function ee(qe){const Rt={proxyUrl:qe.proxyUrl,urlPrefix:le(qe.urlPrefix)},ze=w.proxyRules,Ge=Rt.urlPrefix;let yt=ze.length;for(let Pt=0;Pt<ze.length;Pt++){const _e=ze[Pt].urlPrefix;if(0===Ge.indexOf(_e)){if(Ge.length===_e.length)return-1;yt=Pt;break}0===_e.indexOf(Ge)&&(yt=Pt+1)}return ze.splice(yt,0,Rt),yt}function ae(qe){const Rt=w.proxyRules,ze=le(qe);for(let Ge=0;Ge<Rt.length;Ge++)if(0===ze.indexOf(Rt[Ge].urlPrefix))return Rt[Ge]}function ue(qe,Rt){if(!qe||!Rt)return!1;qe=be(qe),Rt=be(Rt);const ze=(0,B.a)(qe),Ge=(0,B.a)(Rt);return null!=ze&&null!=Ge?ze.portalHostname===Ge.portalHostname:null==ze&&null==Ge&&De(qe,Rt,!0)}function Ee(qe,Rt){return qe=be(qe),Rt=be(Rt),dt(qe)===dt(Rt)}function be(qe){const Rt=(qe=xe(qe)).indexOf("/sharing");return Rt>0?qe.substring(0,Rt):qe.replace(/\/+$/,"")}function ie(qe){const Rt=Ge=>null==Ge||Ge instanceof RegExp&&Ge.test(qe)||"string"==typeof Ge&&qe.startsWith(Ge),ze=w.interceptors;if(ze)for(const Ge of ze)if(Array.isArray(Ge.urls)){if(Ge.urls.some(Rt))return Ge}else if(Rt(Ge.urls))return Ge;return null}function De(qe,Rt,ze=!1){if(!qe||!Rt)return!1;const Ge=lr(qe),yt=lr(Rt);return!(!ze&&Ge.scheme!==yt.scheme)&&null!=Ge.host&&null!=yt.host&&Ge.host.toLowerCase()===yt.host.toLowerCase()&&Ge.port===yt.port}function Be(qe){if("string"==typeof qe){if(!ye(qe))return!0;qe=lr(qe)}if(De(qe,U))return!0;const Rt=w.trustedServers||[];for(let ze=0;ze<Rt.length;ze++){const Ge=we(Rt[ze]);for(let yt=0;yt<Ge.length;yt++)if(De(qe,Ge[yt]))return!0}return!1}function we(qe){return $[qe]||($[qe]=mt(qe)||at(qe)?[new O(Me(qe))]:[new O(`http://${qe}`),new O(`https://${qe}`)]),$[qe]}function Me(qe,Rt=Y,ze){return at(qe)?ze&&ze.preserveProtocolRelative?qe:"http"===U.scheme&&U.authority===J(qe).slice(2)?`http:${qe}`:`https:${qe}`:mt(qe)?qe:Xe("/"===qe[0]?function Ct(qe){const Rt=qe.indexOf("//"),ze=qe.indexOf("/",Rt+2);return-1===ze?qe:qe.slice(0,ze)}(Rt):Rt,qe)}function He(qe,Rt=Y,ze){if(null==qe||!ye(qe))return qe;const Ge=xe(qe),yt=Ge.toLowerCase(),Pt=xe(Rt).toLowerCase().replace(/\/+$/,""),_e=ze?xe(ze).toLowerCase().replace(/\/+$/,""):null;if(_e&&0!==Pt.indexOf(_e))return qe;const ht=(gt,Lt,Kt)=>-1===(Kt=gt.indexOf(Lt,Kt))?gt.length:Kt;let ut=ht(yt,"/",yt.indexOf("//")+2),Ye=-1;for(;yt.slice(0,ut+1)===Pt.slice(0,ut)+"/"&&(Ye=ut+1,ut!==yt.length);)ut=ht(yt,"/",ut+1);if(-1===Ye||_e&&Ye<_e.length)return qe;qe=Ge.slice(Ye);const it=Pt.slice(Ye-1).replaceAll(/[^/]+/g,"").length;if(it>0)for(let gt=0;gt<it;gt++)qe=`../${qe}`;else qe=`./${qe}`;return qe}function xe(qe){return function yn(qe){const Rt=w.httpsDomains;if(!function Ot(qe){return null!=qe&&I.test(qe)||"http"===U.scheme&&at(qe)}(qe))return qe;const ze=qe.indexOf("/",7);let Ge;if(Ge=-1===ze?qe:qe.slice(0,ze),Ge=Ge.toLowerCase().slice(7),A.test(Ge)){if(!Ge.endsWith(":80"))return qe;Ge=Ge.slice(0,-3),qe=qe.replace(":80","")}return function on(){return"http"===U.scheme}()&&Ge===U.authority&&!S.test(qe)||(ft()&&Ge===U.authority||Rt&&Rt.some(yt=>Ge===yt||Ge.endsWith(`.${yt}`))||ft()&&!ae(qe))&&(qe=kt(qe)),qe}(qe=function gn(qe){return qe.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(qe=function rn(qe){if(/^https?:\/\//i.test(qe)){const Rt=q(qe);qe=(qe=Rt.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),Rt.query&&(qe+=`?${Rt.query}`)}return qe}(qe=Me(qe=qe.trim()))))}function Xe(...qe){const Rt=qe.filter(V.pC);if(!Rt?.length)return;const ze=[];if(ye(Rt[0])){const yt=Rt[0],Pt=yt.indexOf("//");-1!==Pt&&(ze.push(yt.slice(0,Pt+1)),function Bt(qe){return null!=qe&&W.test(qe)}(Rt[0])&&(ze[0]+="/"),Rt[0]=yt.slice(Pt+2))}else"/"===Rt[0][0]&&ze.push("");const Ge=Rt.reduce((yt,Pt)=>Pt?yt.concat(Pt.split("/")):yt,[]);for(let yt=0;yt<Ge.length;yt++){const Pt=Ge[yt];".."===Pt&&ze.length>0&&".."!==ze[ze.length-1]?ze.pop():(!Pt&&yt===Ge.length-1||Pt&&("."!==Pt||0===ze.length))&&ze.push(Pt)}return ze.join("/")}function J(qe,Rt=!1){if(null==qe||Re(qe)||Ve(qe))return null;let ze=qe.indexOf("://");if(-1===ze&&at(qe))ze=2;else{if(-1===ze)return null;ze+=3}const Ge=qe.indexOf("/",ze);return-1!==Ge&&(qe=qe.slice(0,Ge)),Rt&&(qe=dt(qe,!0)),qe}function ye(qe){return at(qe)||mt(qe)}function Re(qe){return null!=qe&&"blob:"===qe.slice(0,5)}function Ve(qe){return null!=qe&&"data:"===qe.slice(0,5)}function et(qe){const Rt=Ne(qe);return Rt&&Rt.isBase64?(0,F.R)(Rt.data):null}function Fe(qe){return(0,F.s)(qe).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Qe=/^data:(.*?)(;base64)?,(.*)$/;function Ne(qe){const Rt=qe.match(Qe);if(!Rt)return null;const[,ze,Ge,yt]=Rt;return{mediaType:ze,isBase64:!!Ge,data:yt}}function ve(qe){return qe.isBase64?`data:${qe.mediaType};base64,${qe.data}`:`data:${qe.mediaType},${qe.data}`}function Oe(qe){return Te.apply(this,arguments)}function Te(){return(Te=(0,E.Z)(function*(qe){return(yield fetch(qe)).blob()})).apply(this,arguments)}function je(qe){const Rt=et(qe);if(!Rt)return null;const ze=Ne(qe);return new Blob([Rt],{type:ze.mediaType})}function nt(qe,Rt){!function ot(qe,Rt){if(!qe)return!1;const ze=document.createElement("a");if(!("download"in ze))return!1;const Ge=URL.createObjectURL(qe);return ze.download=Rt,ze.href=Ge,ze.style.display="none",document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(Ge),!0}(qe,Rt)}function at(qe){return null!=qe&&"/"===qe[0]&&"/"===qe[1]}function mt(qe){return null!=qe&&Z.test(qe)}function Tt(qe){return null!=qe&&G.test(qe)||"https"===U.scheme&&at(qe)}function kt(qe){return at(qe)?`https:${qe}`:qe.replace(I,"https:")}function ft(){return"https"===U.scheme}function dt(qe,Rt=!1){return at(qe)?qe.slice(2):(qe=qe.replace(Z,""),Rt&&qe.length>1&&"/"===qe[0]&&"/"===qe[1]&&(qe=qe.slice(2)),qe)}function Dt(qe){let Rt=0;if(ye(qe)){const Ge=qe.indexOf("//");-1!==Ge&&(Rt=Ge+2)}const ze=qe.lastIndexOf("/");return ze<Rt?qe:qe.slice(0,ze+1)}function xt(qe,Rt){if(!qe)return"";const ze=k(qe).path.replace(/\/+$/,""),Ge=ze.substring(ze.lastIndexOf("/")+1);if(!Rt?.length)return Ge;const yt=new RegExp(`.(${Rt.join("|")})$`,"ig");return Ge.replace(yt,"")}function nn(qe){return qe.endsWith("/")?qe:`${qe}/`}function Yt(qe){return qe.replace(/\/+$/,"")}function Mn(qe,Rt,ze){if(!(Rt&&ze&&qe&&ye(qe)))return qe;const Ge=qe.indexOf("//"),yt=qe.indexOf("/",Ge+2),Pt=qe.indexOf(":",Ge+2),_e=Math.min(yt<0?qe.length:yt,Pt<0?qe.length:Pt);return qe.slice(Ge+2,_e).toLowerCase()!==Rt.toLowerCase()?qe:`${qe.slice(0,Ge+2)}${ze}${qe.slice(_e)}`}function lr(qe){return"string"==typeof qe?new O(Me(qe)):(qe.scheme||(qe.scheme=U.scheme),qe)}function On(qe){return Gr.test(qe)}function zn(qe,Rt){const ze=k(qe),Ge=Object.keys(ze.query||{});return Ge.length>0&&Rt&&Rt.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${Ge.join(", ")}.`),ze.path}function Ut(qe,Rt,ze){const Ge=k(qe),yt=Ge.query||{};return yt[Rt]=String(ze),`${Ge.path}?${Q(yt)}`}function Xt(qe,Rt){if(!Rt)return qe;const ze=k(qe),Ge=ze.query||{};for(const[Pt,_e]of Object.entries(Rt))null!=_e&&(Ge[Pt]=_e);const yt=Q(Ge);return yt?`${ze.path}?${yt}`:ze.path}function qr(qe){if(null==qe)return null;const Rt=qe.match(bn);return Rt?Rt[2]:null}function yr(qe){if(null==qe)return null;const Rt=qe.match(bn);return Rt?{path:Rt[1],extension:Rt[2]}:{path:qe,extension:null}}function vs(qe){return ns.apply(this,arguments)}function ns(){return(ns=(0,E.Z)(function*(qe){return"string"==typeof qe?Ne(qe)??{data:qe}:new Promise((Rt,ze)=>{const Ge=new FileReader;Ge.readAsDataURL(qe),Ge.onload=()=>Rt(Ne(Ge.result)),Ge.onerror=yt=>ze(yt)})})).apply(this,arguments)}const bn=/([^.]*)\.([^\/]*)$/,Gr=/(^data:image\/svg|\.svg$)/i},19986:(Ze,me,_)=>{"use strict";_.d(me,{DO:()=>M,dG:()=>x,zS:()=>V});const E="randomUUID"in crypto;function M(){if(E)return crypto.randomUUID();const P=crypto.getRandomValues(new Uint16Array(8));P[3]=4095&P[3]|16384,P[4]=16383&P[4]|32768;const H=B=>P[B].toString(16).padStart(4,"0");return H(0)+H(1)+"-"+H(2)+"-"+H(3)+"-"+H(4)+"-"+H(5)+H(6)+H(7)}function V(){return`{${M().toUpperCase()}}`}function x(){return`{${M()}}`}},94995:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>B});var E=_(1258),M=_(4703),V=_(79412),x=_(65430),P=_(65540),H=_(30668);class B{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new x.Z}destroy(){this.close()}get closed(){return!this._clients?.length}open(T,w){return new Promise((j,Z)=>{let I=!0;const G=W=>{(0,V.k_)(w.signal),I&&(I=!1,W())};this._clients.length=T.length,this._clientPromises.length=T.length,this._inUseClients.length=T.length;for(let W=0;W<T.length;++W){const A=T[W];(0,V.y8)(A)?this._clientPromises[W]=A.then(S=>(this._clients[W]=new H.Z(S,w,this._ongoingJobsQueue),G(j),this._clients[W]),()=>(G(Z),null)):(this._clients[W]=new H.Z(A,w,this._ongoingJobsQueue),this._clientPromises[W]=Promise.resolve(this._clients[W]),G(j))}})}broadcast(T,w,j){const Z=new Array(this._clientPromises.length);for(let I=0;I<this._clientPromises.length;++I)Z[I]=this._clientPromises[I].then(W=>W?.invoke(T,w,j));return Z}close(){let T;for(;T=this._ongoingJobsQueue.pop();)T.resolver.reject((0,V.zE)(`Worker closing, aborting job calling '${T.methodName}'`));for(const w of this._clientPromises)w.then(j=>j?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,(0,P.E)(this)}invoke(T,w,j){let Z;Array.isArray(j)?(M.Z.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),Z={transferList:j}):Z=j;const I=(0,V.hh)();this._ongoingJobsQueue.push({methodName:T,data:w,invokeOptions:Z,resolver:I});for(let G=0;G<this._clientPromises.length;G++){const W=this._clients[G];W?W.jobAdded():this._clientPromises[G].then(A=>A?.jobAdded())}return I.promise}on(T,w){return Promise.all(this._clientPromises).then(()=>(0,E.AL)(this._clients.map(j=>j.on(T,w))))}openPorts(){return new Promise(T=>{const w=new Array(this._clientPromises.length);let j=w.length;for(let Z=0;Z<this._clientPromises.length;++Z)this._clientPromises[Z].then(I=>{I&&(w[Z]=I.openPort()),0==--j&&T(w)})})}get test(){return{numClients:this._clients.length}}}},30668:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>N});var E=_(26152),M=_(57964),V=_(90984),x=_(1258),P=_(51172),H=_(79412);const B={statsWorker:()=>Promise.all([_.e(1518),_.e(5626)]).then(_.bind(_,31820)),geometryEngineWorker:()=>Promise.all([_.e(9465),_.e(8592),_.e(9235)]).then(_.bind(_,87567)),CSVSourceWorker:()=>Promise.all([_.e(842),_.e(3866),_.e(5904),_.e(1518),_.e(6518),_.e(2166),_.e(7454)]).then(_.bind(_,97454)),EdgeProcessingWorker:()=>Promise.all([_.e(1716),_.e(4968),_.e(9840)]).then(_.bind(_,6444)),ElevationSamplerWorker:()=>Promise.all([_.e(1716),_.e(2859),_.e(8592),_.e(285)]).then(_.bind(_,63517)),FeatureServiceSnappingSourceWorker:()=>Promise.all([_.e(842),_.e(3866),_.e(5904),_.e(2784),_.e(1518),_.e(6518),_.e(2166),_.e(5414)]).then(_.bind(_,25414)),GeoJSONSourceWorker:()=>Promise.all([_.e(842),_.e(3866),_.e(5904),_.e(1518),_.e(6518),_.e(2166),_.e(8592),_.e(6040)]).then(_.bind(_,56040)),LercWorker:()=>_.e(5190).then(_.bind(_,25190)),MemorySourceWorker:()=>Promise.all([_.e(842),_.e(3866),_.e(5904),_.e(1518),_.e(6518),_.e(2166),_.e(8592),_.e(2713)]).then(_.bind(_,86915)),PBFDecoderWorker:()=>Promise.all([_.e(842),_.e(3800)]).then(_.bind(_,23800)),Pipeline:()=>Promise.all([_.e(842),_.e(3866),_.e(9231),_.e(5904),_.e(4985),_.e(2784),_.e(1518),_.e(6518),_.e(2871),_.e(8592),_.e(4181)]).then(_.bind(_,94096)),PointCloudWorker:()=>Promise.all([_.e(9893),_.e(8592),_.e(9730)]).then(_.bind(_,39093)),RasterWorker:()=>Promise.all([_.e(6062),_.e(9350),_.e(3338),_.e(3287),_.e(9021)]).then(_.bind(_,29021)),SceneLayerSnappingSourceWorker:()=>Promise.all([_.e(1716),_.e(4612),_.e(4968),_.e(4051)]).then(_.bind(_,84051)),SceneLayerWorker:()=>Promise.all([_.e(8592),_.e(9740)]).then(_.bind(_,19740)),WFSSourceWorker:()=>Promise.all([_.e(842),_.e(3866),_.e(5904),_.e(1518),_.e(6518),_.e(2166),_.e(1970),_.e(8592),_.e(2631)]).then(_.bind(_,62631)),WorkerTileHandler:()=>Promise.all([_.e(7917),_.e(9968),_.e(4433),_.e(3445)]).then(_.bind(_,35029))};var F=_(86022),T=_(89610);const{CLOSE:w,ABORT:j,INVOKE:Z,RESPONSE:I,OPEN_PORT:G,ON:W}=F.MessageType;class S{constructor(O){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=O,this._timer=null,this._process=this._process.bind(this)}push(O){O.type===F.MessageType.ABORT?this._cancelledJobIds.add(O.jobId):(this._invokeMessages.push(O),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const O of this._invokeMessages)this._cancelledJobIds.has(O.jobId)||this._invoke(O);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class N{static connect(O){const $=new MessageChannel;let K;K="function"==typeof O?new O:"default"in O&&"function"==typeof O.default?new O.default:O;const U=new N($.port1,{channel:$,client:K});return"object"==typeof K&&"remoteClient"in K&&(K.remoteClient=U),N.clients.set(U,K),$.port2}static loadWorker(O){const $=B[O];return $?$():Promise.resolve(null)}constructor(O,$,K){this._port=O,this._jobQueue=K,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new S(U=>this._onInvokeMessage(U)),this._client=$.client,this._onMessage=this._onMessage.bind(this),this._channel=$.channel,this._schedule=$.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:w}),this._close()}isBusy(){return this._outJobs.size>0}invoke(O,$,K){const U=K?.signal,X=K?.transferList;if(!this._port)return Promise.reject(new M.Z("worker:port-closed",`Cannot call invoke('${O}'), port is closed`,{methodName:O,data:$}));const Y=(0,F.jt)();return new Promise((oe,ne)=>{if((0,H.Hc)(U))return this._processWork(),void ne((0,H.zE)());const se=(0,H.fu)(U,()=>{const k=this._outJobs.get(Y);k&&(this._outJobs.delete(Y),this._processWork(),(0,P.hw)(k.abortHandle),this._post({type:j,jobId:Y}),ne((0,H.zE)()))});this._outJobs.set(Y,{resolve:oe,reject:ne,abortHandle:se,debugInfo:O}),this._post({type:Z,jobId:Y,methodName:O,abortable:null!=U},$,X)})}on(O,$){const K=new MessageChannel;function U(X){$(X.data)}return this._port.postMessage({type:F.MessageType.ON,eventType:O,port:K.port2},[K.port2]),K.port1.addEventListener("message",U),K.port1.start(),(0,x.kB)(()=>{K.port1.postMessage({type:F.MessageType.CLOSE}),K.port1.close(),K.port1.removeEventListener("message",U)})}jobAdded(){this._processWork()}openPort(){const O=new MessageChannel;return this._post({type:G,port:O.port2}),O.port1}_processWork(){if(this._outJobs.size>=2)return;const O=this._jobQueue?.pop();if(!O)return;const{methodName:$,data:K,invokeOptions:U,resolver:X}=O;this.invoke($,K,U).then(Y=>X.resolve(Y)).catch(Y=>X.reject(Y))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(O=>{(0,P.hw)(O.abortHandle),O.reject((0,H.zE)(`Worker closing, aborting job calling '${O.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(O){null!=this._schedule?this._schedule(()=>this._processMessage(O)):this._processMessage(O)}_processMessage(O){const $=(0,F.QM)(O);if($)switch($.type){case I:this._onResponseMessage($);break;case Z:this._invokeQueue.push($);break;case j:this._onAbortMessage($);break;case w:this._onCloseMessage();break;case G:this._onOpenPortMessage($);break;case W:this._onOnMessage($)}}_onAbortMessage(O){const $=this._inJobs,K=O.jobId,U=$.get(K);this._invokeQueue.push(O),U&&(U.controller&&U.controller.abort(),$.delete(K))}_onCloseMessage(){const O=this._client;this._close(),O&&"destroy"in O&&N.clients.get(this)===O&&O.destroy(),N.clients.delete(this),O?.remoteClient&&(O.remoteClient=null)}_onInvokeMessage(O){const{methodName:$,jobId:K,data:U,abortable:X}=O,Y=X?new AbortController:null,oe=this._inJobs;let ne,se=this._client,te=se[$];try{if(!te&&$&&$.includes(".")){const k=$.split(".");for(let re=0;re<k.length-1;re++)se=se[k[re]],te=se[k[re+1]]}if("function"!=typeof te)throw new TypeError(`${$} is not a function`);ne=te.call(se,U,{client:this,signal:Y?Y.signal:null})}catch(k){return void this._post({type:I,jobId:K,error:(0,F.AB)(k)})}(0,H.y8)(ne)?(oe.set(K,{controller:Y,promise:ne}),ne.then(k=>{oe.has(K)&&(oe.delete(K),this._post({type:I,jobId:K},k))},k=>{oe.has(K)&&(oe.delete(K),(0,H.D_)(k)||this._post({type:I,jobId:K,error:(0,F.AB)(k||{message:`Error encountered at method ${$}`})}))})):this._post({type:I,jobId:K},ne)}_onOpenPortMessage(O){new N(O.port,{client:this._client})}_onOnMessage(O){const{port:$}=O,K=this._client.on(O.eventType,X=>{$.postMessage(X)}),U=(0,V.on)(O.port,"message",X=>{(0,F.QM)(X)?.type===F.MessageType.CLOSE&&(U.remove(),K.remove(),$.close())})}_onResponseMessage(O){const{jobId:$,error:K,data:U}=O,X=this._outJobs;if(!X.has($))return;const Y=X.get($);X.delete($),this._processWork(),(0,P.hw)(Y.abortHandle),K?Y.reject(M.Z.fromJSON(JSON.parse(K))):Y.resolve(U)}_post(O,$,K){return(0,F.oi)(this._port,O,$,K)}}N.kernelInfo={buildDate:T.r,fullVersion:E.bR,revision:T.$},N.clients=new Map},65540:(Ze,me,_)=>{"use strict";_.d(me,{E:()=>V,z:()=>M});const E=new FinalizationRegistry(x=>{x.close()});function M(x,P){E.register(x,P,P)}function V(x){E.unregister(x)}},86022:(Ze,me,_)=>{"use strict";_.d(me,{AB:()=>H,MessageType:()=>M,QM:()=>F,jt:()=>x,oi:()=>B});var M,j,E=_(14007);(j=M||(M={}))[j.HANDSHAKE=0]="HANDSHAKE",j[j.OPEN=1]="OPEN",j[j.OPENED=2]="OPENED",j[j.RESPONSE=3]="RESPONSE",j[j.INVOKE=4]="INVOKE",j[j.ABORT=5]="ABORT",j[j.CLOSE=6]="CLOSE",j[j.OPEN_PORT=7]="OPEN_PORT",j[j.ON=8]="ON";let V=0;function x(){return V++}function H(j){return j?"string"==typeof j?JSON.stringify({name:"message",message:j}):j.toJSON?JSON.stringify(j):JSON.stringify({name:j.name,message:j.message,details:j.details||{stack:j.stack}}):null}function B(j,Z,I,G){if(Z.type===M.OPEN_PORT)return void j.postMessage(Z,[Z.port]);if(Z.type!==M.INVOKE&&Z.type!==M.RESPONSE)return void j.postMessage(Z);let W;if(function P(j){return j&&"object"==typeof j&&("result"in j||"transferList"in j)}(I)?(W=T(I.transferList),Z.data=I.result):(W=T(G),Z.data=I),W){if((0,E.Z)("ff"))for(const A of W)if("byteLength"in A&&A.byteLength>267386880){const S="Worker call with large ArrayBuffer would crash Firefox";switch(Z.type){case M.INVOKE:throw S;case M.RESPONSE:return void B(j,{type:M.RESPONSE,jobId:Z.jobId,error:H(S)})}}j.postMessage(Z,W)}else j.postMessage(Z)}function F(j){if(!j)return null;const Z=j.data;return Z?"string"==typeof Z?JSON.parse(Z):Z:null}function T(j){if(!j?.length)return null;if((0,E.Z)("esri-workers-arraybuffer-transfer"))return j;const Z=j.filter(I=>!function w(j){return j instanceof ArrayBuffer||"ArrayBuffer"===j?.constructor?.name}(I));return Z.length?Z:null}},36885:(Ze,me,_)=>{"use strict";_.d(me,{j2:()=>Me,bA:()=>J});var E=_(15861),M=_(57964),V=_(14007),x=_(79412),P=_(94995),H=_(65540),B=_(30668),F=_(4703),T=_(51172),w=_(66476),j=_(6785);const Z={request:(Ne,ve)=>(0,E.Z)(function*(){const Oe=Ne.options,Te=Oe.responseType;Oe.signal=ve?.signal,Oe.responseType="native"===Te||"native-request-init"===Te?"native-request-init":Te&&["blob","json","text"].includes(Te)&&(0,j.oh)(Ne.url)?.after?Te:"array-buffer";const je=yield(0,w.Z)(Ne.url,Oe),$e={data:je.data,httpStatus:je.httpStatus,ssl:je.ssl};switch(je.requestOptions?.responseType){case"native-request-init":return delete $e.data.signal,$e;case"blob":$e.data=yield $e.data.arrayBuffer();break;case"json":$e.data=(new TextEncoder).encode(JSON.stringify($e.data)).buffer;break;case"text":$e.data=(new TextEncoder).encode($e.data).buffer}return{result:$e,transferList:[$e.data]}})()};var I=_(86022),G=_(98930),W=_(11931),S=(_(91531),_(26152));const L={};var $=_(38119);class K{constructor(){const ve=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(Oe=>{this[Oe]=(...Te)=>ve[Oe](...Te)})}}class U{constructor(){this._dispatcher=new K,this._workerPostMessage({type:I.MessageType.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(ve){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=ve,ve&&this.addEventListener("message",ve)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(ve){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=ve,ve&&this.addEventListener("messageerror",ve)}get onerror(){return this._onerrorHandler}set onerror(ve){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=ve,ve&&this.addEventListener("error",ve)}postMessage(ve){(0,$.Y)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:ve}))})}dispatchEvent(ve){return this._dispatcher.dispatchEvent(ve)}addEventListener(ve,Oe,Te){this._dispatcher.addEventListener(ve,Oe,Te)}removeEventListener(ve,Oe,Te){this._dispatcher.removeEventListener(ve,Oe,Te)}_workerPostMessage(ve){(0,$.Y)(()=>{this.dispatchEvent(new MessageEvent("message",{data:ve}))})}_workerMessageHandler(ve){var Oe=this;return(0,E.Z)(function*(){const Te=(0,I.QM)(ve);if(Te&&Te.type===I.MessageType.OPEN){const{modulePath:je,jobId:$e}=Te;let nt=yield B.Z.loadWorker(je);nt||(nt=yield import(je));const Je=B.Z.connect(nt);Oe._workerPostMessage({type:I.MessageType.OPENED,jobId:$e,data:Je})}})()}}var X=_(55829),Y=_(89610);const oe=F.Z.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:ne}=I.MessageType;let te,k;const re="Failed to create Worker. Fallback to execute module in main thread";function pe(){return(pe=(0,E.Z)(function*(){if(!(0,V.Z)("esri-workers"))return fe(new U);if(!te&&!k)try{const ve='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,s)=>{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case OPEN:let n;function t(e){const o=n.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split('"{CONFIGURATION}"').join(`'${function q(){let Ne;if(null!=W.default.default){const je={...W.default};delete je.default,Ne=JSON.parse(JSON.stringify(je))}else Ne=JSON.parse(JSON.stringify(W.default));Ne.assetsPath=(0,j.hF)(Ne.assetsPath),Ne.defaultAssetsPath=Ne.defaultAssetsPath?(0,j.hF)(Ne.defaultAssetsPath):void 0,Ne.request.interceptors=[],Ne.log.interceptors=[],Ne.locale=(0,X.Kd)(),Ne.has={"esri-csp-restrictions":(0,V.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,V.Z)("esri-2d-update-debug"),"esri-2d-log-updating":(0,V.Z)("esri-2d-log-updating"),"featurelayer-pbf":(0,V.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,V.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,V.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,V.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,V.Z)("esri-atomics"),"esri-shared-array-buffer":(0,V.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,V.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,V.Z)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,V.Z)("feature-polyline-generalization-factor"),"host-webworker":1},Ne.workers.loaderUrl&&(Ne.workers.loaderUrl=(0,j.hF)(Ne.workers.loaderUrl)),Ne.workers.workerPath=(0,j.hF)(Ne.workers.workerPath?Ne.workers.workerPath:(0,G.V)("esri/core/workers/RemoteClient.js")),Ne.workers.useDynamicImport=!1;const ve=W.default.workers.loaderConfig,Oe=function O(Ne){const ve={async:Ne.async,isDebug:Ne.isDebug,locale:Ne.locale,baseUrl:Ne.baseUrl,has:{...Ne.has},map:{...Ne.map},packages:Ne.packages?.concat()||[],paths:{...Ne.paths}};return Ne.hasOwnProperty("async")||(ve.async=!0),Ne.hasOwnProperty("isDebug")||(ve.isDebug=!1),Ne.baseUrl||(ve.baseUrl=L.baseUrl),ve}({baseUrl:ve?.baseUrl,locale:(0,X.Kd)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...ve?.has},map:{...ve?.map},paths:{...ve?.paths},packages:ve?.packages||[]});return JSON.stringify({esriConfig:Ne,loaderConfig:Oe,kernelInfo:{buildDate:Y.r,fullVersion:S.bR,revision:Y.$}})}()}'`);te=URL.createObjectURL(new Blob([ve],{type:"text/javascript"}))}catch(ve){k=ve||{}}let Ne;if(te)try{Ne=new Worker(te,{name:"esri-worker-"+le++})}catch{oe.warn(re,k),Ne=new U}else oe.warn(re,k),Ne=new U;return fe(Ne)})).apply(this,arguments)}function fe(Ne){return ce.apply(this,arguments)}function ce(){return(ce=(0,E.Z)(function*(Ne){return new Promise(ve=>{function Oe(je){const $e=(0,I.QM)(je);$e&&$e.type===ne&&(Ne.removeEventListener("message",Oe),Ne.removeEventListener("error",Te),ve(Ne))}function Te(je){je.preventDefault(),Ne.removeEventListener("message",Oe),Ne.removeEventListener("error",Te),oe.warn("Failed to create Worker. Fallback to execute module in main thread",je),(Ne=new U).addEventListener("message",Oe),Ne.addEventListener("error",Te)}Ne.addEventListener("message",Oe),Ne.addEventListener("error",Te)})})).apply(this,arguments)}let le=0;const{ABORT:ee,INVOKE:ae,OPEN:ue,OPENED:ge,RESPONSE:Ee}=I.MessageType;class be{static create(ve){return(0,E.Z)(function*(){const Oe=yield function Q(){return pe.apply(this,arguments)}();return new be(Oe,ve)})()}constructor(ve,Oe){this._outJobs=new Map,this._inJobs=new Map,this.worker=ve,this.id=Oe,ve.addEventListener("message",this._onMessage.bind(this)),ve.addEventListener("error",Te=>{Te.preventDefault(),F.Z.getLogger("esri.core.workers.WorkerOwner").error(Te)})}terminate(){this.worker.terminate()}open(ve,Oe={}){var Te=this;return(0,E.Z)(function*(){const{signal:je}=Oe,$e=(0,I.jt)();return new Promise((nt,Je)=>{const ot={resolve:nt,reject:Je,abortHandle:(0,x.$F)(je,()=>{Te._outJobs.delete($e),Te._post({type:ee,jobId:$e})})};Te._outJobs.set($e,ot),Te._post({type:ue,jobId:$e,modulePath:ve})})})()}_onMessage(ve){const Oe=(0,I.QM)(ve);if(Oe)switch(Oe.type){case ge:this._onOpenedMessage(Oe);break;case Ee:this._onResponseMessage(Oe);break;case ee:this._onAbortMessage(Oe);break;case ae:this._onInvokeMessage(Oe)}}_onAbortMessage(ve){const Oe=this._inJobs,Te=ve.jobId,je=Oe.get(Te);je&&(je.controller&&je.controller.abort(),Oe.delete(Te))}_onInvokeMessage(ve){const{methodName:Oe,jobId:Te,data:je,abortable:$e}=ve,nt=$e?new AbortController:null,Je=this._inJobs,ot=Z[Oe];let at;try{if("function"!=typeof ot)throw new TypeError(`${Oe} is not a function`);at=ot.call(null,je,{signal:nt?nt.signal:null})}catch(mt){return void this._post({type:Ee,jobId:Te,error:(0,I.AB)(mt)})}(0,x.y8)(at)?(Je.set(Te,{controller:nt,promise:at}),at.then(mt=>{Je.has(Te)&&(Je.delete(Te),this._post({type:Ee,jobId:Te},mt))},mt=>{Je.has(Te)&&(Je.delete(Te),mt||(mt={message:"Error encountered at method"+Oe}),(0,x.D_)(mt)||this._post({type:Ee,jobId:Te,error:(0,I.AB)(mt||{message:`Error encountered at method ${Oe}`})}))})):this._post({type:Ee,jobId:Te},at)}_onOpenedMessage(ve){const{jobId:Oe,data:Te}=ve,je=this._outJobs.get(Oe);je&&(this._outJobs.delete(Oe),(0,T.hw)(je.abortHandle),je.resolve(Te))}_onResponseMessage(ve){const{jobId:Oe,error:Te,data:je}=ve,$e=this._outJobs.get(Oe);$e&&(this._outJobs.delete(Oe),(0,T.hw)($e.abortHandle),Te?$e.reject(M.Z.fromJSON(JSON.parse(Te))):$e.resolve(je))}_post(ve,Oe,Te){return(0,I.oi)(this.worker,ve,Oe,Te)}}const ie=(0,V.Z)("host-browser")?Math.min(navigator.hardwareConcurrency-1,(0,V.Z)("workers-pool-size")):0;let De=(0,V.Z)("esri-mobile")?Math.min(ie,3):ie;De||(De=(0,V.Z)("safari")&&(0,V.Z)("mac")?7:2);let Be=0;const we=[];function Me(){Fe()}function xe(Ne,ve){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,E.Z)(function*(Ne,ve){const Oe=new P.Z,{registryTarget:Te,...je}=ve;return yield Oe.open(Ne,je),Te&&(0,H.z)(Te,Oe),Oe})).apply(this,arguments)}function J(Ne){return ye.apply(this,arguments)}function ye(){return(ye=(0,E.Z)(function*(Ne,ve={}){if("string"!=typeof Ne)throw new M.Z("workers:undefined-module","modulePath is missing");let Oe=ve.strategy||"distributed";if((0,V.Z)("host-webworker")&&!(0,V.Z)("esri-workers")&&(Oe="local"),"local"===Oe){let Te=yield B.Z.loadWorker(Ne);Te||(Te=yield import(Ne)),(0,x.k_)(ve.signal);const je=ve.client||Te;return xe([B.Z.connect(Te)],{...ve,client:je})}if(yield Fe(),(0,x.k_)(ve.signal),"dedicated"===Oe){const Te=Be++%De;return xe([yield we[Te].open(Ne,ve)],ve)}if(ve.maxNumWorkers&&ve.maxNumWorkers>0){const Te=Math.min(ve.maxNumWorkers,De);if(Te<De){const je=new Array(Te);for(let $e=0;$e<Te;++$e){const nt=Be++%De;je[$e]=we[nt].open(Ne,ve)}return xe(je,ve)}}return xe(we.map(Te=>Te.open(Ne,ve)),ve)})).apply(this,arguments)}let Ve,et=null;function Fe(){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,E.Z)(function*(){if(et)return et;Ve=new AbortController;const Ne=[];for(let ve=0;ve<De;ve++){const Oe=be.create(ve).then(Te=>(we[ve]=Te,Te));Ne.push(Oe)}return et=Promise.all(Ne),et})).apply(this,arguments)}},4177:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>zn});var Z,E=_(50484),M=_(89317),V=_(34222),x=_(80543),P=_(73018),H=_(62185),B=_(10141),F=_(7547),T=_(1535);_(57678),_(14007);let I=Z=class extends M.wq{constructor(Ut){super(Ut),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new Z({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],I.prototype,"expression",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],I.prototype,"name",void 0),(0,E._)([(0,x.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],I.prototype,"returnType",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],I.prototype,"title",void 0),I=Z=(0,E._)([(0,B.j)("esri.form.ExpressionInfo")],I);const G=I;let W=class extends M.wq{constructor(Ut){super(Ut),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],W.prototype,"description",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],W.prototype,"label",void 0),(0,E._)([(0,x.Cb)()],W.prototype,"type",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],W.prototype,"visibilityExpression",void 0),W=(0,E._)([(0,B.j)("esri.form.elements.Element")],W);const A=W;var S;let N=S=class extends M.wq{constructor(Ut){super(Ut),this.type=null}clone(){return new S({type:this.type})}};(0,E._)([(0,x.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],N.prototype,"type",void 0),N=S=(0,E._)([(0,B.j)("esri.form.elements.inputs.AttachmentInput")],N);const L=N;var O;let $=O=class extends A{constructor(Ut){super(Ut),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new O({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],$.prototype,"attachmentKeyword",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],$.prototype,"editableExpression",void 0),(0,E._)([(0,x.Cb)({type:L,json:{read:{source:"inputType"},write:{target:"inputType"}}})],$.prototype,"input",void 0),(0,E._)([(0,x.Cb)({type:["attachment"],json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=O=(0,E._)([(0,B.j)("esri.form.elements.AttachmentElement")],$);const K=$;var U=_(93300),X=_(4703);let Y=class extends M.wq{constructor(Ut){super(Ut),this.type=null}};(0,E._)([(0,x.Cb)()],Y.prototype,"type",void 0),Y=(0,E._)([(0,B.j)("esri.form.elements.inputs.Input")],Y);const oe=Y;let ne=class extends oe{constructor(Ut){super(Ut),this.maxLength=null,this.minLength=0}};(0,E._)([(0,x.Cb)({type:Number,json:{write:!0}})],ne.prototype,"maxLength",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{write:!0}})],ne.prototype,"minLength",void 0),ne=(0,E._)([(0,B.j)("esri.form.elements.inputs.TextInput")],ne);const se=ne;var te;let k=te=class extends se{constructor(Ut){super(Ut),this.type="barcode-scanner"}clone(){return new te({maxLength:this.maxLength,minLength:this.minLength})}};(0,E._)([(0,x.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=te=(0,E._)([(0,B.j)("esri.form.elements.inputs.BarcodeScannerInput")],k);const re=k;var Q;let pe=Q=class extends oe{constructor(Ut){super(Ut),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new Q({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],pe.prototype,"noValueOptionLabel",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],pe.prototype,"showNoValueOption",void 0),(0,E._)([(0,x.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],pe.prototype,"type",void 0),pe=Q=(0,E._)([(0,B.j)("esri.form.elements.inputs.ComboBoxInput")],pe);const fe=pe;var ce;function q(Ut){return Ut??null}function le(Ut){return Ut??null}let ee=ce=class extends oe{constructor(Ut){super(Ut),this.max=null,this.min=null,this.type="date-picker"}readMax(Ut,Xt){return q(Xt.max)}writeMax(Ut,Xt){Xt.max=le(Ut)}readMin(Ut,Xt){return q(Xt.min)}writeMin(Ut,Xt){Xt.min=le(Ut)}clone(){return new ce({max:this.max,min:this.min})}};(0,E._)([(0,x.Cb)({type:String,json:{type:String,write:!0}})],ee.prototype,"max",void 0),(0,E._)([(0,H.r)("max")],ee.prototype,"readMax",null),(0,E._)([(0,F.c)("max")],ee.prototype,"writeMax",null),(0,E._)([(0,x.Cb)({type:String,json:{type:String,write:!0}})],ee.prototype,"min",void 0),(0,E._)([(0,H.r)("min")],ee.prototype,"readMin",null),(0,E._)([(0,F.c)("min")],ee.prototype,"writeMin",null),(0,E._)([(0,x.Cb)({type:["date-picker"],json:{read:!1,write:!0}})],ee.prototype,"type",void 0),ee=ce=(0,E._)([(0,B.j)("esri.form.elements.inputs.DatePickerInput")],ee);const ae=ee;var ue;function ge(Ut){return Ut??null}function Ee(Ut){return Ut??null}let be=ue=class extends oe{constructor(Ut){super(Ut),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(Ut,Xt){return ge(Xt.max)}writeMax(Ut,Xt){Xt.max=Ee(Ut)}readMin(Ut,Xt){return ge(Xt.min)}writeMin(Ut,Xt){Xt.min=Ee(Ut)}readTimeResolution(Ut,Xt){return ge(Xt.timeResolution)}writeTimeResolution(Ut,Xt){Xt.timeResolution=Ee(Ut)}clone(){return new ue({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],be.prototype,"includeTimeOffset",void 0),(0,E._)([(0,x.Cb)({type:String,json:{type:String,write:!0}})],be.prototype,"max",void 0),(0,E._)([(0,H.r)("max")],be.prototype,"readMax",null),(0,E._)([(0,F.c)("max")],be.prototype,"writeMax",null),(0,E._)([(0,x.Cb)({type:String,json:{type:String,write:!0}})],be.prototype,"min",void 0),(0,E._)([(0,H.r)("min")],be.prototype,"readMin",null),(0,E._)([(0,F.c)("min")],be.prototype,"writeMin",null),(0,E._)([(0,x.Cb)({type:String,json:{type:String,write:!0}})],be.prototype,"timeResolution",void 0),(0,E._)([(0,H.r)("timeResolution")],be.prototype,"readTimeResolution",null),(0,E._)([(0,F.c)("timeResolution")],be.prototype,"writeTimeResolution",null),(0,E._)([(0,x.Cb)({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],be.prototype,"type",void 0),be=ue=(0,E._)([(0,B.j)("esri.form.elements.inputs.DateTimeOffsetPickerInput")],be);const ie=be;var De;function Be(Ut){return null!=Ut?new Date(Ut):null}function we(Ut){return Ut?Ut.getTime():null}let Me=De=class extends oe{constructor(Ut){super(Ut),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(Ut,Xt){return Be(Xt.max)}writeMax(Ut,Xt){Xt.max=we(Ut)}readMin(Ut,Xt){return Be(Xt.min)}writeMin(Ut,Xt){Xt.min=we(Ut)}clone(){return new De({includeTime:this.includeTime,max:this.max,min:this.min})}};(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],Me.prototype,"includeTime",void 0),(0,E._)([(0,x.Cb)({type:Date,json:{type:Number,write:!0}})],Me.prototype,"max",void 0),(0,E._)([(0,H.r)("max")],Me.prototype,"readMax",null),(0,E._)([(0,F.c)("max")],Me.prototype,"writeMax",null),(0,E._)([(0,x.Cb)({type:Date,json:{type:Number,write:!0}})],Me.prototype,"min",void 0),(0,E._)([(0,H.r)("min")],Me.prototype,"readMin",null),(0,E._)([(0,F.c)("min")],Me.prototype,"writeMin",null),(0,E._)([(0,x.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],Me.prototype,"type",void 0),Me=De=(0,E._)([(0,B.j)("esri.form.elements.inputs.DateTimePickerInput")],Me);const He=Me;var xe;let Xe=xe=class extends oe{constructor(Ut){super(Ut),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new xe({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],Xe.prototype,"noValueOptionLabel",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],Xe.prototype,"showNoValueOption",void 0),(0,E._)([(0,x.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],Xe.prototype,"type",void 0),Xe=xe=(0,E._)([(0,B.j)("esri.form.elements.inputs.RadioButtonsInput")],Xe);const J=Xe;var ye;let Re=ye=class extends oe{constructor(Ut){super(Ut),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new ye({offValue:this.offValue,onValue:this.onValue})}};(0,E._)([(0,x.Cb)({type:[String,Number],json:{write:!0}})],Re.prototype,"offValue",void 0),(0,E._)([(0,x.Cb)({type:[String,Number],json:{write:!0}})],Re.prototype,"onValue",void 0),(0,E._)([(0,x.Cb)({type:["switch"],json:{read:!1,write:!0}})],Re.prototype,"type",void 0),Re=ye=(0,E._)([(0,B.j)("esri.form.elements.inputs.SwitchInput")],Re);const Ve=Re;var et;let Fe=et=class extends se{constructor(Ut){super(Ut),this.type="text-area"}clone(){return new et({maxLength:this.maxLength,minLength:this.minLength})}};(0,E._)([(0,x.Cb)({type:["text-area"],json:{read:!1,write:!0}})],Fe.prototype,"type",void 0),Fe=et=(0,E._)([(0,B.j)("esri.form.elements.inputs.TextAreaInput")],Fe);const Qe=Fe;var Ne;let ve=Ne=class extends se{constructor(Ut){super(Ut),this.type="text-box"}clone(){return new Ne({maxLength:this.maxLength,minLength:this.minLength})}};(0,E._)([(0,x.Cb)({type:["text-box"],json:{read:!1,write:!0}})],ve.prototype,"type",void 0),ve=Ne=(0,E._)([(0,B.j)("esri.form.elements.inputs.TextBoxInput")],ve);const Oe=ve;var Te;function je(Ut){return Ut??null}function $e(Ut){return Ut??null}let nt=Te=class extends oe{constructor(Ut){super(Ut),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(Ut,Xt){return je(Xt.max)}writeMax(Ut,Xt){Xt.max=$e(Ut)}readMin(Ut,Xt){return je(Xt.min)}writeMin(Ut,Xt){Xt.min=$e(Ut)}readTimeResolution(Ut,Xt){return je(Xt.timeResolution)}writeTimeResolution(Ut,Xt){Xt.timeResolution=$e(Ut)}clone(){return new Te({max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,E._)([(0,x.Cb)({type:String,json:{type:String,write:!0}})],nt.prototype,"max",void 0),(0,E._)([(0,H.r)("max")],nt.prototype,"readMax",null),(0,E._)([(0,F.c)("max")],nt.prototype,"writeMax",null),(0,E._)([(0,x.Cb)({type:String,json:{type:String,write:!0}})],nt.prototype,"min",void 0),(0,E._)([(0,H.r)("min")],nt.prototype,"readMin",null),(0,E._)([(0,F.c)("min")],nt.prototype,"writeMin",null),(0,E._)([(0,x.Cb)({type:String,json:{type:String,write:!0}})],nt.prototype,"timeResolution",void 0),(0,E._)([(0,H.r)("timeResolution")],nt.prototype,"readTimeResolution",null),(0,E._)([(0,F.c)("timeResolution")],nt.prototype,"writeTimeResolution",null),(0,E._)([(0,x.Cb)({type:["time-picker"],json:{read:!1,write:!0}})],nt.prototype,"type",void 0),nt=Te=(0,E._)([(0,B.j)("esri.form.elements.inputs.TimePickerInput")],nt);const ot={base:oe,key:"type",typeMap:{"barcode-scanner":re,"combo-box":fe,"date-picker":ae,"datetime-picker":He,"datetimeoffset-picker":ie,"radio-buttons":J,switch:Ve,"text-area":Qe,"text-box":Oe,"time-picker":nt}};var mt,at=_(59300);const Tt="esri.form.elements.FieldElement",Ot=X.Z.getLogger(Tt);let Bt=mt=class extends A{constructor(Ut){super(Ut),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return(0,U.Mr)(Ot,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(Ut){(0,U.Mr)(Ot,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",Ut)}clone(){return new mt({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,E._)([(0,x.Cb)({types:at.V5,json:{read:{reader:at.im},write:!0}})],Bt.prototype,"domain",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],Bt.prototype,"editable",null),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],Bt.prototype,"editableExpression",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],Bt.prototype,"fieldName",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],Bt.prototype,"hint",void 0),(0,E._)([(0,x.Cb)({types:ot,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Bt.prototype,"input",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],Bt.prototype,"requiredExpression",void 0),(0,E._)([(0,x.Cb)({type:String,json:{read:!1,write:!0}})],Bt.prototype,"type",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],Bt.prototype,"valueExpression",void 0),Bt=mt=(0,E._)([(0,B.j)(Tt)],Bt);const Gt=Bt;var on,kt=_(78496);let ft=on=class extends A{constructor(Ut){super(Ut),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new on({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:(0,V.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,E._)([(0,x.Cb)({type:Number,json:{write:!0}})],ft.prototype,"displayCount",void 0),(0,E._)([(0,x.Cb)({type:["list"],json:{write:!0}})],ft.prototype,"displayType",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],ft.prototype,"editableExpression",void 0),(0,E._)([(0,x.Cb)({type:[kt.Z],json:{write:!0}})],ft.prototype,"orderByFields",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{write:!0}})],ft.prototype,"relationshipId",void 0),(0,E._)([(0,x.Cb)({type:["relationship"],json:{read:!1,write:!0}})],ft.prototype,"type",void 0),ft=on=(0,E._)([(0,B.j)("esri.form.elements.RelationshipElement")],ft);const dt=ft;function Ct(Ut){return{typesWithGroup:{base:A,key:"type",typeMap:{attachment:K,field:Gt,group:Ut,relationship:dt}},typesWithoutGroup:{base:A,key:"type",typeMap:{attachment:K,field:Gt,relationship:dt}}}}function Dt(Ut,Xt,Gn=!0){if(!Ut)return null;const qr=Gn?Xt.typesWithGroup.typeMap:Xt.typesWithoutGroup.typeMap;return Ut.filter(yr=>qr[yr.type]).map(yr=>qr[yr.type].fromJSON(yr))}function xt(Ut,Xt,Gn=!0){if(!Ut)return null;const qr=Gn?Xt.typesWithGroup.typeMap:Xt.typesWithoutGroup.typeMap;return Ut.filter(yr=>qr[yr.type]).map(yr=>yr.toJSON())}function nn(Ut,Xt,Gn=!0){return Ut?Ut.map(qr=>(0,T.N7)(Gn?Xt.typesWithGroup:Xt.typesWithoutGroup,qr)):null}var Yt;let rn=Yt=class extends A{constructor(Ut){super(Ut),this.elements=null,this.initialState="expanded",this.type="group"}castElements(Ut){return nn(Ut,gn,!1)}readElements(Ut,Xt){return Dt(Xt.formElements,gn,!1)}writeElements(Ut,Xt){Xt.formElements=xt(Ut,gn,!1)}clone(){return new Yt({description:this.description,elements:(0,V.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,E._)([(0,x.Cb)({json:{write:!0}})],rn.prototype,"elements",void 0),(0,E._)([(0,P.p)("elements")],rn.prototype,"castElements",null),(0,E._)([(0,H.r)("elements",["formElements"])],rn.prototype,"readElements",null),(0,E._)([(0,F.c)("elements")],rn.prototype,"writeElements",null),(0,E._)([(0,x.Cb)({type:["collapsed","expanded"],json:{write:!0}})],rn.prototype,"initialState",void 0),(0,E._)([(0,x.Cb)({type:String,json:{read:!1,write:!0}})],rn.prototype,"type",void 0),rn=Yt=(0,E._)([(0,B.j)("esri.form.elements.GroupElement")],rn);const gn=Ct(rn);var Mn;const lr=Ct(rn);let On=Mn=class extends M.wq{constructor(Ut){super(Ut),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(Ut){return nn(Ut,lr)}readElements(Ut,Xt){return Dt(Xt.formElements,lr)}writeElements(Ut,Xt){Xt.formElements=xt(Ut,lr)}clone(){return new Mn({description:this.description,expressionInfos:(0,V.d9)(this.expressionInfos),elements:(0,V.d9)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],On.prototype,"description",void 0),(0,E._)([(0,x.Cb)({json:{write:!0}})],On.prototype,"elements",void 0),(0,E._)([(0,P.p)("elements")],On.prototype,"castElements",null),(0,E._)([(0,H.r)("elements",["formElements"])],On.prototype,"readElements",null),(0,E._)([(0,F.c)("elements")],On.prototype,"writeElements",null),(0,E._)([(0,x.Cb)({type:[G],json:{write:!0}})],On.prototype,"expressionInfos",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{default:!1,write:!0}})],On.prototype,"preserveFieldValuesWhenHidden",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],On.prototype,"title",void 0),On=Mn=(0,E._)([(0,B.j)("esri.form.FormTemplate")],On);const zn=On},2189:(Ze,me,_)=>{"use strict";_.d(me,{qM:()=>Z});var E=_(1535),M=_(26894),V=_(32184),x=_(12628),P=_(85039),H=_(5391),B=_(64222);_(43814),_(31709),_(40637);const Z={base:V.Z,key:"type",typeMap:{extent:M.Z,multipoint:x.Z,point:P.Z,polyline:B.Z,polygon:H.Z}};(0,E.N7)(Z)},26894:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>L});var W,E=_(50484),M=_(72578),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(32184),T=_(85039),w=_(43814),j=_(5825),Z=_(26230),I=_(33721),G=_(48230);function S(O,$,K){return null==$?K:null==K?$:O($,K)}let N=W=class extends F.Z{constructor(...O){super(...O),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(O,$,K,U,X){return function A(O){return O&&("esri.geometry.SpatialReference"===O.declaredClass||null!=O.wkid)}(O)?{spatialReference:O,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof O?(O.spatialReference=null==O.spatialReference?w.Z.WGS84:O.spatialReference,O):{xmin:O,ymin:$,xmax:K,ymax:U,spatialReference:X??w.Z.WGS84}}static fromBounds(O,$){return new W({xmin:O[0],ymin:O[1],xmax:O[2],ymax:O[3],spatialReference:$})}static fromPoint(O){return new W({xmin:O.x,ymin:O.y,zmin:O.z,xmax:O.x,ymax:O.y,zmax:O.z,spatialReference:O.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const O=new T.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(O.z=.5*(this.zmin+this.zmax)),this.hasM&&(O.m=.5*(this.mmin+this.mmax)),O}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(O){const $=this.center;return null!=O.z&&this.hasZ?this.offset(O.x-$.x,O.y-$.y,O.z-$.z):this.offset(O.x-$.x,O.y-$.y)}clone(){const O=new W;return O.xmin=this.xmin,O.ymin=this.ymin,O.xmax=this.xmax,O.ymax=this.ymax,O.spatialReference=this.spatialReference,null!=this.zmin&&(O.zmin=this.zmin,O.zmax=this.zmax),null!=this.mmin&&(O.mmin=this.mmin,O.mmax=this.mmax),O}contains(O){if(!O)return!1;const $=this.spatialReference,K=O.spatialReference;return $&&K&&!$.equals(K)&&(0,G.Q8)($,K)&&(O=$.isWebMercator?(0,G.$)(O):(0,G.Sx)(O,!0)),"point"===O.type?(0,j.aV)(this,O):"extent"===O.type&&(0,j.uP)(this,O)}equals(O){if(this===O)return!0;if(null==O)return!1;const $=this.spatialReference,K=O.spatialReference;return $&&K&&!$.equals(K)&&(0,G.Q8)($,K)&&(O=$.isWebMercator?(0,G.$)(O):(0,G.Sx)(O,!0)),this.xmin===O.xmin&&this.ymin===O.ymin&&this.zmin===O.zmin&&this.mmin===O.mmin&&this.xmax===O.xmax&&this.ymax===O.ymax&&this.zmax===O.zmax&&this.mmax===O.mmax}expand(O){const $=.5*(1-O),K=this.width*$,U=this.height*$;if(this.xmin+=K,this.ymin+=U,this.xmax-=K,this.ymax-=U,this.hasZ){const X=(this.zmax-this.zmin)*$;this.zmin+=X,this.zmax-=X}if(this.hasM){const X=(this.mmax-this.mmin)*$;this.mmin+=X,this.mmax-=X}return this}intersects(O){if(null==O)return!1;"mesh"===O.type&&(O=O.extent);const $=this.spatialReference,K=O.spatialReference;return $&&K&&!(0,I.fS)($,K)&&(0,G.Q8)($,K)&&(O=$.isWebMercator?(0,G.$)(O):(0,G.Sx)(O,!0)),(0,Z.IY)(O.type)(this,O)}normalize(){const O=this._normalize(!1,!0);return Array.isArray(O)?O:[O]}offset(O,$,K){return this.xmin+=O,this.ymin+=$,this.xmax+=O,this.ymax+=$,null!=K&&(this.zmin+=K,this.zmax+=K),this}shiftCentralMeridian(){return this._normalize(!0)}union(O){return this===O||(this.xmin=Math.min(this.xmin,O.xmin),this.ymin=Math.min(this.ymin,O.ymin),this.xmax=Math.max(this.xmax,O.xmax),this.ymax=Math.max(this.ymax,O.ymax),(this.hasZ||O.hasZ)&&(this.zmin=S(Math.min,this.zmin,O.zmin),this.zmax=S(Math.max,this.zmax,O.zmax)),(this.hasM||O.hasM)&&(this.mmin=S(Math.min,this.mmin,O.mmin),this.mmax=S(Math.max,this.mmax,O.mmax))),this}intersection(O){return this===O?this:null!=O&&this.intersects(O)?(this.xmin=Math.max(this.xmin,O.xmin),this.ymin=Math.max(this.ymin,O.ymin),this.xmax=Math.min(this.xmax,O.xmax),this.ymax=Math.min(this.ymax,O.ymax),(this.hasZ||O.hasZ)&&(this.zmin=S(Math.max,this.zmin,O.zmin),this.zmax=S(Math.min,this.zmax,O.zmax)),(this.hasM||O.hasM)&&(this.mmin=S(Math.max,this.mmin,O.mmin),this.mmax=S(Math.min,this.mmax,O.mmax)),this):null}toJSON(O){return this.write({},O)}_shiftCM(O=(0,I.C5)(this.spatialReference)){if(!O||!this.spatialReference)return this;const $=this.spatialReference,K=this._getCM(O);if(K){const U=$.isWebMercator?(0,G.Sx)(K):K;this.xmin-=K.x,this.xmax-=K.x,$.isWebMercator||(U.x=this._normalizeX(U.x,O).x),this.spatialReference=new w.Z((0,M.gx)(($.isWGS84?O.altTemplate:null)??O.wkTemplate,{Central_Meridian:U.x}))}return this}_getCM(O){let $=null;const[K,U]=O.valid,X=this.xmin,Y=this.xmax;return X>=K&&X<=U&&Y>=K&&Y<=U||($=this.center),$}_normalize(O,$,K){const U=this.spatialReference;if(!U)return this;const X=K??(0,I.C5)(U);if(null==X)return this;const Y=this._getParts(X).map(se=>se.extent);if(Y.length<2)return Y[0]||this;if(Y.length>2)return O?this._shiftCM(X):this.set({xmin:X.valid[0],xmax:X.valid[1]});if(O)return this._shiftCM(X);if($)return Y;let oe=!0,ne=!0;return Y.forEach(se=>{se.hasZ||(oe=!1),se.hasM||(ne=!1)}),{rings:Y.map(se=>{const te=[[se.xmin,se.ymin],[se.xmin,se.ymax],[se.xmax,se.ymax],[se.xmax,se.ymin],[se.xmin,se.ymin]];if(oe){const k=(se.zmax-se.zmin)/2;for(let re=0;re<te.length;re++)te[re].push(k)}if(ne){const k=(se.mmax-se.mmin)/2;for(let re=0;re<te.length;re++)te[re].push(k)}return te}),hasZ:oe,hasM:ne,spatialReference:U}}_getParts(O){let $=this.cache._parts;if(!$){$=[];const{ymin:X,ymax:Y,spatialReference:oe}=this,ne=this.width,se=this.xmin,te=this.xmax;let k;O=O||(0,I.C5)(oe);const[re,Q]=O.valid;k=this._normalizeX(this.xmin,O);const pe=k.x,fe=k.frameId;k=this._normalizeX(this.xmax,O);const ce=k.x,q=k.frameId,le=pe===ce&&ne>0;if(ne>2*Q){const ee=new W(se<te?pe:ce,X,Q,Y,oe),ae=new W(re,X,se<te?ce:pe,Y,oe),ue=new W(0,X,Q,Y,oe),ge=new W(re,X,0,Y,oe),Ee=[],be=[];ee.contains(ue)&&Ee.push(fe),ee.contains(ge)&&be.push(fe),ae.contains(ue)&&Ee.push(q),ae.contains(ge)&&be.push(q);for(let ie=fe+1;ie<q;ie++)Ee.push(ie),be.push(ie);$.push({extent:ee,frameIds:[fe]},{extent:ae,frameIds:[q]},{extent:ue,frameIds:Ee},{extent:ge,frameIds:be})}else pe>ce||le?$.push({extent:new W(pe,X,Q,Y,oe),frameIds:[fe]},{extent:new W(re,X,ce,Y,oe),frameIds:[q]}):$.push({extent:new W(pe,X,ce,Y,oe),frameIds:[fe]});this.cache._parts=$}const K=this.hasZ,U=this.hasM;if(K||U){const X={};K&&(X.zmin=this.zmin,X.zmax=this.zmax),U&&(X.mmin=this.mmin,X.mmax=this.mmax);for(let Y=0;Y<$.length;Y++)$[Y].extent.set(X)}return $}_normalizeX(O,$){const[K,U]=$.valid,X=2*U;let Y,oe=0;return O>U?(Y=Math.ceil(Math.abs(O-U)/X),O-=Y*X,oe=Y):O<K&&(Y=Math.ceil(Math.abs(O-K)/X),O+=Y*X,oe=-Y),{x:O,frameId:oe}}};(0,E._)([(0,V.Cb)({readOnly:!0})],N.prototype,"cache",null),(0,E._)([(0,V.Cb)({readOnly:!0})],N.prototype,"center",null),(0,E._)([(0,V.Cb)({readOnly:!0})],N.prototype,"extent",null),(0,E._)([(0,V.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],N.prototype,"hasM",null),(0,E._)([(0,V.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],N.prototype,"hasZ",null),(0,E._)([(0,V.Cb)({readOnly:!0})],N.prototype,"height",null),(0,E._)([(0,V.Cb)({readOnly:!0})],N.prototype,"width",null),(0,E._)([(0,V.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],N.prototype,"xmin",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],N.prototype,"ymin",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],N.prototype,"mmin",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],N.prototype,"zmin",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],N.prototype,"xmax",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],N.prototype,"ymax",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],N.prototype,"mmax",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],N.prototype,"zmax",void 0),N=W=(0,E._)([(0,B.j)("esri.geometry.Extent")],N),N.prototype.toJSON.isDefaultToJSON=!0;const L=N},32184:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(62185)),F=_(10141),T=_(43814);let w=class extends M.wq{constructor(...Z){super(...Z),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=T.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(Z,I){if(Z instanceof T.Z)return Z;if(null!=Z){const G=new T.Z;return G.read(Z,I),G}return Z}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(Z){return this.cache[Z]}setCacheValue(Z,I){this.cache[Z]=I}};(0,E._)([(0,V.Cb)()],w.prototype,"type",void 0),(0,E._)([(0,V.Cb)({readOnly:!0})],w.prototype,"cache",null),(0,E._)([(0,V.Cb)({readOnly:!0})],w.prototype,"extent",null),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:{overridePolicy:Z=>({enabled:Z})}}})],w.prototype,"hasM",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:{overridePolicy:Z=>({enabled:Z})}}})],w.prototype,"hasZ",void 0),(0,E._)([(0,V.Cb)({type:T.Z,json:{write:!0},value:T.Z.WGS84})],w.prototype,"spatialReference",void 0),(0,E._)([(0,B.r)("spatialReference")],w.prototype,"readSpatialReference",null),w=(0,E._)([(0,F.j)("esri.geometry.Geometry")],w);const j=w},69063:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>O});var I,E=_(50484),M=_(57678),V=_(84303),x=_(89317),P=_(49602),H=_(23206),B=_(80543),w=(_(1535),_(14007),_(62185)),j=_(10141),Z=_(7547);const G=(0,V.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),W=G.jsonValues.slice();(0,M.e$)(W,"orthometric");const A=(0,V.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let S=I=class extends x.wq{constructor($){super($),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel($,K,U){return G.write($,K,U)}readHeightModel($,K,U){return G.read($)||(U?.messages&&U.messages.push(function L($,K){return new H.Z("height-model:unsupported",`Height model of value '${$}' is not supported`,K)}($,{context:U})),null)}readHeightUnit($,K,U){return A.read($)||(U?.messages&&U.messages.push(N($,{context:U})),null)}readHeightUnitService($,K,U){return(0,P.$C)($)||A.read($)||(U?.messages&&U.messages.push(N($,{context:U})),null)}readVertCRS($,K){return K.vertCRS||K.ellipsoid||K.geoid}clone(){return new I({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals($){return!!$&&(this===$||this.heightModel===$.heightModel&&this.heightUnit===$.heightUnit&&this.vertCRS===$.vertCRS)}static deriveUnitFromSR($,K){const U=(0,P.cM)(K);return new I({heightModel:$.heightModel,heightUnit:U,vertCRS:$.vertCRS})}write($,K){return K={origin:"web-scene",...K},super.write($,K)}static fromJSON($){if(!$)return null;const K=new I;return K.read($,{origin:"web-scene"}),K}};function N($,K){return new H.Z("height-unit:unsupported",`Height unit of value '${$}' is not supported`,K)}(0,E._)([(0,B.Cb)({type:G.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:W,default:"ellipsoidal"}}}})],S.prototype,"heightModel",void 0),(0,E._)([(0,Z.c)("web-scene","heightModel")],S.prototype,"writeHeightModel",null),(0,E._)([(0,w.r)(["web-scene","service"],"heightModel")],S.prototype,"readHeightModel",null),(0,E._)([(0,B.Cb)({type:A.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:A.jsonValues,write:A.write}}}})],S.prototype,"heightUnit",void 0),(0,E._)([(0,w.r)("web-scene","heightUnit")],S.prototype,"readHeightUnit",null),(0,E._)([(0,w.r)("service","heightUnit")],S.prototype,"readHeightUnitService",null),(0,E._)([(0,B.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],S.prototype,"vertCRS",void 0),(0,E._)([(0,w.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],S.prototype,"readVertCRS",null),S=I=(0,E._)([(0,j.j)("esri.geometry.HeightModelInfo")],S);const O=S},12628:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>W});var j,E=_(50484),M=_(34222),V=_(80543),P=(_(1535),_(10141)),H=_(7547),B=_(26894),F=_(32184),T=_(85039),w=_(9740);function Z(A){return(S,N)=>null==S?N:null==N?S:A(S,N)}let G=j=class extends F.Z{constructor(...A){super(...A),this.points=[],this.type="multipoint"}normalizeCtorArgs(A,S){if(!A&&!S)return{};const N={};Array.isArray(A)?(N.points=A,N.spatialReference=S):function I(A){return A&&("esri.geometry.SpatialReference"===A.declaredClass||null!=A.wkid)}(A)?N.spatialReference=A:(A.points&&(N.points=A.points),A.spatialReference&&(N.spatialReference=A.spatialReference),A.hasZ&&(N.hasZ=A.hasZ),A.hasM&&(N.hasM=A.hasM));const L=N.points?.[0];return L&&(void 0===N.hasZ&&void 0===N.hasM?(N.hasZ=L.length>2,N.hasM=!1):void 0===N.hasZ?N.hasZ=L.length>3:void 0===N.hasM&&(N.hasM=L.length>3)),N}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const A=this.points;if(!A.length)return null;const S=new B.Z,N=this.hasZ,L=this.hasM,O=N?3:2,$=A[0],K=Z(Math.min),U=Z(Math.max);let X,Y,oe,ne,[se,te]=$,[k,re]=$;for(let Q=0,pe=A.length;Q<pe;Q++){const fe=A[Q],[ce,q]=fe;if(se=K(se,ce),te=K(te,q),k=U(k,ce),re=U(re,q),N&&fe.length>2){const le=fe[2];X=K(X,le),oe=U(oe,le)}if(L&&fe.length>O){const le=fe[O];Y=K(Y,le),ne=U(ne,le)}}return S.xmin=se,S.ymin=te,S.xmax=k,S.ymax=re,S.spatialReference=this.spatialReference,N?(S.zmin=X,S.zmax=oe):(S.zmin=void 0,S.zmax=void 0),L?(S.mmin=Y,S.mmax=ne):(S.mmin=void 0,S.mmax=void 0),S}writePoints(A,S){S.points=(0,M.d9)(this.points)}addPoint(A){return(0,w.l)(this,A),Array.isArray(A)?this.points.push(A):this.points.push(A.toArray()),this.notifyChange("points"),this}clone(){const A={points:(0,M.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(A.hasZ=!0),this.hasM&&(A.hasM=!0),new j(A)}getPoint(A){if(!this._validateInputs(A))return null;const S=this.points[A],N={x:S[0],y:S[1],spatialReference:this.spatialReference};let L=2;return this.hasZ&&(N.z=S[2],L=3),this.hasM&&(N.m=S[L]),new T.Z(N)}removePoint(A){if(!this._validateInputs(A))return null;const S=new T.Z(this.points.splice(A,1)[0],this.spatialReference);return this.notifyChange("points"),S}setPoint(A,S){return this._validateInputs(A)?((0,w.l)(this,S),Array.isArray(S)||(S=S.toArray()),this.points[A]=S,this.notifyChange("points"),this):this}toJSON(A){return this.write({},A)}_validateInputs(A){return null!=A&&A>=0&&A<this.points.length}};(0,E._)([(0,V.Cb)({readOnly:!0})],G.prototype,"cache",null),(0,E._)([(0,V.Cb)()],G.prototype,"extent",null),(0,E._)([(0,V.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],G.prototype,"points",void 0),(0,E._)([(0,H.c)("points")],G.prototype,"writePoints",null),G=j=(0,E._)([(0,P.j)("esri.geometry.Multipoint")],G),G.prototype.toJSON.isDefaultToJSON=!0;const W=G},85039:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>$});var S,E=_(50484),M=_(4703),V=_(80543),x=_(73018),B=(_(57678),_(14007),_(62185)),F=_(10141),T=_(7547),w=_(1535),j=_(32184),Z=_(43814),W=_(33721),A=_(48230);const N=[0,0];function L(K){return K&&("esri.geometry.SpatialReference"===K.declaredClass||null!=K.wkid)}let O=S=class extends j.Z{static copy(K,U){U._set("x",K._get("x")),U._set("y",K._get("y")),U._set("z",K._get("z")),U._set("m",K._get("m"));const X=K._get("spatialReference");U._set("spatialReference",Object.isFrozen(X)?X:X.clone())}constructor(...K){super(...K),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(K,U,X,Y,oe){let ne;if(Array.isArray(K))ne=K,oe=U,K=ne[0],U=ne[1],X=ne[2],Y=ne[3];else if(K&&"object"==typeof K){if(ne=K,K=null!=ne.x?ne.x:ne.longitude,U=null!=ne.y?ne.y:ne.latitude,X=ne.z,Y=ne.m,(oe=ne.spatialReference)&&"esri.geometry.SpatialReference"!==oe.declaredClass&&(oe=new Z.Z(oe)),null!=ne.longitude||null!=ne.latitude)if(null==ne.longitude)M.Z.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==ne.latitude)M.Z.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!ne.declaredClass&&oe&&oe.isWebMercator){const te=(0,A.hG)(ne.longitude,ne.latitude,N);K=te[0],U=te[1]}}else L(X)?(oe=X,X=null):L(Y)&&(oe=Y,Y=null);const se={x:K,y:U};return null==se.x&&null!=se.y?M.Z.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==se.y&&null!=se.x&&M.Z.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=oe&&(se.spatialReference=oe),null!=X&&(se.z=X),null!=Y&&(se.m=Y),se}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(K){K!==(void 0!==this._get("m"))&&(this._set("m",K?0:void 0),this._set("hasM",K))}get hasZ(){return void 0!==this.z}set hasZ(K){K!==(void 0!==this._get("z"))&&(this._set("z",K?0:void 0),this._set("hasZ",K))}get latitude(){const{spatialReference:K,x:U,y:X}=this;if(K){if(K.isWebMercator)return(0,A.R6)(U,X,N)[1];if(K.isGeographic)return X}return null}set latitude(K){const{spatialReference:U,x:X}=this;null!=K&&U&&(U.isWebMercator?this._set("y",(0,A.hG)(X,K,N)[1]):U.isGeographic&&this._set("y",K),this._set("latitude",K))}get longitude(){const{x:K,y:U,spatialReference:X}=this;if(X){if(X.isWebMercator)return(0,A.R6)(K,U,N)[0];if(X.isGeographic)return K}return null}set longitude(K){const{y:U,spatialReference:X}=this;null!=K&&X&&(X.isWebMercator?this._set("x",(0,A.hG)(K,U,N)[0]):X.isGeographic&&this._set("x",K),this._set("longitude",K))}writeX(K,U,X){U[X]=isNaN(K)?"NaN":K}readX(K){return"string"==typeof K?NaN:K}clone(){const K=new S;return K.x=this.x,K.y=this.y,K.z=this.z,K.m=this.m,K.spatialReference=this.spatialReference,K}copy(K){return S.copy(K,this),this}equals(K){if(null==K)return!1;const{x:U,y:X,z:Y,m:oe,spatialReference:ne}=this,{z:se,m:te}=K;let{x:k,y:re,spatialReference:Q}=K;if(!ne.equals(Q))if(ne.isWebMercator&&Q.isWGS84)[k,re]=(0,A.hG)(k,re),Q=ne;else{if(!ne.isWGS84||!Q.isWebMercator)return!1;[k,re]=(0,A.R6)(k,re),Q=ne}return U===k&&X===re&&Y===se&&oe===te&&ne.wkid===Q.wkid}offset(K,U,X){return this.x+=K,this.y+=U,null!=X&&(this.z=(this.z??0)+X),this}normalize(){if(!this.spatialReference)return this;const K=(0,W.C5)(this.spatialReference);if(!K)return this;let U=this.x;const[X,Y]=K.valid,oe=2*Y;let ne;return U>Y?(ne=Math.ceil(Math.abs(U-Y)/oe),U-=ne*oe):U<X&&(ne=Math.ceil(Math.abs(U-X)/oe),U+=ne*oe),this._set("x",U),this}distance(K){return function I(K,U){const X=K.x-U.x,Y=K.y-U.y,oe=K.hasZ&&U.hasZ?K.z-U.z:0;return Math.sqrt(X*X+Y*Y+oe*oe)}(this,K)}toArray(){const K=this.hasZ,U=this.hasM;return K&&U?[this.x,this.y,this.z,this.m]:K?[this.x,this.y,this.z]:U?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(K){return this.write({},K)}};(0,E._)([(0,V.Cb)({readOnly:!0})],O.prototype,"cache",null),(0,E._)([(0,V.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],O.prototype,"hasM",null),(0,E._)([(0,V.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],O.prototype,"hasZ",null),(0,E._)([(0,V.Cb)({type:Number})],O.prototype,"latitude",null),(0,E._)([(0,V.Cb)({type:Number})],O.prototype,"longitude",null),(0,E._)([(0,V.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,x.p)(K=>isNaN(K)?K:(0,w.q9)(K))],O.prototype,"x",void 0),(0,E._)([(0,T.c)("x")],O.prototype,"writeX",null),(0,E._)([(0,B.r)("x")],O.prototype,"readX",null),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],O.prototype,"y",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],O.prototype,"z",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],O.prototype,"m",void 0),O=S=(0,E._)([(0,F.j)("esri.geometry.Point")],O),O.prototype.toJSON.isDefaultToJSON=!0;const $=O},5391:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>K});var L,E=_(50484),M=_(57678),V=_(34222),x=_(80543),H=(_(1535),_(10141)),B=_(7547),F=_(26894),T=_(32184),w=_(85039),j=_(43814),Z=_(56880),I=_(5825),G=_(54746),W=_(14138),A=_(26230),S=_(48230),N=_(9740);function O(U){return!Array.isArray(U[0])}let $=L=class extends T.Z{static fromExtent(U){const X=U.clone().normalize(),Y=U.spatialReference;let oe=!1,ne=!1;for(const te of X)te.hasZ&&(oe=!0),te.hasM&&(ne=!0);const se={rings:X.map(te=>{const k=[[te.xmin,te.ymin],[te.xmin,te.ymax],[te.xmax,te.ymax],[te.xmax,te.ymin],[te.xmin,te.ymin]];if(oe&&te.hasZ){const re=te.zmin+.5*(te.zmax-te.zmin);for(let Q=0;Q<k.length;Q++)k[Q].push(re)}if(ne&&te.hasM){const re=te.mmin+.5*(te.mmax-te.mmin);for(let Q=0;Q<k.length;Q++)k[Q].push(re)}return k}),spatialReference:Y};return oe&&(se.hasZ=!0),ne&&(se.hasM=!0),new L(se)}constructor(...U){super(...U),this.rings=[],this.type="polygon"}normalizeCtorArgs(U,X){let Y,oe,ne=null,se=null;return U&&!Array.isArray(U)?(ne=U.rings??null,X||(U.spatialReference?X=U.spatialReference:U.rings||(X=U)),Y=U.hasZ,oe=U.hasM):ne=U,ne=ne||[],X=X||j.Z.WGS84,ne.length&&null!=ne[0]?.[0]&&"number"==typeof ne[0][0]&&(ne=[ne]),se=ne[0]?.[0],se&&(void 0===Y&&void 0===oe?(Y=se.length>2,oe=se.length>3):void 0===Y?Y=oe?se.length>3:se.length>2:void 0===oe&&(oe=Y?se.length>3:se.length>2)),{rings:ne,spatialReference:X,hasZ:Y,hasM:oe}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const U=(0,Z.tO)(this);if(!U||isNaN(U[0])||isNaN(U[1])||this.hasZ&&isNaN(U[2]))return null;const X=new w.Z;return X.x=U[0],X.y=U[1],X.spatialReference=this.spatialReference,this.hasZ&&(X.z=U[2]),X}get extent(){const{spatialReference:U}=this,X=(0,W._w)(this);if(!X)return null;const Y=new F.Z(X);return Y.spatialReference=U,Y}get isSelfIntersecting(){return(0,A.Ff)(this.rings)}writeRings(U,X){X.rings=(0,V.d9)(this.rings)}addRing(U){if(!U)return;const X=this.rings,Y=X.length;if(O(U)){const oe=[];for(let ne=0,se=U.length;ne<se;ne++)oe[ne]=U[ne].toArray();X[Y]=oe}else X[Y]=U.concat();return this.notifyChange("rings"),this}clone(){const U=new L;return U.spatialReference=this.spatialReference,U.rings=(0,V.d9)(this.rings),U.hasZ=this.hasZ,U.hasM=this.hasM,U}equals(U){if(this===U)return!0;if(null==U)return!1;const X=this.spatialReference,Y=U.spatialReference;if(null!=X!=(null!=Y)||null!=X&&null!=Y&&!X.equals(Y)||this.rings.length!==U.rings.length)return!1;const oe=([ne,se,te,k],[re,Q,pe,fe])=>ne===re&&se===Q&&(null==te&&null==pe||te===pe)&&(null==k&&null==fe||k===fe);for(let ne=0;ne<this.rings.length;ne++)if(!(0,M.fS)(this.rings[ne],U.rings[ne],oe))return!1;return!0}contains(U){if(!U)return!1;const X=(0,S.iV)(U,this.spatialReference);return(0,I.CI)(this,X??U)}isClockwise(U){let X;return X=O(U)?U.map(Y=>this.hasZ?this.hasM?[Y.x,Y.y,Y.z,Y.m]:[Y.x,Y.y,Y.z]:[Y.x,Y.y]):U,(0,G.bu)(X)}getPoint(U,X){if(!this._validateInputs(U,X))return null;const Y=this.rings[U][X],oe=this.hasZ,ne=this.hasM;return oe&&!ne?new w.Z(Y[0],Y[1],Y[2],void 0,this.spatialReference):ne&&!oe?new w.Z(Y[0],Y[1],void 0,Y[2],this.spatialReference):oe&&ne?new w.Z(Y[0],Y[1],Y[2],Y[3],this.spatialReference):new w.Z(Y[0],Y[1],this.spatialReference)}insertPoint(U,X,Y){return this._validateInputs(U,X,!0)?((0,N.l)(this,Y),Array.isArray(Y)||(Y=Y.toArray()),this.rings[U].splice(X,0,Y),this.notifyChange("rings"),this):this}removePoint(U,X){if(!this._validateInputs(U,X))return null;const Y=new w.Z(this.rings[U].splice(X,1)[0],this.spatialReference);return this.notifyChange("rings"),Y}removeRing(U){if(!this._validateInputs(U,null))return null;const X=this.rings.splice(U,1)[0],Y=this.spatialReference,oe=X.map(ne=>new w.Z(ne,Y));return this.notifyChange("rings"),oe}setPoint(U,X,Y){return this._validateInputs(U,X)?((0,N.l)(this,Y),Array.isArray(Y)||(Y=Y.toArray()),this.rings[U][X]=Y,this.notifyChange("rings"),this):this}_validateInputs(U,X,Y=!1){if(null==U||U<0||U>=this.rings.length)return!1;if(null!=X){const oe=this.rings[U];if(Y&&(X<0||X>oe.length)||!Y&&(X<0||X>=oe.length))return!1}return!0}toJSON(U){return this.write({},U)}};(0,E._)([(0,x.Cb)({readOnly:!0})],$.prototype,"cache",null),(0,E._)([(0,x.Cb)({readOnly:!0})],$.prototype,"centroid",null),(0,E._)([(0,x.Cb)({readOnly:!0})],$.prototype,"extent",null),(0,E._)([(0,x.Cb)({readOnly:!0})],$.prototype,"isSelfIntersecting",null),(0,E._)([(0,x.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],$.prototype,"rings",void 0),(0,E._)([(0,B.c)("rings")],$.prototype,"writeRings",null),$=L=(0,E._)([(0,H.j)("esri.geometry.Polygon")],$),$.prototype.toJSON.isDefaultToJSON=!0;const K=$},64222:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>A});var I,E=_(50484),M=_(34222),V=_(80543),P=(_(1535),_(10141)),H=_(7547),B=_(26894),F=_(32184),T=_(85039),w=_(43814),j=_(14138),Z=_(9740);let W=I=class extends F.Z{constructor(...S){super(...S),this.paths=[],this.type="polyline"}normalizeCtorArgs(S,N){let L,O,$=null,K=null;return S&&!Array.isArray(S)?($=S.paths??null,N||(S.spatialReference?N=S.spatialReference:S.paths||(N=S)),L=S.hasZ,O=S.hasM):$=S,$=$||[],N=N||w.Z.WGS84,$.length&&null!=$[0]?.[0]&&"number"==typeof $[0][0]&&($=[$]),K=$[0]?.[0],K&&(void 0===L&&void 0===O?(L=K.length>2,O=!1):void 0===L?L=!O&&K.length>3:void 0===O&&(O=!L&&K.length>3)),{paths:$,spatialReference:N,hasZ:L,hasM:O}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:S}=this,N=(0,j.Wn)(this);if(!N)return null;const L=new B.Z(N);return L.spatialReference=S,L}writePaths(S,N){N.paths=(0,M.d9)(this.paths)}addPath(S){if(!S)return;const N=this.paths,L=N.length;if(function G(S){return!Array.isArray(S[0])}(S)){const O=[];for(let $=0,K=S.length;$<K;$++)O[$]=S[$].toArray();N[L]=O}else N[L]=S.concat();return this.notifyChange("paths"),this}clone(){const S=new I;return S.spatialReference=this.spatialReference,S.paths=(0,M.d9)(this.paths),S.hasZ=this.hasZ,S.hasM=this.hasM,S}getPoint(S,N){if(!this._validateInputs(S,N))return null;const L=this.paths[S][N],O=this.hasZ,$=this.hasM;return O&&!$?new T.Z(L[0],L[1],L[2],void 0,this.spatialReference):$&&!O?new T.Z(L[0],L[1],void 0,L[2],this.spatialReference):O&&$?new T.Z(L[0],L[1],L[2],L[3],this.spatialReference):new T.Z(L[0],L[1],this.spatialReference)}insertPoint(S,N,L){return this._validateInputs(S,N,!0)?((0,Z.l)(this,L),Array.isArray(L)||(L=L.toArray()),this.paths[S].splice(N,0,L),this.notifyChange("paths"),this):this}removePath(S){if(!this._validateInputs(S,null))return null;const N=this.paths.splice(S,1)[0],L=this.spatialReference,O=N.map($=>new T.Z($,L));return this.notifyChange("paths"),O}removePoint(S,N){if(!this._validateInputs(S,N))return null;const L=new T.Z(this.paths[S].splice(N,1)[0],this.spatialReference);return this.notifyChange("paths"),L}setPoint(S,N,L){return this._validateInputs(S,N)?((0,Z.l)(this,L),Array.isArray(L)||(L=L.toArray()),this.paths[S][N]=L,this.notifyChange("paths"),this):this}_validateInputs(S,N,L=!1){if(null==S||S<0||S>=this.paths.length)return!1;if(null!=N){const O=this.paths[S];if(L&&(N<0||N>O.length)||!L&&(N<0||N>=O.length))return!1}return!0}toJSON(S){return this.write({},S)}};(0,E._)([(0,V.Cb)({readOnly:!0})],W.prototype,"cache",null),(0,E._)([(0,V.Cb)({readOnly:!0})],W.prototype,"extent",null),(0,E._)([(0,V.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],W.prototype,"paths",void 0),(0,E._)([(0,H.c)("paths")],W.prototype,"writePaths",null),W=I=(0,E._)([(0,P.j)("esri.geometry.Polyline")],W),W.prototype.toJSON.isDefaultToJSON=!0;const A=W},43814:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var w,E=_(50484),M=_(89317),V=_(34222),x=_(49602),P=_(1535),H=_(80543),B=_(10141),F=_(7547),T=_(33721);let j=w=class extends M.wq{static fromJSON(I){if(!I)return null;if(I.wkid){if(102100===I.wkid)return w.WebMercator;if(4326===I.wkid)return w.WGS84}const G=new w;return G.read(I),G}constructor(I){super(I),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(I){return I&&"object"==typeof I?I:{["string"==typeof I?"wkt":"wkid"]:I}}get isWGS84(){return(0,T.oR)(this)}get isWebMercator(){return(0,T.sS)(this)}get isGeographic(){return(0,T.sT)(this)}get isWrappable(){return(0,T.MP)(this)}get metersPerUnit(){return(0,x.c9)(this)}get unit(){return(0,x.qE)(this)||(this.isGeographic?"degrees":null)}writeWkt(I,G){this.wkid||(G.wkt=I)}clone(){if(this===w.WGS84)return w.WGS84;if(this===w.WebMercator)return w.WebMercator;const I=new w;return null!=this.wkid?(I.wkid=this.wkid,null!=this.latestWkid&&(I.latestWkid=this.latestWkid),null!=this.vcsWkid&&(I.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(I.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(I.wkt=this.wkt),null!=this.wkt2&&(I.wkt2=this.wkt2)),this.imageCoordinateSystem&&(I.imageCoordinateSystem=(0,V.d9)(this.imageCoordinateSystem)),I}equals(I){if(null==I)return!1;if(this.imageCoordinateSystem||I.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==I.imageCoordinateSystem)return!1;const{id:G,referenceServiceName:W}=I.imageCoordinateSystem,{geodataXform:A}=I.imageCoordinateSystem,S=this.imageCoordinateSystem;return null==G||A?JSON.stringify(S)===JSON.stringify(I.imageCoordinateSystem):W?S.id===G&&S.referenceServiceName===W:S.id===G}return(0,T.fS)(this,I)}toJSON(I){return this.write(void 0,I)}};j.GCS_NAD_1927=null,j.WGS84=null,j.WebMercator=null,j.PlateCarree=null,(0,E._)([(0,H.Cb)({readOnly:!0})],j.prototype,"isWGS84",null),(0,E._)([(0,H.Cb)({readOnly:!0})],j.prototype,"isWebMercator",null),(0,E._)([(0,H.Cb)({readOnly:!0})],j.prototype,"isGeographic",null),(0,E._)([(0,H.Cb)({readOnly:!0})],j.prototype,"isWrappable",null),(0,E._)([(0,H.Cb)({type:P.z8,json:{write:!0}})],j.prototype,"latestWkid",void 0),(0,E._)([(0,H.Cb)({readOnly:!0})],j.prototype,"metersPerUnit",null),(0,E._)([(0,H.Cb)({readOnly:!0})],j.prototype,"unit",null),(0,E._)([(0,H.Cb)({type:P.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],j.prototype,"wkid",void 0),(0,E._)([(0,H.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],j.prototype,"wkt",void 0),(0,E._)([(0,F.c)("wkt"),(0,F.c)("web-scene","wkt")],j.prototype,"writeWkt",null),(0,E._)([(0,H.Cb)({type:String,json:{write:!1}})],j.prototype,"wkt2",void 0),(0,E._)([(0,H.Cb)({type:P.z8,json:{write:!0}})],j.prototype,"vcsWkid",void 0),(0,E._)([(0,H.Cb)({type:P.z8,json:{write:!0}})],j.prototype,"latestVcsWkid",void 0),(0,E._)([(0,H.Cb)()],j.prototype,"imageCoordinateSystem",void 0),j=w=(0,E._)([(0,B.j)("esri.geometry.SpatialReference")],j),j.prototype.toJSON.isDefaultToJSON=!0,j.GCS_NAD_1927=new j({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),j.WGS84=new j(T.Zn),j.WebMercator=new j(T.R_),j.PlateCarree=new j(T.WR),Object.freeze&&(Object.freeze(j.GCS_NAD_1927),Object.freeze(j.WGS84),Object.freeze(j.WebMercator));const Z=j},82921:(Ze,me,_)=>{"use strict";_.d(me,{Iu:()=>F,JL:()=>P,e8:()=>T,fY:()=>w,kU:()=>x,mM:()=>H,oe:()=>j,pn:()=>B});var E=_(82301),M=_(33721);function V(Z){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${Z.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const x=V(E.sv),P=V(E.yr),H=V(E.Z1),B={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${E.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};function F(Z){return null!=Z&&((0,M.BZ)(Z)||(0,M.fS)(Z,P))?E.yr:null!=Z&&((0,M.V2)(Z)||(0,M.fS)(Z,H))?E.Z1:E.sv}function T(Z){return(0,M.o$)(Z)?E.yr:(0,M.ME)(Z)?E.Z1:E.sv}function w(Z){return(0,M.fS)(Z,x)}function j(Z){return w(Z)||(0,M.fS)(Z,P)||(0,M.fS)(Z,H)}},93297:(Ze,me,_)=>{"use strict";function E(V){const x=[];for(V.reset();V.nextPath();){const P=[];for(;V.nextPoint();)P.push([V.x,V.y]);x.push(P)}return V.reset(),x}function M(V){const x=[];for(;V.nextPoint();)x.push([V.x,V.y]);return V.seekPathStart(),x}_.d(me,{M:()=>E,l:()=>M})},83821:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{canProjectToWGS84ComparableLonLat:()=>Fe,canProjectWithoutEngine:()=>Ee,getTransformation:()=>fe,getTransformations:()=>ce,initializeProjection:()=>be,isLoaded:()=>ne,isLoadedOrLoad:()=>se,load:()=>te,project:()=>k,projectExtent:()=>Re,projectMany:()=>re,projectMultipoint:()=>Me,projectOrLoad:()=>Q,projectOrLoadMany:()=>pe,projectPoint:()=>Be,projectPolygon:()=>J,projectPolyline:()=>xe,projectWithZConversion:()=>ue,projectWithoutEngine:()=>De,test:()=>ee,tryProjectWithZConversion:()=>ae,unload:()=>le});var E=_(15861),M=_(57964),V=_(79412),x=_(56295),P=_(19994),H=_(8554),B=_(82921),F=_(26894),T=_(12628),w=_(39392),j=_(85039),Z=_(5391),I=_(64222),G=_(43814),W=_(83639),A=_(83723);function S(Ne,ve,Oe,Te,je,$e){return N[0]=Ne,N[1]=ve,N[2]=Oe,(0,W.projectBuffer)(N,Te,0,je,$e,0,1)}const N=(0,H.c)();var L=_(12786),O=_(33721),$=_(53456);let K=null,U=null,X=null,Y={};const oe=new P.s;function ne(){return!!K&&(0,w.i)()}function se(){return!!ne()||((0,x.it)(oe),te(),!1)}function te(Ne){return null==X&&(X=Promise.all([(0,w.l)(),_.e(9465).then(_.bind(_,89465)).then(ve=>ve.g),_.e(8592).then(_.bind(_,65601))])),X.then(([,ve,{hydratedAdapter:Oe}])=>{(0,V.k_)(Ne),U=Oe,K=ve.default,K._enableProjection(w.p),oe.notify()})}function k(Ne,ve,Oe=null,Te=null){return Array.isArray(Ne)?0===Ne.length?[]:re(U,Ne,Ne[0].spatialReference,ve,Oe,Te):re(U,[Ne],Ne.spatialReference,ve,Oe,Te)[0]}function re(Ne,ve,Oe,Te,je=null,$e=null){if(null==Oe||null==Te)return ve;if(Ee(Oe,Te,je))return ve.map(nt=>De(nt,Oe,Te));if(null==je&&(0,B.fY)(Oe))return ve.map(nt=>De(nt,Oe,G.Z.WGS84)).map(nt=>ae(nt,Te));if(null==je&&(0,B.fY)(Te))return ve.map(nt=>ae(nt,G.Z.WGS84)).map(nt=>De(nt,G.Z.WGS84,Te));if(null==je){const nt=L.Z.cacheKey(Oe,Te);void 0!==Y[nt]?je=Y[nt]:(null==(je=fe(Oe,Te,void 0))&&(je=new L.Z),Y[nt]=je)}if(null==K||null==Ne)throw new q;return null!=$e?K._project(Ne,ve,Oe,Te,je,$e):K._project(Ne,ve,Oe,Te,je)}function Q(Ne,ve){const Oe=pe([Ne],ve);return null!=Oe.pending?{pending:Oe.pending,geometry:null}:null!=Oe.geometries?{pending:null,geometry:Oe.geometries[0]}:{pending:null,geometry:null}}function pe(Ne,ve){if(!ne())for(const Oe of Ne)if(null!=Oe&&!(0,O.fS)(Oe.spatialReference,ve)&&(0,O.JY)(Oe.spatialReference)&&(0,O.JY)(ve)&&!Ee(Oe.spatialReference,ve))return(0,x.it)(oe),{pending:te(),geometries:null};return{pending:null,geometries:Ne.map(Oe=>null==Oe?null:(0,O.fS)(Oe.spatialReference,ve)?Oe:(0,O.JY)(Oe.spatialReference)&&(0,O.JY)(ve)?ae(Oe,ve):null)}}function fe(Ne,ve,Oe=null){if(null==Ne||null==ve)return null;if(null==K||null==U)throw new q;const Te=K._getTransformation(U,Ne,ve,Oe,Oe?.spatialReference);return null!==Te?L.Z.fromGE(Te):null}function ce(Ne,ve,Oe=null){if(null==K||null==U)throw new q;const Te=K._getTransformationBySuitability(U,Ne,ve,Oe,Oe?.spatialReference);if(null!==Te){const je=[];for(const $e of Te)je.push(L.Z.fromGE($e));return je}return[]}class q extends M.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function le(){K=null,U=null,X=null,Y={}}const ee={get loadPromise(){return X}};function ae(Ne,ve){try{const Oe=k(Ne,ve);if(null==Oe)return null;"xmin"in Ne&&"xmin"in Oe&&(Oe.zmin=Ne.zmin,Oe.zmax=Ne.zmax);const Te=(0,$.k)(Oe.type,Ne.spatialReference,ve);return Te?.(Oe),Oe}catch(Oe){if(!(Oe instanceof q))throw Oe;return null}}function ue(Ne,ve,Oe){return ge.apply(this,arguments)}function ge(){return(ge=(0,E.Z)(function*(Ne,ve,Oe){const Te=Ne.spatialReference;return null!=Te&&null!=ve&&(yield be(Te,ve,null,Oe)),ae(Ne,ve)})).apply(this,arguments)}function Ee(Ne,ve,Oe){return!Oe&&(!!(0,O.fS)(Ne,ve)||(0,O.JY)(Ne)&&(0,O.JY)(ve)&&!!(0,A.R8)(Ne,ve,A._U))}function be(Ne,ve,Oe,Te){return ie.apply(this,arguments)}function ie(){return(ie=(0,E.Z)(function*(Ne,ve,Oe,Te){if(ne())return(0,V.Yn)(Te);if(Array.isArray(Ne)){for(const{source:je,dest:$e,geographicTransformation:nt}of Ne)if(!Ee(je,$e,nt))return te(Te)}else if(!Ee(Ne,ve,Oe))return te(Te);return(0,V.Yn)(Te)})).apply(this,arguments)}function De(Ne,ve,Oe){return Ne?"x"in Ne?we(Ne,ve,new j.Z,Oe,0):"xmin"in Ne?Ve(Ne,ve,new F.Z,Oe,0):"rings"in Ne?ye(Ne,ve,new Z.Z,Oe,0):"paths"in Ne?Xe(Ne,ve,new I.Z,Oe,0):"points"in Ne?He(Ne,ve,new T.Z,Oe,0):null:null}function Be(Ne,ve,Oe=ve.spatialReference,Te=0){return null!=Oe&&null!=Ne.spatialReference&&null!=we(Ne,Ne.spatialReference,ve,Oe,Te)}function we(Ne,ve,Oe,Te,je){Qe[0]=Ne.x,Qe[1]=Ne.y;const $e=Ne.z;return Qe[2]=void 0!==$e?$e:je,(0,W.projectBuffer)(Qe,ve,0,Qe,Te,0,1)?(Oe.x=Qe[0],Oe.y=Qe[1],Oe.spatialReference=Te,void 0!==$e||(0,B.oe)(Te)?(Oe.z=Qe[2],Oe.hasZ=!0):(Oe.z=void 0,Oe.hasZ=!1),void 0===Ne.m?(Oe.m=void 0,Oe.hasM=!1):(Oe.m=Ne.m,Oe.hasM=!0),Oe):null}function Me(Ne,ve,Oe=ve.spatialReference,Te=0){return null!=Ne.spatialReference&&null!=Oe&&null!=He(Ne,Ne.spatialReference,ve,Oe,Te)}function He(Ne,ve,Oe,Te,je){const{points:$e,hasZ:nt,hasM:Je}=Ne,ot=[],at=$e.length,mt=[];for(const Ot of $e)mt.push(Ot[0],Ot[1],nt?Ot[2]:je);if(!(0,W.projectBuffer)(mt,ve,0,mt,Te,0,at))return null;const Tt=nt||(0,B.oe)(Te);for(let Ot=0;Ot<at;++Ot){const Bt=3*Ot,Gt=mt[Bt],kt=mt[Bt+1];ot.push(Tt&&Je?[Gt,kt,mt[Bt+2],$e[Ot][3]]:Tt?[Gt,kt,mt[Bt+2]]:Je?[Gt,kt,$e[Ot][2]]:[Gt,kt])}return Oe.points=ot,Oe.spatialReference=Te,Oe.hasZ=nt,Oe.hasM=Je,Oe}function xe(Ne,ve,Oe=ve.spatialReference,Te=0){return null!=Ne.spatialReference&&null!=Oe&&null!=Xe(Ne,Ne.spatialReference,ve,Oe,Te)}function Xe(Ne,ve,Oe,Te,je){const{paths:$e,hasZ:nt,hasM:Je}=Ne,ot=[];if(!et($e,nt??!1,Je??!1,ve,ot,Te,je))return null;const at=nt||(0,B.oe)(Te);return Oe.paths=ot,Oe.spatialReference=Te,Oe.hasZ=at,Oe.hasM=Je,Oe}function J(Ne,ve,Oe=ve.spatialReference,Te=0){return null!=Ne.spatialReference&&null!=Oe&&null!=ye(Ne,Ne.spatialReference,ve,Oe,Te)}function ye(Ne,ve,Oe,Te,je){const{rings:$e,hasZ:nt,hasM:Je}=Ne,ot=[];if(!et($e,nt??!1,Je??!1,ve,ot,Te,je))return null;const at=nt||(0,B.oe)(Te);return Oe.rings=ot,Oe.spatialReference=Te,Oe.hasZ=at,Oe.hasM=Je,Oe}function Re(Ne,ve,Oe=ve.spatialReference,Te=0){return null!=Ne.spatialReference&&null!=Oe&&null!=Ve(Ne,Ne.spatialReference,ve,Oe,Te)}function Ve(Ne,ve,Oe,Te,je){const{xmin:$e,ymin:nt,xmax:Je,ymax:ot,hasZ:at,hasM:mt}=Ne;if(!S($e,nt,at?Ne.zmin:je,ve,Qe,Te))return null;const Ot=at||(0,B.oe)(Te);return Oe.xmin=Qe[0],Oe.ymin=Qe[1],Ot&&(Oe.zmin=Qe[2]),S(Je,ot,at?Ne.zmax:je,ve,Qe,Te)?(Oe.xmax=Qe[0],Oe.ymax=Qe[1],Ot&&(Oe.zmax=Qe[2]),mt&&(Oe.mmin=Ne.mmin,Oe.mmax=Ne.mmax),Oe.spatialReference=Te,Oe):null}function et(Ne,ve,Oe,Te,je,$e,nt=0){const Je=new Array;for(const mt of Ne)for(const Tt of mt)Je.push(Tt[0],Tt[1],ve?Tt[2]:nt);if(!(0,W.projectBuffer)(Je,Te,0,Je,$e,0,Je.length/3))return!1;let ot=0;je.length=0;const at=ve||(0,B.oe)($e);for(const mt of Ne){const Tt=new Array;for(const Ot of mt)at&&Oe?Tt.push([Je[ot++],Je[ot++],Je[ot++],Ot[3]]):at?Tt.push([Je[ot++],Je[ot++],Je[ot++]]):Oe?(Tt.push([Je[ot++],Je[ot++],Ot[2]]),ot++):(Tt.push([Je[ot++],Je[ot++]]),ot++);je.push(Tt)}return!0}function Fe(Ne){return null!=Ne&&null!=(0,A.zl)(Ne)}const Qe=(0,H.c)()},83639:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{projectBuffer:()=>M});var E=_(83723);function M(V,x,P,H,B,F,T=1){const w=(0,E.R8)(x,B,E._U);if(null==w)return!1;if(w===E.iq){if(V===H&&P===F)return!0;const Z=P+3*T;for(let I=P,G=F;I<Z;I++,G++)H[G]=V[I];return!0}const j=P+3*T;for(let Z=P,I=F;Z<j;Z+=3,I+=3)w(V,Z,H,I);return!0}},83723:(Ze,me,_)=>{"use strict";_.d(me,{Ej:()=>I,eT:()=>N,iq:()=>L,sp:()=>ye,R8:()=>A,zl:()=>W,rf:()=>G,_U:()=>Re,Jz:()=>J});var E=_(55117),M=_(49602),V=_(82921),x=_(82301);Math;const B=x.sv.radius,F=x.sv.eccentricitySquared,T={a1:B*F,a2:B*F*B*F,a3:B*F*F/2,a4:B*F*B*F*2.5,a5:B*F+B*F*F/2,a6:1-F};var I,Fe,j=_(33721),Z=_(24512);(Fe=I||(I={}))[Fe.UNKNOWN=0]="UNKNOWN",Fe[Fe.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",Fe[Fe.WGS84=2]="WGS84",Fe[Fe.WEB_MERCATOR=3]="WEB_MERCATOR",Fe[Fe.WGS84_ECEF=4]="WGS84_ECEF",Fe[Fe.CGCS2000=5]="CGCS2000",Fe[Fe.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",Fe[Fe.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",Fe[Fe.GCSMARS2000=8]="GCSMARS2000",Fe[Fe.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",Fe[Fe.GCSMOON2000=10]="GCSMOON2000",Fe[Fe.LON_LAT=11]="LON_LAT",Fe[Fe.PLATE_CARREE=12]="PLATE_CARREE";const G={[I.WGS84]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:L,[I.WGS84_COMPARABLE_LON_LAT]:L,[I.SPHERICAL_ECEF]:ee,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:X,[I.PLATE_CARREE]:ne,[I.WGS84]:L,[I.WGS84_ECEF]:Be},[I.CGCS2000]:{[I.CGCS2000]:L,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:L,[I.WGS84_COMPARABLE_LON_LAT]:L,[I.SPHERICAL_ECEF]:ee,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:ne,[I.WGS84]:null,[I.WGS84_ECEF]:Be},[I.GCSMARS2000]:{[I.CGCS2000]:null,[I.GCSMARS2000]:L,[I.GCSMOON2000]:null,[I.LON_LAT]:L,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:le,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.GCSMOON2000]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:L,[I.LON_LAT]:L,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:q,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.WEB_MERCATOR]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:O,[I.WGS84_COMPARABLE_LON_LAT]:O,[I.SPHERICAL_ECEF]:function $(Fe,Qe,Ne,ve){O(Fe,Qe,Ne,ve),ee(Ne,ve,Ne,ve)},[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:L,[I.PLATE_CARREE]:function te(Fe,Qe,Ne,ve){O(Fe,Qe,Ne,ve),ne(Ne,ve,Ne,ve)},[I.WGS84]:O,[I.WGS84_ECEF]:function K(Fe,Qe,Ne,ve){O(Fe,Qe,Ne,ve),Be(Ne,ve,Ne,ve)}},[I.WGS84_ECEF]:{[I.CGCS2000]:we,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:we,[I.WGS84_COMPARABLE_LON_LAT]:we,[I.SPHERICAL_ECEF]:function Me(Fe,Qe,Ne,ve){we(Fe,Qe,Ne,ve),ee(Ne,ve,Ne,ve)},[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:function He(Fe,Qe,Ne,ve){we(Fe,Qe,Ne,ve),X(Ne,ve,Ne,ve)},[I.PLATE_CARREE]:function k(Fe,Qe,Ne,ve){we(Fe,Qe,Ne,ve),ne(Ne,ve,Ne,ve)},[I.WGS84]:we,[I.WGS84_ECEF]:L},[I.SPHERICAL_ECEF]:{[I.CGCS2000]:Ee,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:Ee,[I.WGS84_COMPARABLE_LON_LAT]:Ee,[I.SPHERICAL_ECEF]:L,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:function be(Fe,Qe,Ne,ve){Ee(Fe,Qe,Ne,ve),X(Ne,ve,Ne,ve)},[I.PLATE_CARREE]:function re(Fe,Qe,Ne,ve){Ee(Fe,Qe,Ne,ve),ne(Ne,ve,Ne,ve)},[I.WGS84]:Ee,[I.WGS84_ECEF]:function ie(Fe,Qe,Ne,ve){Ee(Fe,Qe,Ne,ve),Be(Ne,ve,Ne,ve)}},[I.SPHERICAL_MARS_PCPF]:{[I.CGCS2000]:null,[I.GCSMARS2000]:ge,[I.GCSMOON2000]:null,[I.LON_LAT]:ge,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:L,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.SPHERICAL_MOON_PCPF]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:ue,[I.LON_LAT]:ue,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:L,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.UNKNOWN]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:null,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:L,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.LON_LAT]:{[I.CGCS2000]:L,[I.GCSMARS2000]:L,[I.GCSMOON2000]:L,[I.LON_LAT]:L,[I.WGS84_COMPARABLE_LON_LAT]:L,[I.SPHERICAL_ECEF]:ee,[I.SPHERICAL_MARS_PCPF]:le,[I.SPHERICAL_MOON_PCPF]:q,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:X,[I.PLATE_CARREE]:ne,[I.WGS84]:L,[I.WGS84_ECEF]:Be},[I.WGS84_COMPARABLE_LON_LAT]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:L,[I.WGS84_COMPARABLE_LON_LAT]:L,[I.SPHERICAL_ECEF]:ee,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:ne,[I.WGS84]:L,[I.WGS84_ECEF]:Be},[I.PLATE_CARREE]:{[I.CGCS2000]:se,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:se,[I.WGS84_COMPARABLE_LON_LAT]:se,[I.SPHERICAL_ECEF]:function Q(Fe,Qe,Ne,ve){se(Fe,Qe,Ne,ve),ee(Ne,ve,Ne,ve)},[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:function pe(Fe,Qe,Ne,ve){se(Fe,Qe,Ne,ve),X(Ne,ve,Ne,ve)},[I.PLATE_CARREE]:L,[I.WGS84]:se,[I.WGS84_ECEF]:function fe(Fe,Qe,Ne,ve){se(Fe,Qe,Ne,ve),Be(Ne,ve,Ne,ve)}}};function W(Fe){const Qe=N(Fe,J);return G[Qe][I.WGS84_COMPARABLE_LON_LAT]}function A(Fe,Qe,Ne=Xe()){return null==Fe||null==Qe?null:function xe(Fe,Qe,Ne){if(null==Fe||null==Qe||Ne.source.spatialReference===Fe&&Ne.dest.spatialReference===Qe)return Ne;const ve=N(Fe,Ne.source),Oe=N(Qe,Ne.dest);return Ne.projector=ve===I.UNKNOWN&&Oe===I.UNKNOWN?(0,j.fS)(Fe,Qe)?L:null:G[ve][Oe],Ne}(Fe,Qe,Ne).projector}function N(Fe,Qe){return Fe?Qe.spatialReference===Fe?Qe.spatialReferenceId:(Qe.spatialReference=Fe,"metersPerUnit"in Qe&&(Qe.metersPerUnit=(0,M.c9)(Fe,1)),Qe.spatialReferenceId=(0,V.fY)(Fe)?I.SPHERICAL_ECEF:(0,j.oR)(Fe)?I.WGS84:(0,j.sS)(Fe)?I.WEB_MERCATOR:(0,j.QM)(Fe)?I.PLATE_CARREE:Fe.wkt===V.pn.wkt?I.WGS84_ECEF:Fe.wkid===Z.W.CGCS2000?I.CGCS2000:Fe.wkt===V.JL.wkt?I.SPHERICAL_MARS_PCPF:Fe.wkt===V.mM.wkt?I.SPHERICAL_MOON_PCPF:(0,j.BZ)(Fe)?I.GCSMARS2000:(0,j.V2)(Fe)?I.GCSMOON2000:I.UNKNOWN):I.UNKNOWN}function L(Fe,Qe,Ne,ve){Fe!==Ne&&(Ne[ve++]=Fe[Qe++],Ne[ve++]=Fe[Qe++],Ne[ve]=Fe[Qe])}function O(Fe,Qe,Ne,ve){Ne[ve++]=et*(Fe[Qe++]/x.sv.radius),Ne[ve++]=et*(Math.PI/2-2*Math.atan(Math.exp(-Fe[Qe++]/x.sv.radius))),Ne[ve]=Fe[Qe]}function X(Fe,Qe,Ne,ve){!function U(Fe,Qe,Ne,ve,Oe){const Te=.4999999*Math.PI,je=(0,E.uZ)(Ve*Fe[Qe+1],-Te,Te),$e=Math.sin(je);Ne[ve++]=Ve*Fe[Qe]*Oe.radius,Ne[ve++]=Oe.halfSemiMajorAxis*Math.log((1+$e)/(1-$e)),Ne[ve]=Fe[Qe+2]}(Fe,Qe,Ne,ve,x.sv)}const Y=x.sv.radius*Math.PI/180,oe=180/(x.sv.radius*Math.PI);function ne(Fe,Qe,Ne,ve){Ne[ve]=Fe[Qe]*Y,Ne[ve+1]=Fe[Qe+1]*Y,Ne[ve+2]=Fe[Qe+2]}function se(Fe,Qe,Ne,ve){Ne[ve]=Fe[Qe]*oe,Ne[ve+1]=Fe[Qe+1]*oe,Ne[ve+2]=Fe[Qe+2]}function ce(Fe,Qe,Ne,ve,Oe){const Te=Oe+Fe[Qe+2],je=Ve*Fe[Qe+1],$e=Ve*Fe[Qe],nt=Math.cos(je);Ne[ve++]=Math.cos($e)*nt*Te,Ne[ve++]=Math.sin($e)*nt*Te,Ne[ve]=Math.sin(je)*Te}function q(Fe,Qe,Ne,ve){ce(Fe,Qe,Ne,ve,x.Z1.radius)}function le(Fe,Qe,Ne,ve){ce(Fe,Qe,Ne,ve,x.yr.radius)}function ee(Fe,Qe,Ne,ve){ce(Fe,Qe,Ne,ve,x.sv.radius)}function ae(Fe,Qe,Ne,ve,Oe){const Te=Fe[Qe],je=Fe[Qe+1],$e=Fe[Qe+2],nt=Math.sqrt(Te*Te+je*je+$e*$e),Je=(0,E.Kt)($e/(0===nt?1:nt)),ot=Math.atan2(je,Te);Ne[ve++]=et*ot,Ne[ve++]=et*Je,Ne[ve]=nt-Oe}function ue(Fe,Qe,Ne,ve){ae(Fe,Qe,Ne,ve,x.Z1.radius)}function ge(Fe,Qe,Ne,ve){ae(Fe,Qe,Ne,ve,x.yr.radius)}function Ee(Fe,Qe,Ne,ve){ae(Fe,Qe,Ne,ve,x.sv.radius)}function Be(Fe,Qe,Ne,ve){!function De(Fe,Qe,Ne,ve,Oe){const Te=Ve*Fe[Qe],je=Ve*Fe[Qe+1],$e=Fe[Qe+2],nt=Math.sin(je),Je=Math.cos(je),ot=Oe.radius/Math.sqrt(1-Oe.eccentricitySquared*nt*nt);Ne[ve++]=(ot+$e)*Je*Math.cos(Te),Ne[ve++]=(ot+$e)*Je*Math.sin(Te),Ne[ve++]=(ot*(1-Oe.eccentricitySquared)+$e)*nt}(Fe,Qe,Ne,ve,x.sv)}function we(Fe,Qe,Ne,ve){const Oe=T,Te=Fe[Qe],je=Fe[Qe+1],$e=Fe[Qe+2];let nt,Je,ot,at,mt,Tt,Ot,Bt,Gt,kt,on,ft,dt,Ct,Dt,xt,nn,Yt,rn,gn,yn;nt=Math.abs($e),Je=Te*Te+je*je,ot=Math.sqrt(Je),at=Je+$e*$e,mt=Math.sqrt(at),gn=Math.atan2(je,Te),Tt=$e*$e/at,Ot=Je/at,Ct=Oe.a2/mt,Dt=Oe.a3-Oe.a4/mt,Ot>.3?(Bt=nt/mt*(1+Ot*(Oe.a1+Ct+Tt*Dt)/mt),rn=Math.asin(Bt),kt=Bt*Bt,Gt=Math.sqrt(1-kt)):(Gt=ot/mt*(1-Tt*(Oe.a5-Ct-Ot*Dt)/mt),rn=Math.acos(Gt),kt=1-Gt*Gt,Bt=Math.sqrt(kt)),on=1-x.sv.eccentricitySquared*kt,ft=x.sv.radius/Math.sqrt(on),dt=Oe.a6*ft,Ct=ot-ft*Gt,Dt=nt-dt*Bt,nn=Gt*Ct+Bt*Dt,xt=Gt*Dt-Bt*Ct,Yt=xt/(dt/on+nn),rn+=Yt,yn=nn+xt*Yt/2,$e<0&&(rn=-rn),Ne[ve++]=et*gn,Ne[ve++]=et*rn,Ne[ve]=yn}function Xe(){return{source:{spatialReference:null,spatialReferenceId:I.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:I.UNKNOWN,metersPerUnit:1},projector:L}}const J={spatialReference:null,spatialReferenceId:I.UNKNOWN},ye={spatialReference:null,spatialReferenceId:I.UNKNOWN},Re=Xe(),Ve=(0,E.Vl)(1),et=(0,E.BV)(1)},48621:(Ze,me,_)=>{"use strict";var E,M;_.d(me,{R:()=>E}),(M=E||(E={}))[M.X=0]="X",M[M.Y=1]="Y",M[M.Z=2]="Z"},82301:(Ze,me,_)=>{"use strict";_.d(me,{Z1:()=>x,sv:()=>M,yr:()=>V});class E{constructor(H,B,F,T){this.semiMajorAxis=H,this.flattening=B,this.outerAtmosphereRimWidth=F,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=T||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const M=new E(6378137,1/298.257223563,3e5,.006694379990137799),V=new E(3396190,1/169.8944472236118,23e4),x=new E(1737400,0,0)},12786:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>V});let E=0;class M{static fromGE(P){const H=new M;return H._wkt=P.wkt,H._wkid=P.wkid,H._isInverse=P.isInverse,H}constructor(P){this.uid=E++,P?(this._wkt=null!=P.wkt?P.wkt:null,this._wkid=null!=P.wkid?P.wkid:-1,this._isInverse=null!=P.isInverse&&!0===P.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(P){this._wkt=P,this.uid=E++}get wkid(){return this._wkid}set wkid(P){this._wkid=P,this.uid=E++}get isInverse(){return this._isInverse}set isInverse(P){this._isInverse=P,this.uid=E++}getInverse(){const P=new M;return P._wkt=this.wkt,P._wkid=this._wkid,P._isInverse=!this.isInverse,P}}class V{static cacheKey(P,H){return[P.wkid?.toString()??"-1",P.wkt?.toString()??"",P.wkt2?.toString()??"",H.wkid?.toString()??"-1",H.wkt?.toString()??"",H.wkt2?.toString()??""].join()}static fromGE(P){const H=new V;let B="";for(const F of P.steps){const T=M.fromGE(F);H.steps.push(T),B+=T.uid.toString()+","}return H._cachedProjection={},H._gtlistentry=null,H._chain=B,H}constructor(P){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,P?.steps)for(const H of P.steps)this.steps.push(H instanceof M?H:new M({wkid:H.wkid,wkt:H.wkt,isInverse:H.isInverse}))}getInverse(){const P=new V;P.steps=[];for(let H=this.steps.length-1;H>=0;H--)P.steps.push(this.steps[H].getInverse());return P}getGTListEntry(){let P="";for(const H of this.steps)P+=H.uid.toString()+",";return P!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=P),this._gtlistentry}assignCachedGe(P,H,B){this._cachedProjection[V.cacheKey(P,H)]=B}getCachedGeTransformation(P,H){let B="";for(const T of this.steps)B+=T.uid.toString()+",";B!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=B);const F=this._cachedProjection[V.cacheKey(P,H)];return void 0===F?null:F}}},24512:(Ze,me,_)=>{"use strict";var E,M;_.d(me,{W:()=>E}),(M=E||(E={}))[M.CGCS2000=4490]="CGCS2000",M[M.GCSMARS2000=104971]="GCSMARS2000",M[M.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",M[M.GCSMOON2000=104903]="GCSMOON2000"},74359:(Ze,me,_)=>{"use strict";let E;_.d(me,{Z:()=>M});const M={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(E=2e3;E<=2045;E++)M[E]=0;for(E=2056;E<=2065;E++)M[E]=0;for(E=2067;E<=2135;E++)M[E]=0;for(E=2137;E<=2154;E++)M[E]=0;for(E=2161;E<=2170;E++)M[E]=0;for(E=2172;E<=2193;E++)M[E]=0;for(E=2195;E<=2198;E++)M[E]=0;for(E=2200;E<=2203;E++)M[E]=0;for(E=2205;E<=2217;E++)M[E]=0;for(E=2222;E<=2224;E++)M[E]=1;for(E=2225;E<=2250;E++)M[E]=2;for(E=2251;E<=2253;E++)M[E]=1;for(E=2257;E<=2264;E++)M[E]=2;for(E=2274;E<=2279;E++)M[E]=2;for(E=2280;E<=2282;E++)M[E]=1;for(E=2283;E<=2289;E++)M[E]=2;for(E=2290;E<=2292;E++)M[E]=0;for(E=2308;E<=2313;E++)M[E]=0;for(E=2315;E<=2491;E++)M[E]=0;for(E=2494;E<=2866;E++)M[E]=0;for(E=2867;E<=2869;E++)M[E]=1;for(E=2870;E<=2888;E++)M[E]=2;for(E=2891;E<=2895;E++)M[E]=2;for(E=2896;E<=2898;E++)M[E]=1;for(E=2902;E<=2908;E++)M[E]=2;for(E=2915;E<=2920;E++)M[E]=2;for(E=2921;E<=2923;E++)M[E]=1;for(E=2924;E<=2930;E++)M[E]=2;for(E=2931;E<=2962;E++)M[E]=0;for(E=2964;E<=2968;E++)M[E]=2;for(E=2969;E<=2973;E++)M[E]=0;for(E=2975;E<=2991;E++)M[E]=0;for(E=2995;E<=3051;E++)M[E]=0;for(E=3054;E<=3079;E++)M[E]=0;for(E=3081;E<=3088;E++)M[E]=0;for(E=3092;E<=3101;E++)M[E]=0;for(E=3106;E<=3138;E++)M[E]=0;for(E=3146;E<=3151;E++)M[E]=0;for(E=3153;E<=3166;E++)M[E]=0;for(E=3168;E<=3172;E++)M[E]=0;for(E=3174;E<=3203;E++)M[E]=0;for(E=3294;E<=3358;E++)M[E]=0;for(E=3367;E<=3403;E++)M[E]=0;for(E=3408;E<=3416;E++)M[E]=0;for(E=3417;E<=3438;E++)M[E]=2;for(E=3441;E<=3446;E++)M[E]=2;for(E=3447;E<=3450;E++)M[E]=0;for(E=3451;E<=3459;E++)M[E]=2;for(E=3460;E<=3478;E++)M[E]=0;for(E=3554;E<=3559;E++)M[E]=0;for(E=3560;E<=3570;E++)M[E]=2;for(E=3571;E<=3581;E++)M[E]=0;for(E=3594;E<=3597;E++)M[E]=0;for(E=3601;E<=3604;E++)M[E]=0;for(E=3637;E<=3639;E++)M[E]=0;for(E=3665;E<=3667;E++)M[E]=0;for(E=3693;E<=3695;E++)M[E]=0;for(E=3701;E<=3727;E++)M[E]=0;for(E=3728;E<=3739;E++)M[E]=2;for(E=3740;E<=3751;E++)M[E]=0;for(E=3753;E<=3760;E++)M[E]=2;for(E=3761;E<=3773;E++)M[E]=0;for(E=3775;E<=3777;E++)M[E]=0;for(E=3779;E<=3781;E++)M[E]=0;for(E=3783;E<=3785;E++)M[E]=0;for(E=3788;E<=3791;E++)M[E]=0;for(E=3797;E<=3802;E++)M[E]=0;for(E=3814;E<=3816;E++)M[E]=0;for(E=3825;E<=3829;E++)M[E]=0;for(E=3832;E<=3841;E++)M[E]=0;for(E=3844;E<=3852;E++)M[E]=0;for(E=3873;E<=3885;E++)M[E]=0;for(E=3890;E<=3893;E++)M[E]=0;for(E=3907;E<=3912;E++)M[E]=0;for(E=3942;E<=3950;E++)M[E]=0;for(E=3968;E<=3970;E++)M[E]=0;for(E=3973;E<=3976;E++)M[E]=0;for(E=3986;E<=3989;E++)M[E]=0;for(E=3994;E<=3997;E++)M[E]=0;for(E=4048;E<=4051;E++)M[E]=0;for(E=4056;E<=4063;E++)M[E]=0;for(E=4093;E<=4096;E++)M[E]=0;for(E=4390;E<=4398;E++)M[E]=0;for(E=4399;E<=4413;E++)M[E]=2;for(E=4418;E<=4433;E++)M[E]=2;for(E=4455;E<=4457;E++)M[E]=2;for(E=4484;E<=4489;E++)M[E]=0;for(E=4491;E<=4554;E++)M[E]=0;for(E=4568;E<=4589;E++)M[E]=0;for(E=4652;E<=4656;E++)M[E]=0;for(E=4766;E<=4800;E++)M[E]=0;for(E=5014;E<=5016;E++)M[E]=0;for(E=5069;E<=5072;E++)M[E]=0;for(E=5105;E<=5130;E++)M[E]=0;for(E=5167;E<=5188;E++)M[E]=0;for(E=5253;E<=5259;E++)M[E]=0;for(E=5269;E<=5275;E++)M[E]=0;for(E=5292;E<=5311;E++)M[E]=0;for(E=5329;E<=5331;E++)M[E]=0;for(E=5343;E<=5349;E++)M[E]=0;for(E=5355;E<=5357;E++)M[E]=0;for(E=5387;E<=5389;E++)M[E]=0;for(E=5459;E<=5463;E++)M[E]=0;for(E=5479;E<=5482;E++)M[E]=0;for(E=5518;E<=5520;E++)M[E]=0;for(E=5530;E<=5539;E++)M[E]=0;for(E=5550;E<=5552;E++)M[E]=0;for(E=5562;E<=5583;E++)M[E]=0;for(E=5623;E<=5625;E++)M[E]=2;for(E=5631;E<=5639;E++)M[E]=0;for(E=5649;E<=5653;E++)M[E]=0;for(E=5663;E<=5680;E++)M[E]=0;for(E=5682;E<=5685;E++)M[E]=0;for(E=5875;E<=5877;E++)M[E]=0;for(E=5896;E<=5899;E++)M[E]=0;for(E=5921;E<=5940;E++)M[E]=0;for(E=6050;E<=6125;E++)M[E]=0;for(E=6244;E<=6275;E++)M[E]=0;for(E=6328;E<=6348;E++)M[E]=0;for(E=6350;E<=6356;E++)M[E]=0;for(E=6366;E<=6372;E++)M[E]=0;for(E=6381;E<=6387;E++)M[E]=0;for(E=6393;E<=6404;E++)M[E]=0;for(E=6480;E<=6483;E++)M[E]=0;for(E=6511;E<=6514;E++)M[E]=0;for(E=6579;E<=6581;E++)M[E]=0;for(E=6619;E<=6624;E++)M[E]=0;for(E=6625;E<=6627;E++)M[E]=2;for(E=6628;E<=6632;E++)M[E]=0;for(E=6634;E<=6637;E++)M[E]=0;for(E=6669;E<=6692;E++)M[E]=0;for(E=6707;E<=6709;E++)M[E]=0;for(E=6720;E<=6723;E++)M[E]=0;for(E=6732;E<=6738;E++)M[E]=0;for(E=6931;E<=6933;E++)M[E]=0;for(E=6956;E<=6959;E++)M[E]=0;for(E=7005;E<=7007;E++)M[E]=0;for(E=7057;E<=7070;E++)M[E]=2;for(E=7074;E<=7082;E++)M[E]=0;for(E=7109;E<=7118;E++)M[E]=0;for(E=7119;E<=7127;E++)M[E]=1;for(E=7374;E<=7376;E++)M[E]=0;for(E=7528;E<=7586;E++)M[E]=0;for(E=7587;E<=7645;E++)M[E]=2;for(E=7692;E<=7696;E++)M[E]=0;for(E=7755;E<=7787;E++)M[E]=0;for(E=7791;E<=7795;E++)M[E]=0;for(E=7799;E<=7801;E++)M[E]=0;for(E=7803;E<=7805;E++)M[E]=0;for(E=7825;E<=7831;E++)M[E]=0;for(E=7845;E<=7859;E++)M[E]=0;for(E=8013;E<=8032;E++)M[E]=0;for(E=8065;E<=8068;E++)M[E]=1;for(E=8518;E<=8529;E++)M[E]=2;for(E=8533;E<=8536;E++)M[E]=2;for(E=8538;E<=8540;E++)M[E]=2;for(E=8677;E<=8679;E++)M[E]=0;for(E=8836;E<=8840;E++)M[E]=0;for(E=8857;E<=8859;E++)M[E]=0;for(E=8908;E<=8910;E++)M[E]=0;for(E=9154;E<=9159;E++)M[E]=0;for(E=9205;E<=9218;E++)M[E]=0;for(E=9271;E<=9273;E++)M[E]=0;for(E=9295;E<=9297;E++)M[E]=0;for(E=9356;E<=9360;E++)M[E]=0;for(E=9404;E<=9407;E++)M[E]=0;for(E=9476;E<=9482;E++)M[E]=0;for(E=9487;E<=9494;E++)M[E]=0;for(E=9697;E<=9699;E++)M[E]=0;for(E=9821;E<=9865;E++)M[E]=0;for(E=10285;E<=10291;E++)M[E]=0;for(E=10314;E<=10317;E++)M[E]=0;for(E=10448;E<=10465;E++)M[E]=0;for(E=11114;E<=11118;E++)M[E]=0;for(E=20004;E<=20032;E++)M[E]=0;for(E=20047;E<=20049;E++)M[E]=0;for(E=20062;E<=20092;E++)M[E]=0;for(E=20135;E<=20138;E++)M[E]=0;for(E=20248;E<=20258;E++)M[E]=0;for(E=20348;E<=20358;E++)M[E]=0;for(E=20436;E<=20440;E++)M[E]=0;for(E=20822;E<=20824;E++)M[E]=0;for(E=20904;E<=20932;E++)M[E]=0;for(E=20934;E<=20936;E++)M[E]=0;for(E=21004;E<=21032;E++)M[E]=0;for(E=21035;E<=21037;E++)M[E]=0;for(E=21095;E<=21097;E++)M[E]=0;for(E=21148;E<=21150;E++)M[E]=0;for(E=21207;E<=21264;E++)M[E]=0;for(E=21307;E<=21364;E++)M[E]=0;for(E=21413;E<=21423;E++)M[E]=0;for(E=21453;E<=21463;E++)M[E]=0;for(E=21473;E<=21483;E++)M[E]=0;for(E=21780;E<=21782;E++)M[E]=0;for(E=21891;E<=21894;E++)M[E]=0;for(E=21896;E<=21899;E++)M[E]=0;for(E=22171;E<=22177;E++)M[E]=0;for(E=22181;E<=22187;E++)M[E]=0;for(E=22191;E<=22197;E++)M[E]=0;for(E=22207;E<=22222;E++)M[E]=0;for(E=22229;E<=22232;E++)M[E]=0;for(E=22234;E<=22236;E++)M[E]=0;for(E=22243;E<=22250;E++)M[E]=0;for(E=22262;E<=22265;E++)M[E]=0;for(E=22307;E<=22322;E++)M[E]=0;for(E=22348;E<=22357;E++)M[E]=0;for(E=22407;E<=22422;E++)M[E]=0;for(E=22462;E<=22465;E++)M[E]=0;for(E=22521;E<=22525;E++)M[E]=0;for(E=22607;E<=22622;E++)M[E]=0;for(E=22641;E<=22646;E++)M[E]=0;for(E=22648;E<=22657;E++)M[E]=0;for(E=22707;E<=22722;E++)M[E]=0;for(E=22762;E<=22765;E++)M[E]=0;for(E=22807;E<=22822;E++)M[E]=0;for(E=22991;E<=22994;E++)M[E]=0;for(E=23028;E<=23038;E++)M[E]=0;for(E=23301;E<=23333;E++)M[E]=2;for(E=23830;E<=23853;E++)M[E]=0;for(E=23866;E<=23872;E++)M[E]=0;for(E=23877;E<=23884;E++)M[E]=0;for(E=23886;E<=23894;E++)M[E]=0;for(E=23946;E<=23948;E++)M[E]=0;for(E=24311;E<=24313;E++)M[E]=0;for(E=24342;E<=24347;E++)M[E]=0;for(E=24370;E<=24374;E++)M[E]=10;for(E=24375;E<=24381;E++)M[E]=0;for(E=24718;E<=24721;E++)M[E]=0;for(E=24817;E<=24821;E++)M[E]=0;for(E=24877;E<=24882;E++)M[E]=0;for(E=24891;E<=24893;E++)M[E]=0;for(E=25391;E<=25395;E++)M[E]=0;for(E=25828;E<=25838;E++)M[E]=0;for(E=26191;E<=26195;E++)M[E]=0;for(E=26391;E<=26393;E++)M[E]=0;for(E=26701;E<=26722;E++)M[E]=0;for(E=26729;E<=26799;E++)M[E]=2;for(E=26801;E<=26803;E++)M[E]=2;for(E=26811;E<=26813;E++)M[E]=2;for(E=26847;E<=26870;E++)M[E]=2;for(E=26891;E<=26899;E++)M[E]=0;for(E=26901;E<=26923;E++)M[E]=0;for(E=26929;E<=26946;E++)M[E]=0;for(E=26948;E<=26998;E++)M[E]=0;for(E=27037;E<=27040;E++)M[E]=0;for(E=27205;E<=27232;E++)M[E]=0;for(E=27258;E<=27260;E++)M[E]=0;for(E=27391;E<=27398;E++)M[E]=0;for(E=27561;E<=27564;E++)M[E]=0;for(E=27571;E<=27574;E++)M[E]=0;for(E=27581;E<=27584;E++)M[E]=0;for(E=27591;E<=27594;E++)M[E]=0;for(E=28191;E<=28193;E++)M[E]=0;for(E=28348;E<=28358;E++)M[E]=0;for(E=28402;E<=28432;E++)M[E]=0;for(E=28462;E<=28492;E++)M[E]=0;for(E=29118;E<=29122;E++)M[E]=0;for(E=29168;E<=29172;E++)M[E]=0;for(E=29177;E<=29185;E++)M[E]=0;for(E=29187;E<=29195;E++)M[E]=0;for(E=29900;E<=29903;E++)M[E]=0;for(E=30161;E<=30179;E++)M[E]=0;for(E=30491;E<=30494;E++)M[E]=0;for(E=30729;E<=30732;E++)M[E]=0;for(E=31251;E<=31259;E++)M[E]=0;for(E=31265;E<=31268;E++)M[E]=0;for(E=31275;E<=31279;E++)M[E]=0;for(E=31281;E<=31297;E++)M[E]=0;for(E=31461;E<=31469;E++)M[E]=0;for(E=31491;E<=31495;E++)M[E]=0;for(E=31917;E<=31922;E++)M[E]=0;for(E=31965;E<=32e3;E++)M[E]=0;for(E=32001;E<=32003;E++)M[E]=2;for(E=32005;E<=32031;E++)M[E]=2;for(E=32033;E<=32060;E++)M[E]=2;for(E=32064;E<=32067;E++)M[E]=2;for(E=32074;E<=32077;E++)M[E]=2;for(E=32081;E<=32086;E++)M[E]=0;for(E=32107;E<=32130;E++)M[E]=0;for(E=32133;E<=32159;E++)M[E]=0;for(E=32164;E<=32167;E++)M[E]=2;for(E=32180;E<=32199;E++)M[E]=0;for(E=32201;E<=32260;E++)M[E]=0;for(E=32301;E<=32360;E++)M[E]=0;for(E=32401;E<=32460;E++)M[E]=0;for(E=32501;E<=32560;E++)M[E]=0;for(E=32601;E<=32662;E++)M[E]=0;for(E=32664;E<=32667;E++)M[E]=2;for(E=32701;E<=32761;E++)M[E]=0;for(E=53001;E<=53004;E++)M[E]=0;for(E=53008;E<=53019;E++)M[E]=0;for(E=53021;E<=53032;E++)M[E]=0;for(E=53034;E<=53037;E++)M[E]=0;for(E=53042;E<=53046;E++)M[E]=0;for(E=53074;E<=53080;E++)M[E]=0;for(E=54001;E<=54004;E++)M[E]=0;for(E=54008;E<=54019;E++)M[E]=0;for(E=54021;E<=54032;E++)M[E]=0;for(E=54034;E<=54037;E++)M[E]=0;for(E=54042;E<=54046;E++)M[E]=0;for(E=54048;E<=54053;E++)M[E]=0;for(E=54074;E<=54080;E++)M[E]=0;for(E=54098;E<=54101;E++)M[E]=0;for(E=102001;E<=102040;E++)M[E]=0;for(E=102042;E<=102063;E++)M[E]=0;for(E=102065;E<=102067;E++)M[E]=0;for(E=102070;E<=102117;E++)M[E]=0;for(E=102122;E<=102216;E++)M[E]=0;for(E=102221;E<=102377;E++)M[E]=0;for(E=102382;E<=102388;E++)M[E]=0;for(E=102389;E<=102398;E++)M[E]=2;for(E=102399;E<=102444;E++)M[E]=0;for(E=102445;E<=102447;E++)M[E]=2;for(E=102448;E<=102458;E++)M[E]=0;for(E=102459;E<=102468;E++)M[E]=2;for(E=102469;E<=102499;E++)M[E]=0;for(E=102500;E<=102519;E++)M[E]=1;for(E=102520;E<=102524;E++)M[E]=0;for(E=102525;E<=102529;E++)M[E]=2;for(E=102530;E<=102588;E++)M[E]=0;for(E=102590;E<=102598;E++)M[E]=0;for(E=102601;E<=102603;E++)M[E]=0;for(E=102605;E<=102628;E++)M[E]=0;for(E=102629;E<=102646;E++)M[E]=2;for(E=102648;E<=102700;E++)M[E]=2;for(E=102701;E<=102703;E++)M[E]=0;for(E=102707;E<=102730;E++)M[E]=2;for(E=102733;E<=102758;E++)M[E]=2;for(E=102767;E<=102900;E++)M[E]=0;for(E=102901;E<=102933;E++)M[E]=2;for(E=102934;E<=102950;E++)M[E]=13;for(E=102951;E<=102955;E++)M[E]=0;for(E=102961;E<=102963;E++)M[E]=0;for(E=102965;E<=102969;E++)M[E]=0;for(E=102971;E<=102973;E++)M[E]=0;for(E=102975;E<=102989;E++)M[E]=0;for(E=102990;E<=102992;E++)M[E]=1;for(E=102997;E<=103002;E++)M[E]=0;for(E=103003;E<=103008;E++)M[E]=2;for(E=103009;E<=103011;E++)M[E]=0;for(E=103012;E<=103014;E++)M[E]=2;for(E=103019;E<=103021;E++)M[E]=0;for(E=103022;E<=103024;E++)M[E]=2;for(E=103029;E<=103031;E++)M[E]=0;for(E=103032;E<=103034;E++)M[E]=2;for(E=103065;E<=103068;E++)M[E]=0;for(E=103074;E<=103076;E++)M[E]=0;for(E=103077;E<=103079;E++)M[E]=1;for(E=103080;E<=103082;E++)M[E]=0;for(E=103083;E<=103085;E++)M[E]=2;for(E=103090;E<=103093;E++)M[E]=0;for(E=103097;E<=103099;E++)M[E]=0;for(E=103100;E<=103102;E++)M[E]=2;for(E=103107;E<=103109;E++)M[E]=0;for(E=103110;E<=103112;E++)M[E]=2;for(E=103113;E<=103116;E++)M[E]=0;for(E=103117;E<=103120;E++)M[E]=2;for(E=103153;E<=103157;E++)M[E]=0;for(E=103158;E<=103162;E++)M[E]=2;for(E=103163;E<=103165;E++)M[E]=0;for(E=103166;E<=103168;E++)M[E]=1;for(E=103169;E<=103171;E++)M[E]=2;for(E=103186;E<=103188;E++)M[E]=0;for(E=103189;E<=103191;E++)M[E]=2;for(E=103192;E<=103195;E++)M[E]=0;for(E=103196;E<=103199;E++)M[E]=2;for(E=103200;E<=103224;E++)M[E]=0;for(E=103225;E<=103227;E++)M[E]=1;for(E=103232;E<=103237;E++)M[E]=0;for(E=103238;E<=103243;E++)M[E]=2;for(E=103244;E<=103246;E++)M[E]=0;for(E=103247;E<=103249;E++)M[E]=2;for(E=103254;E<=103256;E++)M[E]=0;for(E=103257;E<=103259;E++)M[E]=2;for(E=103264;E<=103266;E++)M[E]=0;for(E=103267;E<=103269;E++)M[E]=2;for(E=103300;E<=103375;E++)M[E]=0;for(E=103381;E<=103383;E++)M[E]=0;for(E=103384;E<=103386;E++)M[E]=1;for(E=103387;E<=103389;E++)M[E]=0;for(E=103390;E<=103392;E++)M[E]=2;for(E=103397;E<=103399;E++)M[E]=0;for(E=103400;E<=103471;E++)M[E]=2;for(E=103476;E<=103478;E++)M[E]=0;for(E=103479;E<=103481;E++)M[E]=2;for(E=103486;E<=103488;E++)M[E]=0;for(E=103489;E<=103491;E++)M[E]=2;for(E=103492;E<=103495;E++)M[E]=0;for(E=103496;E<=103499;E++)M[E]=2;for(E=103528;E<=103543;E++)M[E]=0;for(E=103544;E<=103548;E++)M[E]=2;for(E=103549;E<=103551;E++)M[E]=0;for(E=103552;E<=103554;E++)M[E]=1;for(E=103555;E<=103557;E++)M[E]=2;for(E=103558;E<=103560;E++)M[E]=0;for(E=103571;E<=103573;E++)M[E]=0;for(E=103574;E<=103576;E++)M[E]=2;for(E=103577;E<=103580;E++)M[E]=0;for(E=103581;E<=103583;E++)M[E]=2;for(E=103595;E<=103694;E++)M[E]=0;for(E=103696;E<=103699;E++)M[E]=0;for(E=103700;E<=103793;E++)M[E]=2;for(E=103794;E<=103890;E++)M[E]=0;for(E=103891;E<=103896;E++)M[E]=2;for(E=103900;E<=103971;E++)M[E]=2;for(E=103972;E<=103977;E++)M[E]=0;for(E=112e3;E<=112101;E++)M[E]=0},27048:(Ze,me,_)=>{"use strict";_.d(me,{G_:()=>ie,HH:()=>B,JR:()=>le,TC:()=>T,Tn:()=>pe,Ue:()=>x,al:()=>P,bZ:()=>ee,cS:()=>ce,dp:()=>$,fS:()=>ge,is:()=>ae,op:()=>Q,pp:()=>j,t8:()=>fe});var E=_(26894);function x(we=De){return[we[0],we[1],we[2],we[3],we[4],we[5]]}function P(we,Me,He,xe,Xe,J,ye=x()){return ye[0]=we,ye[1]=Me,ye[2]=He,ye[3]=xe,ye[4]=Xe,ye[5]=J,ye}function B(we,Me){const He=isFinite(we[2])||isFinite(we[5]);return new E.Z(He?{xmin:we[0],xmax:we[3],ymin:we[1],ymax:we[4],zmin:we[2],zmax:we[5],spatialReference:Me}:{xmin:we[0],xmax:we[3],ymin:we[1],ymax:we[4],spatialReference:Me})}function T(we,Me){we[0]=Math.min(we[0],Me[0]),we[1]=Math.min(we[1],Me[1]),we[2]=Math.min(we[2],Me[2]),we[3]=Math.max(we[3],Me[3]),we[4]=Math.max(we[4],Me[4]),we[5]=Math.max(we[5],Me[5])}function j(we,Me){we[0]=Math.min(we[0],Me[0]),we[1]=Math.min(we[1],Me[1]),we[2]=Math.min(we[2],Me[2]),we[3]=Math.max(we[3],Me[0]),we[4]=Math.max(we[4],Me[1]),we[5]=Math.max(we[5],Me[2])}function $(we,Me=[0,0,0]){return Me[0]=function A(we){return we[0]>=we[3]?0:we[3]-we[0]}(we),Me[1]=function S(we){return we[1]>=we[4]?0:we[4]-we[1]}(we),Me[2]=function N(we){return we[2]>=we[5]?0:we[5]-we[2]}(we),Me}function Q(we,Me,He=we){return He[0]=Me[0],He[1]=Me[1],He[2]=Me[2],He!==we&&(He[3]=we[3],He[4]=we[4],He[5]=we[5]),He}function pe(we,Me,He=we){return He[3]=Me[0],He[4]=Me[1],He[5]=Me[2],He!==we&&(He[0]=we[0],He[1]=we[1],He[2]=we[2]),we}function fe(we,Me){return we[0]=Me[0],we[1]=Me[1],we[2]=Me[2],we[3]=Me[3],we[4]=Me[4],we[5]=Me[5],we}function ce(we){return we?fe(we,ie):x(ie)}function le(we,Me){return we[0]=Me[0],we[1]=Me[1],we[2]=Number.NEGATIVE_INFINITY,we[3]=Me[2],we[4]=Me[3],we[5]=Number.POSITIVE_INFINITY,we}function ee(we,Me,He,xe,Xe){return we[0]=Me,we[1]=He,we[2]=Number.NEGATIVE_INFINITY,we[3]=xe,we[4]=Xe,we[5]=Number.POSITIVE_INFINITY,we}function ae(we){return 6===we.length}function ge(we,Me,He){if(null==we||null==Me)return we===Me;if(!ae(we)||!ae(Me))return!1;if(He){for(let xe=0;xe<we.length;xe++)if(!He(we[xe],Me[xe]))return!1}else for(let xe=0;xe<we.length;xe++)if(we[xe]!==Me[xe])return!1;return!0}_(45425);const ie=[1/0,1/0,1/0,-1/0,-1/0,-1/0],De=[0,0,0,0,0,0];x()},45425:(Ze,me,_)=>{"use strict";_.d(me,{Cb:()=>A,G_:()=>ge,HH:()=>w,Ho:()=>j,SO:()=>S,Ue:()=>P,Zm:()=>oe,al:()=>F,cS:()=>q,d9:()=>H,d_:()=>W,fS:()=>ae,jE:()=>X,jn:()=>Z,kK:()=>ne,oJ:()=>T,r3:()=>se}),_(14007),_(55117);var V=_(26894);function P(ie=Ee){return[ie[0],ie[1],ie[2],ie[3]]}function H(ie){return[ie[0],ie[1],ie[2],ie[3]]}function B(ie,De){return ie!==De&&(ie[0]=De[0],ie[1]=De[1],ie[2]=De[2],ie[3]=De[3]),ie}function F(ie,De,Be,we,Me=P()){return Me[0]=ie,Me[1]=De,Me[2]=Be,Me[3]=we,Me}function T(ie,De=P()){return De[0]=ie.xmin,De[1]=ie.ymin,De[2]=ie.xmax,De[3]=ie.ymax,De}function w(ie,De){return new V.Z({xmin:ie[0],ymin:ie[1],xmax:ie[2],ymax:ie[3],spatialReference:De})}function j(ie,De){De[0]<ie[0]&&(ie[0]=De[0]),De[0]>ie[2]&&(ie[2]=De[0]),De[1]<ie[1]&&(ie[1]=De[1]),De[1]>ie[3]&&(ie[3]=De[1])}function Z(ie,De,Be){if(null!=De)if("length"in De)le(De)?(Be[0]=Math.min(ie[0],De[0]),Be[1]=Math.min(ie[1],De[1]),Be[2]=Math.max(ie[2],De[2]),Be[3]=Math.max(ie[3],De[3])):2!==De.length&&3!==De.length||(Be[0]=Math.min(ie[0],De[0]),Be[1]=Math.min(ie[1],De[1]),Be[2]=Math.max(ie[2],De[0]),Be[3]=Math.max(ie[3],De[1]));else switch(De.type){case"extent":Be[0]=Math.min(ie[0],De.xmin),Be[1]=Math.min(ie[1],De.ymin),Be[2]=Math.max(ie[2],De.xmax),Be[3]=Math.max(ie[3],De.ymax);break;case"point":Be[0]=Math.min(ie[0],De.x),Be[1]=Math.min(ie[1],De.y),Be[2]=Math.max(ie[2],De.x),Be[3]=Math.max(ie[3],De.y)}else B(Be,ie)}function W(ie){return null==ie||ie[0]>=ie[2]?0:ie[2]-ie[0]}function A(ie){return null==ie||ie[1]>=ie[3]?0:ie[3]-ie[1]}function S(ie){return W(ie)*A(ie)}function X(ie,De,Be){return De>=ie[0]&&Be>=ie[1]&&De<=ie[2]&&Be<=ie[3]}function oe(ie,De,Be){return De[0]>=ie[0]-Be&&De[1]>=ie[1]-Be&&De[0]<=ie[2]+Be&&De[1]<=ie[3]+Be}function ne(ie,De){return Math.max(De[0],ie[0])<=Math.min(De[2],ie[2])&&Math.max(De[1],ie[1])<=Math.min(De[3],ie[3])}function se(ie,De){return De[0]>=ie[0]&&De[2]<=ie[2]&&De[1]>=ie[1]&&De[3]<=ie[3]}function q(ie){return ie?B(ie,ge):P(ge)}function le(ie){return null!=ie&&4===ie.length}function ae(ie,De){return le(ie)&&le(De)?ie[0]===De[0]&&ie[1]===De[1]&&ie[2]===De[2]&&ie[3]===De[3]:ie===De}const ge=[1/0,1/0,-1/0,-1/0],Ee=[0,0,0,0]},43585:(Ze,me,_)=>{"use strict";_.d(me,{$P:()=>w,C6:()=>G,Cs:()=>j,Yg:()=>I,lC:()=>A,qu:()=>Z});var E=_(45425);function M(S){return void 0!==S.xmin&&void 0!==S.ymin&&void 0!==S.xmax&&void 0!==S.ymax}function V(S){return void 0!==S.points}function x(S){return void 0!==S.x&&void 0!==S.y}function P(S){return void 0!==S.paths}function H(S){return void 0!==S.rings}function B(S){return function N(L,O){return null==L?O:null==O?L:S(L,O)}}const F=B(Math.min),T=B(Math.max);function w(S,N){return P(N)?G(S,N.paths,!1,!1):H(N)?G(S,N.rings,!1,!1):V(N)?A(S,N.points,!1,!1,!1,!1):M(N)?W(S,N):(x(N)&&(S[0]=N.x,S[1]=N.y,S[2]=N.x,S[3]=N.y),S)}function j(S){let N,L,O,$;for(S.reset(),N=O=1/0,L=$=-1/0;S.nextPath();){const K=Z(S);N=Math.min(K[0],N),O=Math.min(K[1],O),L=Math.max(K[2],L),$=Math.max(K[3],$)}return(0,E.Ue)([N,O,L,$])}function Z(S){let N,L,O,$;for(N=O=1/0,L=$=-1/0;S.nextPoint();)N=Math.min(S.x,N),O=Math.min(S.y,O),L=Math.max(S.x,L),$=Math.max(S.y,$);return(0,E.Ue)([N,O,L,$])}function I(S,N){return P(N)?G(S,N.paths,!0,!1):H(N)?G(S,N.rings,!0,!1):V(N)?A(S,N.points,!0,!1,!0,!1):M(N)?W(S,N,0,0,!0,!1):(x(N)&&(S[0]=N.x,S[1]=N.y,S[2]=N.z,S[3]=N.x,S[4]=N.y,S[5]=N.z),S)}function G(S,N,L,O){const $=L?3:2;if(!N.length||!N[0].length)return null;let K,U,X,Y,[oe,ne]=N[0][0],[se,te]=N[0][0];for(let k=0;k<N.length;k++){const re=N[k];for(let Q=0;Q<re.length;Q++){const pe=re[Q],[fe,ce]=pe;if(oe=F(oe,fe),ne=F(ne,ce),se=T(se,fe),te=T(te,ce),L&&pe.length>2){const q=pe[2];K=F(K,q),U=T(U,q)}if(O&&pe.length>$){const q=pe[$];X=F(K,q),Y=T(U,q)}}}return L?O?(S[0]=oe,S[1]=ne,S[2]=K,S[3]=X,S[4]=se,S[5]=te,S[6]=U,S[7]=Y,S.length=8,S):(S[0]=oe,S[1]=ne,S[2]=K,S[3]=se,S[4]=te,S[5]=U,S.length=6,S):O?(S[0]=oe,S[1]=ne,S[2]=X,S[3]=se,S[4]=te,S[5]=Y,S.length=6,S):(S[0]=oe,S[1]=ne,S[2]=se,S[3]=te,S.length=4,S)}function W(S,N,L,O,$,K){const U=N.xmin,X=N.xmax,Y=N.ymin,oe=N.ymax;let ne=N.zmin,se=N.zmax,te=N.mmin,k=N.mmax;return $?(ne=ne||0,se=se||0,K?(te=te||0,k=k||0,S[0]=U,S[1]=Y,S[2]=ne,S[3]=te,S[4]=X,S[5]=oe,S[6]=se,S[7]=k,S):(S[0]=U,S[1]=Y,S[2]=ne,S[3]=X,S[4]=oe,S[5]=se,S)):K?(te=te||0,k=k||0,S[0]=U,S[1]=Y,S[2]=te,S[3]=X,S[4]=oe,S[5]=k,S):(S[0]=U,S[1]=Y,S[2]=X,S[3]=oe,S)}function A(S,N,L,O,$,K){const U=L?3:2,X=O&&K,Y=L&&$;if(!N.length||!N[0].length)return null;let oe,ne,se,te,[k,re]=N[0],[Q,pe]=N[0];for(let fe=0;fe<N.length;fe++){const ce=N[fe],[q,le]=ce;if(k=F(k,q),re=F(re,le),Q=T(Q,q),pe=T(pe,le),Y&&ce.length>2){const ee=ce[2];oe=F(oe,ee),ne=T(ne,ee)}if(X&&ce.length>U){const ee=ce[U];se=F(oe,ee),te=T(ne,ee)}}return $?(oe=oe||0,ne=ne||0,K?(se=se||0,te=te||0,S[0]=k,S[1]=re,S[2]=oe,S[3]=se,S[4]=Q,S[5]=pe,S[6]=ne,S[7]=te,S):(S[0]=k,S[1]=re,S[2]=oe,S[3]=Q,S[4]=pe,S[5]=ne,S)):K?(se=se||0,te=te||0,S[0]=k,S[1]=re,S[2]=se,S[3]=Q,S[4]=pe,S[5]=te,S):(S[0]=k,S[1]=re,S[2]=Q,S[3]=pe,S)}},56880:(Ze,me,_)=>{"use strict";_.d(me,{$G:()=>V,NA:()=>Z,Zc:()=>B,tO:()=>x});var E=_(93297),M=_(54746);function V(W){return W?W.hasZ?[W.xmax-W.xmin/2,W.ymax-W.ymin/2,W.zmax-W.zmin/2]:[W.xmax-W.xmin/2,W.ymax-W.ymin/2]:null}function x(W){return W?function P(W,A){if(!W?.length)return null;const S=[],N=[],L=A?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let O=0,$=W.length;O<$;O++){const K=H(W[O],A,L);K&&N.push(K)}if(N.sort((O,$)=>{let K=O[2]-$[2];return 0===K&&A&&(K=O[4]-$[4]),K}),N.length&&(S[0]=N[0][0],S[1]=N[0][1],A&&(S[2]=N[0][3]),(S[0]<L[0]||S[0]>L[1]||S[1]<L[2]||S[1]>L[3]||A&&(S[2]<L[4]||S[2]>L[5]))&&(S.length=0)),!S.length){const O=W[0]&&W[0].length?function F(W,A){const S=A?[0,0,0]:[0,0],N=A?[0,0,0]:[0,0];let L=0,O=0,$=0,K=0;for(let U=0,X=W.length;U<X-1;U++){const Y=W[U],oe=W[U+1];if(Y&&oe){S[0]=Y[0],S[1]=Y[1],N[0]=oe[0],N[1]=oe[1],A&&Y.length>2&&oe.length>2&&(S[2]=Y[2],N[2]=oe[2]);const ne=(0,M.xA)(S,N);if(ne){L+=ne;const se=(0,M.Gi)(Y,oe);O+=ne*se[0],$+=ne*se[1],A&&se.length>2&&(K+=ne*se[2])}}}return L>0?A?[O/L,$/L,K/L]:[O/L,$/L]:W.length?W[0]:null}(W[0],A):null;if(!O)return null;S[0]=O[0],S[1]=O[1],A&&O.length>2&&(S[2]=O[2])}return S}(W.rings,W.hasZ??!1):null}function H(W,A,S){let N=0,L=0,O=0,$=0,K=0;const U=W.length?W[0][0]:0,X=W.length?W[0][1]:0,Y=W.length&&A?W[0][2]:0;for(let ne=0;ne<W.length;ne++){const se=W[ne],te=W[(ne+1)%W.length],[k,re,Q]=se,pe=k-U,fe=re-X,[ce,q,le]=te,ee=ce-U,ae=q-X,ue=pe*ae-ee*fe;if($+=ue,N+=(pe+ee)*ue,L+=(fe+ae)*ue,A&&se.length>2&&te.length>2){const ge=Q-Y,Ee=le-Y,be=pe*Ee-ee*ge;O+=(ge+Ee)*be,K+=be}k<S[0]&&(S[0]=k),k>S[1]&&(S[1]=k),re<S[2]&&(S[2]=re),re>S[3]&&(S[3]=re),A&&(Q<S[4]&&(S[4]=Q),Q>S[5]&&(S[5]=Q))}if($>0&&($*=-1),K>0&&(K*=-1),!$)return null;$*=.5,K*=.5;const oe=[N/(6*$)+U,L/(6*$)+X,$];return A&&(S[4]===S[5]||0===K?(oe[3]=(S[4]+S[5])/2,oe[4]=0):(oe[3]=O/(6*K)+Y,oe[4]=K)),oe}function B(W,A){let S=0,N=0,L=0;W.nextPoint();const O=W.pathSize?W.x:0,$=W.pathSize?W.y:0;for(let K=0;K<W.pathSize;K++){W.seekInPath(K);const U=[W.x,W.y];W.seekInPath((K+1)%W.pathSize);const X=[W.x,W.y],[Y,oe]=U,ne=Y-O,se=oe-$,[te,k]=X,re=te-O,Q=k-$,pe=ne*Q-re*se;L+=pe,S+=(ne+re)*pe,N+=(se+Q)*pe,Y<A[0]&&(A[0]=Y),Y>A[1]&&(A[1]=Y),oe<A[2]&&(A[2]=oe),oe>A[3]&&(A[3]=oe)}return L>0&&(L*=-1),L?(L*=.5,[S/(6*L)+O,N/(6*L)+$,L]):null}const j=1e-6;function Z(W){let A=0;for(W.reset();W.nextPath();)A+=W.getCurrentRingArea();if(A<j){const L=function T(W){const{hasZ:A,totalSize:S}=W;if(0===S)return null;const N=[],L=[],O=A?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(W.reset();W.nextPath();){const $=H((0,E.l)(W),W.hasZ,O);$&&L.push($)}if(L.sort(($,K)=>{let U=$[2]-K[2];return 0===U&&A&&(U=$[4]-K[4]),U}),L.length&&(N[0]=L[0][0],N[1]=L[0][1],A&&(N[2]=L[0][3]),(N[0]<O[0]||N[0]>O[1]||N[1]<O[2]||N[1]>O[3]||A&&(N[2]<O[4]||N[2]>O[5]))&&(N.length=0)),!N.length){W.reset(),W.nextPath();const $=W.pathSize?function w(W){const{hasZ:A}=W,S=A?[0,0,0]:[0,0],N=A?[0,0,0]:[0,0];let L=0,O=0,$=0,K=0;if(W.nextPoint()){let U=W.x,X=W.y,Y=W.z;for(;W.nextPoint();){const oe=W.x,ne=W.y,se=W.z;S[0]=U,S[1]=X,N[0]=oe,N[1]=ne,A&&(S[2]=Y,N[2]=se);const te=(0,M.xA)(S,N);if(te){L+=te;const k=(0,M.Gi)(S,N);O+=te*k[0],$+=te*k[1],A&&k.length>2&&(K+=te*k[2])}U=oe,X=ne,Y=se}}return L>0?A?[O/L,$/L,K/L]:[O/L,$/L]:W.pathSize?(W.seekPathStart(),W.nextPoint(),[W.x,W.y]):null}(W):null;if(!$)return null;N[0]=$[0],N[1]=$[1],A&&$.length>2&&(N[2]=$[2])}return N}(W);return L?[L[0],L[1]]:null}const S=[0,0];if(W.reset(),!W.nextPath()||!W.nextPoint())return null;const N=[W.x,W.y];for(W.reset();W.nextPath();)G(S,N,W);return S[0]*=1/A,S[1]*=1/A,S[0]+=N[0],S[1]+=N[1],S}const I=1/3;function G(W,A,S){if(!W||!S||S.pathSize<3)return null;S.nextPoint();const N=S.x,L=S.y;S.nextPoint();let O,$=S.x-N,K=S.y-L,U=0,X=0;for(;S.nextPoint();)U=S.x-N,X=S.y-L,O=.5*I*(U*K-X*$),W[0]+=O*($+U),W[1]+=O*(K+X),$=U,K=X;const Y=S.getCurrentRingArea(),oe=[N,L];return oe[0]-=A[0],oe[1]-=A[1],oe[0]*=Y,oe[1]*=Y,W[0]+=oe[0],W[1]+=oe[1],W}},5825:(Ze,me,_)=>{"use strict";_.d(me,{CI:()=>F,OQ:()=>P,Qg:()=>H,aV:()=>M,lQ:()=>V,uP:()=>x,wP:()=>w});const E=[0,0];function M(I,G){return null!=G&&B(I,G.x,G.y,G.z)}function V(I,G){if(!G.points||G.points.length)return!1;for(const W of G.points)if(!P(I,W))return!1;return!0}function x(I,G){const{xmin:W,ymin:A,zmin:S,xmax:N,ymax:L,zmax:O}=G;return I.hasZ&&G.hasZ?B(I,W,A,S)&&B(I,W,L,S)&&B(I,N,L,S)&&B(I,N,A,S)&&B(I,W,A,O)&&B(I,W,L,O)&&B(I,N,L,O)&&B(I,N,A,O):B(I,W,A)&&B(I,W,L)&&B(I,N,L)&&B(I,N,A)}function P(I,G){return B(I,G[0],G[1])}function H(I,G){return B(I,G[0],G[1],G[2])}function B(I,G,W,A){return G>=I.xmin&&G<=I.xmax&&W>=I.ymin&&W<=I.ymax&&(null==A||!I.hasZ||A>=I.zmin&&A<=I.zmax)}function F(I,G){return E[1]=G.y,E[0]=G.x,function T(I,G){return w(I.rings,G)}(I,E)}function w(I,G){if(!I)return!1;if(function j(I){return!Array.isArray(I[0][0])}(I))return Z(!1,I,G);let W=!1;for(let A=0,S=I.length;A<S;A++)W=Z(W,I[A],G);return W}function Z(I,G,W){const[A,S]=W;let N=I,L=0;for(let O=0,$=G.length;O<$;O++){L++,L===$&&(L=0);const[K,U]=G[O],[X,Y]=G[L];(U<S&&Y>=S||Y<S&&U>=S)&&K+(S-U)/(Y-U)*(X-K)<A&&(N=!N)}return N}},54746:(Ze,me,_)=>{"use strict";_.d(me,{Gi:()=>j,Tx:()=>B,Zy:()=>S,bu:()=>G,pW:()=>A,r8:()=>F,xA:()=>P});var E=_(57678),M=_(48621);function P(U,X){const Y=X[0]-U[0],oe=X[1]-U[1];if(U.length>2&&X.length>2){const ne=U[2]-X[2];return Math.sqrt(Y*Y+oe*oe+ne*ne)}return Math.sqrt(Y*Y+oe*oe)}function B(U,X,Y,oe){return F(U,X,Y[oe],Y[oe+1])}function F(U,X,Y,oe){const[ne,se]=X,[te,k]=Y,[re,Q]=oe,pe=re-te,fe=Q-k,le=Math.min(1,Math.max(0,((ne-te)*pe+(se-k)*fe)/(pe*pe+fe*fe)));return U[0]=te+pe*le,U[1]=k+fe*le,U}function j(U,X){return function H(U,X,Y){const oe=U[0]+Y*(X[0]-U[0]),ne=U[1]+Y*(X[1]-U[1]);return U.length>2&&X.length>2?[oe,ne,U[2]+Y*(X[2]-U[2])]:[oe,ne]}(U,X,.5)}function G(U,X=M.R.X,Y=M.R.Y){let oe=0;const ne=U.length;let se=U[0];for(let te=0;te<ne-1;te++){const k=U[te+1];oe+=(k[X]-se[X])*(k[Y]+se[Y]),se=k}return oe>=0}function W(U){const X=U.length;return X>2&&(0,E.fS)(U[0],U[X-1])}function A(U){if("rings"in U&&(S(U),U.rings.length>0&&!G(U.rings[0])))for(const X of U.rings)X.reverse()}function S(U){if("rings"in U)for(const X of U.rings)W(X)||X.push(X[0].slice())}_(33721)},14138:(Ze,me,_)=>{"use strict";_.d(me,{Wn:()=>S,_w:()=>A,aO:()=>I});var E=_(43585);const B=[];function F(N,L,O,$){return{xmin:N,ymin:L,xmax:O,ymax:$}}function T(N,L,O,$,K,U){return{xmin:N,ymin:L,zmin:O,xmax:$,ymax:K,zmax:U}}function w(N,L,O,$,K,U){return{xmin:N,ymin:L,mmin:O,xmax:$,ymax:K,mmax:U}}function j(N,L,O,$,K,U,X,Y){return{xmin:N,ymin:L,zmin:O,mmin:$,xmax:K,ymax:U,zmax:X,mmax:Y}}function Z(N,L=!1,O=!1){return L?O?j(N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7]):T(N[0],N[1],N[2],N[3],N[4],N[5]):O?w(N[0],N[1],N[2],N[3],N[4],N[5]):F(N[0],N[1],N[2],N[3])}function I(N){return N?function M(N){return void 0!==N.xmin&&void 0!==N.ymin&&void 0!==N.xmax&&void 0!==N.ymax}(N)?N:function x(N){return void 0!==N.x&&void 0!==N.y}(N)?function W(N){const{x:L,y:O,z:$,m:K}=N,U=null!=K;return null!=$?U?j(L,O,$,K,L,O,$,K):T(L,O,$,L,O,$):U?w(L,O,K,L,O,K):F(L,O,L,O)}(N):function H(N){return void 0!==N.rings}(N)?A(N):function P(N){return void 0!==N.paths}(N)?S(N):function V(N){return void 0!==N.points}(N)?function G(N){const{hasZ:L,hasM:O,points:$}=N;return Z((0,E.lC)(B,$,L??!1,O??!1),L,O)}(N):null:null}function A(N){const{hasZ:L,hasM:O,rings:$}=N,K=(0,E.C6)(B,$,L??!1,O??!1);return K?Z(K,L,O):null}function S(N){const{hasZ:L,hasM:O,paths:$}=N,K=(0,E.C6)(B,$,L??!1,O??!1);return K?Z(K,L,O):null}},26230:(Ze,me,_)=>{"use strict";_.d(me,{Ff:()=>W,IY:()=>N,Nl:()=>j,UT:()=>S,h_:()=>V});var E=_(5825);function M(L,O){return(0,E.aV)(L,O)}function V(L,O){let K,U,X;if(L.xmin<=O.xmin){if(K=O.xmin,L.xmax<K)return!1}else if(K=L.xmin,O.xmax<K)return!1;if(L.ymin<=O.ymin){if(U=O.ymin,L.ymax<U)return!1}else if(U=L.ymin,O.ymax<U)return!1;if(L.hasZ&&O.hasZ&&O.hasZ)if(L.zmin<=O.zmin){if(X=O.zmin,L.zmax<X)return!1}else if(X=L.zmin,O.zmax<X)return!1;return!0}function x(L,O){const{points:$,hasZ:K}=O,U=K?E.Qg:E.OQ;for(const X of $)if(U(L,X))return!0;return!1}const P=[0,0],H=[0,0],B=[0,0],F=[0,0],T=[P,H,B,F],w=[[B,P],[P,H],[H,F],[F,B]];function j(L,O){return function Z(L,O){P[0]=L.xmin,P[1]=L.ymax,H[0]=L.xmax,H[1]=L.ymax,B[0]=L.xmin,B[1]=L.ymin,F[0]=L.xmax,F[1]=L.ymin;for(const $ of T)if((0,E.wP)(O,$))return!0;for(const $ of O){if(!$.length)continue;let K=$[0];if((0,E.OQ)(L,K))return!0;for(let U=1;U<$.length;U++){const X=$[U];if((0,E.OQ)(L,X)||A(K,X,w))return!0;K=X}}return!1}(L,O.rings)}function I(L,O){P[0]=L.xmin,P[1]=L.ymax,H[0]=L.xmax,H[1]=L.ymax,B[0]=L.xmin,B[1]=L.ymin,F[0]=L.xmax,F[1]=L.ymin;const $=O.paths;for(const K of $){if(!$.length)continue;let U=K[0];if((0,E.OQ)(L,U))return!0;for(let X=1;X<K.length;X++){const Y=K[X];if((0,E.OQ)(L,Y)||A(U,Y,w))return!0;U=Y}}return!1}const G=[0,0];function W(L){for(let O=0;O<L.length;O++){const $=L[O];for(let U=0;U<$.length-1;U++){const X=$[U],Y=$[U+1];for(let oe=O+1;oe<L.length;oe++)for(let ne=0;ne<L[oe].length-1;ne++){const se=L[oe][ne],te=L[oe][ne+1];if(S(X,Y,se,te,G)&&!(G[0]===X[0]&&G[1]===X[1]||G[0]===se[0]&&G[1]===se[1]||G[0]===Y[0]&&G[1]===Y[1]||G[0]===te[0]&&G[1]===te[1]))return!0}}const K=$.length;if(!(K<=4))for(let U=0;U<K-3;U++){let X=K-1;0===U&&(X=K-2);const Y=$[U],oe=$[U+1];for(let ne=U+2;ne<X;ne++){const se=$[ne],te=$[ne+1];if(S(Y,oe,se,te,G)&&!(G[0]===Y[0]&&G[1]===Y[1]||G[0]===se[0]&&G[1]===se[1]||G[0]===oe[0]&&G[1]===oe[1]||G[0]===te[0]&&G[1]===te[1]))return!0}}}return!1}function A(L,O,$){for(let K=0;K<$.length;K++)if(S(L,O,$[K][0],$[K][1]))return!0;return!1}function S(L,O,$,K,U){const[X,Y]=L,[oe,ne]=O,[se,te]=$,[k,re]=K,Q=k-se,pe=X-se,fe=oe-X,ce=re-te,q=Y-te,le=ne-Y,ee=ce*fe-Q*le;if(0===ee)return!1;const ae=(Q*q-ce*pe)/ee,ue=(fe*q-le*pe)/ee;return ae>=0&&ae<=1&&ue>=0&&ue<=1&&(U&&(U[0]=X+ae*(oe-X),U[1]=Y+ae*(ne-Y)),!0)}function N(L){switch(L){case"esriGeometryEnvelope":case"extent":return V;case"esriGeometryMultipoint":case"multipoint":return x;case"esriGeometryPoint":case"point":return M;case"esriGeometryPolygon":case"polygon":return j;case"esriGeometryPolyline":case"polyline":return I}}},40637:(Ze,me,_)=>{"use strict";_.d(me,{Ji:()=>G,YX:()=>B,aW:()=>F,im:()=>I,l9:()=>w,oU:()=>j,q9:()=>A,wp:()=>T});var E=_(26894),M=_(32184),V=_(12628),x=_(85039),P=_(5391),H=_(64222);function B(S){return void 0!==S.xmin&&void 0!==S.ymin&&void 0!==S.xmax&&void 0!==S.ymax}function F(S){return void 0!==S.points}function T(S){return void 0!==S.x&&void 0!==S.y}function w(S){return void 0!==S.paths}function j(S){return void 0!==S.rings}function I(S){return null==S?null:S instanceof M.Z?S:T(S)?x.Z.fromJSON(S):w(S)?H.Z.fromJSON(S):j(S)?P.Z.fromJSON(S):F(S)?V.Z.fromJSON(S):B(S)?E.Z.fromJSON(S):null}function G(S){return S?T(S)?"esriGeometryPoint":w(S)?"esriGeometryPolyline":j(S)?"esriGeometryPolygon":B(S)?"esriGeometryEnvelope":F(S)?"esriGeometryMultipoint":null:null}const W={esriGeometryPoint:x.Z,esriGeometryPolyline:H.Z,esriGeometryPolygon:P.Z,esriGeometryEnvelope:E.Z,esriGeometryMultipoint:V.Z};function A(S){return S&&W[S]||null}},93566:(Ze,me,_)=>{"use strict";_.d(me,{it:()=>Q,wK:()=>re,aX:()=>te,or:()=>pe});var E=_(15861),M=_(11931),V=_(57964),x=_(4703),P=_(5391),H=_(64222),B=_(23991),F=_(33721),T=_(48230),j=(_(2189),_(66476)),Z=_(40637),I=_(15462);function W(){return(W=(0,E.Z)(function*(fe,ce,q,le){const ee=(0,I.en)(fe),ae=ce[0].spatialReference,ue={...le,responseType:"json",query:{...ee.query,f:"json",sr:(0,F.B9)(ae),target:JSON.stringify({geometryType:(0,Z.Ji)(ce[0]),geometries:ce}),cutter:JSON.stringify(q)}},ge=yield(0,j.Z)(ee.path+"/cut",ue),{cutIndexes:Ee,geometries:be=[]}=ge.data;return{cutIndexes:Ee,geometries:be.map(ie=>{const De=(0,Z.im)(ie);return De.spatialReference=ae,De})}})).apply(this,arguments)}var A=_(6785),S=_(60323);function L(){return(L=(0,E.Z)(function*(fe,ce,q){const le="string"==typeof fe?(0,A.mN)(fe):fe,ee=ce[0].spatialReference,ae=(0,Z.Ji)(ce[0]),ue={...q,query:{...le.query,f:"json",sr:(0,F.B9)(ee),geometries:JSON.stringify((0,S.F)(ce))}},{data:ge}=yield(0,j.Z)(le.path+"/simplify",ue);return(0,S.o)(ge.geometries,ae,ee)})).apply(this,arguments)}const O=x.Z.getLogger("esri.geometry.support.normalizeUtils");function K(fe){return"polygon"===fe[0].type}function U(fe){return"polyline"===fe[0].type}function X(fe){const ce=[];let q=0,le=0;for(let ee=0;ee<fe.length;ee++){const ae=fe[ee];let ue=null;for(let ge=0;ge<ae.length;ge++)ue=ae[ge],ce.push(ue),0===ge?(q=ue[0],le=q):(q=Math.min(q,ue[0]),le=Math.max(le,ue[0]));ue&&ce.push([(q+le)/2,0])}return ce}function oe(fe,ce,q){if(ce){const le=function Y(fe,ce){if(!(fe instanceof H.Z||fe instanceof P.Z)){const ee="straightLineDensify: the input geometry is neither polyline nor polygon";throw O.error(ee),new V.Z(ee)}const q=(0,B.x3)(fe),le=[];for(const ee of q){const ae=[];le.push(ae),ae.push([ee[0][0],ee[0][1]]);for(let ue=0;ue<ee.length-1;ue++){const ge=ee[ue][0],Ee=ee[ue][1],be=ee[ue+1][0],ie=ee[ue+1][1],De=Math.sqrt((be-ge)*(be-ge)+(ie-Ee)*(ie-Ee)),Be=(ie-Ee)/De,we=(be-ge)/De,Me=De/ce;if(Me>1){for(let J=1;J<=Me-1;J++){const ye=J*ce;ae.push([we*ye+ge,Be*ye+Ee])}const He=(De+Math.floor(Me-1)*ce)/2;ae.push([we*He+ge,Be*He+Ee])}ae.push([be,ie])}}return function $(fe){return"polygon"===fe.type}(fe)?new P.Z({rings:le,spatialReference:fe.spatialReference}):new H.Z({paths:le,spatialReference:fe.spatialReference})}(fe,1e6);fe=(0,T.Sx)(le,!0)}return q&&(fe=(0,B.Sy)(fe,q)),fe}function ne(fe,ce,q){if(Array.isArray(fe)){const le=fe[0];if(le>ce){const ee=(0,B.XZ)(le,ce);fe[0]=le+ee*(-2*ce)}else if(le<q){const ee=(0,B.XZ)(le,q);fe[0]=le+ee*(-2*q)}}else{const le=fe.x;if(le>ce){const ee=(0,B.XZ)(le,ce);fe=fe.clone().offset(ee*(-2*ce),0)}else if(le<q){const ee=(0,B.XZ)(le,q);fe=fe.clone().offset(ee*(-2*q),0)}}return fe}function te(fe,ce,q){return k.apply(this,arguments)}function k(){return k=(0,E.Z)(function*(fe,ce,q){if(!Array.isArray(fe))return te([fe],ce);ce&&"string"!=typeof ce&&O.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const le="string"==typeof ce?ce:ce?.url??M.default.geometryServiceUrl;let ee,ae,ue,ge,Ee,be,ie,De,Be=0;const we=[],Me=[];for(const Re of fe)if(null!=Re)if(ee||(ee=Re.spatialReference,ae=(0,F.C5)(ee),ue=ee.isWebMercator,be=ue?102100:4326,ge=B.UZ[be].maxX,Ee=B.UZ[be].minX,ie=B.UZ[be].plus180Line,De=B.UZ[be].minus180Line),ae)if("mesh"===Re.type)Me.push(Re);else if("point"===Re.type)Me.push(ne(Re.clone(),ge,Ee));else if("multipoint"===Re.type){const Ve=Re.clone();Ve.points=Ve.points.map(et=>ne(et,ge,Ee)),Me.push(Ve)}else if("extent"===Re.type){const Ve=Re.clone()._normalize(!1,!1,ae);Me.push(Ve.rings?new P.Z(Ve):Ve)}else if(Re.extent){const Ve=Re.extent,et=(0,B.XZ)(Ve.xmin,Ee)*(2*ge);let Fe=0===et?Re.clone():(0,B.Sy)(Re.clone(),et);Ve.offset(et,0),Ve.intersects(ie)&&Ve.xmax!==ge?(Be=Ve.xmax>Be?Ve.xmax:Be,Fe=oe(Fe,ue),we.push(Fe),Me.push("cut")):Ve.intersects(De)&&Ve.xmin!==Ee?(Be=Ve.xmax*(2*ge)>Be?Ve.xmax*(2*ge):Be,Fe=oe(Fe,ue,360),we.push(Fe),Me.push("cut")):Me.push(Fe)}else Me.push(Re.clone());else Me.push(Re);else Me.push(Re);let He=(0,B.XZ)(Be,ge),xe=-90;const Xe=He,J=new H.Z;for(;He>0;){const Re=360*He-180;J.addPath([[Re,xe],[Re,-1*xe]]),xe*=-1,He--}if(we.length>0&&Xe>0){const Re=function se(fe,ce){let q=-1;for(let le=0;le<ce.cutIndexes.length;le++){const ee=ce.cutIndexes[le],ae=ce.geometries[le],ue=(0,B.x3)(ae);for(let ge=0;ge<ue.length;ge++){const Ee=ue[ge];Ee.some(be=>{if(be[0]<180)return!0;{let ie=0;for(let Be=0;Be<Ee.length;Be++){const we=Ee[Be][0];ie=we>ie?we:ie}ie=Number(ie.toFixed(9));const De=-360*(0,B.XZ)(ie,180);for(let Be=0;Be<Ee.length;Be++){const we=ae.getPoint(ge,Be);ae.setPoint(ge,Be,we.clone().offset(De,0))}return!0}})}if(ee===q){if(K(fe))for(const ge of(0,B.x3)(ae))fe[ee]=fe[ee].addRing(ge);else if(U(fe))for(const ge of(0,B.x3)(ae))fe[ee]=fe[ee].addPath(ge)}else q=ee,fe[ee]=ae}return fe}(we,yield function G(fe,ce,q,le){return W.apply(this,arguments)}(le,we,J,q)),Ve=[],et=[];for(let Ne=0;Ne<Me.length;Ne++){const ve=Me[Ne];if("cut"!==ve)et.push(ve);else{const Oe=Re.shift(),Te=fe[Ne];null!=Te&&"polygon"===Te.type&&Te.rings&&Te.rings.length>1&&Oe.rings.length>=Te.rings.length?(Ve.push(Oe),et.push("simplify")):et.push(ue?(0,T.$)(Oe):Oe)}}if(!Ve.length)return et;const Fe=yield function N(fe,ce,q){return L.apply(this,arguments)}(le,Ve,q),Qe=[];for(let Ne=0;Ne<et.length;Ne++){const ve=et[Ne];Qe.push("simplify"!==ve?ve:ue?(0,T.$)(Fe.shift()):Fe.shift())}return Qe}const ye=[];for(let Re=0;Re<Me.length;Re++){const Ve=Me[Re];if("cut"!==Ve)ye.push(Ve);else{const et=we.shift();ye.push(!0===ue?(0,T.$)(et):et)}}return ye}),k.apply(this,arguments)}function re(fe){if(!fe)return null;const ce=fe.extent;if(!ce)return null;const q=fe.spatialReference&&(0,F.C5)(fe.spatialReference);if(!q)return ce;const[le,ee]=q.valid,ae=2*ee,{width:ue}=ce;let ge,{xmin:Ee,xmax:be}=ce;if([Ee,be]=[be,Ee],"extent"===fe.type||0===ue||ue<=ee||ue>ae||Ee<le||be>ee)return ce;switch(fe.type){case"polygon":if(!(fe.rings.length>1))return ce;ge=X(fe.rings);break;case"polyline":if(!(fe.paths.length>1))return ce;ge=X(fe.paths);break;case"multipoint":ge=fe.points}const ie=ce.clone();for(let De=0;De<ge.length;De++){let Be=ge[De][0];Be<0?(Be+=ee,be=Math.max(Be,be)):(Be-=ee,Ee=Math.min(Be,Ee))}return ie.xmin=Ee,ie.xmax=be,ie.width<ue?(ie.xmin-=ee,ie.xmax-=ee,ie):ce}function Q(fe,ce,q){const le=(0,F.C5)(q);if(null==le)return fe;const[ee,ae]=le.valid,ue=2*ae;let ge=0,Ee=0;ce>ae?ge=Math.ceil(Math.abs(ce-ae)/ue):ce<ee&&(ge=-Math.ceil(Math.abs(ce-ee)/ue)),fe>ae?Ee=Math.ceil(Math.abs(fe-ae)/ue):fe<ee&&(Ee=-Math.ceil(Math.abs(fe-ee)/ue));let be=fe+(ge-Ee)*ue;const ie=be-ce;return ie>ae?be-=ue:ie<ee&&(be+=ue),be}function pe(fe,ce){const q=(0,F.C5)(ce);if(q){const[le,ee]=q.valid,ae=ee-le;if(fe<le)for(;fe<le;)fe+=ae;if(fe>ee)for(;fe>ee;)fe-=ae}return fe}},23991:(Ze,me,_)=>{"use strict";_.d(me,{Sy:()=>H,UZ:()=>x,XZ:()=>P,x3:()=>B});var E=_(64222),M=_(43814),V=_(40637);const x={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new E.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:M.Z.WebMercator}),minus180Line:new E.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:M.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new E.Z({paths:[[[180,-180],[180,180]]],spatialReference:M.Z.WGS84}),minus180Line:new E.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:M.Z.WGS84})}};function P(F,T){return Math.ceil((F-T)/(2*T))}function H(F,T){const w=B(F);for(const j of w)for(const Z of j)Z[0]+=T;return F}function B(F){return(0,V.oU)(F)?F.rings:F.paths}},33721:(Ze,me,_)=>{"use strict";_.d(me,{B9:()=>W,BZ:()=>X,C5:()=>Z,JY:()=>se,ME:()=>Y,MP:()=>ne,N$:()=>S,QM:()=>K,R_:()=>k,V2:()=>oe,WR:()=>re,Zn:()=>te,fS:()=>j,o$:()=>U,oR:()=>N,sS:()=>$,sT:()=>A,xl:()=>L,yW:()=>O});var E=_(72578),V=(_(39392),_(24512)),x=_(74359);const P={102113:!0,102100:!0,3857:!0,3785:!0},H={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},B='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',F=[-20037508.342788905,20037508.342788905],T=[-20037508.342787,20037508.342787],w={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:F,origin:T,dx:1e-5},102100:{wkTemplate:B,valid:F,origin:T,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:F,origin:T,dx:1e-5},3857:{wkTemplate:B,valid:F,origin:T,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function j(Q,pe){if(Q===pe)return!0;if(null==Q||null==pe)return!1;if(null!=Q.wkid||null!=pe.wkid)return Q.wkid===pe.wkid||$(Q)&&$(pe)||null!=pe.latestWkid&&Q.wkid===pe.latestWkid||null!=Q.latestWkid&&pe.wkid===Q.latestWkid;const fe=Q.wkt2??Q.wkt,ce=pe.wkt2??pe.wkt;return!(!fe||!ce)&&fe.toUpperCase()===ce.toUpperCase()}function Z(Q){return se(Q)&&Q.wkid&&w[Q.wkid]||null}function W(Q){if(!Q)return;if(Q.wkid)return String(Q.wkid);const pe=Q.wkt||Q.wkt2;return JSON.stringify(pe?{wkt:pe}:{})}function A(Q){if(!se(Q))return!1;if(Q.wkid)return null==x.Z[Q.wkid];const pe=Q.wkt2||Q.wkt;return!!pe&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(pe)}function S(Q){return!(X(Q)||oe(Q))}function N(Q){return se(Q)&&4326===Q.wkid}function L(Q){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(Q)}function O(Q){return se(Q)&&Q.wkid===V.W.CGCS2000}function $(Q){return se(Q)&&null!=Q.wkid&&!0===P[Q.wkid]}function K(Q){return se(Q)&&32662===Q.wkid}function U(Q){return Q===V.W.GCSMARS2000||Q===V.W.GCSMARS2000_SPHERE}function X(Q){return se(Q)&&null!=Q.wkid&&U(Q.wkid)}function Y(Q){return Q===V.W.GCSMOON2000}function oe(Q){return se(Q)&&null!=Q.wkid&&Y(Q.wkid)}function ne(Q){return se(Q)&&null!=Q.wkid&&!0===H[Q.wkid]}function se(Q){return null!=Q&&(null!=Q.wkid&&Q.wkid>=2e3||null!=Q.wkt2||null!=Q.wkt)}const te={wkid:4326,wkt:(0,E.gx)(w[4326].wkTemplate,{Central_Meridian:"0.0"})},k={wkid:102100,latestWkid:3857},re={wkid:32662}},31709:(Ze,me,_)=>{"use strict";_.d(me,{M:()=>M,P:()=>V});var E=_(84303);const M=(0,E.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),V=(0,E.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},48230:(Ze,me,_)=>{"use strict";_.d(me,{$:()=>N,Q8:()=>G,R6:()=>S,Sx:()=>L,hG:()=>A,iV:()=>W,mZ:()=>w});var E=_(34222),M=_(43814),V=_(82301),x=_(33721);const P=57.29577951308232,H=.017453292519943;function B(O){return O*P}function F(O){return O*H}function w(O){return Math.PI/2-2*Math.atan(Math.exp(-O/V.sv.radius))}function j(O){return null!=O.wkid||null!=O.wkt}const Z=[0,0];function I(O,$,K,U,X){const Y=O,oe=X;if(oe.spatialReference=K,"x"in Y&&"x"in oe)[oe.x,oe.y]=$(Y.x,Y.y,Z,U);else if("xmin"in Y&&"xmin"in oe)[oe.xmin,oe.ymin]=$(Y.xmin,Y.ymin,Z,U),[oe.xmax,oe.ymax]=$(Y.xmax,Y.ymax,Z,U);else if("paths"in Y&&"paths"in oe||"rings"in Y&&"rings"in oe){const ne="paths"in Y?Y.paths:Y.rings,se=[];let te;for(let k=0;k<ne.length;k++){const re=ne[k];te=[],se.push(te);for(let Q=0;Q<re.length;Q++)te.push($(re[Q][0],re[Q][1],[0,0],U)),re[Q].length>2&&te[Q].push(re[Q][2]),re[Q].length>3&&te[Q].push(re[Q][3])}"paths"in oe?oe.paths=se:oe.rings=se}else if("points"in Y&&"points"in oe){const ne=Y.points,se=[];for(let te=0;te<ne.length;te++)se[te]=$(ne[te][0],ne[te][1],[0,0],U),ne[te].length>2&&se[te].push(ne[te][2]),ne[te].length>3&&se[te].push(ne[te][3]);oe.points=se}return X}function G(O,$){const K=O&&(j(O)?O:O.spatialReference),U=$&&(j($)?$:$.spatialReference);return!(O&&"type"in O&&"mesh"===O.type||$&&"type"in $&&"mesh"===$.type||!K||!U)&&(!!(0,x.fS)(U,K)||(0,x.sS)(U)&&(0,x.oR)(K)||(0,x.sS)(K)&&(0,x.oR)(U))}function W(O,$){if(null==O)return null;const K=O.spatialReference,U=$&&(j($)?$:$.spatialReference);return G(K,U)?(0,x.fS)(K,U)?(0,E.d9)(O):(0,x.sS)(U)?I(O,A,M.Z.WebMercator,!1,(0,E.d9)(O)):(0,x.oR)(U)?I(O,S,M.Z.WGS84,!1,(0,E.d9)(O)):null:null}function A(O,$,K=[0,0]){$>89.99999?$=89.99999:$<-89.99999&&($=-89.99999);const U=F($);return K[0]=F(O)*V.sv.radius,K[1]=V.sv.halfSemiMajorAxis*Math.log((1+Math.sin(U))/(1-Math.sin(U))),K}function S(O,$,K=[0,0],U=!1){const X=B(O/V.sv.radius);return K[0]=U?X:X-360*Math.floor((X+180)/360),K[1]=B(Math.PI/2-2*Math.atan(Math.exp(-$/V.sv.radius))),K}function N(O,$=!1,K=(0,E.d9)(O)){return I(O,A,M.Z.WebMercator,$,K)}function L(O,$=!1,K=(0,E.d9)(O)){return I(O,S,M.Z.WGS84,$,K)}},9740:(Ze,me,_)=>{"use strict";function E(M,V,x=!1){let{hasM:P,hasZ:H}=M;Array.isArray(V)?4!==V.length||P||H?3===V.length&&x&&!P?(H=!0,P=!1):3===V.length&&P&&H&&(P=!1,H=!1):(P=!0,H=!0):(H=!H&&V.hasZ&&(!P||V.hasM),P=!P&&V.hasM&&(!H||V.hasZ)),M.hasZ=H,M.hasM=P}_.d(me,{l:()=>E})},53456:(Ze,me,_)=>{"use strict";_.d(me,{k:()=>x});var E=_(49602),M=_(82921),V=_(33721);function x(w,j,Z){if(null==j||null==Z||Z.vcsWkid||(0,V.fS)(j,Z)||(0,M.oe)(j)||(0,M.oe)(Z))return null;const I=(0,E._R)(j)/(0,E._R)(Z);if(1===I)return null;switch(w){case"point":case"esriGeometryPoint":return G=>function P(w,j){null!=w?.z&&(w.z*=j)}(G,I);case"polyline":case"esriGeometryPolyline":return G=>function B(w,j){if(w)for(const Z of w.paths)for(const I of Z)I.length>2&&(I[2]*=j)}(G,I);case"polygon":case"esriGeometryPolygon":return G=>function H(w,j){if(w)for(const Z of w.rings)for(const I of Z)I.length>2&&(I[2]*=j)}(G,I);case"multipoint":case"esriGeometryMultipoint":return G=>function F(w,j){if(w)for(const Z of w.points)Z.length>2&&(Z[2]*=j)}(G,I);case"extent":case"esriGeometryEnvelope":return G=>function T(w,j){w&&null!=w.zmin&&null!=w.zmax&&(w.zmin*=j,w.zmax*=j)}(G,I);default:return null}}},91531:(Ze,me,_)=>{"use strict";_(94678),_(37689),_(36766),_(55829);var P=_(33653),H=_(15861),B=_(66476),F=_(57964);function w(){return(w=(0,H.Z)(function*(S,N,L,O){const $=N.exec(L);if(!$)throw new F.Z("esri-intl:invalid-bundle",`Bundle id "${L}" is not compatible with the pattern "${N}"`);const K=$[1]?`${$[1]}/`:"",U=$[2],X=(0,P.Su)(O),Y=`${K}${U}.json`,oe=X?`${K}${U}_${X}.json`:Y;let ne;try{ne=yield j(S(oe))}catch(se){if(oe===Y)throw new F.Z("intl:unknown-bundle",`Bundle "${L}" cannot be loaded`,{error:se});try{ne=yield j(S(Y))}catch(te){throw new F.Z("intl:unknown-bundle",`Bundle "${L}" cannot be loaded`,{error:te})}}return ne})).apply(this,arguments)}function j(S){return Z.apply(this,arguments)}function Z(){return(Z=(0,H.Z)(function*(S){if(null!=W.fetchBundleAsset)return W.fetchBundleAsset(S);const N=yield(0,B.Z)(S,{responseType:"text"});return JSON.parse(N.data)})).apply(this,arguments)}class I{constructor({base:N="",pattern:L,location:O=new URL(window.location.href)}){let $;$="string"==typeof O?K=>new URL(K,new URL(O,window.location.href)).href:O instanceof URL?K=>new URL(K,O).href:O,this.pattern="string"==typeof L?new RegExp(`^${L}`):L,this.getAssetUrl=$,N=N?N.endsWith("/")?N:N+"/":"",this.matcher=new RegExp(`^${N}(?:(.*)/)?(.*)$`)}fetchMessageBundle(N,L){return function T(S,N,L,O){return w.apply(this,arguments)}(this.getAssetUrl,this.matcher,N,L)}}const W={};var A=_(98930);(0,P.tz)(function G(S){return new I(S)}({pattern:"esri/",location:A.V}))},94678:(Ze,me,_)=>{"use strict";_.d(me,{LJ:()=>oe,Xr:()=>N,Ze:()=>U,f1:()=>se,i$:()=>ne,o8:()=>Y,p6:()=>X});var E=_(84303),M=_(55829),V=_(764),x=_(25037);const P={year:void 0,month:void 0,day:void 0,weekday:void 0},H={hour:void 0,minute:void 0,second:void 0},B={timeZone:V.pt},F={year:"numeric",month:"numeric",day:"numeric"},T={year:"numeric",month:"long",day:"numeric"},w={year:"numeric",month:"short",day:"numeric"},j={year:"numeric",month:"long",weekday:"long",day:"numeric"},Z={hour:"numeric",minute:"numeric"},I={...Z,second:"numeric"},G={hourCycle:"h23"},W={...Z,...G},A={...I,...G},S={"short-date":F,"short-date-short-time":{...F,...Z},"short-date-short-time-24":{...F,...W},"short-date-long-time":{...F,...I},"short-date-long-time-24":{...F,...A},"short-date-le":F,"short-date-le-short-time":{...F,...Z},"short-date-le-short-time-24":{...F,...W},"short-date-le-long-time":{...F,...I},"short-date-le-long-time-24":{...F,...A},"long-month-day-year":T,"long-month-day-year-short-time":{...T,...Z},"long-month-day-year-short-time-24":{...T,...W},"long-month-day-year-long-time":{...T,...I},"long-month-day-year-long-time-24":{...T,...A},"day-short-month-year":w,"day-short-month-year-short-time":{...w,...Z},"day-short-month-year-short-time-24":{...w,...W},"day-short-month-year-long-time":{...w,...I},"day-short-month-year-long-time-24":{...w,...A},"long-date":j,"long-date-short-time":{...j,...Z},"long-date-short-time-24":{...j,...W},"long-date-long-time":{...j,...I},"long-date-long-time-24":{...j,...A},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Z,"long-time":I},N=(0,E.w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),L={ar:"ar-u-nu-latn-ca-gregory"};let O=new WeakMap;const $=S["short-date-short-time"];function U(re){return S[re]}function X(re,Q=$){return function K(re){let Q=O.get(re);if(!Q){const pe=(0,M.Kd)(),fe=L[pe]||pe,ce=se(re.timeZone??V.By),q={...re,timeZone:ce};Q=new Intl.DateTimeFormat(fe,q),O.set(re,Q)}return Q}(Q).format(re)}function Y(re,Q=$){return X(new Date(re),{...Q,...B,...H})}function oe(re,Q=$){return X(new Date(`1970-01-01T${re}Z`),{...Q,...B,...P})}function ne(re,Q=$){if(Q.timeZone)return X(new Date(re),Q);const pe=x.ou.fromISO(re,{setZone:!0}),fe=(0,M.Kd)(),ce=L[fe]??fe,q=0===pe.offset?V.pt:Q.timeZone,le={...Q,timeZone:q};return pe.toLocaleString(le,{locale:ce})}function se(re){switch(re){case V.By:return V.o5;case V._4:return V.pt;default:return re}}(0,M.Ze)(()=>{O=new WeakMap})},55829:(Ze,me,_)=>{"use strict";_.d(me,{G3:()=>F,Kd:()=>H,Ze:()=>G,qe:()=>Z});var E=_(1258);let V;const x=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function P(){return x??globalThis.navigator?.language??"en"}function H(){return void 0===V&&(V=P()),V}function F(A=H()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(A)?.[1].toLowerCase()}const j=[];function Z(A){return j.push(A),(0,E.kB)(()=>j.splice(j.indexOf(A),1))}const I=[];function G(A){return I.push(A),(0,E.kB)(()=>j.splice(I.indexOf(A),1))}globalThis.addEventListener?.("languagechange",function W(){const A=P();V!==A&&(V=A,[...I].forEach(S=>{S.call(null,A)}),[...j].forEach(S=>{S.call(null,A)}))})},33653:(Ze,me,_)=>{"use strict";_.d(me,{ME:()=>G,Su:()=>A,tz:()=>I});var E=_(15861),M=_(57964),V=_(1258),x=_(79412),P=_(55829);const H=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,B={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function T(K){return K in B}Object.keys(B);const w=[],j=new Map;function Z(K){for(const U of j.keys())L(K.pattern,U)&&j.delete(U)}function I(K){return w.includes(K)||(Z(K),w.unshift(K)),(0,V.kB)(()=>{const U=w.indexOf(K);U>-1&&(w.splice(U,1),Z(K))})}function G(K){return W.apply(this,arguments)}function W(){return W=(0,E.Z)(function*(K){const U=(0,P.Kd)();j.has(K)||j.set(K,function S(K,U){return N.apply(this,arguments)}(K,U));const X=j.get(K);return X&&(yield O.add(X)),X}),W.apply(this,arguments)}function A(K){if(!H.test(K))return null;const U=H.exec(K);if(null===U)return null;const[,X,Y]=U,oe=X+(Y?"-"+Y.toUpperCase():"");return T(oe)?oe:T(X)?X:null}function N(){return(N=(0,E.Z)(function*(K,U){const X=[];for(const Y of w)if(L(Y.pattern,K))try{return yield Y.fetchMessageBundle(K,U)}catch(oe){X.push(oe)}throw X.length?new M.Z("intl:message-bundle-error",`Errors occurred while loading "${K}"`,{errors:X}):new M.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${K}"`)})).apply(this,arguments)}function L(K,U){return"string"==typeof K?U.startsWith(K):K.test(U)}(0,P.Ze)(()=>{j.clear()});const O=new class{constructor(){this._numLoading=0,this._dfd=null}waitForAll(){var K=this;return(0,E.Z)(function*(){K._dfd&&(yield K._dfd.promise)})()}add(K){return this._increase(),K.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,x.hh)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},37689:(Ze,me,_)=>{"use strict";_.d(me,{sh:()=>H,uf:()=>B});var E=_(55829);const M={ar:"ar-u-nu-latn"};let V=new WeakMap,x={};function H(F={}){const T={};return null!=F.digitSeparator&&(T.useGrouping=F.digitSeparator),null!=F.places&&(T.minimumFractionDigits=T.maximumFractionDigits=F.places),T}function B(F,T){return Object.is(F,-0)&&(F=0),function P(F){const T=F||x;if(!V.has(T)){const w=(0,E.Kd)(),j=M[(0,E.Kd)()]||w;V.set(T,new Intl.NumberFormat(j,F))}return V.get(T)}(T).format(F)}(0,E.Ze)(()=>{V=new WeakMap,x={}})},36766:(Ze,me,_)=>{"use strict";_.d(me,{n:()=>B});var E=_(4703),M=_(71763),V=_(72578),x=_(94678),P=_(37689);const H=E.Z.getLogger("esri.intl.substitute");function B(Z,I,G={}){const{format:W={}}=G;return(0,V.gx)(Z,A=>function F(Z,I,G){let W,A;const S=Z.indexOf(":");if(-1===S?W=Z.trim():(W=Z.slice(0,S).trim(),A=Z.slice(S+1).trim()),!W)return"";const N=(0,M.hS)(W,I);if(null==N)return"";const L=(A?G?.[A]:null)??G?.[W];return L?function T(Z,I){switch(I.type){case"date":return(0,x.p6)(Z,I.intlOptions);case"number":return(0,P.uf)(Z,I.intlOptions);default:return H.warn("missing format descriptor for key {key}"),j(Z)}}(N,L):A?function w(Z,I){switch(I.toLowerCase()){case"dateformat":return(0,x.p6)(Z);case"numberformat":return(0,P.uf)(Z);default:return H.warn(`inline format is unsupported since 4.12: ${I}`),/^(dateformat|datestring)/i.test(I)?(0,x.p6)(Z):/^numberformat/i.test(I)?(0,P.uf)(Z):j(Z)}}(N,A):j(N)}(A,I,W))}function j(Z){switch(typeof Z){case"string":return Z;case"number":return(0,P.uf)(Z);case"boolean":return""+Z;default:return Z instanceof Date?(0,x.p6)(Z):""}}},26152:(Ze,me,_)=>{"use strict";_.d(me,{Dp:()=>B,bR:()=>P,i8:()=>V,id:()=>x,qh:()=>H});var E=_(14007),M=_(6785);Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const V="4.28";let x,P=V;function H(F){x=F}function B(F){const T=x?.findCredential(F);return T?.token?(0,M.ZN)(F,"token",T.token):F}P="4.28.10",(0,E.Z)("host-webworker")},90373:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{default:()=>Rt});var E=_(15861),M=_(50484),V=_(62691),Z=(_(36699),_(15212),_(53722),_(82752),_(28999),_(38748),_(50923),_(42212),_(91963)),I=_(41007),G=_(66476),W=_(71950),A=_(25387),S=_(83944),N=_(57964),L=_(34222),O=_(4703),$=_(3233),K=_(71763),U=_(79412),X=_(38955),Y=_(6785),oe=_(80543),ne=_(73018),se=_(62185),te=_(10141),k=_(7547),re=_(76215),Q=_(4177),pe=_(43814),fe=_(95060),q=(_(2189),_(35458)),le=_(14007),ee=_(67016),ae=_(47868),ue=_(36885),ge=_(1535),be=(_(57678),_(63788)),ie=_(18101),De=_(8295),Be=_(93792),we=_(26894),Me=_(5391),He=_(31709);let xe=0,Xe=class extends(ee.Z.LoadableMixin((0,ae.v)(S.Z))){constructor(ze){super(ze),this._idToClientGraphic=null,this.type="memory"}load(ze){return this.addResolvingPromise(this._startWorker(null!=ze?ze.signal:null)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const ze=this.layer?.geometryType;return ze?this._geometryTypeRequiresClientGraphicMapping(ze)?"polygon":ze:null}applyEdits(ze){return this.load().then(()=>this._applyEdits(ze))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(ze,Ge={}){var yt=this;return(0,E.Z)(function*(){yield yt.load(Ge);const Pt=yield yt._connection.invoke("queryFeatures",ze?ze.toJSON():null,Ge);(0,De.p)(ze,yt.layer.spatialReference,Pt);const _e=Be.Z.fromJSON(Pt);if(!yt._requiresClientGraphicMapping())return _e;const ht=yt.layer.objectIdField;for(const ut of _e.features){const it=yt._idToClientGraphic.get(ut.attributes[ht]);it&&(ut.geometry=it.geometry)}return _e.geometryType=yt.layer.geometryType,_e})()}queryFeaturesJSON(ze,Ge={}){var yt=this;return(0,E.Z)(function*(){if(yt._requiresClientGraphicMapping())throw new N.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield yt.load(Ge);const Pt=yield yt._connection.invoke("queryFeatures",ze?ze.toJSON():null,Ge);return(0,De.p)(ze,yt.layer.spatialReference,Pt),Pt})()}queryFeatureCount(ze,Ge={}){return this.load(Ge).then(()=>this._connection.invoke("queryFeatureCount",ze?ze.toJSON():null,Ge))}queryObjectIds(ze,Ge={}){return this.load(Ge).then(()=>this._connection.invoke("queryObjectIds",ze?ze.toJSON():null,Ge))}queryExtent(ze,Ge={}){return this.load(Ge).then(()=>this._connection.invoke("queryExtent",ze?ze.toJSON():null,Ge)).then(yt=>({count:yt.count,extent:we.Z.fromJSON(yt.extent)}))}querySnapping(ze,Ge={}){return this.load(Ge).then(()=>this._connection.invoke("querySnapping",ze,Ge))}_applyEdits(ze){var Ge=this;return(0,E.Z)(function*(){if(!Ge._connection)throw new N.Z("feature-layer-source:edit-failure","Memory source not loaded");const yt=Ge.layer.objectIdField;let Pt=null;const _e=[],ht=[];yield Promise.all([Ge._prepareClientMapping(ze.addFeatures,null),Ge._prepareClientMapping(ze.updateFeatures,null)]);const ut=Lt=>"objectId"in Lt&&null!=Lt.objectId?Lt.objectId:"attributes"in Lt&&null!=Lt.attributes[yt]?Lt.attributes[yt]:null;if(ze.addFeatures&&(Pt=Ge._prepareAddFeatures(ze.addFeatures)),ze.deleteFeatures)for(const Lt of ze.deleteFeatures){const Kt=ut(Lt);null!=Kt&&_e.push(Kt)}const Ye=ze.updateFeatures&&Ge._idToClientGraphic?new Map:null;if(ze.updateFeatures)for(const Lt of ze.updateFeatures)if(ht.push(Ge._serializeFeature(Lt)),Ye){const Kt=ut(Lt);null!=Kt&&Ye.set(Kt,Lt)}(0,ie.P)(Pt?Pt.features:null,ht,Ge.layer.spatialReference);const{fullExtent:it,featureEditResults:gt}=yield Ge._connection.invoke("applyEdits",{adds:Pt?Pt.features:[],updates:ht,deletes:_e});return Ge.fullExtent=it,Pt&&Pt.finish(gt.uidToObjectId),Ge._updateClientGraphicIds(Ye,gt),Ge._createEditsResult(gt)})()}_prepareClientMapping(ze,Ge){var yt=this;return(0,E.Z)(function*(){if("mesh"!==yt._layerOrSourceGeometryType||null==ze)return;const Pt=[];for(const{geometry:_e}of ze)null==_e||"mesh"!==_e.type||_e.hasExtent||_e.loaded||Pt.push(_e.load({signal:Ge}));Pt.length&&(yield Promise.all(Pt))})()}_updateClientGraphicIds(ze,Ge){if(this._idToClientGraphic){if(ze)for(const yt of Ge.updateResults){if(!yt.success)continue;const Pt=ze.get(yt.objectId);null!=Pt&&this._addIdToClientGraphic(Pt)}for(const yt of Ge.deleteResults)yt.success&&this._idToClientGraphic.delete(yt.objectId)}}_createEditsResult(ze){return{addFeatureResults:ze.addResults?ze.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:ze.updateResults?ze.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:ze.deleteResults?ze.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(ze){const Ge=!0===ze.success?null:ze.error||{code:void 0,description:void 0};return{objectId:ze.objectId,globalId:ze.globalId,error:Ge?new N.Z("feature-layer-source:edit-failure",Ge.description,{code:Ge.code}):null}}_prepareAddFeatures(ze){const Ge=new Map,yt=new Array(ze.length);let Pt=null;for(let ht=0;ht<ze.length;ht++){const ut=ze[ht],Ye=this._serializeFeature(ut);Pt||null==ut.geometry||(Pt=ut.geometry.type),yt[ht]=Ye,Ge.set(`${Ye.uid}`,ut)}const _e=this;return{features:yt,inferredGeometryType:Pt,finish(ht){const ut=_e.sourceJSON.objectIdField;for(const Ye in ht){const it=ht[Ye],gt=Ge.get(Ye);gt&&(gt.attributes||(gt.attributes={}),-1===it?delete gt.attributes[ut]:gt.attributes[ut]=it,_e._addIdToClientGraphic(gt))}}}}_addIdToClientGraphic(ze){if(!this._idToClientGraphic)return;const Ge=this.sourceJSON.objectIdField,yt=ze.attributes?.[Ge];null!=yt&&this._idToClientGraphic.set(yt,ze)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(ze){return this._geometryTypeRequiresClientGraphicMapping(ze.type)}_geometryTypeRequiresClientGraphicMapping(ze){return"mesh"===ze||"multipatch"===ze||"extent"===ze}_serializeFeature(ze){const{attributes:Ge}=ze,yt=this._geometryForSerialization(ze),Pt=(xe++).toString();return yt?{uid:Pt,geometry:yt.toJSON(),attributes:Ge}:{uid:Pt,attributes:Ge}}_geometryForSerialization(ze){const{geometry:Ge}=ze;return null==Ge?null:this._geometryRequiresClientGraphicMapping(Ge)?Ge.extent?Me.Z.fromExtent(Ge.extent):null:Ge}_startWorker(ze){var Ge=this;return(0,E.Z)(function*(){Ge._connection=yield(0,ue.bA)("MemorySourceWorker",{strategy:(0,le.Z)("feature-layers-workers")?"dedicated":"local",signal:ze,registryTarget:Ge});const{fields:yt,spatialReference:Pt,objectIdField:_e,hasM:ht,hasZ:ut,timeInfo:Ye,dateFieldsTimeZone:it}=Ge.layer,gt="defaults"===Ge.layer.originOf("spatialReference");yield Ge._prepareClientMapping(Ge.items,ze);const Lt=Ge._prepareAddFeatures(Ge.items);Ge.addHandles(Ge.on("before-changes",Rn=>{O.Z.getLogger(Ge).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),Rn.preventDefault()}));const Kt={features:Lt.features,fields:yt?.map(Rn=>Rn.toJSON()),geometryType:He.P.toJSON(Ge._workerGeometryType),hasM:"mesh"!==Ge._layerOrSourceGeometryType&&ht,hasZ:"mesh"===Ge._layerOrSourceGeometryType||ut,objectIdField:_e,spatialReference:gt?null:Pt&&Pt.toJSON(),timeInfo:Ye?.toJSON()??null,dateFieldsTimeZone:it},Jt=yield Ge._connection.invoke("load",Kt,{signal:ze});for(const Rn of Jt.warnings)O.Z.getLogger(Ge.layer).warn("#load()",`${Rn.message} (title: '${Ge.layer.title||"no title"}', id: '${Ge.layer.id??"no id"}')`,{warning:Rn});Jt.featureErrors.length&&O.Z.getLogger(Ge.layer).warn("#load()",`Encountered ${Jt.featureErrors.length} validation errors while loading features. (title: '${Ge.layer.title||"no title"}', id: '${Ge.layer.id??"no id"}')`,{errors:Jt.featureErrors});const $n=Jt.layerDefinition;Ge._geometryTypeRequiresClientGraphicMapping(Lt.inferredGeometryType)&&($n.geometryType=He.P.toJSON(Lt.inferredGeometryType)),Ge.sourceJSON=$n,Ge._requiresClientGraphicMapping()&&(Ge._idToClientGraphic=new Map),Lt.finish(Jt.assignedObjectIds)})()}};(0,M._)([(0,be.c)({Type:q.Z,ensureType:(0,ge.se)(q.Z)})],Xe.prototype,"itemType",void 0),(0,M._)([(0,oe.Cb)()],Xe.prototype,"type",void 0),(0,M._)([(0,oe.Cb)({constructOnly:!0})],Xe.prototype,"layer",void 0),(0,M._)([(0,oe.Cb)({readOnly:!0})],Xe.prototype,"_workerGeometryType",null),(0,M._)([(0,oe.Cb)()],Xe.prototype,"sourceJSON",void 0),Xe=(0,M._)([(0,te.j)("esri.layers.graphics.sources.MemorySource")],Xe);var J=_(29674),ye=_(4257),Re=_(19855),Ve=_(27426),et=_(92344),Fe=_(12621),Qe=_(57942),Ne=_(96159),ve=_(80099),Oe=_(52496),Te=_(70509),je=_(73514);let $e=class extends je.Z{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};(0,M._)([(0,oe.Cb)()],$e.prototype,"updating",void 0),(0,M._)([(0,oe.Cb)()],$e.prototype,"status",void 0),$e=(0,M._)([(0,te.j)("esri.layers.support.PublishingInfo")],$e);const nt=$e,Je="esri.layers.mixins.PublishableLayer",ot=Symbol(Je),mt=ze=>{var Ge;let yt=class extends ze{constructor(){super(...arguments),this[Ge]=!0}get publishingInfo(){if(this.destroyed)return null;const Pt=this._get("publishingInfo");if(Pt)return Pt;const _e=new nt;return this._checkPublishingStatus(_e),_e}_checkPublishingStatus(Pt){var _e=this;let Ye=0;const it=function(){var Lt=(0,E.Z)(function*(Kt){let Jt;Pt.updating=!0;try{Jt=yield _e.fetchPublishingStatus()}catch{Jt="unavailable"}"published"!==Jt&&"unavailable"!==Jt||("publishing"===Pt.status&&_e.refresh(),gt.remove()),Pt.status=Jt,Pt.updating=!1,gt.removed||(Ye=setTimeout(it,Kt,Kt+125))});return function(Jt){return Lt.apply(this,arguments)}}(),gt={removed:!1,remove(){this.removed=!0,clearTimeout(Ye)}};this.when().catch(()=>gt.remove()),it(250),this.addHandles(gt)}};return Ge=ot,(0,M._)([(0,oe.Cb)({readOnly:!0,clonable:!1})],yt.prototype,"publishingInfo",null),yt=(0,M._)([(0,te.j)(Je)],yt),yt};var Tt=_(25836),Ot=_(29717),Bt=_(12522),Gt=_(89713),kt=_(8966),on=_(43497),ft=_(30457),dt=_(50243),Ct=_(27969),Dt=_(85295),xt=_(40591),nn=_(75421),Yt=_(37556),rn=_(97403),gn=_(83739),yn=_(46054),Mn=_(39262),lr=_(91866),On=_(89047),zn=_(33331),Ut=_(84735),Xt=_(39437);const Gn="FeatureLayer",qr="esri.layers.FeatureLayer",yr=O.Z.getLogger(qr);function vs(ze,Ge){return new N.Z("layer:unsupported",`Layer (${ze.title}, ${ze.id}) of type '${ze.declaredClass}' ${Ge}`,{layer:ze})}function ns(ze){return ze&&ze instanceof S.Z}const bn=(0,Ct.v)();function Gr(ze,Ge,yt){const Pt=!!yt?.writeLayerSchema;return{enabled:Pt,ignoreOrigin:Pt}}let qe=class extends((0,Qe.B)((0,Ne.M)((0,Fe.b)(mt((0,et.o1)((0,Re.h)((0,Oe.c)((0,Bt.n)((0,Ot.M)((0,Tt.Q)((0,ye.Y)((0,ve.q)((0,Te.I)((0,$.R)((0,Ve.N)((0,J.V)((0,A.J)(fe.Z)))))))))))))))))){constructor(...ze){var Ge;super(...ze),Ge=this,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=pe.Z.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=(0,U.Ds)(function(){var yt=(0,E.Z)(function*(Pt,_e,ht){const{save:ut,saveAs:Ye}=yield Promise.all([_.e(8592),_.e(5006)]).then(_.bind(_,69484));switch(Pt){case Ut.x.SAVE:return ut(Ge,_e);case Ut.x.SAVE_AS:return Ye(Ge,ht,_e)}});return function(Pt,_e,ht){return yt.apply(this,arguments)}}())}destroy(){this.source?.destroy()}normalizeCtorArgs(ze,Ge){return"string"==typeof ze?{url:ze,...Ge}:ze}load(ze){var Ge=this;const yt=null!=ze?ze.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(yt).then(_e=>this.initLayerProperties(_e))),Promise.resolve(this);const Pt=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},ze).catch(U.r9).then((0,E.Z)(function*(){if(Ge.url&&null==Ge.layerId&&/FeatureServer|MapServer\/*$/i.test(Ge.url)){const _e=yield Ge._fetchFirstValidLayerId(yt);null!=_e&&(Ge.layerId=_e)}if(!Ge.url&&!Ge._hasMemorySource())throw new N.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return Ge.initLayerProperties(yield Ge.createGraphicsSource(yt))})).then(()=>(0,on.nU)(this,"load",ze));return this.addResolvingPromise(Pt),Promise.resolve(this)}readCapabilities(ze,Ge){return(0,Yt.h)(Ge=Ge.layerDefinition||Ge,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(ze){this._overrideIfSome("editingEnabled",ze)}readEditingEnabled(ze,Ge){return this._readEditingEnabled(Ge,!1)}readEditingEnabledFromWebMap(ze,Ge,yt){return this._readEditingEnabled(Ge,!0,yt)}writeEditingEnabled(ze,Ge){this._writeEditingEnabled(ze,Ge,!1)}writeEditingEnabledToWebMap(ze,Ge,yt,Pt){this._writeEditingEnabled(ze,Ge,!0,Pt)}get effectiveEditingEnabled(){return(0,on.sX)(this)}readIsTable(ze,Ge){return"Table"===(Ge=Ge?.layerDefinition??Ge).type||!Ge.geometryType}writeIsTable(ze,Ge,yt,Pt){Pt?.writeLayerSchema&&(0,K.RB)(yt,ze?"Table":"Feature Layer",Ge)}readGlobalIdField(ze,Ge){return(0,on.rk)(Ge.layerDefinition||Ge)}readObjectIdField(ze,Ge){return(0,on.kZ)(Ge.layerDefinition||Ge)}get parsedUrl(){const ze=(0,Y.mN)(this.url);return null!=ze&&(null!=this.dynamicDataSource?ze.path=(0,Y.v_)(ze.path,"dynamicLayer"):null!=this.layerId&&(ze.path=(0,Y.v_)(ze.path,this.layerId.toString()))),ze}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(ze){(0,Dt.YN)(ze,this.fieldsIndex),this._set("renderer",ze)}readRenderer(ze,Ge,yt){Ge=Ge.layerDefinition||Ge;const Pt=Ge.drawingInfo?.renderer;if(Pt){const _e=(0,Z.a)(Pt,Ge,yt)??void 0;return _e||yr.error("Failed to create renderer",{rendererDefinition:Ge.drawingInfo.renderer,layer:this,context:yt}),_e}return(0,on.Ob)(Ge,yt)}set source(ze){const Ge=this._get("source");Ge!==ze&&(ns(Ge)&&this._resetMemorySource(Ge),ns(ze)&&this._initMemorySource(ze),this._set("source",ze))}castSource(ze){return ze?Array.isArray(ze)||ze instanceof S.Z?new Xe({layer:this,items:ze}):ze:null}readSource(ze,Ge){const yt=Be.Z.fromJSON(Ge.featureSet);return new Xe({layer:this,items:yt?.features??[]})}readTemplates(ze,Ge){const yt=Ge.editFieldsInfo,Pt=yt?.creatorField,_e=yt?.editorField;return ze=ze?.map(ht=>ft.Z.fromJSON(ht)),this._fixTemplates(ze,Pt),this._fixTemplates(ze,_e),ze}readTitle(ze,Ge){const yt=Ge.layerDefinition?.name??Ge.name,Pt=Ge.title||Ge.layerDefinition?.title;if(yt){const _e=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,Gt.a7)(this.url,yt):yt;let ht=yt;if(!ht&&this.url){const ut=(0,Gt.Qc)(this.url);null!=ut&&(ht=ut.title)}return ht?("item-title-and-service-name"===this.sublayerTitleMode&&_e&&_e!==ht&&(ht=_e+" - "+ht),(0,Gt.ld)(ht)):void 0}if("item-title"===this.sublayerTitleMode&&Pt)return Pt}readTitleFromWebMap(ze,Ge){return Ge.title||Ge.layerDefinition?.name}readTypeIdField(ze,Ge){let yt=(Ge=Ge.layerDefinition||Ge).typeIdField;if(yt&&Ge.fields){yt=yt.toLowerCase();const Pt=Ge.fields.find(_e=>_e.name.toLowerCase()===yt);Pt&&(yt=Pt.name)}return yt}readTypes(ze,Ge){ze=(Ge=Ge.layerDefinition||Ge).types;const yt=Ge.editFieldsInfo,Pt=yt?.creatorField,_e=yt?.editorField;return ze?.map(ht=>(ht=dt.Z.fromJSON(ht),this._fixTemplates(ht.templates,Pt),this._fixTemplates(ht.templates,_e),ht))}readVisible(ze,Ge){return null!=Ge.layerDefinition?.defaultVisibility?!!Ge.layerDefinition.defaultVisibility:null!=Ge.visibility?!!Ge.visibility:void 0}addAttachment(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.JD)(yt,ze,Ge,Gn)})()}updateAttachment(ze,Ge,yt){var Pt=this;return(0,E.Z)(function*(){return(0,on.Y5)(Pt,ze,Ge,yt,Gn)})()}applyEdits(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.Jj)(yt,ze,Ge)})()}uploadAssets(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.uj)(yt,ze,Ge)})()}on(ze,Ge){return super.on(ze,Ge)}createPopupTemplate(ze){return(0,zn.eZ)(this,ze)}createGraphicsSource(ze){var Ge=this;return(0,E.Z)(function*(){if(Ge._hasMemorySource()&&Ge.source)return Ge.source.load({signal:ze});const{default:yt}=yield(0,U.Hl)(Promise.all([_.e(842),_.e(2784),_.e(8592),_.e(7021)]).then(_.bind(_,67021)),ze);return new yt({layer:Ge}).load({signal:ze})})()}createQuery(){const ze=(0,on.rP)(this);ze.dynamicDataSource=this.dynamicDataSource;const yt=(0,X._)(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null);return ze.where=yt||"1=1",ze}deleteAttachments(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.FV)(yt,ze,Ge,Gn)})()}fetchRecomputedExtents(ze){var Ge=this;return(0,E.Z)(function*(){return(0,on.Ci)(Ge,ze,Gn)})()}getFeatureType(ze){const{typeIdField:Ge,types:yt}=this;if(!Ge||!ze)return null;const Pt=ze.attributes?ze.attributes[Ge]:void 0;if(null==Pt)return null;let _e=null;return yt?.some(ht=>{const{id:ut}=ht;return null!=ut&&(ut.toString()===Pt.toString()&&(_e=ht),!!_e)}),_e}getFieldDomain(ze,Ge){const yt=Ge?.feature,Pt=this.getFeatureType(yt);if(Pt){const _e=Pt.domains&&Pt.domains[ze];if(_e&&"inherited"!==_e.type)return _e}return this._getLayerDomain(ze)}getField(ze){return this.fieldsIndex.get(ze)}queryAttachments(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.SU)(yt,ze,Ge,Gn)})()}queryFeatures(ze,Ge){var yt=this;return(0,E.Z)(function*(){const Pt=yield yt.load(),_e=yield Pt.source.queryFeatures(lr.Z.from(ze)??Pt.createQuery(),Ge);if(_e?.features)for(const ht of _e.features)ht.layer=ht.sourceLayer=Pt;return _e})()}queryObjectIds(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.tD)(yt,ze,Ge,Gn)})()}queryFeatureCount(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.VG)(yt,ze,Ge,Gn)})()}queryExtent(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.KE)(yt,ze,Ge,Gn)})()}queryRelatedFeatures(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.kp)(yt,ze,Ge,Gn)})()}queryRelatedFeaturesCount(ze,Ge){var yt=this;return(0,E.Z)(function*(){return(0,on.C9)(yt,ze,Ge,Gn)})()}queryTopFeatures(ze,Ge){var yt=this;return(0,E.Z)(function*(){const{source:Pt,capabilities:_e}=yield yt.load();if(!Pt.queryTopFeatures||!_e?.query?.supportsTopFeaturesQuery)throw new N.Z(Gn,"Layer source does not support queryTopFeatures capability");const ht=yield Pt.queryTopFeatures(On.Z.from(ze),Ge);if(ht?.features)for(const ut of ht.features)ut.layer=ut.sourceLayer=yt;return ht})()}queryTopObjectIds(ze,Ge){var yt=this;return(0,E.Z)(function*(){const{source:Pt,capabilities:_e}=yield yt.load();if(!Pt.queryTopObjectIds||!_e?.query.supportsTopFeaturesQuery)throw new N.Z(Gn,"Layer source does not support queryTopObjectIds capability");return Pt.queryTopObjectIds(On.Z.from(ze),Ge)})()}queryTopFeaturesExtent(ze,Ge){var yt=this;return(0,E.Z)(function*(){const{source:Pt,capabilities:_e}=yield yt.load();if(!Pt.queryTopExtents||!_e?.query?.supportsTopFeaturesQuery)throw new N.Z(Gn,"Layer source does not support queryTopExtents capability");return Pt.queryTopExtents(On.Z.from(ze),Ge)})()}queryTopFeatureCount(ze,Ge){var yt=this;return(0,E.Z)(function*(){const{source:Pt,capabilities:_e}=yield yt.load();if(!Pt.queryTopCount||!_e?.query?.supportsTopFeaturesQuery)throw new N.Z(Gn,"Layer source does not support queryFeatureCount capability");return Pt.queryTopCount(On.Z.from(ze),Ge)})()}read(ze,Ge){const yt=ze.featureCollection;if(yt){this.resourceInfo=ze;const Pt=yt.layers;Pt&&1===Pt.length&&(super.read(Pt[0],Ge),null!=yt.showLegend&&super.read({showLegend:yt.showLegend},Ge))}super.read(ze,Ge),Ge&&"service"===Ge.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(ze,Ge){Ge={...Ge,origin:Ge?.origin??void 0,writeLayerSchema:Ge?.writeLayerSchema??this._hasMemorySource()};const{origin:yt,layerContainerType:Pt,messages:_e}=Ge;if(this.dynamicDataSource)return _e?.push(vs(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===yt||"web-scene"===yt)&&"tables"!==Pt)return _e?.push(vs(this,`a table source can only be written to tables, not ${Pt}`)),null;if(this._hasMemorySource())return _e?.push(vs(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===yt||"web-scene"===yt)&&"tables"===Pt)return _e?.push(vs(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(ze,Ge)}clone(){if(this._hasMemorySource())throw new N.Z(Gn,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(ze){return!!this.loaded&&("memory"===this.source?.type||(0,gn.D)(this,ze))}save(ze){var Ge=this;return(0,E.Z)(function*(){return Ge._debouncedSaveOperations(Ut.x.SAVE,ze)})()}saveAs(ze,Ge){var yt=this;return(0,E.Z)(function*(){return yt._debouncedSaveOperations(Ut.x.SAVE_AS,Ge,ze)})()}_readEditingEnabled(ze,Ge,yt){let Pt=ze.layerDefinition?.capabilities;return Pt?this._hasEditingCapability(Pt):(Pt=ze.capabilities,Ge&&"web-map"===yt?.origin&&!this._hasMemorySource()&&Pt?this._hasEditingCapability(Pt):void 0)}_hasEditingCapability(ze){return ze.toLowerCase().split(",").map(Ge=>Ge.trim()).includes("editing")}_writeEditingEnabled(ze,Ge,yt,Pt){if(!ze){const _e=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";(0,K.RB)("layerDefinition.capabilities",_e,Ge),yt&&!Pt?.writeLayerSchema&&(Ge.capabilities=_e)}}_getLayerDomain(ze){const Ge=this.fieldsIndex.get(ze);return Ge?Ge.domain:null}_fetchFirstValidLayerId(ze){return(0,G.Z)(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:ze}).then(Ge=>{const yt=Ge.data;if(yt)return this.findFirstValidLayerId(yt)})}initLayerProperties(ze){var Ge=this;return(0,E.Z)(function*(){return Ge._set("source",ze),ze.sourceJSON&&(Ge.sourceJSON=ze.sourceJSON,Ge.read(ze.sourceJSON,{origin:"service",portalItem:Ge.portalItem,portal:Ge.portalItem?.portal,url:Ge.parsedUrl})),Ge._verifySource(),Ge._verifyFields(),(0,Dt.YN)(Ge.renderer,Ge.fieldsIndex),(0,Dt.UF)(Ge.timeInfo,Ge.fieldsIndex),(0,Mn.y)(Ge,{origin:"service"})})()}hasDataChanged(){var ze=this;return(0,E.Z)(function*(){return(0,on.gG)(ze)})()}fetchPublishingStatus(){var ze=this;return(0,E.Z)(function*(){const Ge=ze.source;return Ge?.fetchPublishingStatus?Ge.fetchPublishingStatus():"unavailable"})()}_verifyFields(){const ze=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+ze+")"),this.isTable||this._hasMemorySource()||-1!==ze.search(/\/FeatureServer\//i)||this.fields?.some(Ge=>"geometry"===Ge.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+ze+")")}_fixTemplates(ze,Ge){ze&&ze.forEach(yt=>{const Pt=yt.prototype?.attributes;Pt&&Ge&&delete Pt[Ge]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new N.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new N.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(ze){ze.forEach(Ge=>{Ge.layer=this,Ge.sourceLayer=this}),this.addHandles([ze.on("after-add",Ge=>{Ge.item.layer=this,Ge.item.sourceLayer=this}),ze.on("after-remove",Ge=>{Ge.item.layer=null,Ge.item.sourceLayer=null})],"fl-source")}_resetMemorySource(ze){ze.forEach(Ge=>{Ge.layer=null,Ge.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(ze){return Array.isArray(ze.layers)&&ze.layers.length>0?ze.layers[0].id:Array.isArray(ze.tables)&&ze.tables.length>0?ze.tables[0].id:void 0}};(0,M._)([(0,se.r)("service","capabilities")],qe.prototype,"readCapabilities",null),(0,M._)([(0,oe.Cb)({json:{origins:{"web-scene":{write:!1}},write:!0}})],qe.prototype,"charts",void 0),(0,M._)([(0,oe.Cb)({readOnly:!0})],qe.prototype,"createQueryVersion",null),(0,M._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.copyrightText"}}})],qe.prototype,"copyright",void 0),(0,M._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.displayField"}}})],qe.prototype,"displayField",void 0),(0,M._)([(0,oe.Cb)({types:W.LB,readOnly:!0})],qe.prototype,"defaultSymbol",void 0),(0,M._)([(0,oe.Cb)({type:yn.n})],qe.prototype,"dynamicDataSource",void 0),(0,M._)([(0,oe.Cb)({type:Boolean})],qe.prototype,"editingEnabled",null),(0,M._)([(0,se.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],qe.prototype,"readEditingEnabled",null),(0,M._)([(0,se.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],qe.prototype,"readEditingEnabledFromWebMap",null),(0,M._)([(0,k.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],qe.prototype,"writeEditingEnabled",null),(0,M._)([(0,k.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],qe.prototype,"writeEditingEnabledToWebMap",null),(0,M._)([(0,oe.Cb)({readOnly:!0})],qe.prototype,"effectiveEditingEnabled",null),(0,M._)([(0,oe.Cb)({...bn.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Gr}}}}})],qe.prototype,"fields",void 0),(0,M._)([(0,oe.Cb)(bn.fieldsIndex)],qe.prototype,"fieldsIndex",void 0),(0,M._)([(0,oe.Cb)({type:Q.Z,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],qe.prototype,"formTemplate",void 0),(0,M._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.extent"}}})],qe.prototype,"fullExtent",void 0),(0,M._)([(0,oe.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Gr,writer(ze,Ge,yt){const Pt=ze?on.Fr.toJSON(ze):null;Pt&&(0,K.RB)(yt,Pt,Ge)}}}},read:{source:"layerDefinition.geometryType",reader:on.Fr.read}}})],qe.prototype,"geometryType",void 0),(0,M._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.hasM"}}})],qe.prototype,"hasM",void 0),(0,M._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.hasZ"}}})],qe.prototype,"hasZ",void 0),(0,M._)([(0,oe.Cb)(kt.id)],qe.prototype,"id",void 0),(0,M._)([(0,oe.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],qe.prototype,"infoFor3D",void 0),(0,M._)([(0,oe.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],qe.prototype,"isTable",void 0),(0,M._)([(0,se.r)("service","isTable",["type","geometryType"]),(0,se.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],qe.prototype,"readIsTable",null),(0,M._)([(0,k.c)("web-map","isTable")],qe.prototype,"writeIsTable",null),(0,M._)([(0,oe.Cb)(kt.iR)],qe.prototype,"labelsVisible",void 0),(0,M._)([(0,oe.Cb)({type:[xt.Z],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:nn.r,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:nn.r,write:{enabled:!0,layerContainerTypes:re.C}}},name:"layerDefinition.drawingInfo.labelingInfo",read:nn.r,write:!0}})],qe.prototype,"labelingInfo",void 0),(0,M._)([(0,oe.Cb)((()=>{const ze=(0,L.d9)(kt.bT);return ze.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(Ge,yt,Pt){(0,K.RB)(Pt,(0,Xt.a)(Ge),yt)}}},ze})())],qe.prototype,"opacity",void 0),(0,M._)([(0,oe.Cb)(kt.rn)],qe.prototype,"legendEnabled",void 0),(0,M._)([(0,oe.Cb)({type:["show","hide"],json:(()=>{const ze=(0,L.d9)(kt.rT.json);return ze.origins["portal-item"]={read:!1,write:!1},ze})()})],qe.prototype,"listMode",void 0),(0,M._)([(0,se.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],qe.prototype,"readGlobalIdField",null),(0,M._)([(0,oe.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Gr}}}}})],qe.prototype,"objectIdField",void 0),(0,M._)([(0,se.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],qe.prototype,"readObjectIdField",null),(0,M._)([(0,oe.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],qe.prototype,"operationalLayerType",void 0),(0,M._)([(0,oe.Cb)(bn.outFields)],qe.prototype,"outFields",void 0),(0,M._)([(0,oe.Cb)({readOnly:!0})],qe.prototype,"parsedUrl",null),(0,M._)([(0,oe.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],qe.prototype,"path",void 0),(0,M._)([(0,oe.Cb)(kt.C_)],qe.prototype,"popupEnabled",void 0),(0,M._)([(0,oe.Cb)({type:V.Z,json:{name:"popupInfo",write:!0}})],qe.prototype,"popupTemplate",void 0),(0,M._)([(0,oe.Cb)({readOnly:!0})],qe.prototype,"defaultPopupTemplate",null),(0,M._)([(0,oe.Cb)({types:I.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:I.o,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:re.C,overridePolicy:(ze,Ge,yt)=>({ignoreOrigin:yt?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(ze,Ge,yt)=>({ignoreOrigin:yt?.writeLayerSchema})}}})],qe.prototype,"renderer",null),(0,M._)([(0,se.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,se.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],qe.prototype,"readRenderer",null),(0,M._)([(0,oe.Cb)()],qe.prototype,"resourceInfo",void 0),(0,M._)([(0,oe.Cb)((()=>{const ze=(0,L.d9)(kt.YI);return ze.json.origins["portal-item"]={read:!1,write:!1},ze})())],qe.prototype,"screenSizePerspectiveEnabled",void 0),(0,M._)([(0,oe.Cb)({clonable:!1})],qe.prototype,"source",null),(0,M._)([(0,ne.p)("source")],qe.prototype,"castSource",null),(0,M._)([(0,se.r)("portal-item","source",["featureSet"]),(0,se.r)("web-map","source",["featureSet"])],qe.prototype,"readSource",null),(0,M._)([(0,oe.Cb)({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],qe.prototype,"spatialReference",void 0),(0,M._)([(0,oe.Cb)({type:Number})],qe.prototype,"subtypeCode",void 0),(0,M._)([(0,oe.Cb)({type:[ft.Z]})],qe.prototype,"templates",void 0),(0,M._)([(0,se.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],qe.prototype,"readTemplates",null),(0,M._)([(0,oe.Cb)({type:rn.Z})],qe.prototype,"timeInfo",void 0),(0,M._)([(0,oe.Cb)()],qe.prototype,"title",void 0),(0,M._)([(0,se.r)("service","title",["name"]),(0,se.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],qe.prototype,"readTitle",null),(0,M._)([(0,se.r)("web-map","title",["layerDefinition.name","title"])],qe.prototype,"readTitleFromWebMap",null),(0,M._)([(0,oe.Cb)({type:String})],qe.prototype,"sublayerTitleMode",void 0),(0,M._)([(0,oe.Cb)({json:{read:!1}})],qe.prototype,"type",void 0),(0,M._)([(0,oe.Cb)({type:String})],qe.prototype,"typeIdField",void 0),(0,M._)([(0,se.r)("service","typeIdField"),(0,se.r)("typeIdField",["layerDefinition.typeIdField"])],qe.prototype,"readTypeIdField",null),(0,M._)([(0,oe.Cb)({type:[dt.Z]})],qe.prototype,"types",void 0),(0,M._)([(0,se.r)("service","types",["types"]),(0,se.r)("types",["layerDefinition.types"])],qe.prototype,"readTypes",null),(0,M._)([(0,oe.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],qe.prototype,"visible",void 0),(0,M._)([(0,se.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],qe.prototype,"readVisible",null),qe=(0,M._)([(0,te.j)(qr)],qe);const Rt=qe},95060:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>X});var E=_(15861),M=_(50484),x=(_(2189),_(66476)),P=_(57964),H=_(88278),B=_(84373),F=_(67016),T=_(4703),w=_(79412),j=_(6785),Z=_(80543),A=(_(1535),_(57678),_(14007),_(10141)),S=_(11931);function L(){return(L=(0,E.Z)(function*(Y){const oe="portalItem"in Y?Y:{portalItem:Y},{fromItem:ne}=yield _.e(2772).then(_.bind(_,82772));try{return yield ne(oe)}catch(se){const te=oe&&oe.portalItem,k=te?.id||"unset",re=te&&te.portal&&te.portal.url||S.default.portalUrl;throw T.Z.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+re+"', id: '"+k+"')",se),se}})).apply(this,arguments)}var O=_(26894),$=_(43814);let K=0,U=class extends(H.Z.EventedMixin((0,B.IG)(F.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new O.Z(-180,-90,180,90,$.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+K++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=$.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(Y){return(0,E.Z)(function*(){const oe="string"==typeof Y?{url:Y}:Y;return(yield Promise.all([_.e(8592),_.e(8667)]).then(_.bind(_,28667))).fromUrl(oe)})()}static fromPortalItem(Y){return function N(Y){return L.apply(this,arguments)}(Y)}initialize(){this.when().catch(Y=>{(0,w.D_)(Y)||T.Z.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:Y})})}destroy(){const Y=this.parent;if(Y){const oe=this;"layers"in Y&&Y.layers.includes(oe)?Y.layers.remove(oe):"tables"in Y&&Y.tables.includes(oe)?Y.tables.remove(oe):"baseLayers"in Y&&Y.baseLayers.includes(oe)?Y.baseLayers.remove(oe):"referenceLayers"in Y&&Y.referenceLayers.includes(oe)&&Y.referenceLayers.remove(oe),this._set("parent",null)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,j.mN)(this.url)}fetchAttributionData(){var Y=this;return(0,E.Z)(function*(){const oe=Y.attributionDataUrl;if(Y.hasAttributionData&&oe)return(yield(0,x.Z)(oe,{query:{f:"json"},responseType:"json"})).data;throw new P.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,M._)([(0,Z.Cb)({type:String})],U.prototype,"attributionDataUrl",void 0),(0,M._)([(0,Z.Cb)({type:O.Z})],U.prototype,"fullExtent",void 0),(0,M._)([(0,Z.Cb)({readOnly:!0})],U.prototype,"hasAttributionData",null),(0,M._)([(0,Z.Cb)({type:String,clonable:!1})],U.prototype,"id",void 0),(0,M._)([(0,Z.Cb)({type:Boolean,nonNullable:!0})],U.prototype,"legendEnabled",void 0),(0,M._)([(0,Z.Cb)({type:["show","hide","hide-children"]})],U.prototype,"listMode",void 0),(0,M._)([(0,Z.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],U.prototype,"opacity",void 0),(0,M._)([(0,Z.Cb)({clonable:!1})],U.prototype,"parent",void 0),(0,M._)([(0,Z.Cb)({readOnly:!0})],U.prototype,"parsedUrl",null),(0,M._)([(0,Z.Cb)({type:Boolean,readOnly:!0})],U.prototype,"persistenceEnabled",void 0),(0,M._)([(0,Z.Cb)({type:Boolean})],U.prototype,"popupEnabled",void 0),(0,M._)([(0,Z.Cb)({type:Boolean})],U.prototype,"attributionVisible",void 0),(0,M._)([(0,Z.Cb)({type:$.Z})],U.prototype,"spatialReference",void 0),(0,M._)([(0,Z.Cb)({type:String})],U.prototype,"title",void 0),(0,M._)([(0,Z.Cb)({readOnly:!0,json:{read:!1}})],U.prototype,"type",void 0),(0,M._)([(0,Z.Cb)()],U.prototype,"url",void 0),(0,M._)([(0,Z.Cb)({type:Boolean,nonNullable:!0})],U.prototype,"visible",void 0),U=(0,M._)([(0,A.j)("esri.layers.Layer")],U);const X=U},79421:(Ze,me,_)=>{"use strict";_.d(me,{rk:()=>S,Tj:()=>N,GI:()=>L,CE:()=>O,Tq:()=>$,Zx:()=>K,Ee:()=>Y});var E=_(16343),M=_(55768);function V(){const oe=new Float32Array(16);return oe[0]=1,oe[5]=1,oe[10]=1,oe[15]=1,oe}const B=V();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:B,clone:function x(oe){const ne=new Float32Array(16);return ne[0]=oe[0],ne[1]=oe[1],ne[2]=oe[2],ne[3]=oe[3],ne[4]=oe[4],ne[5]=oe[5],ne[6]=oe[6],ne[7]=oe[7],ne[8]=oe[8],ne[9]=oe[9],ne[10]=oe[10],ne[11]=oe[11],ne[12]=oe[12],ne[13]=oe[13],ne[14]=oe[14],ne[15]=oe[15],ne},create:V,createView:function H(oe,ne){return new Float32Array(oe,ne,16)},fromValues:function P(oe,ne,se,te,k,re,Q,pe,fe,ce,q,le,ee,ae,ue,ge){const Ee=new Float32Array(16);return Ee[0]=oe,Ee[1]=ne,Ee[2]=se,Ee[3]=te,Ee[4]=k,Ee[5]=re,Ee[6]=Q,Ee[7]=pe,Ee[8]=fe,Ee[9]=ce,Ee[10]=q,Ee[11]=le,Ee[12]=ee,Ee[13]=ae,Ee[14]=ue,Ee[15]=ge,Ee}},Symbol.toStringTag,{value:"Module"}));var T=_(60838);class S{constructor(ne,se,te){this.strength=ne,this.radius=se,this.threshold=te,this.type="bloom"}interpolate(ne,se,te){this.strength=U(ne.strength,se.strength,te),this.radius=U(ne.radius,se.radius,te),this.threshold=U(ne.threshold,se.threshold,te)}clone(){return new S(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:X(this.radius),strength:this.strength,threshold:this.threshold}}}class N{constructor(ne){this.radius=ne,this.type="blur"}interpolate(ne,se,te){this.radius=Math.round(U(ne.radius,se.radius,te))}clone(){return new N(this.radius)}toJSON(){return{type:"blur",radius:X(this.radius)}}}class L{constructor(ne,se){this.type=ne,this.amount=se,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(ne,se,te){this.amount=U(ne.amount,se.amount,te),this._updateMatrix()}clone(){return new L(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const ne=this._colorMatrix||V();switch(this.type){case"brightness":this._colorMatrix=((oe,ne)=>{const se=(0,T.s)(oe,ne,0,0,0,0,ne,0,0,0,0,ne,0,0,0,0,1);return(0,T.t)(se,se)})(ne,this.amount);break;case"contrast":this._colorMatrix=((oe,ne)=>{const se=(0,T.s)(oe,ne,0,0,.5-.5*ne,0,ne,0,.5-.5*ne,0,0,ne,.5-.5*ne,0,0,0,1);return(0,T.t)(se,se)})(ne,this.amount);break;case"grayscale":this._colorMatrix=((oe,ne)=>{const se=1-this.amount,te=(0,T.s)(oe,.2126+.7874*se,.7152-.7152*se,.0722-.0722*se,0,.2126-.2126*se,.7152+.2848*se,.0722-.0722*se,0,.2126-.2126*se,.7152-.7152*se,.0722+.9278*se,0,0,0,0,1);return(0,T.t)(te,te)})(ne);break;case"invert":this._colorMatrix=((oe,ne)=>{const se=1-2*ne,te=(0,T.s)(oe,se,0,0,ne,0,se,0,ne,0,0,se,ne,0,0,0,1);return(0,T.t)(te,te)})(ne,this.amount);break;case"saturate":this._colorMatrix=((oe,ne)=>{const se=(0,T.s)(oe,.213+.787*ne,.715-.715*ne,.072-.072*ne,0,.213-.213*ne,.715+.285*ne,.072-.072*ne,0,.213-.213*ne,.715-.715*ne,.072+.928*ne,0,0,0,0,1);return(0,T.t)(se,se)})(ne,this.amount);break;case"sepia":this._colorMatrix=((oe,ne)=>{const se=1-this.amount,te=(0,T.s)(oe,.393+.607*se,.769-.769*se,.189-.189*se,0,.349-.349*se,.686+.314*se,.168-.168*se,0,.272-.272*se,.534-.534*se,.131+.869*se,0,0,0,0,1);return(0,T.t)(te,te)})(ne)}}}class O{constructor(ne,se,te,k){this.offsetX=ne,this.offsetY=se,this.blurRadius=te,this.color=k,this.type="drop-shadow"}interpolate(ne,se,te){this.offsetX=U(ne.offsetX,se.offsetX,te),this.offsetY=U(ne.offsetY,se.offsetY,te),this.blurRadius=U(ne.blurRadius,se.blurRadius,te),this.color[0]=Math.round(U(ne.color[0],se.color[0],te)),this.color[1]=Math.round(U(ne.color[1],se.color[1],te)),this.color[2]=Math.round(U(ne.color[2],se.color[2],te)),this.color[3]=U(ne.color[3],se.color[3],te)}clone(){return new O(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const ne=[...this.color];return ne[3]*=255,{type:"drop-shadow",xoffset:X(this.offsetX),yoffset:X(this.offsetY),blurRadius:X(this.blurRadius),color:ne}}}class ${constructor(ne){this.angle=ne,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(ne,se,te){this.angle=U(ne.angle,se.angle,te),this._updateMatrix()}clone(){return new $(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const ne=this._colorMatrix||V();this._colorMatrix=((oe,ne)=>{const se=Math.sin(ne*Math.PI/180),te=Math.cos(ne*Math.PI/180),k=(0,T.s)(oe,.213+.787*te-.213*se,.715-.715*te-.715*se,.072-.072*te+.928*se,0,.213-.213*te+.143*se,.715+.285*te+.14*se,.072-.072*te-.283*se,0,.213-.213*te-.787*se,.715-.715*te+.715*se,.072+.928*te+.072*se,0,0,0,0,1);return(0,T.t)(k,k)})(ne,this.angle)}}class K{constructor(ne){this.amount=ne,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(ne,se,te){this.amount=U(ne.amount,se.amount,te)}clone(){return new K(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function U(oe,ne,se){return oe+(ne-oe)*se}function X(oe){return Math.round(1e3*(0,M.Wz)(oe))/1e3}function Y(oe){switch(oe.type){case"grayscale":case"sepia":case"invert":return new L(oe.type,0);case"saturate":case"brightness":case"contrast":return new L(oe.type,1);case"opacity":return new K(1);case"hue-rotate":return new $(0);case"blur":return new N(0);case"drop-shadow":return new O(0,0,0,[...(0,E.h$)("transparent")]);case"bloom":return new S(0,0,1)}}},53984:(Ze,me,_)=>{"use strict";_.d(me,{cW:()=>H,ij:()=>P,rM:()=>w});var E=_(57964),M=_(71763),V=_(8818),x=_(99072);function P(I,G,W){try{return function F(I){if(!I||0===I.length)return null;if(function T(I){const G=I[0];return!!G&&"scale"in G}(I)){const G=[];for(const W of I)G.push({scale:W.scale,value:w(W.value)});return G}return w(I)}(I)}catch(A){W?.messages?.push(A)}return null}function H(I,G,W,A){try{const S=function B(I){const G=(0,V.Q)(I);return G?(0,x.Cb)(G)?G.map(W=>W.toJSON()):G.map(({scale:W,effects:A})=>({scale:W,value:A.map(S=>S.toJSON())})):null}(I);(0,M.RB)(W,S,G)}catch(S){A.messages&&A.messages.push(S)}}function w(I){if(!I?.length)return"";const G=[];for(const W of I){let A=[];switch(W.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":A=[j(W,"amount")];break;case"blur":A=[j(W,"radius","pt")];break;case"hue-rotate":A=[j(W,"angle","deg")];break;case"drop-shadow":A=[j(W,"xoffset","pt"),j(W,"yoffset","pt"),j(W,"blurRadius","pt"),Z(W,"color")];break;case"bloom":A=[j(W,"strength"),j(W,"radius","pt"),j(W,"threshold")]}const S=`${W.type}(${A.filter(Boolean).join(" ")})`;(0,V.Q)(S),G.push(S)}return G.join(" ")}function j(I,G,W){if(null==I[G])throw new E.Z("effect:missing-parameter",`Missing parameter '${G}' in ${I.type} effect`,{effect:I});return W?I[G]+W:""+I[G]}function Z(I,G){if(null==I[G])throw new E.Z("effect:missing-parameter",`Missing parameter '${G}' in ${I.type} effect`,{effect:I});const W=I[G];return`rgba(${W[0]||0}, ${W[1]||0}, ${W[2]||0}, ${W[3]/255||0})`}},8818:(Ze,me,_)=>{"use strict";_.d(me,{Q:()=>w});var H,E=_(16343),M=_(57964),V=_(79421),P=(_(90104),_(99072)),F={exports:{}};(H=F).exports&&(H.exports=function(){function ee(ge,Ee,be,ie){var De=Error.call(this,ge);return Object.setPrototypeOf&&Object.setPrototypeOf(De,ee.prototype),De.expected=Ee,De.found=be,De.location=ie,De.name="SyntaxError",De}function ae(ge,Ee,be){return be=be||" ",ge.length>Ee?ge:ge+(be+=be.repeat(Ee-=ge.length)).slice(0,Ee)}return function le(ge,Ee){function be(){this.constructor=ge}be.prototype=Ee.prototype,ge.prototype=new be}(ee,Error),ee.prototype.format=function(ge){var Ee="Error: "+this.message;if(this.location){var be,ie=null;for(be=0;be<ge.length;be++)if(ge[be].source===this.location.source){ie=ge[be].text.split(/\r\n|\n|\r/g);break}var De=this.location.start,Be=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(De):De,we=this.location.source+":"+Be.line+":"+Be.column;if(ie){var Me=this.location.end,He=ae("",Be.line.toString().length," "),xe=ie[De.line-1],Xe=(De.line===Me.line?Me.column:xe.length+1)-De.column||1;Ee+="\n --\x3e "+we+"\n"+He+" |\n"+Be.line+" | "+xe+"\n"+He+" | "+ae("",De.column-1," ")+ae("",Xe,"^")}else Ee+="\n at "+we}return Ee},ee.buildMessage=function(ge,Ee){var be={literal:function(xe){return'"'+De(xe.text)+'"'},class:function(xe){var Xe=xe.parts.map(function(J){return Array.isArray(J)?Be(J[0])+"-"+Be(J[1]):Be(J)});return"["+(xe.inverted?"^":"")+Xe.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(xe){return xe.description}};function ie(xe){return xe.charCodeAt(0).toString(16).toUpperCase()}function De(xe){return xe.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Xe){return"\\x0"+ie(Xe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Xe){return"\\x"+ie(Xe)})}function Be(xe){return xe.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Xe){return"\\x0"+ie(Xe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Xe){return"\\x"+ie(Xe)})}function we(xe){return be[xe.type](xe)}return"Expected "+function Me(xe){var Xe,J,ye=xe.map(we);if(ye.sort(),ye.length>0){for(Xe=1,J=1;Xe<ye.length;Xe++)ye[Xe-1]!==ye[Xe]&&(ye[J]=ye[Xe],J++);ye.length=J}switch(ye.length){case 1:return ye[0];case 2:return ye[0]+" or "+ye[1];default:return ye.slice(0,-1).join(", ")+", or "+ye[ye.length-1]}}(ge)+" but "+function He(xe){return xe?'"'+De(xe)+'"':"end of input"}(Ee)+" found."},{SyntaxError:ee,parse:function ue(ge,Ee){var be,ie={},De=(Ee=void 0!==Ee?Ee:{}).grammarSource,Be={start:Kl},we=Kl,Me="none",He=")",xe=",",Xe="(",J="%",ye="px",Re="cm",Ve="mm",et="in",Fe="pt",Qe="pc",Ne="deg",ve="rad",Oe="grad",Te="turn",je="#",$e=".",nt="e",Je=/^[ \t\n\r]/,ot=/^[a-z\-]/,at=/^[0-9a-fA-F]/,mt=/^[+\-]/,Tt=/^[0-9]/,Ot=Zs("none"),Bt=sr("none",!1),Gt=sr(")",!1),kt=sr(",",!1),on=Zs("whitespace"),ft=si([" ","\t","\n","\r"],!1,!1),dt=Zs("function"),Ct=sr("(",!1),Dt=Zs("identifier"),xt=si([["a","z"],"-"],!1,!1),nn=Zs("percentage"),Yt=sr("%",!1),rn=Zs("length"),gn=sr("px",!1),yn=sr("cm",!1),Mn=sr("mm",!1),lr=sr("in",!1),On=sr("pt",!1),zn=sr("pc",!1),Ut=Zs("angle"),Xt=sr("deg",!1),Gn=sr("rad",!1),qr=sr("grad",!1),yr=sr("turn",!1),vs=Zs("number"),ns=Zs("color"),bn=sr("#",!1),Gr=si([["0","9"],["a","f"],["A","F"]],!1,!1),qe=si(["+","-"],!1,!1),Rt=si([["0","9"]],!1,!1),ze=sr(".",!1),Ge=sr("e",!1),yt=function(){return[]},Pt=function(ct,Wt){return{type:"function",name:ct,parameters:Wt||[]}},_e=function(ct,Wt){return Wt.length>0?function ii(ct,Wt,Qt){return[ct].concat(function Qa(ct,Wt){return ct.map(function(Qt){return Qt[Wt]})}(Wt,Qt))}(ct,Wt,3):[ct]},ht=function(ct){return{type:"quantity",value:ct.value,unit:ct.unit}},ut=function(ct){return{type:"color",colorType:ct.type,value:ct.value}},Ye=function(ct){return ct},it=function(){return ri()},gt=function(ct){return{value:ct,unit:"%"}},Lt=function(ct){return{value:ct,unit:"px"}},Kt=function(ct){return{value:ct,unit:"cm"}},Jt=function(ct){return{value:ct,unit:"mm"}},$n=function(ct){return{value:ct,unit:"in"}},Rn=function(ct){return{value:ct,unit:"pt"}},Zn=function(ct){return{value:ct,unit:"pc"}},br=function(ct){return{value:ct,unit:"deg"}},Rr=function(ct){return{value:ct,unit:"rad"}},Hr=function(ct){return{value:ct,unit:"grad"}},Ds=function(ct){return{value:ct,unit:"turn"}},Lr=function(ct){return{value:ct,unit:null}},Bo=function(){return{type:"hex",value:ri()}},Fo=function(ct){return{type:"function",value:ct}},Ys=function(){return{type:"named",value:ri()}},gi=function(){return parseFloat(ri())},It=0,hr=0,Ss=[{line:1,column:1}],kn=0,Do=[],pn=0;if("startRule"in Ee){if(!(Ee.startRule in Be))throw new Error("Can't start parsing from rule \""+Ee.startRule+'".');we=Be[Ee.startRule]}function ri(){return ge.substring(hr,It)}function sr(ct,Wt){return{type:"literal",text:ct,ignoreCase:Wt}}function si(ct,Wt,Qt){return{type:"class",parts:ct,inverted:Wt,ignoreCase:Qt}}function Zs(ct){return{type:"other",description:ct}}function Or(ct){var Wt,Qt=Ss[ct];if(Qt)return Qt;for(Wt=ct-1;!Ss[Wt];)Wt--;for(Qt={line:(Qt=Ss[Wt]).line,column:Qt.column};Wt<ct;)10===ge.charCodeAt(Wt)?(Qt.line++,Qt.column=1):Qt.column++,Wt++;return Ss[ct]=Qt,Qt}function In(ct){It<kn||(It>kn&&(kn=It,Do=[]),Do.push(ct))}function Kl(){var ct;return(ct=function Ha(){var ct,Wt;return pn++,ct=It,Un(),ge.substr(It,4)===Me?(Wt=Me,It+=4):(Wt=ie,0===pn&&In(Bt)),Wt!==ie?(Un(),hr=ct,ct=yt()):(It=ct,ct=ie),pn--,ct===ie&&0===pn&&In(Ot),ct}())===ie&&(ct=function Ja(){var ct,Wt;if(ct=[],(Wt=Ma())!==ie)for(;Wt!==ie;)ct.push(Wt),Wt=Ma();else ct=ie;return ct}()),ct}function Ma(){var ct,Wt,Qt,Ln;return ct=It,Un(),(Wt=function Ya(){var ct,Wt,Qt;return pn++,ct=It,(Wt=Qn())!==ie?(40===ge.charCodeAt(It)?(Qt=Xe,It++):(Qt=ie,0===pn&&In(Ct)),Qt!==ie?(hr=ct,ct=Ye(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),pn--,ct===ie&&(Wt=ie,0===pn&&In(dt)),ct}())!==ie?(Un(),(Qt=function xs(){var ct,Wt,Qt,Ln,Nr,ur,cs,Ei;if(ct=It,(Wt=Ki())!==ie){for(Qt=[],Ln=It,Nr=Un(),44===ge.charCodeAt(It)?(ur=xe,It++):(ur=ie,0===pn&&In(kt)),ur===ie&&(ur=null),cs=Un(),(Ei=Ki())!==ie?Ln=Nr=[Nr,ur,cs,Ei]:(It=Ln,Ln=ie);Ln!==ie;)Qt.push(Ln),Ln=It,Nr=Un(),44===ge.charCodeAt(It)?(ur=xe,It++):(ur=ie,0===pn&&In(kt)),ur===ie&&(ur=null),cs=Un(),(Ei=Ki())!==ie?Ln=Nr=[Nr,ur,cs,Ei]:(It=Ln,Ln=ie);hr=ct,ct=_e(Wt,Qt)}else It=ct,ct=ie;return ct}())===ie&&(Qt=null),Un(),41===ge.charCodeAt(It)?(Ln=He,It++):(Ln=ie,0===pn&&In(Gt)),Ln!==ie?(Un(),hr=ct,ct=Pt(Wt,Qt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct}function Ki(){var ct,Wt;return ct=It,(Wt=function Zu(){var ct,Wt,Qt;return pn++,ct=It,Un(),(Wt=jr())!==ie?(37===ge.charCodeAt(It)?(Qt=J,It++):(Qt=ie,0===pn&&In(Yt)),Qt!==ie?(hr=ct,ct=gt(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),pn--,ct===ie&&0===pn&&In(nn),ct}())===ie&&(Wt=function _n(){var ct,Wt,Qt;return pn++,ct=It,Un(),(Wt=jr())!==ie?(ge.substr(It,2)===ye?(Qt=ye,It+=2):(Qt=ie,0===pn&&In(gn)),Qt!==ie?(hr=ct,ct=Lt(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct===ie&&(ct=It,Un(),(Wt=jr())!==ie?(ge.substr(It,2)===Re?(Qt=Re,It+=2):(Qt=ie,0===pn&&In(yn)),Qt!==ie?(hr=ct,ct=Kt(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct===ie&&(ct=It,Un(),(Wt=jr())!==ie?(ge.substr(It,2)===Ve?(Qt=Ve,It+=2):(Qt=ie,0===pn&&In(Mn)),Qt!==ie?(hr=ct,ct=Jt(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct===ie&&(ct=It,Un(),(Wt=jr())!==ie?(ge.substr(It,2)===et?(Qt=et,It+=2):(Qt=ie,0===pn&&In(lr)),Qt!==ie?(hr=ct,ct=$n(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct===ie&&(ct=It,Un(),(Wt=jr())!==ie?(ge.substr(It,2)===Fe?(Qt=Fe,It+=2):(Qt=ie,0===pn&&In(On)),Qt!==ie?(hr=ct,ct=Rn(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct===ie&&(ct=It,Un(),(Wt=jr())!==ie?(ge.substr(It,2)===Qe?(Qt=Qe,It+=2):(Qt=ie,0===pn&&In(zn)),Qt!==ie?(hr=ct,ct=Zn(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie)))))),pn--,ct===ie&&0===pn&&In(rn),ct}())===ie&&(Wt=function zl(){var ct,Wt,Qt;return pn++,ct=It,(Wt=jr())!==ie?(ge.substr(It,3)===Ne?(Qt=Ne,It+=3):(Qt=ie,0===pn&&In(Xt)),Qt!==ie?(hr=ct,ct=br(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct===ie&&(ct=It,(Wt=jr())!==ie?(ge.substr(It,3)===ve?(Qt=ve,It+=3):(Qt=ie,0===pn&&In(Gn)),Qt!==ie?(hr=ct,ct=Rr(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct===ie&&(ct=It,(Wt=jr())!==ie?(ge.substr(It,4)===Oe?(Qt=Oe,It+=4):(Qt=ie,0===pn&&In(qr)),Qt!==ie?(hr=ct,ct=Hr(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie),ct===ie&&(ct=It,(Wt=jr())!==ie?(ge.substr(It,4)===Te?(Qt=Te,It+=4):(Qt=ie,0===pn&&In(yr)),Qt!==ie?(hr=ct,ct=Ds(Wt)):(It=ct,ct=ie)):(It=ct,ct=ie)))),pn--,ct===ie&&(Wt=ie,0===pn&&In(Ut)),ct}())===ie&&(Wt=function us(){var ct,Wt;return pn++,ct=It,Un(),(Wt=jr())!==ie?(hr=ct,ct=Lr(Wt)):(It=ct,ct=ie),pn--,ct===ie&&0===pn&&In(vs),ct}()),Wt!==ie&&(hr=ct,Wt=ht(Wt)),(ct=Wt)===ie&&(ct=It,(Wt=function oi(){var ct,Wt,Qt,Ln;if(pn++,ct=It,35===ge.charCodeAt(It)?(Wt=je,It++):(Wt=ie,0===pn&&In(bn)),Wt!==ie){if(Qt=[],at.test(ge.charAt(It))?(Ln=ge.charAt(It),It++):(Ln=ie,0===pn&&In(Gr)),Ln!==ie)for(;Ln!==ie;)Qt.push(Ln),at.test(ge.charAt(It))?(Ln=ge.charAt(It),It++):(Ln=ie,0===pn&&In(Gr));else Qt=ie;Qt!==ie?(hr=ct,ct=Bo()):(It=ct,ct=ie)}else It=ct,ct=ie;return ct===ie&&(ct=It,(Wt=Ma())!==ie&&(hr=ct,Wt=Fo(Wt)),(ct=Wt)===ie&&(ct=It,(Wt=Qn())!==ie&&(hr=ct,Wt=Ys()),ct=Wt)),pn--,ct===ie&&(Wt=ie,0===pn&&In(ns)),ct}())!==ie&&(hr=ct,Wt=ut(Wt)),ct=Wt),ct}function Un(){var ct,Wt;for(pn++,ct=[],Je.test(ge.charAt(It))?(Wt=ge.charAt(It),It++):(Wt=ie,0===pn&&In(ft));Wt!==ie;)ct.push(Wt),Je.test(ge.charAt(It))?(Wt=ge.charAt(It),It++):(Wt=ie,0===pn&&In(ft));return pn--,Wt=ie,0===pn&&In(on),ct}function Qn(){var ct,Wt,Qt;if(pn++,ct=It,Wt=[],ot.test(ge.charAt(It))?(Qt=ge.charAt(It),It++):(Qt=ie,0===pn&&In(xt)),Qt!==ie)for(;Qt!==ie;)Wt.push(Qt),ot.test(ge.charAt(It))?(Qt=ge.charAt(It),It++):(Qt=ie,0===pn&&In(xt));else Wt=ie;return Wt!==ie&&(hr=ct,Wt=it()),pn--,(ct=Wt)===ie&&(Wt=ie,0===pn&&In(Dt)),ct}function jr(){var ct,Wt,Qt,Ln,Nr,ur,cs;for(ct=It,mt.test(ge.charAt(It))?(ge.charAt(It),It++):0===pn&&In(qe),Wt=It,Qt=[],Tt.test(ge.charAt(It))?(Ln=ge.charAt(It),It++):(Ln=ie,0===pn&&In(Rt));Ln!==ie;)Qt.push(Ln),Tt.test(ge.charAt(It))?(Ln=ge.charAt(It),It++):(Ln=ie,0===pn&&In(Rt));if(46===ge.charCodeAt(It)?(Ln=$e,It++):(Ln=ie,0===pn&&In(ze)),Ln!==ie){if(Nr=[],Tt.test(ge.charAt(It))?(ur=ge.charAt(It),It++):(ur=ie,0===pn&&In(Rt)),ur!==ie)for(;ur!==ie;)Nr.push(ur),Tt.test(ge.charAt(It))?(ur=ge.charAt(It),It++):(ur=ie,0===pn&&In(Rt));else Nr=ie;Nr!==ie?Wt=Qt=[Qt,Ln,Nr]:(It=Wt,Wt=ie)}else It=Wt,Wt=ie;if(Wt===ie)if(Wt=[],Tt.test(ge.charAt(It))?(Qt=ge.charAt(It),It++):(Qt=ie,0===pn&&In(Rt)),Qt!==ie)for(;Qt!==ie;)Wt.push(Qt),Tt.test(ge.charAt(It))?(Qt=ge.charAt(It),It++):(Qt=ie,0===pn&&In(Rt));else Wt=ie;if(Wt!==ie){if(Qt=It,101===ge.charCodeAt(It)?(Ln=nt,It++):(Ln=ie,0===pn&&In(Ge)),Ln!==ie){if(mt.test(ge.charAt(It))?(Nr=ge.charAt(It),It++):(Nr=ie,0===pn&&In(qe)),Nr===ie&&(Nr=null),ur=[],Tt.test(ge.charAt(It))?(cs=ge.charAt(It),It++):(cs=ie,0===pn&&In(Rt)),cs!==ie)for(;cs!==ie;)ur.push(cs),Tt.test(ge.charAt(It))?(cs=ge.charAt(It),It++):(cs=ie,0===pn&&In(Rt));else ur=ie;ur!==ie?Qt=Ln=[Ln,Nr,ur]:(It=Qt,Qt=ie)}else It=Qt,Qt=ie;Qt===ie&&(Qt=null),hr=ct,ct=gi()}else It=ct,ct=ie;return ct}if((be=we())!==ie&&It===ge.length)return be;throw be!==ie&&It<ge.length&&In({type:"end"}),function _i(ct,Wt,Qt){return new ee(ee.buildMessage(ct,Wt),ct,Wt,Qt)}(Do,kn<ge.length?ge.charAt(kn):null,function vi(ct,Wt,Qt){var Ln=Or(ct),Nr=Or(Wt),ur={source:De,start:{offset:ct,line:Ln.line,column:Ln.column},end:{offset:Wt,line:Nr.line,column:Nr.column}};return Qt&&De&&"function"==typeof De.offset&&(ur.start=De.offset(ur.start),ur.end=De.offset(ur.end)),ur}(kn,kn<ge.length?kn+1:kn))}}}());var T=F.exports;function w(le){if(!le||0===le.length)return null;if("string"==typeof le){const ae=j(le);return ae&&0!==ae.length?ae:null}const ee=le.map(ae=>{if(!Number.isFinite(ae.scale)||ae.scale<=0)throw new M.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:ae});return{scale:ae.scale,effects:j(ae.value)}});ee.sort((ae,ue)=>ue.effects.length-ae.effects.length);for(let ae=0;ae<ee.length-1;ae++){if(!(0,P.AS)(ee[ae].effects,ee[ae+1].effects))throw new M.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:ee[ae].effects,b:ee[ae+1].effects});(0,P.uF)(ee[ae].effects,ee[ae+1].effects)}return ee.sort((ae,ue)=>ue.scale-ae.scale),ee}function j(le){let ee;if(!le)return[];try{ee=T.parse(le)}catch(ae){throw new M.Z("effect:invalid-syntax","Invalid effect syntax",{value:le,error:ae})}return ee.map(ae=>function Z(le){try{switch(le.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function I(le){let ee=1;return L(le.parameters,1),1===le.parameters.length&&(ee=se(le.parameters[0])),new V.GI(le.name,ee)}(le);case"opacity":return function G(le){let ee=1;return L(le.parameters,1),1===le.parameters.length&&(ee=se(le.parameters[0])),new V.Zx(ee)}(le);case"hue-rotate":return function W(le){let ee=0;return L(le.parameters,1),1===le.parameters.length&&(ee=function k(le){return function Y(le){if("quantity"!==le.type||!(0===le.value&&null===le.unit||le.unit&&null!=X[le.unit]))throw new M.Z("effect:type-error",`Expected <angle>, Actual: ${O(le)}`,{term:le})}(le),le.value*X[le.unit]||0}(le.parameters[0])),new V.Tq(ee)}(le);case"blur":return function A(le){let ee=0;return L(le.parameters,1),1===le.parameters.length&&(ee=re(le.parameters[0]),$(ee,le.parameters[0])),new V.Tj(ee)}(le);case"drop-shadow":return function S(le){const ee=[];let ae=null;for(const ue of le.parameters)if("color"===ue.type){if(ee.length&&Object.freeze(ee),ae)throw new M.Z("effect:type-error","Accepts only one color",{});ae=Q(ue)}else{const ge=re(ue);if(Object.isFrozen(ee))throw new M.Z("effect:type-error","<length> parameters not consecutive",{lengths:ee});ee.push(ge),3===ee.length&&$(ge,ue)}if(ee.length<2||ee.length>3)throw new M.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${ee.length}}`,{lengths:ee});return new V.CE(ee[0],ee[1],ee[2]||0,ae||pe("black"))}(le);case"bloom":return function N(le){let ee=1,ae=0,ue=0;return L(le.parameters,3),le.parameters[0]&&(ee=se(le.parameters[0])),le.parameters[1]&&(ae=re(le.parameters[1]),$(ae,le.parameters[1])),le.parameters[2]&&(ue=se(le.parameters[2])),new V.rk(ee,ae,ue)}(le)}}catch(ee){throw ee.details.filter=le,ee}throw new M.Z("effect:unknown-effect",`Effect '${le.name}' is not supported`,{effect:le})}(ae))}function L(le,ee){if(le.length>ee)throw new M.Z("effect:type-error",`Function supports up to ${ee} parameters, Actual: ${le.length}`,{parameters:le})}function O(le){if("color"===le.type)return"<color>";if(le.unit){if(le.unit in oe)return"<length>";if(le.unit in X)return"<angle>";if("%"===le.unit)return"<percentage>"}return"<double>"}function $(le,ee){if(le<0)throw new M.Z("effect:type-error",`Negative values are not allowed, Actual: ${le}`,{term:ee})}const X={deg:1,grad:.9,rad:180/Math.PI,turn:360},oe={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function se(le){!function U(le){if("quantity"!==le.type||null!==le.unit&&"%"!==le.unit)throw new M.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${O(le)}`,{term:le})}(le);const ee=le.value;return $(ee,le),"%"===le.unit?.01*ee:ee}function re(le){return function ne(le){if("quantity"!==le.type||!(0===le.value&&null===le.unit||le.unit&&null!=oe[le.unit]))throw new M.Z("effect:type-error",`Expected <length>, Actual: ${O(le)}`,{term:le})}(le),le.value*oe[le.unit]||0}function Q(le){switch(le.colorType){case"hex":return(0,E.rW)(le.value);case"named":return pe(le.value);case"function":return function q(le){if(L(le.parameters,4),fe.test(le.name))return[se(le.parameters[0]),se(le.parameters[1]),se(le.parameters[2]),le.parameters[3]?se(le.parameters[3]):1];if(ce.test(le.name))return(0,E.B7)(function te(le){return function K(le){if("quantity"!==le.type||null!==le.unit)throw new M.Z("effect:type-error",`Expected <double>, Actual: ${O(le)}`,{term:le})}(le),$(le.value,le),le.value}(le.parameters[0]),se(le.parameters[1]),se(le.parameters[2]),le.parameters[3]?se(le.parameters[3]):1);throw new M.Z("effect:syntax-error",`Invalid color function '${le.name}'`,{colorFunction:le})}(le.value)}}function pe(le){if(!(0,E.St)(le))throw new M.Z("effect:unknown-color",`color '${le}' isn't valid`,{namedColor:le});return(0,E.VL)(le)}const fe=/^rgba?/i,ce=/^hsla?/i},99072:(Ze,me,_)=>{"use strict";_.d(me,{AS:()=>M,Cb:()=>x,uF:()=>V});var E=_(79421);function M(H,B){const F=H.length>B.length?H:B;return(H.length>B.length?B:H).every((T,w)=>T.type===F[w].type)}function V(H,B){const F=H.length>B.length?H:B,T=H.length>B.length?B:H;for(let w=T.length;w<F.length;w++)T.push((0,E.Ee)(F[w]))}function x(H){const B=H[0];return!!B&&"type"in B}},29674:(Ze,me,_)=>{"use strict";_.d(me,{V:()=>F});var E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141));const F=T=>{let w=class extends T{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function B(T){return"portalItem"in T}(this)?this.portalItem?.apiKey:null}set apiKey(j){null!=j?this._override("apiKey",j):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,E._)([(0,M.Cb)({type:String})],w.prototype,"apiKey",null),w=(0,E._)([(0,H.j)("esri.layers.mixins.APIKeyMixin")],w),w}},4257:(Ze,me,_)=>{"use strict";_.d(me,{Y:()=>T});var E=_(50484),M=_(4703),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(89713);const T=w=>{let j=class extends w{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const Z=(0,F.Qc)(this.url);if(null!=Z&&Z.title)return Z.title}return this._get("title")||""}set title(Z){this._set("title",Z)}set url(Z){this._set("url",(0,F.Nm)(Z,M.Z.getLogger(this)))}};return(0,E._)([(0,V.Cb)()],j.prototype,"title",null),(0,E._)([(0,V.Cb)({type:String})],j.prototype,"url",null),j=(0,E._)([(0,B.j)("esri.layers.mixins.ArcGISService")],j),j}},19855:(Ze,me,_)=>{"use strict";_.d(me,{h:()=>T});var E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(53984);const F={read:{reader:B.ij},write:{allowNull:!0,writer:B.cW}},T=w=>{let j=class extends w{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,E._)([(0,M.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],j.prototype,"blendMode",void 0),(0,E._)([(0,M.Cb)({json:{read:!1,write:!1,origins:{"web-map":F,"portal-item":F}}})],j.prototype,"effect",void 0),j=(0,E._)([(0,H.j)("esri.layers.mixins.BlendLayer")],j),j}},27426:(Ze,me,_)=>{"use strict";_.d(me,{N:()=>B});var E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141));const B=F=>{let T=class extends F{constructor(){super(...arguments),this.customParameters=null}};return(0,E._)([(0,M.Cb)({type:Object,json:{write:{overridePolicy:w=>({enabled:!!(w&&Object.keys(w).length>0)})}}})],T.prototype,"customParameters",void 0),T=(0,E._)([(0,H.j)("esri.layers.mixins.CustomParametersMixin")],T),T}},92344:(Ze,me,_)=>{"use strict";_.d(me,{di:()=>O,jF:()=>G,lQ:()=>N,o1:()=>$,qH:()=>Z,xl:()=>I});var E=_(50484),M=_(88278),V=_(34222),x=_(79412),T=(_(4703),_(1535),_(57964),_(14007),_(10141)),w=_(93604);const j=new M.Z.EventEmitter;function Z(K){return j.on("apply-edits",new WeakRef(K))}function I(K){return j.on("update-moment",new WeakRef(K))}function G(K,U,X=null,Y=!1){const oe=(0,x.hh)();return j.emit("apply-edits",{serviceUrl:K,layerId:U,gdbVersion:X,mayReceiveServiceEdits:Y=null==U||Y,result:oe.promise}),oe}const A="esri.layers.mixins.EditBusLayer",S=Symbol(A);function N(K){return null!=K&&"object"==typeof K&&S in K}function L(K){return null!=K&&"object"==typeof K&&"gdbVersion"in K}function O(K,U,X){const Y=new URL(K).host,oe=w.Jp.get(Y),ne=se=>!se||se===oe;return ne(U)&&ne(X)||U===X}const $=K=>{var U;let X=class extends K{constructor(...Y){super(...Y),this[U]=!0,this._applyEditsHandler=oe=>{const{serviceUrl:ne,layerId:se,gdbVersion:te,mayReceiveServiceEdits:k,result:re}=oe,Q=ne===this.url,pe=null!=se&&null!=this.layerId&&se===this.layerId,fe=L(this),ce=L(this)&&O(ne,te,this.gdbVersion);if(!Q||fe&&!ce||!pe&&!k)return;const q=re.then(le=>{if(pe&&(le.addedFeatures.length||le.updatedFeatures.length||le.deletedFeatures.length||le.addedAttachments.length||le.updatedAttachments.length||le.deletedAttachments.length))return this.emit("edits",(0,V.d9)(le)),le;const ee=le.editedFeatures?.find(({layerId:ae})=>ae===this.layerId);if(ee){const{adds:ae,updates:ue,deletes:ge}=ee.editedFeatures,Ee={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:ae?ae.map(({attributes:be})=>({objectId:this.objectIdField&&be[this.objectIdField],globalId:this.globalIdField&&be[this.globalIdField]})):[],deletedFeatures:ge?ge.map(({attributes:be})=>({objectId:this.objectIdField&&be[this.objectIdField],globalId:this.globalIdField&&be[this.globalIdField]})):[],updatedFeatures:ue?ue.map(({current:{attributes:be}})=>({objectId:this.objectIdField&&be[this.objectIdField],globalId:this.globalIdField&&be[this.globalIdField]})):[],editedFeatures:(0,V.d9)(le.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,V.d9)(le.historicMoment)};return this.emit("edits",Ee),Ee}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:(0,V.d9)(le.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,V.d9)(le.historicMoment)}}).then(le=>("historicMoment"in this&&this.historicMoment!==le.historicMoment&&(0,w.JV)(ne,te)&&(this.historicMoment=le.historicMoment),le));this.emit("apply-edits",{result:q})},this._updateMomentHandler=oe=>{const{serviceUrl:ne,gdbVersion:se,moment:te}=oe,k=ne===this.url,re=L(this),Q=L(this)&&O(ne,se,this.gdbVersion),pe=L(this)&&!O(ne,this.gdbVersion,null);k&&re&&Q&&pe&&"historicMoment"in this&&this.historicMoment!==te&&(this.historicMoment=te)},this.when().then(()=>{this.addHandles(Z(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(I(this._updateMomentHandler))},()=>{})}};return U=S,X=(0,E._)([(0,T.j)(A)],X),X}},12621:(Ze,me,_)=>{"use strict";_.d(me,{b:()=>T});var E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(27173);const F={write:{allowNull:!0}},T=w=>{let j=class extends w{constructor(){super(...arguments),this.featureEffect=null}};return(0,E._)([(0,M.Cb)({type:B.Z,json:{origins:{"web-map":F,"portal-item":F}}})],j.prototype,"featureEffect",void 0),j=(0,E._)([(0,H.j)("esri.layers.mixins.FeatureEffectLayer")],j),j}},57942:(Ze,me,_)=>{"use strict";_.d(me,{B:()=>ee});var E=_(50484),M=_(83944),V=_(34222),x=_(4703),P=_(80543),B=(_(1535),_(62185)),F=_(10141),T=_(7547),w=_(76215),j=_(26894),Z=_(69063),I=_(43814),G=_(89713),W=_(8966),A=_(25387),S=_(89317),O=(_(57678),_(14007),_(764));let $=class extends((0,A.J)(S.wq)){constructor(ae){super(ae),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};(0,E._)([(0,P.Cb)()],$.prototype,"creatorField",void 0),(0,E._)([(0,P.Cb)()],$.prototype,"creationDateField",void 0),(0,E._)([(0,P.Cb)()],$.prototype,"editorField",void 0),(0,E._)([(0,P.Cb)()],$.prototype,"editDateField",void 0),(0,E._)([(0,P.Cb)()],$.prototype,"realm",void 0),(0,E._)([(0,P.Cb)((0,O.mi)("dateFieldsTimeReference",!0))],$.prototype,"timeZone",void 0),$=(0,E._)([(0,F.j)("esri.layers.support.EditFieldsInfo")],$);const K=$;let U=class extends((0,A.J)(S.wq)){constructor(ae){super(ae)}};(0,E._)([(0,P.Cb)({constructOnly:!0,json:{write:!0}})],U.prototype,"name",void 0),(0,E._)([(0,P.Cb)({constructOnly:!0,json:{write:!0}})],U.prototype,"fields",void 0),(0,E._)([(0,P.Cb)({constructOnly:!0,json:{write:!0}})],U.prototype,"isAscending",void 0),(0,E._)([(0,P.Cb)({constructOnly:!0,json:{write:!0}})],U.prototype,"indexType",void 0),(0,E._)([(0,P.Cb)({constructOnly:!0,json:{write:!0}})],U.prototype,"isUnique",void 0),(0,E._)([(0,P.Cb)({constructOnly:!0,json:{write:!0}})],U.prototype,"description",void 0),U=(0,E._)([(0,F.j)("esri.layers.support.FeatureIndex")],U);var X=_(43497),Y=_(49602);let oe=class extends((0,A.J)(S.wq)){constructor(ae){super(ae),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,E._)([(0,P.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],oe.prototype,"shapeAreaField",void 0),(0,E._)([(0,P.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],oe.prototype,"shapeLengthField",void 0),(0,E._)([(0,P.Cb)({type:String,json:{read:ae=>Y.gV.read(ae)||Y.Jo.read(ae)}})],oe.prototype,"units",void 0),oe=(0,E._)([(0,F.j)("esri.layers.support.GeometryFieldsInfo")],oe);const ne=oe;var se=_(39557),te=_(84303);const k=new te.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),re=new te.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Q=class extends((0,A.J)(S.wq)){constructor(ae){super(ae),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,E._)([(0,P.Cb)({json:{read:k.read,write:k.write}})],Q.prototype,"cardinality",void 0),(0,E._)([(0,P.Cb)({json:{read:!0,write:!0}})],Q.prototype,"composite",void 0),(0,E._)([(0,P.Cb)({json:{read:!0,write:!0}})],Q.prototype,"id",void 0),(0,E._)([(0,P.Cb)({json:{read:!0,write:!0}})],Q.prototype,"keyField",void 0),(0,E._)([(0,P.Cb)({json:{read:!0,write:!0}})],Q.prototype,"keyFieldInRelationshipTable",void 0),(0,E._)([(0,P.Cb)({json:{read:!0,write:!0}})],Q.prototype,"name",void 0),(0,E._)([(0,P.Cb)({json:{read:!0,write:!0}})],Q.prototype,"relatedTableId",void 0),(0,E._)([(0,P.Cb)({json:{read:!0,write:!0}})],Q.prototype,"relationshipTableId",void 0),(0,E._)([(0,P.Cb)({json:{read:re.read,write:re.write}})],Q.prototype,"role",void 0),Q=(0,E._)([(0,F.j)("esri.layers.support.Relationship")],Q);const pe=Q;var fe=_(37556),ce=_(59300);let q=class extends((0,A.J)(S.wq)){constructor(ae){super(ae),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(ae){if(!ae)return null;const ue={};for(const ge of Object.keys(ae))ue[ge]=(0,ce.im)(ae[ge]);return ue}writeDomains(ae,ue){if(!ae)return;const ge={};for(const Ee of Object.keys(ae))ae[Ee]&&(ge[Ee]=ae[Ee]?.toJSON());ue.domains=ge}};(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],q.prototype,"code",void 0),(0,E._)([(0,P.Cb)({type:Object,json:{write:!0}})],q.prototype,"defaultValues",void 0),(0,E._)([(0,P.Cb)({json:{write:!0}})],q.prototype,"domains",void 0),(0,E._)([(0,B.r)("domains")],q.prototype,"readDomains",null),(0,E._)([(0,T.c)("domains")],q.prototype,"writeDomains",null),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],q.prototype,"name",void 0),q=(0,E._)([(0,F.j)("esri.layers.support.Subtype")],q);const le=q,ee=ae=>{let ue=class extends ae{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(M.Z.ofType(U)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=I.Z.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:ge}=this;if(ge){const{query:Ee,operations:be,editing:ie}=ge;if(!Ee.supportsQueryByOthers||!Ee.supportsQueryByAnonymous||be.supportsEditing&&!(ie.supportsUpdateByOthers&&ie.supportsUpdateByAnonymous&&ie.supportsDeleteByOthers&&ie.supportsDeleteByAnonymous))return"load"}return this.userHasUpdateItemPrivileges?(0,X.uA)(this)?"load":this.hasUpdateItemRestrictions?ge.operations.supportsQuery?"editing":"load":null:this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions?"editing":null}readCapabilitiesFromService(ge,Ee){return(0,fe.h)(Ee,this.url)}readEditingInfo(ge,Ee){const{editingInfo:be}=Ee;return be?{lastEditDate:null!=be.lastEditDate?new Date(be.lastEditDate):null}:null}get effectiveCapabilities(){const ge=this.capabilities;if(!ge)return null;const Ee=(0,V.d9)(ge),{operations:be,editing:ie}=Ee;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(be.supportsQuery=!0),Ee):this.userHasUpdateItemPrivileges?(be.supportsAdd=be.supportsDelete=be.supportsEditing=be.supportsQuery=be.supportsUpdate=ie.supportsDeleteByOthers=ie.supportsGeometryUpdate=ie.supportsUpdateByOthers=!0,Ee):(this.userHasFullEditingPrivileges&&be.supportsEditing&&(be.supportsAdd=be.supportsDelete=be.supportsUpdate=ie.supportsGeometryUpdate=!0),Ee)}readGlobalIdFieldFromService(ge,Ee){return(0,X.rk)(Ee)}get hasFullEditingRestrictions(){const ge=this.capabilities;if(!ge||this.sourceJSON?.isMultiServicesView)return!1;const{operations:Ee,editing:be}=ge;return Ee.supportsEditing&&!(Ee.supportsAdd&&Ee.supportsDelete&&Ee.supportsUpdate&&be.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const ge=this.capabilities;if(!ge)return!1;const{operations:Ee,editing:be}=ge;return this.sourceJSON?.isMultiServicesView?!Ee.supportsQuery:!(Ee.supportsAdd&&Ee.supportsDelete&&Ee.supportsEditing&&Ee.supportsQuery&&Ee.supportsUpdate&&be.supportsDeleteByOthers&&be.supportsGeometryUpdate&&be.supportsUpdateByOthers)}readIsTableFromService(ge,Ee){return"Table"===Ee.type}readMaxScale(ge,Ee){return Ee.effectiveMaxScale||ge||0}readMinScale(ge,Ee){return Ee.effectiveMinScale||ge||0}readObjectIdFieldFromService(ge,Ee){return(0,X.kZ)(Ee)}readServiceDefinitionExpression(ge,Ee){return Ee.definitionQuery||Ee.definitionExpression}set url(ge){const Ee=(0,G.XG)({layer:this,url:ge,nonStandardUrlAllowed:!0,logger:x.Z.getLogger(this)});this._set("url",Ee.url),null!=Ee.layerId&&this._set("layerId",Ee.layerId)}writeUrl(ge,Ee,be,ie){(0,G.wH)(this,ge,null,Ee,ie)}readVersion(ge,Ee){return(0,X.JY)(Ee)}};return(0,E._)([(0,P.Cb)({readOnly:!0})],ue.prototype,"authenticationTriggerEvent",null),(0,E._)([(0,P.Cb)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],ue.prototype,"copyright",void 0),(0,E._)([(0,P.Cb)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],ue.prototype,"capabilities",void 0),(0,E._)([(0,B.r)("service","capabilities")],ue.prototype,"readCapabilitiesFromService",null),(0,E._)([(0,P.Cb)((0,O.mi)("dateFieldsTimeReference"))],ue.prototype,"dateFieldsTimeZone",void 0),(0,E._)([(0,P.Cb)({type:Boolean})],ue.prototype,"datesInUnknownTimezone",void 0),(0,E._)([(0,P.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ue.prototype,"definitionExpression",void 0),(0,E._)([(0,P.Cb)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],ue.prototype,"displayField",void 0),(0,E._)([(0,P.Cb)({readOnly:!0,type:K})],ue.prototype,"editFieldsInfo",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],ue.prototype,"editingInfo",void 0),(0,E._)([(0,B.r)("editingInfo")],ue.prototype,"readEditingInfo",null),(0,E._)([(0,P.Cb)({readOnly:!0})],ue.prototype,"effectiveCapabilities",null),(0,E._)([(0,P.Cb)((()=>{const ge=(0,V.d9)(W.PV),Ee=ge.json.origins;return Ee["web-map"]={read:!1,write:!1},Ee["portal-item"]={read:!1,write:!1},ge})())],ue.prototype,"elevationInfo",void 0),(0,E._)([(0,P.Cb)({type:se.Z,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:w.C}}}}})],ue.prototype,"floorInfo",void 0),(0,E._)([(0,P.Cb)({type:j.Z,json:{origins:{service:{read:{source:"extent"}}}}})],ue.prototype,"fullExtent",void 0),(0,E._)([(0,P.Cb)()],ue.prototype,"gdbVersion",void 0),(0,E._)([(0,P.Cb)({readOnly:!0,type:ne,json:{read:{source:"geometryProperties"}}})],ue.prototype,"geometryFieldsInfo",void 0),(0,E._)([(0,P.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:X.Fr.read}}}})],ue.prototype,"geometryType",void 0),(0,E._)([(0,P.Cb)({type:String})],ue.prototype,"globalIdField",void 0),(0,E._)([(0,B.r)("service","globalIdField",["globalIdField","fields"])],ue.prototype,"readGlobalIdFieldFromService",null),(0,E._)([(0,P.Cb)({readOnly:!0})],ue.prototype,"hasFullEditingRestrictions",null),(0,E._)([(0,P.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],ue.prototype,"hasM",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],ue.prototype,"hasUpdateItemRestrictions",null),(0,E._)([(0,P.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],ue.prototype,"hasZ",void 0),(0,E._)([(0,P.Cb)({readOnly:!0,type:Z.Z})],ue.prototype,"heightModelInfo",void 0),(0,E._)([(0,P.Cb)({type:Date})],ue.prototype,"historicMoment",void 0),(0,E._)([(0,P.Cb)({type:M.Z.ofType(U),readOnly:!0})],ue.prototype,"indexes",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],ue.prototype,"isTable",void 0),(0,E._)([(0,B.r)("service","isTable",["type"])],ue.prototype,"readIsTableFromService",null),(0,E._)([(0,P.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],ue.prototype,"layerId",void 0),(0,E._)([(0,P.Cb)(W.u1)],ue.prototype,"maxScale",void 0),(0,E._)([(0,B.r)("service","maxScale",["maxScale","effectiveMaxScale"])],ue.prototype,"readMaxScale",null),(0,E._)([(0,P.Cb)(W.rO)],ue.prototype,"minScale",void 0),(0,E._)([(0,B.r)("service","minScale",["minScale","effectiveMinScale"])],ue.prototype,"readMinScale",null),(0,E._)([(0,P.Cb)({type:String})],ue.prototype,"objectIdField",void 0),(0,E._)([(0,B.r)("service","objectIdField",["objectIdField","fields"])],ue.prototype,"readObjectIdFieldFromService",null),(0,E._)([(0,P.Cb)((0,O.mi)("preferredTimeReference"))],ue.prototype,"preferredTimeZone",void 0),(0,E._)([(0,P.Cb)({type:[pe],readOnly:!0})],ue.prototype,"relationships",void 0),(0,E._)([(0,P.Cb)({type:Boolean})],ue.prototype,"returnM",void 0),(0,E._)([(0,P.Cb)({type:Boolean})],ue.prototype,"returnZ",void 0),(0,E._)([(0,P.Cb)({readOnly:!0,json:{write:!1}})],ue.prototype,"serverGens",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],ue.prototype,"serviceDefinitionExpression",void 0),(0,E._)([(0,B.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],ue.prototype,"readServiceDefinitionExpression",null),(0,E._)([(0,P.Cb)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],ue.prototype,"serviceItemId",void 0),(0,E._)([(0,P.Cb)()],ue.prototype,"sourceJSON",void 0),(0,E._)([(0,P.Cb)({type:I.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],ue.prototype,"spatialReference",void 0),(0,E._)([(0,P.Cb)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],ue.prototype,"subtypeField",void 0),(0,E._)([(0,P.Cb)({type:[le],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],ue.prototype,"subtypes",void 0),(0,E._)([(0,P.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],ue.prototype,"trackIdField",void 0),(0,E._)([(0,P.Cb)(W.HQ)],ue.prototype,"url",null),(0,E._)([(0,T.c)("url")],ue.prototype,"writeUrl",null),(0,E._)([(0,P.Cb)({json:{origins:{service:{read:!0}},read:!1}})],ue.prototype,"version",void 0),(0,E._)([(0,B.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],ue.prototype,"readVersion",null),ue=(0,E._)([(0,F.j)("esri.layers.mixins.FeatureLayerBase")],ue),ue}},96159:(Ze,me,_)=>{"use strict";_.d(me,{M:()=>Be});var k,E=_(50484),M=_(77675),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(53883),T=_(76215),w=_(30664),j=_(62691),N=(_(36699),_(15212),_(53722),_(82752),_(28999),_(38748),_(50923)),O=(_(42212),_(91963)),$=_(41007),K=_(34222),U=_(71763),X=_(21070),Y=_(62185),oe=_(7547),ne=_(8966),se=_(43497),te=_(40591);let Q=k=class extends w.B{constructor(we){super(we),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(we,Me,He){const xe=we.filter(Xe=>"avg_angle"!==Xe.statisticType).map(Xe=>Xe.toJSON());(0,U.RB)(He,xe,Me)}readRenderer(we,Me,He){const xe=Me.drawingInfo?.renderer;return xe?(0,O.a)(xe,Me,He)??void 0:(0,se.Ob)(Me,He)}clone(){return new k({fields:(0,K.d9)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,K.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,K.d9)(this.popupTemplate),renderer:(0,K.d9)(this.renderer)})}};(0,E._)([(0,X.J)({binning:"binning"})],Q.prototype,"type",void 0),(0,E._)([(0,X.J)({geohash:"geohash"})],Q.prototype,"binType",void 0),(0,E._)([(0,V.Cb)({type:Number,range:{min:1,max:9},json:{write:!0}})],Q.prototype,"fixedBinLevel",void 0),(0,E._)([(0,V.Cb)({type:[te.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Q.prototype,"labelingInfo",void 0),(0,E._)([(0,V.Cb)(ne.iR)],Q.prototype,"labelsVisible",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Q.prototype,"maxScale",void 0),(0,E._)([(0,V.Cb)(ne.C_)],Q.prototype,"popupEnabled",void 0),(0,E._)([(0,V.Cb)({type:j.Z,json:{name:"popupInfo",write:!0}})],Q.prototype,"popupTemplate",void 0),(0,E._)([(0,V.Cb)({type:[F.Z],json:{write:!0}})],Q.prototype,"fields",void 0),(0,E._)([(0,oe.c)("fields")],Q.prototype,"writeFields",null),(0,E._)([(0,V.Cb)({types:$.A,json:{write:{target:"drawingInfo.renderer"}}})],Q.prototype,"renderer",void 0),(0,E._)([(0,Y.r)("renderer",["drawingInfo.renderer"])],Q.prototype,"readRenderer",null),Q=k=(0,E._)([(0,B.j)("esri.layers.support.FeatureReductionBinning")],Q);const pe=Q;var le,fe=_(71950),ce=_(89317),q=_(55768);function ae(we){return"simple"===we.type&&!we.visualVariables?.length}let ue=le=class extends ce.wq{constructor(we){super(we),this.type="cluster",this.clusterRadius=(0,q.t_)("80px"),this.clusterMinSize=(0,q.t_)("12px"),this.clusterMaxSize=(0,q.t_)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}readRenderer(we,Me,He){const xe=Me.drawingInfo?.renderer;return xe?.authoringInfo?.isAutoGenerated?null:xe?ae(xe)?null:(0,O.a)(xe,Me,He)??void 0:(0,se.Ob)(Me,He)}readSymbol(we,Me,He){const xe=Me.drawingInfo?.renderer;return xe?.authoringInfo?.isAutoGenerated?null:xe&&ae(xe)?(0,O.a)(xe,Me,He)?.symbol:null}writeSymbol(we,Me,He,xe){const Xe=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||Xe){const J=new N.Z({symbol:we});Me.drawingInfo={renderer:J.write({},xe)}}}writeFields(we,Me,He){const xe=we.filter(Xe=>"avg_angle"!==Xe.statisticType).map(Xe=>Xe.toJSON());(0,U.RB)(He,xe,Me)}readFields(we,Me,He){return we.filter(xe=>!xe.isAutoGenerated).map(xe=>F.Z.fromJSON(xe))}clone(){return new le({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,K.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,K.d9)(this.fields),maxScale:this.maxScale,renderer:(0,K.d9)(this.renderer),symbol:(0,K.d9)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,K.d9)(this.popupTemplate)})}};(0,E._)([(0,V.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],ue.prototype,"type",void 0),(0,E._)([(0,V.Cb)({type:Number,cast:we=>"auto"===we?we:(0,q.t_)(we),json:{write:!0}})],ue.prototype,"clusterRadius",void 0),(0,E._)([(0,V.Cb)({type:Number,cast:q.t_,json:{write:!0}})],ue.prototype,"clusterMinSize",void 0),(0,E._)([(0,V.Cb)({type:Number,cast:q.t_,json:{write:!0}})],ue.prototype,"clusterMaxSize",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ue.prototype,"maxScale",void 0),(0,E._)([(0,V.Cb)(ne.C_)],ue.prototype,"popupEnabled",void 0),(0,E._)([(0,V.Cb)({type:j.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ue.prototype,"popupTemplate",void 0),(0,E._)([(0,V.Cb)({types:$.A,json:{write:{target:"drawingInfo.renderer"}}})],ue.prototype,"renderer",void 0),(0,E._)([(0,Y.r)("renderer",["drawingInfo.renderer"])],ue.prototype,"readRenderer",null),(0,E._)([(0,V.Cb)({types:fe.AH})],ue.prototype,"symbol",void 0),(0,E._)([(0,Y.r)("symbol",["drawingInfo.renderer"])],ue.prototype,"readSymbol",null),(0,E._)([(0,oe.c)("symbol")],ue.prototype,"writeSymbol",null),(0,E._)([(0,V.Cb)({type:[te.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ue.prototype,"labelingInfo",void 0),(0,E._)([(0,V.Cb)(ne.iR)],ue.prototype,"labelsVisible",void 0),(0,E._)([(0,V.Cb)({type:[F.Z],json:{write:!0}})],ue.prototype,"fields",void 0),(0,E._)([(0,oe.c)("fields")],ue.prototype,"writeFields",null),(0,E._)([(0,Y.r)("fields")],ue.prototype,"readFields",null),ue=le=(0,E._)([(0,B.j)("esri.layers.support.FeatureReductionCluster")],ue);const ge=ue;var Ee=_(54887);const be={key:"type",base:w.B,typeMap:{cluster:ge,binning:pe}},ie={types:{key:"type",base:w.B,typeMap:{selection:Ee.Z,cluster:ge,binning:pe}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:be},"portal-item":{types:be},"web-scene":{types:{key:"type",base:w.B,typeMap:{selection:Ee.Z}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:T.C}}}}};var De=_(7351);const Be=we=>{let Me=class extends we{constructor(...He){super(...He),this.addHandles((0,M.YP)(()=>this.renderer,()=>{if(this.featureReduction){const xe=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",xe)}},M.Z_))}set featureReduction(He){const xe=this._normalizeFeatureReduction(He);this._set("featureReduction",xe)}set renderer(He){}_normalizeFeatureReduction(He){if("cluster"!==He?.type)return He;const xe=He.clone(),Xe=[new F.Z({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],J=(xe.fields??[]).filter(Re=>!Re.isAutoGenerated);if(He.renderer&&!He.renderer.authoringInfo?.isAutoGenerated)return xe.fields=[...Xe,...J],xe;if(He.symbol)return xe.fields=[...Xe,...J],xe.renderer=null,xe;if(!this.renderer)return He;const ye=(0,De.S1)(Xe,this.renderer,He,null,!1);return xe.fields=[...Xe,...J],xe.renderer=ye,xe}};return(0,E._)([(0,V.Cb)(ie)],Me.prototype,"featureReduction",null),Me=(0,E._)([(0,B.j)("esri.layers.mixins.FeatureReductionLayer")],Me),Me}},80099:(Ze,me,_)=>{"use strict";_.d(me,{q:()=>L});var E=_(50484),M=_(57964),V=_(6785),x=_(80543),F=(_(1535),_(57678),_(14007),_(62185)),T=_(10141),w=_(7547),j=_(76215),Z=_(68090),I=_(82206);const G={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},W={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},A={ArcGISFeatureLayer:!0},S={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":G,"web-map/basemap":W,"web-map/tables":A,"link-chart/operational-layers":{...G,LinkChartLayer:!0},"link-chart/basemap":W,"link-chart/tables":A,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISImageServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0}};var N=_(8966);const L=$=>{let K=class extends ${constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(U,X,Y){return"Group Layer"===Y?.portalItem?.type?void 0:U}writeListMode(U,X,Y,oe){(oe&&"ground"===oe.layerContainerType||U&&(0,I.d)(this,Y,{},oe))&&(X[Y]=U)}writeOperationalLayerType(U,X,Y,oe){U&&"tables"!==oe?.layerContainerType&&(X.layerType=U)}writeTitle(U,X){X.title=U??"Layer"}read(U,X){X&&(X.layer=this),(0,Z.$)(this,U,Y=>super.read(U,Y),X)}write(U,X){if(!this.persistenceEnabled)return null;if(X?.origin){const ne=`${X.origin}/${X.layerContainerType||"operational-layers"}`;let te=!!S[ne]?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===ne&&(te=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===ne&&(te=!1),!te)return X.messages?.push(new M.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${ne}'`,{layer:this})),null}const Y=super.write(U,{...X,layer:this}),oe=!!X&&!!X.messages&&!!X.messages.filter(ne=>ne instanceof M.Z&&"web-document-write:property-required"===ne.name).length;return(0,V.jc)(Y?.url)?(X?.messages?.push(new M.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&oe?null:Y}beforeSave(){}};return(0,E._)([(0,x.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],K.prototype,"id",void 0),(0,E._)([(0,F.r)("id",["id"])],K.prototype,"readId",null),(0,E._)([(0,x.Cb)(N.rT)],K.prototype,"listMode",void 0),(0,E._)([(0,w.c)("listMode")],K.prototype,"writeListMode",null),(0,E._)([(0,x.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:j.C}}}}})],K.prototype,"operationalLayerType",void 0),(0,E._)([(0,w.c)("operationalLayerType")],K.prototype,"writeOperationalLayerType",null),(0,E._)([(0,x.Cb)(N.Oh)],K.prototype,"opacity",void 0),(0,E._)([(0,x.Cb)({type:Boolean,readOnly:!1})],K.prototype,"persistenceEnabled",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],K.prototype,"title",void 0),(0,E._)([(0,w.c)("title"),(0,w.c)(["web-scene"],"title")],K.prototype,"writeTitle",null),(0,E._)([(0,x.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:j.C}}},name:"visibility",write:!0}})],K.prototype,"visible",void 0),K=(0,E._)([(0,T.j)("esri.layers.mixins.OperationalLayer")],K),K}},52496:(Ze,me,_)=>{"use strict";_.d(me,{c:()=>A});var w,E=_(50484),M=_(71763),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(84303),T=_(89317);const j=new F.X({asc:"ascending",desc:"descending"});let Z=w=class extends T.wq{constructor(S){super(S),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new w({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],Z.prototype,"field",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],Z.prototype,"valueExpression",void 0),(0,E._)([(0,V.Cb)({type:j.apiValues,json:{read:j.read,write:j.write}})],Z.prototype,"order",void 0),Z=w=(0,E._)([(0,B.j)("esri.layers.support.OrderByInfo")],Z);const I=Z;function G(S,N,L){if(!S)return null;const O=S.find(K=>!!K.field);if(!O)return null;const $=new I;return $.read(O,L),[$]}function W(S,N,L,O){const $=S.find(K=>!!K.field);$&&(0,M.RB)(L,[$.toJSON()],N)}const A=S=>{let N=class extends S{constructor(){super(...arguments),this.orderBy=null}};return(0,E._)([(0,V.Cb)({type:[I],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:G},write:{target:"layerDefinition.orderBy",writer:W}}})],N.prototype,"orderBy",void 0),N=(0,E._)([(0,B.j)("esri.layers.mixins.OrderedLayer")],N),N}},70509:(Ze,me,_)=>{"use strict";_.d(me,{I:()=>X});var E=_(15861),M=_(50484),V=_(11931),x=_(26152),P=_(66476),H=_(37636),B=_(57964),F=_(4703),T=_(51172),w=_(79412),j=_(6785),Z=_(80543),A=(_(1535),_(57678),_(14007),_(62185)),S=_(10141),N=_(7547),L=_(85971),O=_(61018),$=_(27835),K=_(57437),U=_(50318);const X=oe=>{let ne=class extends oe{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,T.SC)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(se){se!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",se))}readPortalItem(se,te,k){if(te.itemId)return new $.default({id:te.itemId,portal:k?.portal})}writePortalItem(se,te){se?.id&&(te.itemId=se.id)}loadFromPortal(se,te){var k=this;return(0,E.Z)(function*(){if(k.portalItem?.id)try{const{load:re}=yield Promise.all([_.e(2772),_.e(8592),_.e(6964)]).then(_.bind(_,36964));return(0,w.k_)(te),yield re({instance:k,supportedTypes:se.supportedTypes,validateItem:se.validateItem,supportsData:se.supportsData,layerModuleTypeMap:se.layerModuleTypeMap},te)}catch(re){throw(0,w.D_)(re)||F.Z.getLogger(k).warn(`Failed to load layer (${k.title}, ${k.id}) portal item (${k.portalItem.id})\n  ${re}`),re}})()}finishLoadEditablePortalLayer(se){var te=this;return(0,E.Z)(function*(){te._set("userHasEditingPrivileges",yield te._fetchUserHasEditingPrivileges(se).catch(k=>((0,w.r9)(k),!0)))})()}setUserPrivileges(se,te){var k=this;return(0,E.Z)(function*(){if(!V.default.userPrivilegesApplied)return k.finishLoadEditablePortalLayer(te);if(k.url)try{const{features:{edit:re,fullEdit:Q},content:{updateItem:pe}}=yield k._fetchUserPrivileges(se,te);k._set("userHasEditingPrivileges",re),k._set("userHasFullEditingPrivileges",Q),k._set("userHasUpdateItemPrivileges",pe)}catch(re){(0,w.r9)(re)}})()}_fetchUserPrivileges(se,te){var k=this;return(0,E.Z)(function*(){let re=k.portalItem;if(!se||!re||!re.loaded||re.sourceUrl)return k._fetchFallbackUserPrivileges(te);const Q=se===re.id;if(Q&&re.portal.user)return(0,U.Ss)(re);let pe,fe;if(Q)pe=re.portal.url;else try{pe=yield(0,L.oP)(k.url,te)}catch(ee){(0,w.r9)(ee)}if(!pe||!(0,j.Zo)(pe,re.portal.url))return k._fetchFallbackUserPrivileges(te);try{const ee=null!=te?te.signal:null;fe=yield x.id?.getCredential(`${pe}/sharing`,{prompt:!1,signal:ee})}catch(ee){(0,w.r9)(ee)}if(!fe)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(Q?yield re.reload():(re=new $.default({id:se,portal:{url:pe}}),yield re.load(te)),re.portal.user)return(0,U.Ss)(re)}catch(ee){(0,w.r9)(ee)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(se){var te=this;return(0,E.Z)(function*(){let k=!0;try{k=yield te._fetchUserHasEditingPrivileges(se)}catch(re){(0,w.r9)(re)}return{features:{edit:k,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(se){var te=this;return(0,E.Z)(function*(){const k=te.url?x.id?.findCredential(te.url):null;if(!k)return!0;const re=Y.credential===k?Y.user:yield te._fetchEditingUser(se);return Y.credential=k,Y.user=re,null==re?.privileges||re.privileges.includes("features:user:edit")})()}_fetchEditingUser(se){var te=this;return(0,E.Z)(function*(){const k=te.portalItem?.portal?.user;if(k)return k;const re=x.id.findServerInfo(te.url??"");if(!re?.owningSystemUrl)return null;const Q=`${re.owningSystemUrl}/sharing/rest`,pe=O.Z.getDefault();if(pe&&pe.loaded&&(0,j.Fv)(pe.restUrl)===(0,j.Fv)(Q))return pe.user;const fe=`${Q}/community/self`,ce=null!=se?se.signal:null,q=yield(0,H.q6)((0,P.Z)(fe,{authMode:"no-prompt",query:{f:"json"},signal:ce}));return q.ok?K.Z.fromJSON(q.value.data):null})()}read(se,te){te&&(te.layer=this),super.read(se,te)}write(se,te){const k=te?.portal,re=this.portalItem?.id&&(this.portalItem.portal||O.Z.getDefault());return k&&re&&!(0,j.tm)(re.restUrl,k.restUrl)?(te.messages&&te.messages.push(new B.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(se,{...te,layer:this})}};return(0,M._)([(0,Z.Cb)({type:$.default})],ne.prototype,"portalItem",null),(0,M._)([(0,A.r)("web-document","portalItem",["itemId"])],ne.prototype,"readPortalItem",null),(0,M._)([(0,N.c)("web-document","portalItem",{itemId:{type:String}})],ne.prototype,"writePortalItem",null),(0,M._)([(0,Z.Cb)({clonable:!1})],ne.prototype,"resourceReferences",void 0),(0,M._)([(0,Z.Cb)({type:Boolean,readOnly:!0})],ne.prototype,"userHasEditingPrivileges",void 0),(0,M._)([(0,Z.Cb)({type:Boolean,readOnly:!0})],ne.prototype,"userHasFullEditingPrivileges",void 0),(0,M._)([(0,Z.Cb)({type:Boolean,readOnly:!0})],ne.prototype,"userHasUpdateItemPrivileges",void 0),ne=(0,M._)([(0,S.j)("esri.layers.mixins.PortalLayer")],ne),ne},Y={credential:null,user:null}},25836:(Ze,me,_)=>{"use strict";_.d(me,{Q:()=>se});var E=_(15861),M=_(50484),V=_(4703),x=_(79412),P=_(80543),H=_(73018),T=(_(57678),_(14007),_(10141)),w=_(76215),j=_(83944),W=(_(37636),_(57964),_(12926),_(43571));const A=new j.Z,S=new WeakMap;function $(te,k){return Number.isFinite(te)&&Number.isFinite(k)?k<=0?te:$(k,te%k):0}let K=0,U=0;function X(){const te=Date.now();let k=!1;for(const re of A){const Q=re.deref();Q?Q.refreshInterval&&te-(S.get(Q)??0)+5>=6e4*Q.refreshInterval&&(S.set(Q,te),Q.refresh(te)):k=!0}if(k)for(let re=A.length-1;re>=0;re--)A.at(re).deref()||A.removeAt(re)}(0,W.EH)(()=>{const te=Date.now();let k=0;for(const re of A){const Q=re.deref();Q&&(k=$(Math.round(6e4*Q.refreshInterval),k),Q.refreshInterval?S.get(Q)||S.set(Q,te):S.delete(Q))}if(k!==U){if(U=k,clearInterval(K),0===U)return void(K=0);K=setInterval(X,U)}});const se=te=>{let k=class extends te{constructor(...re){super(...re),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,x.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||function N(te){(function O(te){return null!=te&&"object"==typeof te&&"refreshInterval"in te&&"refresh"in te})(te)&&A.push(new WeakRef(te))}(this)},()=>{})}destroy(){!function L(te){const k=A.find(re=>re.deref()===te);k&&A.remove(k)}(this)}castRefreshInterval(re){return re>=.1?re:re<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(re=Date.now()){(0,x.R8)(this._debounceHasDataChanged()).then(Q=>{Q&&this._set("refreshTimestamp",re),this.emit("refresh",{dataChanged:Q})},Q=>{V.Z.getLogger(this).error(Q),this.emit("refresh",{dataChanged:!1,error:Q})})}hasDataChanged(){return(0,E.Z)(function*(){return!0})()}get test(){const re=this;return{set refreshInterval(Q){re._set("refreshInterval",Q)}}}};return(0,M._)([(0,P.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:w.C}}}}})],k.prototype,"refreshInterval",void 0),(0,M._)([(0,H.p)("refreshInterval")],k.prototype,"castRefreshInterval",null),(0,M._)([(0,P.Cb)({readOnly:!0})],k.prototype,"refreshTimestamp",void 0),(0,M._)([(0,P.Cb)({readOnly:!0})],k.prototype,"refreshParameters",null),k=(0,M._)([(0,T.j)("esri.layers.mixins.RefreshableLayer")],k),k}},29717:(Ze,me,_)=>{"use strict";_.d(me,{M:()=>B});var E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141));const B=T=>{let w=class extends T{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const j={minScale:this.minScale,maxScale:this.maxScale},Z=this.parent;Z&&"effectiveScaleRange"in Z&&function F(T,w){T.minScale=T.minScale>0?w.minScale>0?Math.min(T.minScale,w.minScale):T.minScale:w.minScale,T.maxScale=T.maxScale>0?w.maxScale>0?Math.max(T.maxScale,w.maxScale):T.maxScale:w.maxScale}(j,Z.effectiveScaleRange);const I=this._get("effectiveScaleRange");return I&&I.minScale===j.minScale&&I.maxScale===j.maxScale?I:j}};return(0,E._)([(0,M.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],w.prototype,"minScale",void 0),(0,E._)([(0,M.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],w.prototype,"maxScale",void 0),(0,E._)([(0,M.Cb)({readOnly:!0})],w.prototype,"effectiveScaleRange",null),w=(0,E._)([(0,H.j)("esri.layers.mixins.ScaleRangeLayer")],w),w}},12522:(Ze,me,_)=>{"use strict";_.d(me,{n:()=>I});var E=_(50484),M=_(34411),V=_(95539),x=_(80543),F=(_(1535),_(57678),_(14007),_(62185)),T=_(10141),w=_(85295),j=_(97403),Z=_(81238);const I=G=>{let W=class extends G{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(A,S){const N=S.timeInfo.exportOptions;if(!N)return null;const L=N.timeOffset,O=Z.v.fromJSON(N.timeOffsetUnits);return L&&O?new V.Z({value:L,unit:O}):null}set timeInfo(A){(0,w.UF)(A,this.fieldsIndex),this._set("timeInfo",A)}};return(0,E._)([(0,x.Cb)({type:M.Z,json:{write:!1}})],W.prototype,"timeExtent",void 0),(0,E._)([(0,x.Cb)({type:V.Z})],W.prototype,"timeOffset",void 0),(0,E._)([(0,F.r)("service","timeOffset",["timeInfo.exportOptions"])],W.prototype,"readOffset",null),(0,E._)([(0,x.Cb)({value:null,type:j.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],W.prototype,"timeInfo",null),(0,E._)([(0,x.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],W.prototype,"useViewTime",void 0),W=(0,E._)([(0,T.j)("esri.layers.mixins.TemporalLayer")],W),W}},53883:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(89317),V=_(34222),x=_(80543),H=(_(1535),_(10141)),B=_(88367);let T=F=class extends M.wq{constructor(j){super(j),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new F({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,V.d9)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],T.prototype,"isAutoGenerated",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],T.prototype,"name",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],T.prototype,"alias",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],T.prototype,"onStatisticField",void 0),(0,E._)([(0,x.Cb)({type:B.Z,json:{write:!0}})],T.prototype,"onStatisticExpression",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],T.prototype,"statisticType",void 0),T=F=(0,E._)([(0,H.j)("esri.layers.support.AggregateField")],T);const w=T},88367:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var E=_(50484),M=_(25387),V=_(89317),x=_(80543),F=(_(1535),_(57678),_(14007),_(10141));let T=class extends((0,M.J)(V.wq)){constructor(j){super(j),this.expression=null,this.title=null,this.returnType=null}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],T.prototype,"expression",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],T.prototype,"returnType",void 0),T=(0,E._)([(0,F.j)("esri.layers.support.ExpressionInfo")],T);const w=T},27173:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>S});var Z,E=_(50484),M=_(57964),V=_(89317),x=_(71763),P=_(80543),T=(_(1535),_(57678),_(14007),_(10141)),w=_(53984),j=_(74321);const I={read:{reader:w.ij},write:{writer:w.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},G={read:{reader:w.ij},write:{writer:w.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},W={name:"showExcludedLabels",default:!0};let A=Z=class extends V.wq{constructor(N){super(N),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(N,L){const O=super.write(N,L);if(L?.origin){if(O.filter){const $=Object.keys(O.filter);if($.length>1||"where"!==$[0])return L.messages?.push(new M.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:L.layer,effect:this})),null}if("showExcludedLabels"in O)return L.messages?.push(new M.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:L.layer,effect:this})),null}return O}clone(){return new Z({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,E._)([(0,P.Cb)({type:j.Z,json:{write:{allowNull:!0,writer(N,L,O,$){const K=N?.write({},$);K&&0!==Object.keys(K).length?(0,x.RB)(O,K,L):(0,x.RB)(O,null,L)}}}})],A.prototype,"filter",void 0),(0,E._)([(0,P.Cb)({json:{write:!0,origins:{"web-map":I,"portal-item":I}}})],A.prototype,"includedEffect",void 0),(0,E._)([(0,P.Cb)({json:{write:!0,origins:{"web-map":G,"portal-item":G}}})],A.prototype,"excludedEffect",void 0),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":W,"portal-item":W}}})],A.prototype,"excludedLabelsVisible",void 0),A=Z=(0,E._)([(0,T.j)("esri.layers.support.FeatureEffect")],A);const S=A},74321:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>W});var j,E=_(50484),M=_(2189),V=_(34411),x=_(84303),P=_(89317),H=_(34222),B=_(80543),T=(_(1535),_(10141)),w=_(91866);const Z=new x.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),I=new x.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let G=j=class extends P.wq{constructor(A){super(A),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(A={}){const{where:S,geometry:N,spatialRelationship:L,timeExtent:O,objectIds:$,units:K,distance:U}=this;return new w.Z({geometry:(0,H.d9)(N),objectIds:(0,H.d9)($),spatialRelationship:L,timeExtent:(0,H.d9)(O),where:S,units:K,distance:U,...A})}clone(){const{where:A,geometry:S,spatialRelationship:N,timeExtent:L,objectIds:O,units:$,distance:K}=this;return new j({geometry:(0,H.d9)(S),objectIds:(0,H.d9)(O),spatialRelationship:N,timeExtent:(0,H.d9)(L),where:A,units:$,distance:K})}};(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],G.prototype,"where",void 0),(0,E._)([(0,B.Cb)({types:M.qM,json:{write:!0}})],G.prototype,"geometry",void 0),(0,E._)([(0,B.Cb)({type:Z.apiValues,json:{name:"spatialRel",read:{reader:Z.read},write:{allowNull:!1,writer:Z.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],G.prototype,"spatialRelationship",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy(A){return{enabled:null!=A&&null!=this.geometry}}}}})],G.prototype,"distance",void 0),(0,E._)([(0,B.Cb)({type:[Number],json:{write:!0}})],G.prototype,"objectIds",void 0),(0,E._)([(0,B.Cb)({type:I.apiValues,json:{read:I.read,write:{writer:I.write,overridePolicy(A){return{enabled:null!=A&&null!=this.geometry}}}}})],G.prototype,"units",void 0),(0,E._)([(0,B.Cb)({type:V.Z,json:{write:!0}})],G.prototype,"timeExtent",void 0),G=j=(0,E._)([(0,T.j)("esri.layers.support.FeatureFilter")],G);const W=G},30664:(Ze,me,_)=>{"use strict";_.d(me,{B:()=>F});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(){super(...arguments),this.type=null}};(0,E._)([(0,V.Cb)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=(0,E._)([(0,B.j)("esri.layers.support.FeatureReduction")],F)},54887:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(30664);let T=F=class extends B.B{constructor(j){super(j),this.type="selection"}clone(){return new F}};(0,E._)([(0,M.Cb)({type:["selection"]})],T.prototype,"type",void 0),T=F=(0,E._)([(0,H.j)("esri.layers.support.FeatureReductionSelection")],T);const w=T},30457:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var E=_(50484),M=_(25387),V=_(84303),x=_(89317),P=_(80543),T=(_(1535),_(57678),_(14007),_(10141));const w=new V.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let j=class extends((0,M.J)(x.wq)){constructor(I){super(I),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,E._)([(0,P.Cb)({json:{write:!0}})],j.prototype,"name",void 0),(0,E._)([(0,P.Cb)({json:{write:!0}})],j.prototype,"description",void 0),(0,E._)([(0,P.Cb)({json:{read:w.read,write:w.write}})],j.prototype,"drawingTool",void 0),(0,E._)([(0,P.Cb)({json:{write:!0}})],j.prototype,"prototype",void 0),(0,E._)([(0,P.Cb)({json:{write:!0}})],j.prototype,"thumbnail",void 0),j=(0,E._)([(0,T.j)("esri.layers.support.FeatureTemplate")],j);const Z=j},50243:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var E=_(50484),M=_(25387),V=_(89317),x=_(80543),F=(_(1535),_(57678),_(14007),_(62185)),T=_(10141),w=_(7547),j=_(59300),Z=_(30457);let I=class extends((0,M.J)(V.wq)){constructor(W){super(W),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(W){const A={};for(const S of Object.keys(W))A[S]=(0,j.im)(W[S]);return A}writeDomains(W,A){const S={};for(const N of Object.keys(W))W[N]&&(S[N]=W[N]?.toJSON());A.domains=S}};(0,E._)([(0,x.Cb)({json:{write:!0}})],I.prototype,"id",void 0),(0,E._)([(0,x.Cb)({json:{write:!0}})],I.prototype,"name",void 0),(0,E._)([(0,x.Cb)({json:{write:!0}})],I.prototype,"domains",void 0),(0,E._)([(0,F.r)("domains")],I.prototype,"readDomains",null),(0,E._)([(0,w.c)("domains")],I.prototype,"writeDomains",null),(0,E._)([(0,x.Cb)({type:[Z.Z],json:{write:!0}})],I.prototype,"templates",void 0),I=(0,E._)([(0,T.j)("esri.layers.support.FeatureType")],I);const G=I},81247:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>A});var I,E=_(50484),M=_(84303),V=_(89317),x=_(80543),P=_(1535),F=(_(57678),_(14007),_(21070)),T=_(62185),w=_(10141),j=_(59300),Z=_(51217);const G=new M.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let W=I=class extends V.wq{constructor(S){super(S),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(S,{description:N}){let L=null;try{L=N?JSON.parse(N):null}catch{}return L?.value??null}readValueType(S,{description:N}){let L=null;try{L=N?JSON.parse(N):null}catch{}return L?G.fromJSON(L.fieldValueType):null}clone(){return new I({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],W.prototype,"alias",void 0),(0,E._)([(0,x.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],W.prototype,"defaultValue",void 0),(0,E._)([(0,x.Cb)()],W.prototype,"description",void 0),(0,E._)([(0,T.r)("description")],W.prototype,"readDescription",null),(0,E._)([(0,x.Cb)({types:j.V5,json:{read:{reader:j.im},write:!0}})],W.prototype,"domain",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],W.prototype,"editable",void 0),(0,E._)([(0,x.Cb)({type:P.z8,json:{write:{overridePolicy:S=>({enabled:Number.isFinite(S)})}}})],W.prototype,"length",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],W.prototype,"name",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],W.prototype,"nullable",void 0),(0,E._)([(0,F.J)(Z.v)],W.prototype,"type",void 0),(0,E._)([(0,x.Cb)()],W.prototype,"valueType",void 0),(0,E._)([(0,T.r)("valueType",["description"])],W.prototype,"readValueType",null),(0,E._)([(0,x.Cb)({type:Boolean,json:{read:!1}})],W.prototype,"visible",void 0),W=I=(0,E._)([(0,w.j)("esri.layers.support.Field")],W);const A=W},40100:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var E=_(57964),M=_(89317),V=_(4703),x=_(8611),P=_(15398),H=_(85295),B=_(764),F=_(25037);const Z=new Map;class I{static fromJSON(L){return new I(L.fields,L.timeZoneByFieldName)}static fromLayer(L){return new I(L.fields??[],S(L))}static fromLayerJSON(L){return new I(L.fields??[],S(L))}constructor(L=[],O){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=L||[],this._timeZoneByFieldName=O?new Map(O):null;const $=[];for(const K of this.fields){const U=K?.name,X=W(U);if(U&&X){const Y=G(U);this._fieldsMap.set(U,K),this._fieldsMap.set(Y,K),this._normalizedFieldsMap.set(X,K),$.push(`${Y}:${K.type}:${this._timeZoneByFieldName?.get(U)}`),(0,H.y2)(K)?(this.dateFields.push(K),this._dateFieldsSet.add(K)):(0,H.H7)(K)&&(this._numericFieldsSet.add(K),this.numericFields.push(K)),(0,H.Dl)(K)||(0,H.Se)(K)||(K.editable=null==K.editable||!!K.editable,K.nullable=null==K.nullable||!!K.nullable)}}$.sort(),this.uid=$.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const L of this.fields)(0,H.Dl)(L)||(0,H.Se)(L)||L.nullable||void 0!==(0,H.os)(L)||this._requiredFields.push(L)}return this._requiredFields}equals(L){return this.uid===L?.uid}has(L){return null!=this.get(L)}get(L){if(!L)return;let O=this._fieldsMap.get(L);return O||(O=this._fieldsMap.get(G(L))??this._normalizedFieldsMap.get(W(L)),O&&this._fieldsMap.set(L,O),O)}getTimeZone(L){const O=this.get(L&&"string"!=typeof L?L.name:L);return O?this._timeZoneByFieldName?this._timeZoneByFieldName.get(O.name):"date"===O.type||"esriFieldTypeDate"===O.type?(V.Z.getLogger("esri.layers.support.FieldsIndex").error(new E.Z("getTimeZone:no-timezone-information",`no time zone information for field '${O.name}'`)),B.pt):A.has(O.type)?B._4:null:null}getLuxonTimeZone(L){const O=this.getTimeZone(L);return O?O===B._4?P.yV.instance:O===B.pt?F.Qf.utcInstance:(0,x.s1)(Z,O,()=>F.vF.create(O)):null}isDateField(L){return this._dateFieldsSet.has(this.get(L))}isTimeOnlyField(L){return(0,H.sX)(this.get(L))}isNumericField(L){return this._numericFieldsSet.has(this.get(L))}normalizeFieldName(L){return this.get(L)?.name??void 0}toJSON(){return{fields:this.fields.map(L=>(0,M.AK)(L)?L.toJSON():L),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function G(N){return N.trim().toLowerCase()}function W(N){return(0,H.q6)(N)?.toLowerCase()??""}const A=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function S(N){const L=new Map;if(!N.fields)return L;const O=!0===N.datesInUnknownTimezone,{timeInfo:$,editFieldsInfo:K}=N,U=($?"startField"in $?$.startField:$.startTimeField:"")??"",X=($?"endField"in $?$.endField:$.endTimeField:"")??"",Y=function j(N){return"dateFieldsTimeZone"in N}(N)?N.dateFieldsTimeZone??null:N.dateFieldsTimeReference?(0,B.Jv)(N.dateFieldsTimeReference):null,oe=K?function T(N){return"timeZone"in N}(K)?K.timeZone??Y:K.dateFieldsTimeReference?(0,B.Jv)(K.dateFieldsTimeReference):Y??B.pt:null,ne=$?function w(N){return"timeZone"in N}($)?$.timeZone??Y:$.timeReference?(0,B.Jv)($.timeReference):Y:null,se=new Map([[G(K?.creationDateField??""),oe],[G(K?.editDateField??""),oe],[G(U),ne],[G(X),ne]]);for(const{name:te,type:k}of N.fields)if(A.has(k))L.set(te,B._4);else if("date"!==k&&"esriFieldTypeDate"!==k)L.set(te,null);else if(O)L.set(te,B._4);else{const re=se.get(G(te??""))??Y;L.set(te,re)}return L}},8321:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(89317),V=_(80543),x=_(1535),B=(_(57678),_(14007),_(10141));let T=F=class extends M.wq{constructor(j){super(j),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new F({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,E._)([(0,V.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],T.prototype,"cols",void 0),(0,E._)([(0,V.Cb)({type:x.z8,json:{write:!0}})],T.prototype,"level",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],T.prototype,"levelValue",void 0),(0,E._)([(0,V.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],T.prototype,"origin",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],T.prototype,"resolution",void 0),(0,E._)([(0,V.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],T.prototype,"rows",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],T.prototype,"scale",void 0),T=F=(0,E._)([(0,B.j)("esri.layers.support.LOD")],T);const w=T},40591:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>te});var W,E=_(50484),M=_(71950),V=_(84303),x=_(89317),P=_(34222),H=_(55768),B=_(80543),T=(_(1535),_(62185)),w=_(10141),j=_(7547),G=(_(57678),_(14007),_(56761));let A=W=class extends x.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(k,re){return re.value?(0,G.dI)(re.value):k}writeExpression(k,re,Q){null!=this.value&&(k=(0,G.dI)(this.value)),null!=k&&(re[Q]=k)}clone(){return new W({expression:this.expression,title:this.title,value:this.value})}};(0,E._)([(0,B.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],A.prototype,"expression",void 0),(0,E._)([(0,T.r)("expression",["expression","value"])],A.prototype,"readExpression",null),(0,E._)([(0,j.c)("expression")],A.prototype,"writeExpression",null),(0,E._)([(0,B.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],A.prototype,"title",void 0),(0,E._)([(0,B.Cb)({json:{read:!1,write:!1}})],A.prototype,"value",void 0),A=W=(0,E._)([(0,w.j)("esri.layers.support.LabelExpressionInfo")],A);const S=A;var $,N=_(85971),L=_(26981),O=_(27399);const K=new V.X({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function U(k,re,Q){return{enabled:!(0,N.A2)(Q?.layer)}}function X(k){return!k||"service"!==k.origin&&"map-image"!==k.layer?.type}function oe(k){return!!function Y(k){return"map-image"===k?.type}(k)&&!!k.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let se=$=class extends x.wq{static evaluateWhere(k,re){const Q=(pe,fe,ce)=>{switch(fe){case"=":return pe==ce;case"<>":return pe!=ce;case">":return pe>ce;case">=":return pe>=ce;case"<":return pe<ce;case"<=":return pe<=ce}return!1};try{if(null==k)return!0;const pe=k.split(" ");if(3===pe.length)return Q(re[pe[0]],pe[1],pe[2]);if(7===pe.length){const fe=Q(re[pe[0]],pe[1],pe[2]),ce=pe[3],q=Q(re[pe[4]],pe[5],pe[6]);switch(ce){case"AND":return fe&&q;case"OR":return fe||q}}return!1}catch{console.log("Error.: can't parse = "+k)}}constructor(k){super(k),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=L.Rz,this.useCodedValues=void 0,this.where=null}readLabelExpression(k,re){const Q=re.labelExpressionInfo;if(!Q||!Q.value&&!Q.expression)return k}writeLabelExpression(k,re,Q){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)k=(0,G.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const pe=(0,G.el)(this.labelExpressionInfo.expression);pe&&(k="["+pe+"]")}null!=k&&(re[Q]=k)}writeLabelExpressionInfo(k,re,Q,pe){if(null==k&&null!=this.labelExpression&&X(pe))k=new S({expression:this.getLabelExpressionArcade()});else if(!k)return;const fe=k.toJSON(pe);fe.expression&&(re[Q]=fe)}writeMaxScale(k,re){(k||this.minScale)&&(re.maxScale=k)}writeMinScale(k,re){(k||this.maxScale)&&(re.minScale=k)}getLabelExpression(){return(0,G.hV)(this)}getLabelExpressionArcade(){return(0,G.YI)(this)}getLabelExpressionSingleField(){return(0,G.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new $({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,P.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,P.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],se.prototype,"name",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:U}}}}})],se.prototype,"allowOverrun",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:U}}}}})],se.prototype,"deconflictionStrategy",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:{overridePolicy(k,re,Q){return this.labelExpressionInfo&&"service"===Q?.origin&&oe(Q.layer)?{enabled:!1}:{allowNull:!0}}}}})],se.prototype,"labelExpression",void 0),(0,E._)([(0,T.r)("labelExpression")],se.prototype,"readLabelExpression",null),(0,E._)([(0,j.c)("labelExpression")],se.prototype,"writeLabelExpression",null),(0,E._)([(0,B.Cb)({type:S,json:{write:{overridePolicy:(k,re,Q)=>function ne(k){return X(k)||oe(k?.layer)}(Q)?{allowNull:!0}:{enabled:!1}}}})],se.prototype,"labelExpressionInfo",void 0),(0,E._)([(0,j.c)("labelExpressionInfo")],se.prototype,"writeLabelExpressionInfo",null),(0,E._)([(0,B.Cb)({type:K.apiValues,json:{type:K.jsonValues,read:K.read,write:K.write}})],se.prototype,"labelPlacement",void 0),(0,E._)([(0,B.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],se.prototype,"labelPosition",void 0),(0,E._)([(0,B.Cb)({type:Number})],se.prototype,"maxScale",void 0),(0,E._)([(0,j.c)("maxScale")],se.prototype,"writeMaxScale",null),(0,E._)([(0,B.Cb)({type:Number})],se.prototype,"minScale",void 0),(0,E._)([(0,j.c)("minScale")],se.prototype,"writeMinScale",null),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:U}}}}})],se.prototype,"repeatLabel",void 0),(0,E._)([(0,B.Cb)({type:Number,cast:H.t_,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:U}}}}})],se.prototype,"repeatLabelDistance",void 0),(0,E._)([(0,B.Cb)({types:M.yK,json:{origins:{"web-scene":{types:M.S6,write:O.vX,default:null}},write:O.vX,default:null}})],se.prototype,"symbol",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],se.prototype,"useCodedValues",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],se.prototype,"where",void 0),se=$=(0,E._)([(0,w.j)("esri.layers.support.LabelClass")],se);const te=se},39557:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(83944),V=_(89317),x=_(80543),F=(_(1535),_(57678),_(14007),_(10141));let w=T=class extends V.wq{constructor(Z){super(Z),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new M.Z}clone(){return new T({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],w.prototype,"floorField",void 0),(0,E._)([(0,x.Cb)({json:{read:!1,write:!1}})],w.prototype,"viewAllMode",void 0),(0,E._)([(0,x.Cb)({json:{read:!1,write:!1}})],w.prototype,"viewAllLevelIds",void 0),w=T=(0,E._)([(0,F.j)("esri.layers.support.LayerFloorInfo")],w);const j=w},30220:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>K});var L,E=_(50484),M=_(84303),V=_(89317),x=_(49602),P=_(80543),H=_(1535),T=(_(57678),_(14007),_(62185)),w=_(10141),j=_(7547),Z=_(85039),I=_(43814),G=_(45425),W=_(33721),A=_(48230),S=_(8321),N=_(74901);const O=new M.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let $=L=class extends V.wq{static create(U={}){const{resolutionFactor:X=1,scales:Y,size:oe=256,spatialReference:ne=I.Z.WebMercator,numLODs:se=24}=U;if(!(0,W.JY)(ne)){const fe=[];if(Y)for(let ce=0;ce<Y.length;ce++){const q=Y[ce];fe.push(new S.Z({level:ce,scale:q,resolution:q}))}else{let ce=5e-4;for(let q=se-1;q>=0;q--)fe.unshift(new S.Z({level:q,scale:ce,resolution:ce})),ce*=2}return new L({dpi:96,lods:fe,origin:new Z.Z(0,0,ne),size:[oe,oe],spatialReference:ne})}const te=(0,W.C5)(ne),k=new Z.Z(U.origin?{x:U.origin.x,y:U.origin.y,spatialReference:ne}:te?{x:te.origin[0],y:te.origin[1],spatialReference:ne}:{x:0,y:0,spatialReference:ne}),Q=1/(39.37*(0,x.c9)(ne)*96),pe=[];if(Y)for(let fe=0;fe<Y.length;fe++){const ce=Y[fe];pe.push(new S.Z({level:fe,scale:ce,resolution:ce*Q}))}else{let fe=(0,W.sT)(ne)?512/oe*591657527.5917094:256/oe*591657527.591555;const ce=Math.ceil(se/X);pe.push(new S.Z({level:0,scale:fe,resolution:fe*Q}));for(let q=1;q<ce;q++){const le=fe/2**X;pe.push(new S.Z({level:q,scale:le,resolution:le*Q})),fe=le}}return new L({dpi:96,lods:pe,origin:k,size:[oe,oe],spatialReference:ne})}constructor(U){super(U),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:U,origin:X}=this;if(U&&X){const Y=(0,W.C5)(U);return U.isWrappable&&!!Y&&Math.abs(Y.origin[0]-X.x)<=Y.dx}return!1}readOrigin(U,X){return Z.Z.fromJSON({spatialReference:X.spatialReference,...U})}set lods(U){let X=0,Y=0;const oe=[],ne=this._levelToLOD={};U&&(X=-1/0,Y=1/0,U.forEach(se=>{oe.push(se.scale),X=se.scale>X?se.scale:X,Y=se.scale<Y?se.scale:Y,ne[se.level]=se})),this._set("scales",oe),this._set("lods",U),this._initializeUpsampleLevels()}readSize(U,X){return[X.cols,X.rows]}writeSize(U,X){X.cols=U[0],X.rows=U[1]}zoomToScale(U){const X=this.scales;if(U<=0)return X[0];if(U>=X.length-1)return X[X.length-1];const Y=Math.floor(U);return X[Y]/(X[Y]/X[Y+1])**(U-Y)}scaleToZoom(U){const X=this.scales,Y=X.length-1;let oe=0;for(;oe<Y;oe++){const ne=X[oe],se=X[oe+1];if(ne<=U)return oe;if(se===U)return oe+1;if(ne>U&&se<U)return oe+Math.log(ne/U)/Math.log(ne/se)}return oe}snapScale(U,X=.95){const Y=this.scaleToZoom(U);return Y%Math.floor(Y)>=X?this.zoomToScale(Math.ceil(Y)):this.zoomToScale(Math.floor(Y))}tileAt(U,X,Y,oe){const ne=this.lodAt(U);if(!ne)return null;let se,te;if("number"==typeof X)se=X,te=Y;else if((0,W.fS)(X.spatialReference,this.spatialReference))se=X.x,te=X.y,oe=Y;else{const Q=(0,A.iV)(X,this.spatialReference);if(null==Q)return null;se=Q.x,te=Q.y,oe=Y}const k=ne.resolution*this.size[0],re=ne.resolution*this.size[1];return oe||(oe=new N.f(null,0,0,0,(0,G.Ue)())),oe.level=U,oe.row=Math.floor((this.origin.y-te)/re+.001),oe.col=Math.floor((se-this.origin.x)/k+.001),this.updateTileInfo(oe),oe}updateTileInfo(U,X=L.ExtrapolateOptions.NONE){let Y=this.lodAt(U.level);if(!Y&&X===L.ExtrapolateOptions.POWER_OF_TWO){const te=this.lods[this.lods.length-1];te.level<U.level&&(Y=te)}if(!Y)return;const oe=U.level-Y.level,ne=Y.resolution*this.size[0]/2**oe,se=Y.resolution*this.size[1]/2**oe;U.id=`${U.level}/${U.row}/${U.col}`,U.extent||(U.extent=(0,G.Ue)()),U.extent[0]=this.origin.x+U.col*ne,U.extent[1]=this.origin.y-(U.row+1)*se,U.extent[2]=U.extent[0]+ne,U.extent[3]=U.extent[1]+se}upsampleTile(U){const X=this._upsampleLevels[U.level];return!(!X||-1===X.parentLevel||(U.level=X.parentLevel,U.row=Math.floor(U.row/X.factor+.001),U.col=Math.floor(U.col/X.factor+.001),this.updateTileInfo(U),0))}getTileBounds(U,X){const Y=this.lodAt(X.level);if(null==Y)return null;const{resolution:oe}=Y,ne=oe*this.size[0],se=oe*this.size[1];return U[0]=this.origin.x+X.col*ne,U[1]=this.origin.y-(X.row+1)*se,U[2]=U[0]+ne,U[3]=U[1]+se,U}lodAt(U){return this._levelToLOD?.[U]??null}clone(){return L.fromJSON(this.write({}))}getOrCreateCompatible(U,X){if(256===this.size[0]&&256===this.size[1])return 256===U?this:null;const Y=[],oe=this.lods.length;for(let ne=0;ne<oe;ne++){const se=this.lods[ne];Y.push(new S.Z({level:se.level,scale:se.scale,resolution:se.resolution*X}))}return new L({size:[U,U],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:Y})}_initializeUpsampleLevels(){const U=this.lods;this._upsampleLevels=[];let X=null;for(let Y=0;Y<U.length;Y++){const oe=U[Y];this._upsampleLevels[oe.level]={parentLevel:X?X.level:-1,factor:X?X.resolution/oe.resolution:0},X=oe}}};var U,X;(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],$.prototype,"compressionQuality",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],$.prototype,"dpi",void 0),(0,E._)([(0,P.Cb)({type:String,json:{read:O.read,write:O.write,origins:{"web-scene":{read:!1,write:!1}}}})],$.prototype,"format",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],$.prototype,"isWrappable",null),(0,E._)([(0,P.Cb)({type:Z.Z,json:{write:!0}})],$.prototype,"origin",void 0),(0,E._)([(0,T.r)("origin")],$.prototype,"readOrigin",null),(0,E._)([(0,P.Cb)({type:[S.Z],value:null,json:{write:!0}})],$.prototype,"lods",null),(0,E._)([(0,P.Cb)({readOnly:!0})],$.prototype,"scales",void 0),(0,E._)([(0,P.Cb)({cast:U=>Array.isArray(U)?U:"number"==typeof U?[U,U]:[256,256]})],$.prototype,"size",void 0),(0,E._)([(0,T.r)("size",["rows","cols"])],$.prototype,"readSize",null),(0,E._)([(0,j.c)("size",{cols:{type:H.z8},rows:{type:H.z8}})],$.prototype,"writeSize",null),(0,E._)([(0,P.Cb)({type:I.Z,json:{write:!0}})],$.prototype,"spatialReference",void 0),$=L=(0,E._)([(0,w.j)("esri.layers.support.TileInfo")],$),(X=(U=$||($={})).ExtrapolateOptions||(U.ExtrapolateOptions={}))[X.NONE=0]="NONE",X[X.POWER_OF_TWO=1]="POWER_OF_TWO";const K=$},74901:(Ze,me,_)=>{"use strict";_.d(me,{f:()=>E});class E{constructor(V,x,P,H,B=void 0){this.id=V,this.level=x,this.row=P,this.col=H,this.extent=B}}},97403:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>A});var E=_(50484),M=_(34411),V=_(95539),x=_(25387),P=_(89317),H=_(80543),w=(_(1535),_(57678),_(14007),_(62185)),j=_(10141),Z=_(7547),I=_(764);function G(S,N){return V.Z.fromJSON({value:S,unit:N})}let W=class extends((0,x.J)(P.wq)){constructor(S){super(S),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(S,N){if(!N.timeExtent||!Array.isArray(N.timeExtent)||2!==N.timeExtent.length)return null;const L=new Date(N.timeExtent[0]),O=new Date(N.timeExtent[1]);return new M.Z({start:L,end:O})}writeFullTimeExtent(S,N){N.timeExtent=null!=S?.start&&null!=S.end?[S.start.getTime(),S.end.getTime()]:null}readInterval(S,N){return N.timeInterval&&N.timeIntervalUnits?G(N.timeInterval,N.timeIntervalUnits):N.defaultTimeInterval&&N.defaultTimeIntervalUnits?G(N.defaultTimeInterval,N.defaultTimeIntervalUnits):null}writeInterval(S,N){N.timeInterval=S?.toJSON().value??null,N.timeIntervalUnits=S?.toJSON().unit??null}};(0,E._)([(0,H.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],W.prototype,"cumulative",void 0),(0,E._)([(0,H.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],W.prototype,"endField",void 0),(0,E._)([(0,H.Cb)({type:M.Z,json:{write:{enabled:!0,allowNull:!0}}})],W.prototype,"fullTimeExtent",void 0),(0,E._)([(0,w.r)("fullTimeExtent",["timeExtent"])],W.prototype,"readFullTimeExtent",null),(0,E._)([(0,Z.c)("fullTimeExtent")],W.prototype,"writeFullTimeExtent",null),(0,E._)([(0,H.Cb)({type:Boolean,json:{write:!0}})],W.prototype,"hasLiveData",void 0),(0,E._)([(0,H.Cb)({type:V.Z,json:{write:{enabled:!0,allowNull:!0}}})],W.prototype,"interval",void 0),(0,E._)([(0,w.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],W.prototype,"readInterval",null),(0,E._)([(0,Z.c)("interval")],W.prototype,"writeInterval",null),(0,E._)([(0,H.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],W.prototype,"startField",void 0),(0,E._)([(0,H.Cb)((0,I.mi)("timeReference",!0))],W.prototype,"timeZone",void 0),(0,E._)([(0,H.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],W.prototype,"trackIdField",void 0),(0,E._)([(0,H.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],W.prototype,"useTime",void 0),W=(0,E._)([(0,j.j)("esri.layers.support.TimeInfo")],W);const A=W},89713:(Ze,me,_)=>{"use strict";_.d(me,{B5:()=>F,DR:()=>w,G:()=>S,M8:()=>I,Nm:()=>G,Qc:()=>T,XG:()=>W,a7:()=>Z,h3:()=>N,ld:()=>j,wH:()=>A});var E=_(6785),M=_(19677);const V={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},x=Object.values(V),P=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${x.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),H=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${x.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),B=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function F(L){return!!P.test(L)}function T(L){if(null==L)return null;const O=(0,E.mN)(L),$=O?.path.match(P)||O?.path.match(H);if(!$)return null;const[,K,U,X,Y]=$,oe=U.indexOf("/");return{title:j(-1!==oe?U.slice(oe+1):U),serverType:V[X.toLowerCase()],sublayer:null!=Y&&""!==Y?parseInt(Y,10):null,url:{path:K}}}function w(L){const O=(0,E.mN)(L).path.match(B);return O?{serviceUrl:O[1],sublayerId:Number(O[2])}:null}function j(L){return(L=L.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+L.slice(1)}function Z(L,O){const $=[];if(L){const K=T(L);null!=K&&K.title&&$.push(K.title)}if(O){const K=j(O);$.push(K)}if(2===$.length){if($[0].toLowerCase().includes($[1].toLowerCase()))return $[0];if($[1].toLowerCase().includes($[0].toLowerCase()))return $[1]}return $.join(" - ")}function I(L){if(!L)return!1;const X=(L=L.toLowerCase()).includes(".arcgis.com/"),Y=L.includes("//services")||L.includes("//tiles")||L.includes("//features");return X&&Y}function G(L,O){return L&&(0,E.Qj)((0,E.Hu)(L,O))}function W(L){let{url:O}=L;if(!O)return{url:O};O=(0,E.Hu)(O,L.logger);const $=(0,E.mN)(O),K=T($.path);let U;if(null!=K)null!=K.sublayer&&null==L.layer.layerId&&(U=K.sublayer),O=K.url.path;else if(L.nonStandardUrlAllowed){const X=w($.path);null!=X&&(O=X.serviceUrl,U=X.sublayerId)}return{url:(0,E.Qj)(O),layerId:U}}function A(L,O,$,K,U){(0,M.w)(O,K,"url",U),K.url&&null!=L.layerId&&(K.url=(0,E.v_)(K.url,$,L.layerId.toString()))}function S(L){if(!L)return!1;const O=L.toLowerCase(),$=O.includes("/services/"),K=O.includes("/mapserver/wmsserver"),U=O.includes("/imageserver/wmsserver"),X=O.includes("/wmsserver");return $&&(K||U||X)}function N(L){if(!L)return!1;const O=new E.R9((0,E.hF)(L)),$=O.authority?.toLowerCase();return"server.arcgisonline.com"===$||"services.arcgisonline.com"===$}},8966:(Ze,me,_)=>{"use strict";_.d(me,{qG:()=>Y,PV:()=>O,id:()=>ne,iR:()=>S,rn:()=>L,rT:()=>k,u1:()=>te,rO:()=>se,Oh:()=>U,bT:()=>X,C_:()=>A,Lx:()=>$,vg:()=>oe,YI:()=>W,HQ:()=>N});var E=_(34411),M=_(76215),V=_(26894),x=_(43814),P=_(19677),B=(_(57678),_(51431)),I=_(86516),G=_(39437);const W={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:M.C}}},A={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(re,Q)=>!Q.disablePopup},write:{enabled:!0,writer(re,Q,pe){Q[pe]=!re}}}},S={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:M.C}}},N={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:P.w}}},L={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:M.C}}},O={value:null,type:I.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:M.C}}};function $(re){return{type:re,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const K={write:{enabled:!0,layerContainerTypes:M.C},read:!0},U={type:Number,json:{origins:{"web-document":K,"portal-item":{write:!0}}}},X={...U,json:{...U.json,origins:{"web-document":{...K,write:{enabled:!0,layerContainerTypes:M.C,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(re,Q,pe)=>pe&&"service"!==pe.origin||!Q.drawingInfo||void 0===Q.drawingInfo.transparency?Q.layerDefinition?.drawingInfo&&void 0!==Q.layerDefinition.drawingInfo.transparency?(0,G.b)(Q.layerDefinition.drawingInfo.transparency):void 0:(0,G.b)(Q.drawingInfo.transparency)}}},Y={type:E.Z,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:re,timeOffset:Q,useViewTime:pe}=this.layer,fe=this.view?.timeExtent;let ce=this.layer.timeExtent;re&&(ce=function Z(re){if(!re)return re;const{start:Q,end:pe}=re;return new E.Z({start:null!=Q?(0,B.Nm)(Q,Q.getTimezoneOffset(),"minutes"):Q,end:null!=pe?(0,B.Nm)(pe,pe.getTimezoneOffset(),"minutes"):pe})}(ce));let q=pe?fe&&ce?fe.intersection(ce):fe||ce:ce;if(!q||q.isEmpty||q.isAllTime)return q;Q&&(q=q.offset(-Q.value,Q.unit)),re&&(q=function j(re){if(!re)return re;const{start:Q,end:pe}=re;return new E.Z({start:null!=Q?(0,B.Nm)(Q,-Q.getTimezoneOffset(),"minutes"):Q,end:null!=pe?(0,B.Nm)(pe,-pe.getTimezoneOffset(),"minutes"):pe})}(q));const le=this._get("timeExtent");return q.equals(le)?le:q}},oe={type:V.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(re,Q)=>{const pe=V.Z.fromJSON(re);return null!=Q.spatialReference&&"object"==typeof Q.spatialReference&&(pe.spatialReference=x.Z.fromJSON(Q.spatialReference)),pe}}}},read:!1}},ne={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},se={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:M.C}}},name:"layerDefinition.minScale",write:!0}},te={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:M.C}}},name:"layerDefinition.maxScale",write:!0}},k={json:{write:{ignoreOrigin:!0,layerContainerTypes:M.C},origins:{"web-map":{read:!1,write:!1}}}}},73191:(Ze,me,_)=>{"use strict";function M(I){return"string"==typeof I||I instanceof String}_.d(me,{V$:()=>x,D3:()=>j,F3:()=>w});var x,I,V=_(42534);(I=x||(x={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",I.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const P=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function B(I){return null!=I&&("date-only"===I.type||"esriFieldTypeDateOnly"===I.type)}function F(I){return null!=I&&("timestamp-offset"===I.type||"esriFieldTypeTimestampOffset"===I.type)}function T(I){return null!=I&&("time-only"===I.type||"esriFieldTypeTimeOnly"===I.type)}function w(I,G){const W=I?.domain;if(!W)return null;switch(W.type){case"range":{const{min:A,max:S}=j(I);if(null!=A&&+G<A||null!=S&&+G>S)return x.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==W.codedValues||W.codedValues.every(A=>null==A||A.code!==G))return x.INVALID_CODED_VALUE}return null}function j(I,G){const W=G??I?.domain;if(!W||"range"!==W.type)return;const A="range"in W?W.range[0]:W.minValue,S="range"in W?W.range[1]:W.maxValue,N=function H(I){return null!=I&&P.has(I.type)}(I);return B(I)||T(I)||F(I)?{...Z(I,S,A),isInteger:N}:{min:null!=A&&"number"==typeof A?A:null,max:null!=S&&"number"==typeof S?S:null,rawMin:A,rawMax:S,isInteger:N}}function Z(I,G,W){return B(I)?{min:null!=W&&M(W)?(0,V.A9)(W).toMillis():null,max:null!=G&&M(G)?(0,V.A9)(G).toMillis():null,rawMin:W,rawMax:G}:T(I)?{min:null!=W&&M(W)?(0,V.bk)(W).toMillis():null,max:null!=G&&M(G)?(0,V.bk)(G).toMillis():null,rawMin:W,rawMax:G}:F(I)?{min:null!=W&&M(W)?(0,V.US)(W).toMillis():null,max:null!=G&&M(G)?(0,V.US)(G).toMillis():null,rawMin:W,rawMax:G}:{max:null,min:null}}},59300:(Ze,me,_)=>{"use strict";_.d(me,{im:()=>se,V5:()=>ne}),_(14007);var w,M=_(50484),V=_(34222),x=_(80543),H=(_(1535),_(21070)),B=_(10141),F=_(89317);_(57678);let j=w=class extends F.wq{constructor(te){super(te),this.name=null,this.code=null}clone(){return new w({name:this.name,code:this.code})}};(0,M._)([(0,x.Cb)({type:String,json:{write:!0}})],j.prototype,"name",void 0),(0,M._)([(0,x.Cb)({type:[String,Number],json:{write:!0}})],j.prototype,"code",void 0),j=w=(0,M._)([(0,B.j)("esri.layers.support.CodedValue")],j);const I=new(_(84303).X)({inherited:"inherited",codedValue:"coded-value",range:"range"});let G=class extends F.wq{constructor(te){super(te),this.name=null,this.type=null}};(0,M._)([(0,x.Cb)({type:String,json:{write:!0}})],G.prototype,"name",void 0),(0,M._)([(0,H.J)(I)],G.prototype,"type",void 0),G=(0,M._)([(0,B.j)("esri.layers.support.Domain")],G);const W=G;var A;let S=A=class extends W{constructor(te){super(te),this.codedValues=null,this.type="coded-value"}getName(te){let k=null;if(this.codedValues){const re=String(te);this.codedValues.some(Q=>(String(Q.code)===re&&(k=Q.name),!!k))}return k}clone(){return new A({codedValues:(0,V.d9)(this.codedValues),name:this.name})}};(0,M._)([(0,x.Cb)({type:[j],json:{write:!0}})],S.prototype,"codedValues",void 0),(0,M._)([(0,H.J)({codedValue:"coded-value"})],S.prototype,"type",void 0),S=A=(0,M._)([(0,B.j)("esri.layers.support.CodedValueDomain")],S);const N=S;var $;_(4703),_(57964);let K=$=class extends W{constructor(te){super(te),this.type="inherited"}clone(){return new $}};(0,M._)([(0,H.J)({inherited:"inherited"})],K.prototype,"type",void 0),K=$=(0,M._)([(0,B.j)("esri.layers.support.InheritedDomain")],K);const U=K;var X;let Y=X=class extends W{constructor(te){super(te),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new X({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,M._)([(0,x.Cb)({json:{type:[Number],read:{source:"range",reader:(te,k)=>k.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(te,k,re){k[re]=[this.minValue||0,te]}}}})],Y.prototype,"maxValue",void 0),(0,M._)([(0,x.Cb)({json:{type:[Number],read:{source:"range",reader:(te,k)=>k.range?.[0]},write:{target:"range",writer(te,k,re){k[re]=[te,this.maxValue||0]}}}})],Y.prototype,"minValue",void 0),(0,M._)([(0,H.J)({range:"range"})],Y.prototype,"type",void 0),Y=X=(0,M._)([(0,B.j)("esri.layers.support.RangeDomain")],Y);const oe=Y,ne={key:"type",base:W,typeMap:{range:Y,"coded-value":N,inherited:U}};function se(te){if(!te?.type)return null;switch(te.type){case"range":return oe.fromJSON(te);case"codedValue":return N.fromJSON(te);case"inherited":return U.fromJSON(te)}return null}},43497:(Ze,me,_)=>{"use strict";_.d(me,{C9:()=>ue,Ci:()=>se,FV:()=>oe,Fr:()=>A,HW:()=>Qe,JD:()=>S,JY:()=>we,Jj:()=>K,KE:()=>q,Ob:()=>et,SU:()=>k,VG:()=>fe,Y5:()=>O,gG:()=>Ee,kZ:()=>Be,kp:()=>ee,nU:()=>J,rP:()=>ie,rk:()=>De,sX:()=>Re,tD:()=>Q,uA:()=>Fe,uj:()=>X});var E=_(15861),M=_(26152),V=_(71950),x=_(37636),P=_(57964),H=_(84303),B=_(38955),F=_(50106),T=_(16952),w=_(85971),j=_(50923),Z=_(42212),I=_(12768),G=_(91866),W=_(46556);const A=new H.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});function S(ve,Oe,Te,je){return N.apply(this,arguments)}function N(){return(N=(0,E.Z)(function*(ve,Oe,Te,je){const $e=yield Me(ve);if(yield L(ve,Oe,je),!$e.addAttachment)throw new P.Z(je,"Layer source does not support addAttachment capability");return $e.addAttachment(Oe,Te)})).apply(this,arguments)}function L(ve,Oe,Te){const{attributes:je}=Oe,{objectIdField:$e}=ve;return ve.capabilities?.data?.supportsAttachment?Oe?je?$e&&je[$e]?Promise.resolve():Promise.reject(new P.Z(Te,`feature is missing the identifying attribute ${$e}`)):Promise.reject(new P.Z(Te,"'attributes' are required on a feature to query attachments")):Promise.reject(new P.Z(Te,"A feature is required to add/delete/update attachments")):Promise.reject(new P.Z(Te,"this layer doesn't support attachments"))}function O(ve,Oe,Te,je,$e){return $.apply(this,arguments)}function $(){return($=(0,E.Z)(function*(ve,Oe,Te,je,$e){const nt=yield Me(ve);if(yield L(ve,Oe,$e),!nt.updateAttachment)throw new P.Z($e,"Layer source does not support updateAttachment capability");return nt.updateAttachment(Oe,Te,je)})).apply(this,arguments)}function K(ve,Oe,Te){return U.apply(this,arguments)}function U(){return(U=(0,E.Z)(function*(ve,Oe,Te){const{applyEdits:je}=yield _.e(8592).then(_.bind(_,52334)),$e=yield ve.load(),{source:nt,globalIdField:Je}=$e;let ot=Te;return"feature"===$e.type&&$e.infoFor3D&&null!=Oe.deleteFeatures&&null!=Je&&(ot={...ot,globalIdToObjectId:yield Qe(ve,Oe.deleteFeatures,Je)}),je($e,nt,Oe,Te)})).apply(this,arguments)}function X(ve,Oe,Te){return Y.apply(this,arguments)}function Y(){return(Y=(0,E.Z)(function*(ve,Oe,Te){const{uploadAssets:je}=yield _.e(8592).then(_.bind(_,52334)),$e=yield ve.load();return je($e,$e.source,Oe,Te)})).apply(this,arguments)}function oe(ve,Oe,Te,je){return ne.apply(this,arguments)}function ne(){return(ne=(0,E.Z)(function*(ve,Oe,Te,je){const $e=yield Me(ve);if(yield L(ve,Oe,je),!$e.deleteAttachments)throw new P.Z(je,"Layer source does not support deleteAttachments capability");return $e.deleteAttachments(Oe,Te)})).apply(this,arguments)}function se(ve,Oe,Te){return te.apply(this,arguments)}function te(){return(te=(0,E.Z)(function*(ve,Oe,Te){const je=(yield ve.load({signal:Oe?.signal})).source;if(!je.fetchRecomputedExtents)throw new P.Z(Te,"Layer source does not support fetchUpdates capability");return je.fetchRecomputedExtents(Oe)})).apply(this,arguments)}function k(ve,Oe,Te,je){return re.apply(this,arguments)}function re(){return(re=(0,E.Z)(function*(ve,Oe,Te,je){Oe=I.Z.from(Oe),yield ve.load();const $e=ve.source,nt=ve.capabilities;if(!nt?.data?.supportsAttachment)throw new P.Z(je,"this layer doesn't support attachments");const{attachmentTypes:Je,objectIds:ot,globalIds:at,num:mt,size:Tt,start:Ot,where:Bt}=Oe;if(!nt?.operations?.supportsQueryAttachments&&(Je?.length>0||at?.length>0||Tt?.length>0||mt||Ot||Bt))throw new P.Z(je,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",Oe);if(!(ot?.length||at?.length||Bt))throw new P.Z(je,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",Oe);if(!$e.queryAttachments)throw new P.Z(je,"Layer source does not support queryAttachments capability",Oe);return $e.queryAttachments(Oe)})).apply(this,arguments)}function Q(ve,Oe,Te,je){return pe.apply(this,arguments)}function pe(){return(pe=(0,E.Z)(function*(ve,Oe,Te,je){const $e=yield Me(ve);if(!$e.queryObjectIds)throw new P.Z(je,"Layer source does not support queryObjectIds capability");return $e.queryObjectIds(G.Z.from(Oe)??ve.createQuery(),Te)})).apply(this,arguments)}function fe(ve,Oe,Te,je){return ce.apply(this,arguments)}function ce(){return(ce=(0,E.Z)(function*(ve,Oe,Te,je){const $e=yield Me(ve);if(!$e.queryFeatureCount)throw new P.Z(je,"Layer source does not support queryFeatureCount capability");return $e.queryFeatureCount(G.Z.from(Oe)??ve.createQuery(),Te)})).apply(this,arguments)}function q(ve,Oe,Te,je){return le.apply(this,arguments)}function le(){return(le=(0,E.Z)(function*(ve,Oe,Te,je){const $e=yield Me(ve);if(!$e.queryExtent)throw new P.Z(je,"Layer source does not support queryExtent capability");return $e.queryExtent(G.Z.from(Oe)??ve.createQuery(),Te)})).apply(this,arguments)}function ee(ve,Oe,Te,je){return ae.apply(this,arguments)}function ae(){return(ae=(0,E.Z)(function*(ve,Oe,Te,je){const $e=yield Me(ve);if(!$e.queryRelatedFeatures)throw new P.Z(je,"Layer source does not support queryRelatedFeatures capability");return $e.queryRelatedFeatures(W.default.from(Oe),Te)})).apply(this,arguments)}function ue(ve,Oe,Te,je){return ge.apply(this,arguments)}function ge(){return(ge=(0,E.Z)(function*(ve,Oe,Te,je){const $e=yield Me(ve);if(!$e.queryRelatedFeaturesCount)throw new P.Z(je,"Layer source does not support queryRelatedFeaturesCount capability");return $e.queryRelatedFeaturesCount(W.default.from(Oe),Te)})).apply(this,arguments)}function Ee(ve){return be.apply(this,arguments)}function be(){return(be=(0,E.Z)(function*(ve){const Oe=ve.source;if(Oe?.refresh)try{const{dataChanged:Te,updates:je}=yield Oe.refresh();if(null!=je&&(ve.sourceJSON={...ve.sourceJSON,...je},ve.read(je,{origin:"service",url:ve.parsedUrl})),Te)return!0}catch{}if(ve.definitionExpression)try{return(yield(0,B.E)(ve.definitionExpression,ve.fieldsIndex)).hasDateFunctions}catch{}return!1})).apply(this,arguments)}function ie(ve){const Oe=new G.Z,Te=ve.capabilities?.data,je=ve.capabilities?.query;Oe.historicMoment=ve.historicMoment,Oe.gdbVersion=ve.gdbVersion,Oe.returnGeometry=!0,je&&(Oe.compactGeometryEnabled=je.supportsCompactGeometry,Oe.defaultSpatialReferenceEnabled=je.supportsDefaultSpatialReference),Te&&(Te.supportsZ&&null!=ve.returnZ&&(Oe.returnZ=ve.returnZ),Te.supportsM&&null!=ve.returnM&&(Oe.returnM=ve.returnM)),Oe.outFields=["*"];const{timeOffset:$e,timeExtent:nt}=ve;return Oe.timeExtent=null!=$e&&null!=nt?nt.offset(-$e.value,$e.unit):nt||null,Oe.multipatchOption="multipatch"===ve.geometryType?"xyFootprint":null,Oe}function De(ve){const{globalIdField:Oe,fields:Te}=ve;if(Oe)return Oe;if(Te)for(const je of Te)if("esriFieldTypeGlobalID"===je.type)return je.name}function Be(ve){const{objectIdField:Oe,fields:Te}=ve;if(Oe)return Oe;if(Te)for(const je of Te)if("esriFieldTypeOID"===je.type)return je.name}function we(ve){return ve.currentVersion?ve.currentVersion:ve.hasOwnProperty("capabilities")||ve.hasOwnProperty("drawingInfo")||ve.hasOwnProperty("hasAttachments")||ve.hasOwnProperty("htmlPopupType")||ve.hasOwnProperty("relationships")||ve.hasOwnProperty("timeInfo")||ve.hasOwnProperty("typeIdField")||ve.hasOwnProperty("types")?10:9.3}function Me(ve){return He.apply(this,arguments)}function He(){return(He=(0,E.Z)(function*(ve){return(yield ve.load()).source})).apply(this,arguments)}function Xe(){return(Xe=(0,E.Z)(function*(ve,Oe){if(!M.id||M.id.findCredential(ve))return;let Te;try{const je=yield(0,w.oP)(ve,Oe);je&&(Te=yield M.id.checkSignInStatus(`${je}/sharing`))}catch{}if(Te)try{const je=null!=Oe?Oe.signal:null;yield M.id.getCredential(ve,{signal:je})}catch{}})).apply(this,arguments)}function J(ve,Oe,Te){return ye.apply(this,arguments)}function ye(){return ye=(0,E.Z)(function*(ve,Oe,Te){const je=ve.parsedUrl?.path;je&&ve.authenticationTriggerEvent===Oe&&(yield function xe(ve,Oe){return Xe.apply(this,arguments)}(je,Te))}),ye.apply(this,arguments)}function Re(ve){return!ve.sourceJSON?.isMultiServicesView&&(ve.userHasUpdateItemPrivileges||ve.editingEnabled)}const Ve=(0,F.d)({types:V.QT});function et(ve,Oe){if(ve.defaultSymbol)return ve.types?.length?new Z.Z({defaultSymbol:Ve(ve.defaultSymbol,ve,Oe),field:ve.typeIdField,uniqueValueInfos:ve.types.map(Te=>({id:Te.id,symbol:Ve(Te.symbol,Te,Oe)}))}):new j.Z({symbol:Ve(ve.defaultSymbol,ve,Oe)})}function Fe(ve){let Oe=ve.sourceJSON?.cacheMaxAge;if(!Oe)return!1;const Te=ve.editingInfo?.lastEditDate?.getTime();return null==Te||(Oe*=1e3,Date.now()-Te<Oe)}function Qe(ve,Oe,Te){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,E.Z)(function*(ve,Oe,Te){if(null==Oe)return null;const je=[],{objectIdField:$e}=ve;if(Oe.forEach(mt=>{let Tt=null;if("attributes"in mt){const{attributes:Ot}=mt;Tt={globalId:Ot[Te],objectId:null!=Ot[$e]&&-1!==Ot[$e]?Ot[$e]:null}}else Tt={globalId:mt.globalId,objectId:null!=mt.objectId&&-1!==mt.objectId?mt.objectId:null};null!=Tt.globalId&&(null!=Tt.objectId&&-1!==Tt.objectId||je.push(Tt.globalId))}),0===je.length)return null;const nt=ve.createQuery();nt.where=je.map(mt=>`${Te}='${mt}'`).join(" OR "),nt.returnGeometry=!1,nt.outFields=[$e,Te],nt.cacheHint=!1;const Je=yield(0,x.mt)((0,T.UK)(ve,nt));if(!Je.ok)return null;const ot=new Map,at=Je.value.features;for(const mt of at){const Tt=mt.attributes[Te],Ot=mt.attributes[$e];null!=Tt&&null!=Ot&&-1!==Ot&&ot.set(Tt,Ot)}return ot})).apply(this,arguments)}},16952:(Ze,me,_)=>{"use strict";_.d(me,{UK:()=>V});var E=_(15861),M=_(91866);function V(F,T,w){return x.apply(this,arguments)}function x(){return(x=(0,E.Z)(function*(F,T,w){T=T.clone(),F.capabilities.query.supportsMaxRecordCountFactor&&(T.maxRecordCountFactor=B(F));const j=function P(F){return B(F)*function H(F){return F.capabilities.query.maxRecordCount||2e3}(F)}(F),Z=F.capabilities.query.supportsPagination;T.start=0,T.num=j;let I=null;for(;;){const G=yield F.source.queryFeaturesJSON(T,w);if(null==I?I=G:I.features=I.features.concat(G.features),I.exceededTransferLimit=G.exceededTransferLimit,!Z||!G.exceededTransferLimit)break;T.start+=j}return I})).apply(this,arguments)}function B(F){return F.capabilities.query.supportsMaxRecordCountFactor?M.Z.MAX_MAX_RECORD_COUNT_FACTOR:1}},27969:(Ze,me,_)=>{"use strict";_.d(me,{v:()=>H});var E=_(14007),M=_(4703),V=_(81247),x=_(40100),P=_(85295);function H(){return{fields:{type:[V.Z],value:null,set:function(B){if(B&&(0,E.Z)("big-integer-warning-enabled")){const F=B.filter(T=>"big-integer"===T.type||"oid"===T.type&&(T.length||0)>=8);if(F.length){const T=F.map(w=>`'${w.name}'`).join(", ");M.Z.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${T}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",B)}},fieldsIndex:{readOnly:!0,get(){return x.Z.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(B){this._userOutFields=B,this.notifyChange("outFields")},get:function(){const B=this._userOutFields;if(!B?.length)return null;if(B.includes("*"))return["*"];if(!this.fields)return B;for(const F of B)this.fieldsIndex?.has(F)||M.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${F} found in outFields`,{layer:this,outFields:B});return(0,P.Q0)(this.fieldsIndex,B)}}}}},51217:(Ze,me,_)=>{"use strict";_.d(me,{v:()=>M});const M=new(_(84303).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},85295:(Ze,me,_)=>{"use strict";_.d(me,{AB:()=>L,CH:()=>Be,Dl:()=>Mn,Ec:()=>ut,Fv:()=>Ve,H7:()=>xt,Hp:()=>Re,Lk:()=>O,Ll:()=>ee,Mu:()=>Qe,O5:()=>oe,Pz:()=>Xt,Q0:()=>S,Qc:()=>Gn,Qj:()=>ue,R9:()=>yt,Se:()=>lr,UF:()=>W,UQ:()=>rn,YN:()=>I,ZR:()=>je,ZV:()=>fe,d2:()=>On,gd:()=>N,ig:()=>gn,io:()=>K,os:()=>Te,q6:()=>w,qN:()=>nn,sX:()=>yn,vP:()=>Ge,vl:()=>re,y2:()=>Yt});var E=_(15861),M=_(57964),V=_(71763),x=_(79876),P=_(38955),H=_(73191),B=_(4978);const F=/^([0-9_])/,T=/[^a-z0-9_\u0080-\uffff]+/gi;function w(Ye){return null==Ye?null:Ye.trim().replaceAll(T,"_").replace(F,"F$1")||null}const j=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Z=["field","normalizationField"];function I(Ye,it){if(null!=Ye&&null!=it)for(const gt of Array.isArray(Ye)?Ye:[Ye])if(G(j,gt,it),"visualVariables"in gt&&gt.visualVariables)for(const Lt of gt.visualVariables)G(Z,Lt,it)}function G(Ye,it,gt){if(Ye)for(const Lt of Ye){const Kt=(0,V.hS)(Lt,it),Jt=Kt&&"function"!=typeof Kt&&gt.get(Kt);Jt&&(0,V.RB)(Lt,Jt.name,it)}}function W(Ye,it){if(null!=Ye&&it?.fields?.length)if("startField"in Ye){const gt=it.get(Ye.startField),Lt=it.get(Ye.endField);Ye.startField=gt?.name??null,Ye.endField=Lt?.name??null}else{const gt=it.get(Ye.startTimeField),Lt=it.get(Ye.endTimeField);Ye.startTimeField=gt?.name??null,Ye.endTimeField=Lt?.name??null}}const A=new Set;function S(Ye,it){return Ye&&it?(A.clear(),N(A,Ye,it),Array.from(A).sort()):[]}function N(Ye,it,gt){if(gt)if(it?.fields?.length)if(gt.includes("*"))for(const{name:Lt}of it.fields)Ye.add(Lt);else for(const Lt of gt)L(Ye,it,Lt);else{if(gt.includes("*"))return Ye.clear(),void Ye.add("*");for(const Lt of gt)null!=Lt&&Ye.add(Lt)}}function L(Ye,it,gt){if("string"==typeof gt)if(it){const Lt=it.get(gt);Lt&&Ye.add(Lt.name)}else Ye.add(gt)}function O(Ye,it){return null==it||null==Ye?[]:it.includes("*")?(Ye.fields??[]).map(gt=>gt.name):it}function K(Ye,it,gt){return U.apply(this,arguments)}function U(){return(U=(0,E.Z)(function*(Ye,it,gt){if(!gt)return;const{arcadeUtils:Lt}=yield(0,B.LC)(),Kt=Lt.extractFieldNames(gt,it?.fields?.map(Jt=>Jt.name));for(const Jt of Kt)L(Ye,it,Jt)})).apply(this,arguments)}function X(Ye,it,gt){return Y.apply(this,arguments)}function Y(){return(Y=(0,E.Z)(function*(Ye,it,gt){if(gt&&"1=1"!==gt){const Lt=yield(0,P.E)(gt,it);if(!Lt.isStandardized)throw new M.Z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:gt});N(Ye,it,Lt.fieldNames)}})).apply(this,arguments)}function oe({displayField:Ye,fields:it}){return Ye||(it?.length?se(it,"name-or-title")||se(it,"unique-identifier")||se(it,"type-or-category")||function ne(Ye){for(const it of Ye){if(!it?.name)continue;const gt=it.name.toLowerCase();if(gt.includes("name")||gt.includes("title"))return it.name}return null}(it):null)}function se(Ye,it){for(const gt of Ye)if(gt?.valueType&&gt.valueType===it)return gt.name;return null}function re(Ye,it){return Q.apply(this,arguments)}function Q(){return(Q=(0,E.Z)(function*(Ye,it){if(!it)return;const gt=it.elevationInfo?.featureExpressionInfo;return gt?gt.collectRequiredFields(Ye,it.fieldsIndex):void 0})).apply(this,arguments)}function fe(Ye,it,gt){return ce.apply(this,arguments)}function ce(){return ce=(0,E.Z)(function*(Ye,it,gt){if(!it||!gt||!("fields"in gt))return;const Lt=[];Lt.push(function q(Ye,it,gt){return le.apply(this,arguments)}(Ye,it,gt.popupTemplate)),gt.fields&&Lt.push(...gt.fields.map(function(){var Jt=(0,E.Z)(function*($n){return function pe(Ye,it,gt){gt.onStatisticExpression?K(Ye,it,gt.onStatisticExpression.expression):Ye.add(gt.onStatisticField)}(Ye,it.fieldsIndex,$n)});return function($n){return Jt.apply(this,arguments)}}())),yield Promise.all(Lt)}),ce.apply(this,arguments)}function le(){return(le=(0,E.Z)(function*(Ye,it,gt){const Lt=[];gt?.expressionInfos&&Lt.push(...gt.expressionInfos.map(Jt=>K(Ye,it.fieldsIndex,Jt.expression)));const Kt=gt?.content;if(Array.isArray(Kt))for(const Jt of Kt)"expression"===Jt.type&&Jt.expressionInfo&&Lt.push(K(Ye,it.fieldsIndex,Jt.expressionInfo.expression));yield Promise.all(Lt)})).apply(this,arguments)}function ee(Ye,it,gt){return ae.apply(this,arguments)}function ae(){return(ae=(0,E.Z)(function*(Ye,it,gt){it&&(it.timeInfo&&gt?.timeExtent&&N(Ye,it.fieldsIndex,[it.timeInfo.startField,it.timeInfo.endField]),it.floorInfo&&N(Ye,it.fieldsIndex,[it.floorInfo.floorField]),null!=gt?.where&&(yield X(Ye,it.fieldsIndex,gt.where)))})).apply(this,arguments)}function ue(Ye,it,gt){return ge.apply(this,arguments)}function ge(){return ge=(0,E.Z)(function*(Ye,it,gt){it&&gt&&(yield Promise.all(gt.map(Lt=>function Ee(Ye,it,gt){return be.apply(this,arguments)}(Ye,it,Lt))))}),ge.apply(this,arguments)}function be(){return(be=(0,E.Z)(function*(Ye,it,gt){it&&gt&&(gt.valueExpression?yield K(Ye,it.fieldsIndex,gt.valueExpression):gt.field&&L(Ye,it.fieldsIndex,gt.field))})).apply(this,arguments)}function Be(Ye){return Ye?S(Ye.fieldsIndex,J(Ye)):[]}const Me=new Set(["oid","global-id","guid"]),He=new Set(["oid","global-id"]),xe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i];function J(Ye){if(!Ye)return[];const it="editFieldsInfo"in Ye&&Ye.editFieldsInfo;if(!it)return[];const{creationDateField:gt,creatorField:Lt,editDateField:Kt,editorField:Jt}=it;return[gt,Lt,Kt,Jt].filter(Boolean)}function ye(Ye){return J(Ye).map(it=>it.toLowerCase())}function Re(Ye,it){return Ye.editable&&!Me.has(Ye.type)&&!ye(it).includes(Ye.name?.toLowerCase()??"")}function Ve(Ye,it){const gt=Ye.name?.toLowerCase()??"";return!(null!=it?.objectIdField&&gt===it.objectIdField.toLowerCase()||null!=it?.globalIdField&&gt===it.globalIdField.toLowerCase()||function Xe(Ye){const it=new Set;ye(Ye).forEach(Lt=>it.add(Lt)),function we(Ye){if(!Ye)return[];const it=Ye.geometryFieldsInfo;return it?S(Ye.fieldsIndex,[it.shapeAreaField,it.shapeLengthField]):[]}(Ye).forEach(Lt=>it.add(Lt.toLowerCase()));const gt=Ye&&"infoFor3D"in Ye?Ye.infoFor3D:void 0;return gt&&(Object.values(gt.assetMapFieldRoles).forEach(Lt=>it.add(Lt.toLowerCase())),Object.values(gt.transformFieldRoles).forEach(Lt=>it.add(Lt.toLowerCase()))),Array.from(it)}(it).includes(gt)||He.has(Ye.type)||xe.some(Lt=>Lt.test(gt)))}function Qe(Ye,it){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,E.Z)(function*(Ye,it){const{labelingInfo:gt,fieldsIndex:Lt}=it;gt?.length&&(yield Promise.all(gt.map(Kt=>function ve(Ye,it,gt){return Oe.apply(this,arguments)}(Ye,Lt,Kt))))}),Ne.apply(this,arguments)}function Oe(){return(Oe=(0,E.Z)(function*(Ye,it,gt){if(!gt)return;const Lt=gt.getLabelExpression(),Kt=gt.where;if("arcade"===Lt.type)yield K(Ye,it,Lt.expression);else{const Jt=Lt.expression.match(/{[^}]*}/g);Jt&&Jt.forEach($n=>{L(Ye,it,$n.slice(1,-1))})}yield X(Ye,it,Kt)})).apply(this,arguments)}function Te(Ye){const it=Ye.defaultValue;return void 0!==it&&Tt(Ye,it)?it:Ye.nullable?null:void 0}function je(Ye){const it="string"==typeof Ye?{type:Ye}:Ye;return nn(it)?255:"esriFieldTypeDate"===it.type||"date"===it.type?8:void 0}function $e(Ye){return"number"==typeof Ye&&!isNaN(Ye)&&isFinite(Ye)}function nt(Ye){return null===Ye||$e(Ye)}function Je(Ye){return null===Ye||Number.isInteger(Ye)}function ot(Ye){return null!=Ye&&"string"==typeof Ye}function at(Ye){return null===Ye||ot(Ye)}function mt(){return!0}function Tt(Ye,it){let gt;switch(Ye.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":gt=Ye.nullable?Je:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":gt=Ye.nullable?nt:$e;break;case"string":case"esriFieldTypeString":gt=Ye.nullable?at:ot;break;default:gt=mt}return 1===arguments.length?gt:gt(it)}const Ct=(0,x.G0)(new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]),new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]));function xt(Ye){return null!=Ye&&Ct.has(Ye.type)}function nn(Ye){return null!=Ye&&("string"===Ye.type||"esriFieldTypeString"===Ye.type)}function Yt(Ye){return null!=Ye&&("date"===Ye.type||"esriFieldTypeDate"===Ye.type)}function rn(Ye){return null!=Ye&&("date-only"===Ye.type||"esriFieldTypeDateOnly"===Ye.type)}function gn(Ye){return null!=Ye&&("timestamp-offset"===Ye.type||"esriFieldTypeTimestampOffset"===Ye.type)}function yn(Ye){return null!=Ye&&("time-only"===Ye.type||"esriFieldTypeTimeOnly"===Ye.type)}function Mn(Ye){return null!=Ye&&("oid"===Ye.type||"esriFieldTypeOID"===Ye.type)}function lr(Ye){return null!=Ye&&("global-id"===Ye.type||"esriFieldTypeGlobalID"===Ye.type)}function On(Ye,it){return null===Gn(Ye,it)}var zn,Ut;function Xt(Ye){return null==Ye||"number"==typeof Ye&&isNaN(Ye)?null:Ye}function Gn(Ye,it){return null==Ye||Ye.nullable&&null===it?null:xt(Ye)&&!function qr(Ye,it){const gt="string"==typeof Ye?vs(Ye):Ye;if(!gt)return!1;const Lt=gt.min,Kt=gt.max;return gt.isInteger?Number.isInteger(it)&&it>=Lt&&it<=Kt:it>=Lt&&it<=Kt}(Ye.type,Number(it))?zn.OUT_OF_RANGE:Tt(Ye,it)?Ye.domain?(0,H.F3)(Ye,it):null:Ut.INVALID_TYPE}function vs(Ye){switch(Ye){case"esriFieldTypeSmallInteger":case"small-integer":return bn;case"esriFieldTypeInteger":case"integer":return Gr;case"esriFieldTypeBigInteger":case"big-integer":return qe;case"esriFieldTypeSingle":case"single":return Rt;case"esriFieldTypeDouble":case"double":return ze}}(zn||(zn={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",(Ut||(Ut={})).INVALID_TYPE="type-validation-error::invalid-type";const bn={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Gr={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},qe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Rt={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},ze={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Ge(Ye,it,gt){switch(Ye){case H.V$.INVALID_CODED_VALUE:return`Value ${gt} is not in the coded domain - field: ${it.name}, domain: ${JSON.stringify(it.domain)}`;case H.V$.VALUE_OUT_OF_RANGE:return`Value ${gt} is out of the range of valid values - field: ${it.name}, domain: ${JSON.stringify(it.domain)}`;case Ut.INVALID_TYPE:return`Value ${gt} is not a valid value for the field type - field: ${it.name}, type: ${it.type}, nullable: ${it.nullable}`;case zn.OUT_OF_RANGE:{const{min:Lt,max:Kt}=vs(it.type);return`Value ${gt} is out of range for the number type - field: ${it.name}, type: ${it.type}, value range is ${Lt} to ${Kt}`}}}function yt(Ye,it){return!function Pt(Ye,it,gt){if(!it?.attributes||!Ye){if(null!=gt)for(const Jt of Ye??[])gt.add(Jt);return!0}const Lt=new Set(Object.keys(it.attributes));let Kt=!1;for(const Jt of Ye)if(!Lt.has(Jt)){if(Kt=!0,null==gt)break;gt.add(Jt)}return Kt}(Ye,it,null)}function ut(Ye){return!!Ye&&["raster.itempixelvalue","raster.servicepixelvalue"].some(it=>Ye.toLowerCase().startsWith(it))}},11642:(Ze,me,_)=>{"use strict";_.d(me,{$6:()=>N,$z:()=>V,F7:()=>M,Ow:()=>B,S0:()=>H,d1:()=>F,dm:()=>T});const E=[["binary","application/octet-stream","bin",""]];function M(L,O){return null!=I(O.name,L?.supportedFormats??[])}function V(L,O){if(!L)return!1;const $=T(O,L.supportedFormats??[]);return null!=$&&L.editFormats.includes($)}function H(L,O){return G(function Z(L,O){const $=L.toLowerCase();return w(O).find(K=>W(K)===$)}(L,O))}function B(L,O){return G(I(L,O))}function F(L,O){return W(function j(L,O){return w(O).find($=>G($)===L)}(L,O))}function T(L,O){return B(L.name,O)??H(L.type,O)}function w(L){return[...E,...L]}function I(L,O){const $=L.toLowerCase();return w(O).find(K=>function A(L){return L?.[2].split(",").map(O=>O.toLowerCase())??[]}(K).some(U=>$.endsWith(U)))}function G(L){return L?.[0]}function W(L){return L?.[1].toLowerCase()}function N(L){return L.tables?.find(O=>"assetMaps"===O.role)}},56761:(Ze,me,_)=>{"use strict";_.d(me,{UO:()=>W,YI:()=>G,dI:()=>A,el:()=>K,hV:()=>I,z7:()=>Z});var E=_(72578);const M="__begin__",V="__end__",x=new RegExp(M,"ig"),P=new RegExp(V,"ig"),H=new RegExp("^"+M,"i"),B=new RegExp(V+"$","i"),F='"',T=F+" + ",w=" + "+F;function Z(U){return U.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function I(U){const X={expression:"",type:"none"};return U.labelExpressionInfo?U.labelExpressionInfo.value?(X.expression=U.labelExpressionInfo.value,X.type="conventional"):U.labelExpressionInfo.expression&&(X.expression=U.labelExpressionInfo.expression,X.type="arcade"):null!=U.labelExpression&&(X.expression=function j(U){return U.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}(U.labelExpression),X.type="conventional"),X}function G(U){const X=I(U);if(!X)return null;switch(X.type){case"conventional":return A(X.expression);case"arcade":return X.expression}return null}function W(U){const X=I(U);if(!X)return null;switch(X.type){case"conventional":return function N(U){return U?.match(S)?.[1].trim()||null}(X.expression);case"arcade":return K(X.expression)}return null}function A(U){let X;return U?(X=(0,E.gx)(U,Y=>M+'$feature["'+Y+'"]'+V),X=H.test(X)?X.replace(H,""):F+X,X=B.test(X)?X.replace(B,""):X+F,X=X.replaceAll(x,T).replaceAll(P,w)):X='""',X}const S=/^\s*\{([^}]+)\}\s*$/i,L=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,O=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,$=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function K(U){if(!U)return null;let X=L.exec(U)||O.exec(U);return X?X[1]||X[3]:(X=$.exec(U),X?X[2]:null)}},75421:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>w,r:()=>B});var E=_(57964),M=_(34222),V=_(4703),x=_(40591);const P=V.Z.getLogger("esri.layers.support.labelingInfo"),H=/\[([^\[\]]+)\]/gi;function B(Z,I,G){return Z?Z.map(W=>{const A=new x.Z;if(A.read(W,G),A.labelExpression){const S=I.fields||I.layerDefinition?.fields||this.fields;A.labelExpression=A.labelExpression.replaceAll(H,(N,L)=>`[${function F(Z,I){if(!I)return Z;const G=Z.toLowerCase();for(let W=0;W<I.length;W++){const A=I[W].name;if(A.toLowerCase()===G)return A}return Z}(L,S)}]`)}return A}):null}const T={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function w(Z,I){const G=(0,M.d9)(Z);return G.some(W=>function j(Z,I){const G=Z.labelPlacement,W=T[I];if(!Z.symbol)return P.warn("No ILabelClass symbol specified."),!0;if(!W)return P.error(new E.Z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${I}' is not supported`)),!0;if(!W.includes(G)){const A=W[0];G&&P.warn(`Found invalid label placement type ${G} for ${I}. Defaulting to ${A}`),Z.labelPlacement=A}return!1}(W,I))?[]:G}},85971:(Ze,me,_)=>{"use strict";_.d(me,{A2:()=>W,S1:()=>te,fP:()=>O,fb:()=>G,ln:()=>re,oP:()=>Y,rQ:()=>L});var E=_(15861),M=_(26152),V=_(66476);const G={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function W(Q){const pe=Q?.type;return"building-scene"===pe||"integrated-mesh"===pe||"point-cloud"===pe||"scene"===pe}function L(Q){return"feature"===Q?.type&&!Q.url&&"memory"===Q.source?.type}function O(Q){return("feature"===Q?.type||"subtype-group"===Q?.type)&&"feature-layer"===Q.source?.type}function Y(Q,pe){return oe.apply(this,arguments)}function oe(){return(oe=(0,E.Z)(function*(Q,pe){const fe=M.id?.findServerInfo(Q);if(null!=fe?.currentVersion)return fe.owningSystemUrl||null;const ce=Q.toLowerCase().indexOf("/rest/services");if(-1===ce)return null;const q=`${Q.substring(0,ce)}/rest/info`,le=null!=pe?pe.signal:null,{data:ee}=yield(0,V.Z)(q,{query:{f:"json"},responseType:"json",signal:le});return ee?.owningSystemUrl||null})).apply(this,arguments)}function te(Q){return function ne(Q){if(!("capabilities"in Q))return!1;switch(Q.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(Q)?"effectiveCapabilities"in Q?Q.effectiveCapabilities:Q.capabilities:null}function re(Q){return!!function k(Q){if(!("editingEnabled"in Q))return!1;switch(Q.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(Q)&&("effectiveEditingEnabled"in Q?Q.effectiveEditingEnabled:Q.editingEnabled)}},37556:(Ze,me,_)=>{"use strict";_.d(me,{h:()=>T});var E=_(14007),M=_(89713);function V(O,$,K){return!!P(O,$,K)}function x(O,$,K){return P(O,$,K)}function P(O,$,K){return O&&O.hasOwnProperty($)?O[$]:K}const H={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function B(O){const $=O?.supportedSpatialAggregationStatistics?.map(K=>K.toLowerCase());return{envelope:!!$?.includes("envelopeaggregate"),centroid:!!$?.includes("centroidaggregate"),convexHull:!!$?.includes("convexhullaggregate")}}function F(O,$){return!!O?.supportedOperationsWithCacheHint?.map(U=>U.toLowerCase())?.includes($.toLowerCase())}function T(O,$){return{analytics:w(O),attachment:j(O),data:Z(O),metadata:I(O),operations:G(O.capabilities,O,$),query:W(O,$),queryRelated:A(O),queryTopFeatures:S(O),editing:N(O)}}function w(O){return{supportsCacheHint:F(O.advancedQueryCapabilities,"queryAnalytics")}}function j(O){const $=O.attachmentProperties,K={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:F(O.advancedQueryCapabilities,"queryAttachments"),supportsResize:V(O,"supportsAttachmentsResizing",!1)};return $&&Array.isArray($)&&$.forEach(U=>{const X=H[U.name];X&&(K[X]=!!U.isEnabled)}),K}function Z(O){return{isVersioned:V(O,"isDataVersioned",!1),supportsAttachment:V(O,"hasAttachments",!1),supportsM:V(O,"hasM",!1),supportsZ:V(O,"hasZ",!1)}}function I(O){return{supportsAdvancedFieldProperties:V(O,"supportsFieldDescriptionProperty",!1)}}function G(O,$,K){const U=O?O.toLowerCase().split(",").map(Q=>Q.trim()):[],X=K?(0,M.Qc)(K):null,Y=U.includes(null!=X&&"MapServer"===X.serverType?"data":"query"),oe=U.includes("editing")&&!$.datesInUnknownTimezone;let ne=oe&&U.includes("create"),se=oe&&U.includes("delete"),te=oe&&U.includes("update");const k=U.includes("changetracking"),re=$.advancedQueryCapabilities;return oe&&!(ne||se||te)&&(ne=se=te=!0),{supportsCalculate:V($,"supportsCalculate",!1),supportsTruncate:V($,"supportsTruncate",!1),supportsValidateSql:V($,"supportsValidateSql",!1),supportsAdd:ne,supportsDelete:se,supportsEditing:oe,supportsChangeTracking:k,supportsQuery:Y,supportsQueryAnalytics:V(re,"supportsQueryAnalytic",!1),supportsQueryAttachments:V(re,"supportsQueryAttachments",!1),supportsQueryTopFeatures:V(re,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:V($,"supportsAttachmentsResizing",!1),supportsSync:U.includes("sync"),supportsUpdate:te,supportsExceedsLimitStatistics:V($,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:V($,"supportsAsyncConvert3D",!1)}}function W(O,$){const K=O.advancedQueryCapabilities,U=O.ownershipBasedAccessControlForFeatures,X=O.archivingInfo,Y=O.currentVersion,oe=$?.includes("MapServer"),ne=!oe||Y>=(0,E.Z)("mapserver-pbf-version-support"),se=(0,M.M8)($),te=new Set((O.supportedQueryFormats??"").split(",").map(k=>k.toLowerCase().trim()));return{supportsStatistics:V(K,"supportsStatistics",O.supportsStatistics),supportsPercentileStatistics:V(K,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:V(K,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:B(K),supportsCentroid:V(K,"supportsReturningGeometryCentroid",!1),supportsDistance:V(K,"supportsQueryWithDistance",!1),supportsDistinct:V(K,"supportsDistinct",O.supportsAdvancedQueries),supportsExtent:V(K,"supportsReturningQueryExtent",!1),supportsGeometryProperties:V(K,"supportsReturningGeometryProperties",!1),supportsHavingClause:V(K,"supportsHavingClause",!1),supportsOrderBy:V(K,"supportsOrderBy",O.supportsAdvancedQueries),supportsPagination:V(K,"supportsPagination",!1),supportsQuantization:V(O,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:V(O,"supportsQuantizationEditMode",!1),supportsQueryGeometry:V(O,"supportsReturningQueryGeometry",!1),supportsResultType:V(K,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:V(K,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:V(K,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:V(O,"useStandardizedQueries",!1),supportsTopFeaturesQuery:V(K,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:V(U,"allowAnonymousToQuery",!0),supportsQueryByOthers:V(U,"allowOthersToQuery",!0),supportsHistoricMoment:V(X,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:ne&&te.has("pbf"),supportsDisjointSpatialRelationship:V(K,"supportsDisjointSpatialRel",!1),supportsCacheHint:V(K,"supportsQueryWithCacheHint",!1)||F(K,"query"),supportsDefaultSpatialReference:V(K,"supportsDefaultSR",!1),supportsCompactGeometry:se,supportsFullTextSearch:V(K,"supportsFullTextSearch",!1),maxRecordCountFactor:x(O,"maxRecordCountFactor",void 0),maxRecordCount:x(O,"maxRecordCount",void 0),standardMaxRecordCount:x(O,"standardMaxRecordCount",void 0),tileMaxRecordCount:x(O,"tileMaxRecordCount",void 0)}}function A(O){const $=O.advancedQueryCapabilities,K=V($,"supportsAdvancedQueryRelated",!1);return{supportsPagination:V($,"supportsQueryRelatedPagination",!1),supportsCount:K,supportsOrderBy:K,supportsCacheHint:F($,"queryRelated")}}function S(O){return{supportsCacheHint:F(O.advancedQueryCapabilities,"queryTopFilter")}}function N(O){const $=O.ownershipBasedAccessControlForFeatures,K=O?O.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:V(O,"allowGeometryUpdates",!0),supportsGlobalId:V(O,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:V(O,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:V(O,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:V(O,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:V(O,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:V($,"allowAnonymousToDelete",!0),supportsDeleteByOthers:V($,"allowOthersToDelete",!0),supportsUpdateByAnonymous:V($,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:V($,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:V(K,"supportsAsyncApplyEdits",!1),zDefault:x(O,"zDefault",void 0)}}},46054:(Ze,me,_)=>{"use strict";_.d(me,{n:()=>pe});var N,E=_(50484),M=_(84303),V=_(89317),x=_(80543),P=_(73018),H=_(21070),B=_(62185),F=_(10141),T=_(1535),w=_(50106),j=_(81247),Z=_(59341),A=(_(2189),_(57678),_(14007),_(43814)),S=_(31709);let L=N=class extends V.wq{constructor(fe){super(fe),this.type="query-table"}clone(){const{workspaceId:fe,query:ce,oidFields:q,spatialReference:le,geometryType:ee}=this,ae={workspaceId:fe,query:ce,oidFields:q,spatialReference:le?.clone()??void 0,geometryType:ee};return new N(ae)}};var O;(0,E._)([(0,H.J)({queryTable:"query-table"})],L.prototype,"type",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],L.prototype,"workspaceId",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],L.prototype,"query",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],L.prototype,"oidFields",void 0),(0,E._)([(0,x.Cb)({type:A.Z,json:{write:!0}})],L.prototype,"spatialReference",void 0),(0,E._)([(0,H.J)(S.M)],L.prototype,"geometryType",void 0),L=N=(0,E._)([(0,F.j)("esri.layers.support.source.QueryTableDataSource")],L);let $=O=class extends V.wq{constructor(fe){super(fe),this.type="raster"}clone(){const{workspaceId:fe,dataSourceName:ce}=this;return new O({workspaceId:fe,dataSourceName:ce})}};var K;(0,E._)([(0,H.J)({raster:"raster"})],$.prototype,"type",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],$.prototype,"dataSourceName",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],$.prototype,"workspaceId",void 0),$=O=(0,E._)([(0,F.j)("esri.layers.support.source.RasterDataSource")],$);let U=K=class extends V.wq{constructor(fe){super(fe),this.type="table"}clone(){const{workspaceId:fe,gdbVersion:ce,dataSourceName:q}=this;return new K({workspaceId:fe,gdbVersion:ce,dataSourceName:q})}};var X,Y;(0,E._)([(0,H.J)({table:"table"})],U.prototype,"type",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],U.prototype,"workspaceId",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],U.prototype,"gdbVersion",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],U.prototype,"dataSourceName",void 0),U=K=(0,E._)([(0,F.j)("esri.layers.support.source.TableDataSource")],U);const oe=(0,M.w)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let ne=X=class extends V.wq{constructor(fe){super(fe),this.type="join-table"}readLeftTableSource(fe,ce,q){return te()(fe,ce,q)}castLeftTableSource(fe){return(0,T.N7)(re(),fe)}readRightTableSource(fe,ce,q){return te()(fe,ce,q)}castRightTableSource(fe){return(0,T.N7)(re(),fe)}clone(){const{leftTableKey:fe,rightTableKey:ce,leftTableSource:q,rightTableSource:le,joinType:ee}=this,ae={leftTableKey:fe,rightTableKey:ce,leftTableSource:q?.clone()??void 0,rightTableSource:le?.clone()??void 0,joinType:ee};return new X(ae)}};(0,E._)([(0,H.J)({joinTable:"join-table"})],ne.prototype,"type",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],ne.prototype,"leftTableKey",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],ne.prototype,"rightTableKey",void 0),(0,E._)([(0,x.Cb)({json:{write:!0}})],ne.prototype,"leftTableSource",void 0),(0,E._)([(0,B.r)("leftTableSource")],ne.prototype,"readLeftTableSource",null),(0,E._)([(0,P.p)("leftTableSource")],ne.prototype,"castLeftTableSource",null),(0,E._)([(0,x.Cb)({json:{write:!0}})],ne.prototype,"rightTableSource",void 0),(0,E._)([(0,B.r)("rightTableSource")],ne.prototype,"readRightTableSource",null),(0,E._)([(0,P.p)("rightTableSource")],ne.prototype,"castRightTableSource",null),(0,E._)([(0,H.J)(oe)],ne.prototype,"joinType",void 0),ne=X=(0,E._)([(0,F.j)("esri.layers.support.source.JoinTableDataSource")],ne);let se=null;function te(){return se||(se=(0,w.d)({types:re()})),se}let k=null;function re(){return k||(k={key:"type",base:null,typeMap:{"data-layer":pe,"map-layer":Z.R}}),k}const Q={key:"type",base:null,typeMap:{"join-table":ne,"query-table":L,raster:$,table:U}};let pe=Y=class extends V.wq{constructor(fe){super(fe),this.type="data-layer"}clone(){const{fields:fe,dataSource:ce}=this;return new Y({fields:fe,dataSource:ce})}};(0,E._)([(0,H.J)({dataLayer:"data-layer"})],pe.prototype,"type",void 0),(0,E._)([(0,x.Cb)({type:[j.Z],json:{write:!0}})],pe.prototype,"fields",void 0),(0,E._)([(0,x.Cb)({types:Q,json:{write:!0}})],pe.prototype,"dataSource",void 0),pe=Y=(0,E._)([(0,F.j)("esri.layers.support.source.DataLayerSource")],pe),pe.from=(0,T.se)(pe)},59341:(Ze,me,_)=>{"use strict";_.d(me,{R:()=>w});var T,E=_(50484),M=_(89317),V=_(80543),x=_(1535),B=(_(57678),_(14007),_(21070)),F=_(10141);let w=T=class extends M.wq{constructor(j){super(j),this.type="map-layer"}clone(){const{mapLayerId:j,gdbVersion:Z}=this;return new T({mapLayerId:j,gdbVersion:Z})}};(0,E._)([(0,B.J)({mapLayer:"map-layer"})],w.prototype,"type",void 0),(0,E._)([(0,V.Cb)({type:x.z8,json:{write:!0}})],w.prototype,"mapLayerId",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"gdbVersion",void 0),w=T=(0,E._)([(0,F.j)("esri.layers.support.source.MapLayerSource")],w)},83739:(Ze,me,_)=>{"use strict";_.d(me,{D:()=>V});var E=_(89713);const M=[];function V(x,P){if((0,E.M8)(x.url??""))return!0;const{wkid:H}=P;for(const B of M){if((x.version??0)>=B[0])return!0;if("function"==typeof B[1]&&(B[1]=B[1]()),B[1].has(H))return!1}return!0}M.push([10.91,()=>{const x=new Set([9709,9716,9741,9761,9766]);for(let P=9712;P<=9713;P++)x.add(P);for(let P=9748;P<=9749;P++)x.add(P);for(let P=20904;P<=20932;P++)x.add(P);for(let P=21004;P<=21032;P++)x.add(P);for(let P=21207;P<=21264;P++)x.add(P);for(let P=21307;P<=21364;P++)x.add(P);for(let P=23301;P<=23333;P++)x.add(P);for(let P=102759;P<=102760;P++)x.add(P);for(let P=102934;P<=102955;P++)x.add(P);return x}]),M.push([10.9,()=>{const x=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let P=9356;P<=9360;P++)x.add(P);for(let P=9404;P<=9407;P++)x.add(P);for(let P=9476;P<=9482;P++)x.add(P);for(let P=9487;P<=9494;P++)x.add(P);for(let P=9697;P<=9699;P++)x.add(P);return x}]),M.push([10.81,()=>{const x=new Set([9265,9333,103598,103699]);for(let P=9248;P<=9254;P++)x.add(P);for(let P=9271;P<=9273;P++)x.add(P);for(let P=9284;P<=9285;P++)x.add(P);for(let P=21453;P<=21463;P++)x.add(P);return x}]),M.push([10.8,()=>{const x=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let P=8035;P<=8036;P++)x.add(P);for(let P=8455;P<=8456;P++)x.add(P);for(let P=8518;P<=8529;P++)x.add(P);for(let P=8533;P<=8536;P++)x.add(P);for(let P=8538;P<=8540;P++)x.add(P);for(let P=8677;P<=8679;P++)x.add(P);for(let P=8902;P<=8903;P++)x.add(P);for(let P=8907;P<=8910;P++)x.add(P);for(let P=8949;P<=8951;P++)x.add(P);for(let P=8972;P<=8987;P++)x.add(P);for(let P=9039;P<=9040;P++)x.add(P);for(let P=9068;P<=9069;P++)x.add(P);for(let P=9140;P<=9141;P++)x.add(P);for(let P=9148;P<=9150;P++)x.add(P);for(let P=9153;P<=9159;P++)x.add(P);for(let P=9205;P<=9218;P++)x.add(P);for(let P=9221;P<=9222;P++)x.add(P);for(let P=54098;P<=54101;P++)x.add(P);return x}]),M.push([10.71,()=>{const x=new Set([6316]);for(let P=8351;P<=8353;P++)x.add(P);for(let P=9294;P<=9297;P++)x.add(P);for(let P=22619;P<=22621;P++)x.add(P);for(let P=103586;P<=103594;P++)x.add(P);return x}]),M.push([10.7,()=>{const x=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let P=8065;P<=8068;P++)x.add(P);for(let P=8082;P<=8083;P++)x.add(P);for(let P=8379;P<=8385;P++)x.add(P);for(let P=8836;P<=8840;P++)x.add(P);for(let P=8857;P<=8860;P++)x.add(P);for(let P=53035;P<=53037;P++)x.add(P);for(let P=54090;P<=54091;P++)x.add(P);for(let P=102498;P<=102499;P++)x.add(P);return x}]),M.push([10.61,()=>new Set([102497])]),M.push([10.6,()=>{const x=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let P=7755;P<=7787;P++)x.add(P);for(let P=7791;P<=7795;P++)x.add(P);for(let P=7799;P<=7801;P++)x.add(P);for(let P=7825;P<=7831;P++)x.add(P);for(let P=7877;P<=7878;P++)x.add(P);for(let P=7882;P<=7883;P++)x.add(P);for(let P=7991;P<=7992;P++)x.add(P);for(let P=8042;P<=8043;P++)x.add(P);for(let P=8058;P<=8059;P++)x.add(P);for(let P=8311;P<=8348;P++)x.add(P);for(let P=9060;P<=9067;P++)x.add(P);for(let P=102562;P<=102568;P++)x.add(P);for(let P=102799;P<=102900;P++)x.add(P);return x}])},73322:(Ze,me,_)=>{"use strict";_.d(me,{W:()=>V,v:()=>x});var E=_(33740);const M={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(P,H,B)=>{"-"===H.charAt(0)?P.style.setProperty(H,B):P.style[H]=B}};let V=P=>(0,E.l7)(M,P),x={create:(P,H)=>(H=V(H),(0,E.WV)(P,document.createElement("div"),void 0,H),(0,E.UQ)(P,H)),append:(P,H,B)=>(B=V(B),(0,E.WV)(H,P,void 0,B),(0,E.UQ)(H,B)),insertBefore:(P,H,B)=>(B=V(B),(0,E.WV)(H,P.parentNode,P,B),(0,E.UQ)(H,B)),merge:(P,H,B)=>(B=V(B),H.domNode=P,(0,E.Yj)(P,H,B),(0,E.UQ)(H,B)),replace:(P,H,B)=>(B=V(B),(0,E.WV)(H,P.parentNode,P,B),P.parentNode.removeChild(P),(0,E.UQ)(H,B))}},33740:(Ze,me,_)=>{"use strict";_.d(me,{UQ:()=>ne,WV:()=>U,Yj:()=>K,l7:()=>H});var E=_(40846);const M="http://www.w3.org/",V=`${M}2000/svg`,x=`${M}1999/xlink`;let P=[],H=(se,te)=>{let k={};return Object.keys(se).forEach(re=>{k[re]=se[re]}),te&&Object.keys(te).forEach(re=>{k[re]=te[re]}),k},B=(se,te)=>se.vnodeSelector===te.vnodeSelector&&(se.properties&&te.properties?se.properties.key===te.properties.key&&se.properties.bind===te.properties.bind:!se.properties&&!te.properties),F=se=>{if("string"!=typeof se)throw new Error("Style values must be strings")},T=(se,te,k)=>{if(""!==te.vnodeSelector)for(let re=k;re<se.length;re++)if(B(se[re],te))return re;return-1},w=(se,te,k,re)=>{let Q=se[te];if(""===Q.vnodeSelector)return;let pe=Q.properties;if(!pe||!(void 0===pe.key?pe.bind:pe.key))for(let fe=0;fe<se.length;fe++)if(fe!==te&&B(se[fe],Q))throw new Error(`${k.vnodeSelector} had a ${Q.vnodeSelector} child ${"added"===re?re:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},j=se=>{if(se.properties){let te=se.properties.enterAnimation;te&&te(se.domNode,se.properties)}},Z=[],I=!1,G=se=>{(se.children||[]).forEach(G),se.properties&&se.properties.afterRemoved&&se.properties.afterRemoved.apply(se.properties.bind||se.properties,[se.domNode])},W=()=>{I=!1,Z.forEach(G),Z.length=0},A=se=>{Z.push(se),I||(I=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(W,{timeout:16}):setTimeout(W,16))},S=se=>{let te=se.domNode;if(se.properties){let k=se.properties.exitAnimation;if(k)return te.style.pointerEvents="none",void k(te,()=>{te.parentNode&&(te.parentNode.removeChild(te),A(se))},se.properties)}te.parentNode&&(te.parentNode.removeChild(te),A(se))},N=(se,te,k)=>{if(!te)return;let re=k.eventHandlerInterceptor,Q=Object.keys(te),pe=Q.length;for(let fe=0;fe<pe;fe++){let ce=Q[fe],q=te[ce];if("className"===ce)throw new Error('Property "className" is not supported, use "class".');if("class"===ce)X(se,q,!0);else if("classes"===ce){let le=Object.keys(q),ee=le.length;for(let ae=0;ae<ee;ae++){let ue=le[ae];q[ue]&&se.classList.add(ue)}}else if("styles"===ce){let le=Object.keys(q),ee=le.length;for(let ae=0;ae<ee;ae++){let ue=le[ae],ge=q[ue];ge&&(F(ge),k.styleApplyer(se,ue,ge))}}else if("key"!==ce&&null!=q){let le=typeof q;"function"===le?(0===ce.lastIndexOf("on",0)&&(re&&(q=re(ce,q,se,te)),"oninput"===ce&&function(){let ee=q;q=function(ae){ee.apply(this,[ae]),ae.target["oninput-value"]=ae.target.value}}()),se[ce]=q):k.namespace===V?"href"===ce?se.setAttributeNS(x,ce,q):se.setAttribute(ce,q):"string"===le&&"value"!==ce?"innerHTML"===ce?se[ce]=E.w3.sanitize(q):L(se)&&ce in se?se[ce]=q:se.setAttribute(ce,q):se[ce]=q}}};function L(se){if(!(se instanceof Element&&se.tagName.includes("-")))return!1;const te=window.customElements.get(se.tagName.toLowerCase());return!!te&&se instanceof te}let O,K=(se,te,k)=>{((se,te,k)=>{if(te)for(let re of te)U(re,se,void 0,k)})(se,te.children,k),te.text&&(se.textContent=te.text),N(se,te.properties,k),te.properties&&te.properties.afterCreate&&te.properties.afterCreate.apply(te.properties.bind||te.properties,[se,k,te.vnodeSelector,te.properties,te.children])},U=(se,te,k,re)=>{let Q,pe=0,fe=se.vnodeSelector,ce=te.ownerDocument;if(""===fe)Q=se.domNode=ce.createTextNode(se.text),void 0!==k?te.insertBefore(Q,k):te.appendChild(Q);else{for(let q=0;q<=fe.length;++q){let le=fe.charAt(q);if(q===fe.length||"."===le||"#"===le){let ee=fe.charAt(pe-1),ae=fe.slice(pe,q);"."===ee?Q.classList.add(ae):"#"===ee?Q.id=ae:("svg"===ae&&(re=H(re,{namespace:V})),void 0!==re.namespace?Q=se.domNode=ce.createElementNS(re.namespace,ae):(Q=se.domNode=se.domNode||ce.createElement(ae),"input"===ae&&se.properties&&void 0!==se.properties.type&&Q.setAttribute("type",se.properties.type)),void 0!==k?te.insertBefore(Q,k):Q.parentNode!==te&&te.appendChild(Q)),pe=q+1}}K(Q,se,re)}},X=(se,te,k)=>{te&&te.split(" ").forEach(re=>{re&&se.classList.toggle(re,k)})};O=(se,te,k)=>{let re=se.domNode,Q=!1;if(se===te)return!1;let pe=!1;if(""===te.vnodeSelector){if(te.text!==se.text){let fe=re.ownerDocument.createTextNode(te.text);return re.parentNode.replaceChild(fe,re),te.domNode=fe,Q=!0,Q}te.domNode=re}else 0===te.vnodeSelector.lastIndexOf("svg",0)&&(k=H(k,{namespace:V})),se.text!==te.text&&(pe=!0,void 0===te.text?re.removeChild(re.firstChild):re.textContent=te.text),te.domNode=re,pe=((se,te,k,re,Q)=>{if(k===re)return!1;let pe,fe=(k=k||P).length,ce=(re=re||P).length,q=0,le=0,ee=!1;for(;le<ce;){let ae=q<fe?k[q]:void 0,ue=re[le];if(void 0!==ae&&B(ae,ue))ee=O(ae,ue,Q)||ee,q++;else{let ge=T(k,ue,q+1);if(ge>=0){for(pe=q;pe<ge;pe++)S(k[pe]),w(k,pe,se,"removed");ee=O(k[ge],ue,Q)||ee,q=ge+1}else U(ue,te,q<fe?k[q].domNode:void 0,Q),j(ue),w(re,le,se,"added")}le++}if(fe>q)for(pe=q;pe<fe;pe++)S(k[pe]),w(k,pe,se,"removed");return ee})(te,re,se.children,te.children,k)||pe,pe=((se,te,k,re)=>{if(!k)return;let Q=!1,pe=Object.keys(k),fe=pe.length;for(let ce=0;ce<fe;ce++){let q=pe[ce],le=k[q],ee=te[q];if("class"===q)ee!==le&&(X(se,ee,!1),X(se,le,!0));else if("classes"===q){let ae=se.classList,ue=Object.keys(le),ge=ue.length;for(let Ee=0;Ee<ge;Ee++){let be=ue[Ee],ie=!!le[be];ie!==!!ee[be]&&(Q=!0,ie?ae.add(be):ae.remove(be))}}else if("styles"===q){let ae=Object.keys(le),ue=ae.length;for(let ge=0;ge<ue;ge++){let Ee=ae[ge],be=le[Ee];be!==ee[Ee]&&(Q=!0,be?(F(be),re.styleApplyer(se,Ee,be)):re.styleApplyer(se,Ee,""))}}else if(le||"string"!=typeof ee||(le=""),"value"!==q||L(se)){if(le!==ee){let ae=typeof le;"function"===ae&&re.eventHandlerInterceptor||(re.namespace===V?"href"===q?se.setAttributeNS(x,q,le):se.setAttribute(q,le):"string"===ae?"innerHTML"===q?se[q]=E.w3.sanitize(le):"role"===q&&""===le?se.removeAttribute(q):L(se)&&q in se?se[q]=le:se.setAttribute(q,le):se[q]!==le&&(se[q]=le),Q=!0)}}else{let ae=se[q];ae!==le&&(se["oninput-value"]?ae===se["oninput-value"]:le!==ee)&&(se[q]=le,se["oninput-value"]=void 0),le!==ee&&(Q=!0)}}return Q})(re,se.properties,te.properties,k)||pe,te.properties&&te.properties.afterUpdate&&te.properties.afterUpdate.apply(te.properties.bind||te.properties,[re,k,te.vnodeSelector,te.properties,te.children]);return pe&&te.properties&&te.properties.updateAnimation&&te.properties.updateAnimation(re,te.properties,se.properties),Q};let ne=(se,te)=>({getLastRender:()=>se,update:k=>{if(se.vnodeSelector!==k.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let re=se;se=k,O(re,k,te)},domNode:se.domNode})},58242:(Ze,me,_)=>{"use strict";_.d(me,{E:()=>H});var E=_(73322);let M;M=Array.prototype.find?(B,F)=>B.find(F):(B,F)=>B.filter(F)[0];let P=(B,F,T)=>{let w=function(j){T("domEvent",j);let Z=F(),I=((B,F)=>{let T=[];for(;B&&B!==F;)T.push(B),B=B.parentNode;return T})(j.currentTarget,Z.domNode);I.reverse();let G,W=((B,F)=>{let T=B;return F.forEach(w=>{T=T&&T.children?M(T.children,j=>j.domNode===w):void 0}),T})(Z.getLastRender(),I);return B.scheduleRender(),W&&(G=W.properties[`on${j.type}`].apply(W.properties.bind||this,arguments)),T("domEventProcessed",j),G};return(j,Z,I,G)=>w},H=B=>{let F,T,w=(0,E.W)(B),j=w.performanceLogger,Z=!0,I=!1,G=[],W=[],A=(N,L,O)=>{let $;w.eventHandlerInterceptor=P(F,()=>$,j),$=N(L,O(),w),G.push($),W.push(O)},S=()=>{if(T=void 0,Z){Z=!1,j("renderStart",void 0);for(let N=0;N<G.length;N++){let L=W[N]();j("rendered",void 0),G[N].update(L),j("patched",void 0)}j("renderDone",void 0),Z=!0}};return F={renderNow:S,scheduleRender:()=>{T||I||(T=requestAnimationFrame(S))},stop:()=>{T&&(cancelAnimationFrame(T),T=void 0),I=!0},resume:()=>{I=!1,Z=!0,F.scheduleRender()},append:(N,L)=>{A(E.v.append,N,L)},insertBefore:(N,L)=>{A(E.v.insertBefore,N,L)},merge:(N,L)=>{A(E.v.merge,N,L)},replace:(N,L)=>{A(E.v.replace,N,L)},detach:N=>{for(let L=0;L<W.length;L++)if(W[L]===N)return W.splice(L,1),G.splice(L,1)[0];throw new Error("renderFunction was not found")}},F}},45903:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{default:()=>Oe});var E=_(15861),M=_(50484),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(90373),T=_(16952),j=(_(2189),_(35458)),Z=_(66476),I=_(57964),G=_(67016),W=_(4703),A=_(3233),S=_(79412),N=_(6785),L=_(26894),O=_(40637),$=_(92344),K=_(89713),U=_(84303),X=_(21070),Y=_(41997);const oe=(0,U.w)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let ne=class extends Y.Z{constructor(Te){super(Te),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}checkJobStatus(Te){var je=this;return(0,E.Z)(function*(){const $e={...Te,query:{f:"json"}},{data:nt}=yield(0,Z.Z)(je.statusUrl,$e);return je.read(nt),je.editsResolver&&je.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),je})()}waitForJobCompletion(Te={}){var je=this;return(0,E.Z)(function*(){const{interval:$e=1e3,statusCallback:nt}=Te;return new Promise((Je,ot)=>{je._clearTimer();const at=setInterval(()=>{je._timer||ot((0,S.zE)()),je.checkJobStatus().then(mt=>{const{status:Tt}=mt;switch(je.status=Tt,Tt){case"job-succeeded":je._clearTimer(),Je(je);break;case"job-waiting":case"job-executing":nt&&nt(je)}},mt=>{je._clearTimer(),ot(mt)})},$e);je._timer=at})})()}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,M._)([(0,V.Cb)()],ne.prototype,"editsResolver",void 0),(0,M._)([(0,V.Cb)({type:String,json:{write:!0}})],ne.prototype,"statusUrl",void 0),(0,M._)([(0,X.J)(oe)],ne.prototype,"status",void 0),(0,M._)([(0,V.Cb)({type:Date,json:{type:Number,write:{writer:(Te,je)=>{je.submissionTime=Te?Te.getTime():null}}}})],ne.prototype,"submissionTime",void 0),(0,M._)([(0,V.Cb)({type:Date,json:{type:Number,write:{writer:(Te,je)=>{je.lastUpdatedTime=Te?Te.getTime():null}}}})],ne.prototype,"lastUpdatedTime",void 0),ne=(0,M._)([(0,B.j)("esri.networks.support.TopologyValidationJobInfo")],ne);const se=ne;var te=_(27835);function fe(Te,je){return ce.apply(this,arguments)}function ce(){return(ce=(0,E.Z)(function*(Te,je){if("Utility Network Layer"===Te){const{default:$e}=yield Promise.resolve().then(_.bind(_,45903));return new $e({layerUrl:je})}return null})).apply(this,arguments)}function le(){return(le=(0,E.Z)(function*(Te){let je="portalItem"in Te?Te:{portalItem:Te};!je.portalItem||je.portalItem instanceof te.default||(je={...je,portalItem:new te.default(je.portalItem)});const $e=je.portalItem;if(yield $e.load(),"Feature Service"!==$e.type)throw new I.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:$e.type});const nt=$e.url,Je=yield(0,Z.Z)(nt,{responseType:"json",query:{f:"json"}}),ot="Network Layer";if(Je.data.type?.includes(ot))return fe(Je.data.type,nt);if(Je.data.layers){const at=Je.data.layers.find(mt=>mt.type.includes(ot));if(at)return fe(at.type,`${nt}/${at.id}`)}return null})).apply(this,arguments)}_(93792);var ee=_(93604),ae=_(43814);let ue=class extends((0,A.R)(G.Z)){static fromPortalItem(Te){return function q(Te){return le.apply(this,arguments)}(Te)}constructor(Te){super(Te),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._applyEditsHandler=je=>{const{serviceUrl:$e,gdbVersion:nt,result:Je}=je,ot=$e===this.featureServiceUrl,at=(0,$.di)($e,nt,this.gdbVersion);ot&&at&&Je.then(mt=>{(0,ee.JV)($e,nt)&&(this.historicMoment=mt.historicMoment)})},this._updateMomentHandler=je=>{const{serviceUrl:$e,gdbVersion:nt,moment:Je}=je,ot=$e===this.featureServiceUrl,at=(0,$.di)($e,nt,this.gdbVersion);ot&&at&&(this.historicMoment=Je)},this.when().then(()=>{this.addHandles([(0,$.qH)(this._applyEditsHandler),(0,$.xl)(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(Te=>{(0,S.D_)(Te)||W.Z.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:Te})})}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return(0,N.mN)(this.layerUrl)}get featureServiceUrl(){return(0,K.Qc)(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return(0,K.Qc)(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}load(Te){var je=this;return(0,E.Z)(function*(){return je.addResolvingPromise(je._fetchDataElement(je.featureServiceUrl,je.layerId.toString(),Te)),je.addResolvingPromise(je._fetchLayerMetaData(je.layerUrl,Te)),je})()}getLayerIdBySourceId(Te){if(this.dataElement){const je=this.dataElement.domainNetworks;for(const $e of je){for(const nt of $e.edgeSources??[])if(nt.sourceId===Te)return nt.layerId;for(const nt of $e.junctionSources??[])if(nt.sourceId===Te)return nt.layerId}return null}return null}queryNamedTraceConfigurations(Te,je){var $e=this;return(0,E.Z)(function*(){const[{queryNamedTraceConfigurations:nt},{default:Je}]=yield Promise.all([_.e(6200).then(_.bind(_,26200)),_.e(7739).then(_.bind(_,7739))]),ot=$e.networkServiceUrl,at=Je.from(Te);return(yield nt(ot,at,{...je}))?.namedTraceConfigurations})()}validateTopology(Te,je){var $e=this;return(0,E.Z)(function*(){if(!Te.validateArea)throw new I.Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:nt},{default:Je}]=yield Promise.all([_.e(3744).then(_.bind(_,83744)),_.e(1569).then(_.bind(_,41569))]),ot=Je.from(Te);(0,ee.JV)($e.featureServiceUrl,$e.gdbVersion||null)&&(ot.sessionID=ee.U8),ot.gdbVersion=$e.gdbVersion;const at=$e.networkServiceUrl,Tt=(0,$.jF)($e.featureServiceUrl,null,$e.gdbVersion,!0),Ot=yield nt(at,ot,{...je});if(Ot?.serviceEdits){const Bt=[];for(const Gt of Ot.serviceEdits){const{editedFeatures:kt}=Gt,on=kt?.spatialReference?new ae.Z(kt.spatialReference):null;Bt.push({layerId:Gt.layerId,editedFeatures:{adds:kt?.adds?.map(ft=>$e._createEditedFeature(ft,on))||[],updates:kt?.updates?.map(ft=>({original:$e._createEditedFeature(ft[0],on),current:$e._createEditedFeature(ft[1],on)}))||[],deletes:kt?.deletes?.map(ft=>$e._createEditedFeature(ft,on))||[],spatialReference:on}})}Tt.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:Bt,exceededTransferLimit:!1,historicMoment:Ot.moment})}return Ot})()}submitTopologyValidationJob(Te,je){var $e=this;return(0,E.Z)(function*(){if(!Te.validateArea)throw new I.Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!$e.gdbVersion)throw new I.Z("network:undefined-gdb-version","version must be defined");const[{submitValidateNetworkTopologyJob:nt},{default:Je}]=yield Promise.all([_.e(3744).then(_.bind(_,83744)),_.e(1569).then(_.bind(_,41569))]),ot=Je.from(Te);(0,ee.JV)($e.featureServiceUrl,$e.gdbVersion||null)&&(ot.sessionID=ee.U8),ot.gdbVersion=$e.gdbVersion;const at=$e.networkServiceUrl,mt=$e.featureServiceUrl?(0,$.jF)($e.featureServiceUrl,null,$e.gdbVersion,!0):void 0,Tt=yield nt(at,ot,{...je});return new se({statusUrl:Tt,editsResolver:mt})})()}_createEditedFeature(Te,je){return new j.Z({attributes:Te.attributes,geometry:(0,O.im)({...Te.geometry,spatialReference:je})})}_fetchLayerMetaData(Te,je){var $e=this;return(0,E.Z)(function*(){const nt=yield(0,Z.Z)(Te,{responseType:"json",query:{f:"json"},...je});$e.sourceJSON=nt.data,$e.read(nt.data,{origin:"service"})})()}_fetchDataElement(Te,je,$e){var nt=this;return(0,E.Z)(function*(){if(nt.dataElement)return;const Je=yield(0,Z.Z)(`${Te}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([je]),f:"json"},...$e}).then(ot=>ot.data.layerDataElements?.[0]);Je&&nt.read(Je,{origin:"service"})})()}};(0,M._)([(0,V.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],ue.prototype,"id",void 0),(0,M._)([(0,V.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],ue.prototype,"title",void 0),(0,M._)([(0,V.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],ue.prototype,"layerUrl",void 0),(0,M._)([(0,V.Cb)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],ue.prototype,"dataElement",void 0),(0,M._)([(0,V.Cb)({type:L.Z,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],ue.prototype,"fullExtent",void 0),(0,M._)([(0,V.Cb)({type:ae.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],ue.prototype,"spatialReference",void 0),(0,M._)([(0,V.Cb)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],ue.prototype,"type",void 0),(0,M._)([(0,V.Cb)({readOnly:!0})],ue.prototype,"datasetName",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ue.prototype,"owner",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ue.prototype,"schemaGeneration",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ue.prototype,"parsedUrl",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ue.prototype,"featureServiceUrl",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ue.prototype,"networkServiceUrl",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ue.prototype,"layerId",null),(0,M._)([(0,V.Cb)()],ue.prototype,"sourceJSON",void 0),(0,M._)([(0,V.Cb)({readOnly:!0})],ue.prototype,"networkSystemLayers",null),(0,M._)([(0,V.Cb)()],ue.prototype,"gdbVersion",void 0),(0,M._)([(0,V.Cb)({type:Date})],ue.prototype,"historicMoment",void 0),ue=(0,M._)([(0,B.j)("esri.networks.Network")],ue);const ge=ue;var Ee=_(89317),be=_(57353);let ie=class extends((0,Ee.eC)(G.Z)){constructor(Te){super(Te),this.request=Z.Z}initialize(){}load(Te){var je=this;return(0,E.Z)(function*(){const $e=je.layer.load(Te).then(()=>je._initializeRulesTable());return je.addResolvingPromise($e),je})()}getFeatureSQL(Te,je){const $e=Te.layerId.toString(),nt=Te.fieldsIndex?.normalizeFieldName("assetGroup"),Je=Te.fieldsIndex?.normalizeFieldName("assetType"),mt=this.rulesHash[$e];if(mt){const Tt=mt.assetGroupHash[nt?je.attributes[nt]:null];if(Tt)return Tt.assetTypeHash[Je?je.attributes[Je]:null]||null}return null}_initializeRulesTable(){var Te=this;return(0,E.Z)(function*(){const je={};let $e;var Je;(Je=$e||($e={}))[Je.from=0]="from",Je[Je.to=1]="to",Je[Je.via=2]="via";const nt=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];for(const Je of Te.rules){if(Je.ruleType!==be.SV.RTJunctionJunctionConnectivity&&Je.ruleType!==be.SV.RTJunctionEdgeConnectivity&&Je.ruleType!==be.SV.RTEdgeJunctionEdgeConnectivity)continue;let ot=[[$e.from,$e.to],[$e.to,$e.from]];Je.ruleType===be.SV.RTEdgeJunctionEdgeConnectivity&&(ot=[[$e.from,$e.via],[$e.via,$e.from],[$e.to,$e.via],[$e.via,$e.to]]);for(const at of ot){const mt=at.shift(),Tt=at.shift();let Ot=!1;switch(Je.ruleType){case be.SV.RTEdgeJunctionEdgeConnectivity:Ot=mt===$e.from||mt===$e.to;break;case be.SV.RTJunctionEdgeConnectivity:Ot=mt===$e.to}const Bt=nt[mt],Gt=Je[Bt.networkSourceId]?.layerId.toString()??"",kt=Je[Bt.assetGroupId]?.assetGroupCode?.toString(),on=Je[Bt.assetTypeId],ft=on?.assetTypeCode?.toString(),dt=nt[Tt],Ct=Je[dt.networkSourceId]?.layerId.toString()??"",Dt=Je[dt.assetGroupId]?.assetGroupCode?.toString(),xt=Je[dt.assetTypeId],nn=xt?.assetTypeCode?.toString(),Yt=je[Gt]??{assetGroupHash:{}};if(!(kt&&ft&&Dt&&nn))continue;const rn=Yt.assetGroupHash[kt]??{assetTypeHash:{}},gn=rn.assetTypeHash[ft]??{};if(gn[Ct]=gn[Ct]??{},Ot){gn[Gt]=gn[Gt]??{};const Mn=`(assetgroup = ${kt} AND assettype = ${ft})`;gn[Gt].anyVertex=gn[Gt].anyVertex?`${gn[Gt].anyVertex}`:`${Mn}`,"esriNECPEndVertex"===xt?.connectivityPolicy&&(gn[Gt].endVertex=gn[Gt]?.endVertex?`${gn[Gt].endVertex}`:`${Mn}`)}const yn=`(assetgroup = ${Dt} AND assettype = ${nn})`;gn[Ct].anyVertex=gn[Ct]?.anyVertex?`${gn[Ct].anyVertex} OR ${yn}`:`${yn}`,"esriNECPEndVertex"===xt?.connectivityPolicy&&(gn[Ct].endVertex=gn[Ct]?.endVertex?`${gn[Ct].endVertex} OR ${yn}`:`${yn}`),rn.assetTypeHash[ft]=gn,Yt.assetGroupHash[kt]=rn,je[Gt]=Yt}}Te.rulesHash=je})()}};(0,M._)([(0,V.Cb)({constructOnly:!0})],ie.prototype,"layer",void 0),(0,M._)([(0,V.Cb)({constructOnly:!0})],ie.prototype,"rules",void 0),(0,M._)([(0,V.Cb)()],ie.prototype,"rulesHash",void 0),(0,M._)([(0,V.Cb)({constructOnly:!0})],ie.prototype,"request",void 0),ie=(0,M._)([(0,B.j)("esri.networks.RulesTable")],ie);const De=ie;var Be=_(36948),we=_(73514);let Me=class extends we.Z{constructor(Te){super(Te),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null}};(0,M._)([(0,V.Cb)({constructOnly:!0})],Me.prototype,"rulesTableId",void 0),(0,M._)([(0,V.Cb)({constructOnly:!0})],Me.prototype,"rulesTableUrl",void 0),(0,M._)([(0,V.Cb)({constructOnly:!0})],Me.prototype,"subnetworksTableId",void 0),(0,M._)([(0,V.Cb)({constructOnly:!0})],Me.prototype,"subnetworksTableUrl",void 0),(0,M._)([(0,V.Cb)({constructOnly:!0})],Me.prototype,"dirtyAreasLayerId",void 0),(0,M._)([(0,V.Cb)({constructOnly:!0})],Me.prototype,"dirtyAreasLayerUrl",void 0),Me=(0,M._)([(0,B.j)("esri.networks.support.NetworkSystemLayers")],Me);const He=Me;let xe=class extends Ee.wq{constructor(Te){super(Te),this.id=null,this.name=null}};(0,M._)([(0,V.Cb)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],xe.prototype,"id",void 0),(0,M._)([(0,V.Cb)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],xe.prototype,"name",void 0),(0,M._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],xe.prototype,"isUpstreamTerminal",void 0),xe=(0,M._)([(0,B.j)("esri.networks.support.Terminal")],xe);const Xe=xe,J=new U.X({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let ye=class extends Ee.wq{constructor(Te){super(Te),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};(0,M._)([(0,V.Cb)({type:String,json:{write:!0}})],ye.prototype,"defaultConfiguration",void 0),(0,M._)([(0,V.Cb)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],ye.prototype,"id",void 0),(0,M._)([(0,V.Cb)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],ye.prototype,"name",void 0),(0,M._)([(0,V.Cb)({type:[Xe],json:{write:!0}})],ye.prototype,"terminals",void 0),(0,M._)([(0,V.Cb)({type:J.apiValues,json:{type:J.jsonValues,read:J.read,write:J.write}})],ye.prototype,"traversabilityModel",void 0),ye=(0,M._)([(0,B.j)("esri.networks.support.TerminalConfiguration")],ye);const Re=ye;var Ve=_(80020);const et=(0,U.w)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let Fe=class extends Ve.Z{constructor(Te){super(Te),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}checkJobStatus(Te){var je=this;return(0,E.Z)(function*(){const $e={...Te,query:{f:"json"}},{data:nt}=yield(0,Z.Z)(je.statusUrl,$e),Je=nt.traceResults?{...nt.traceResults,...nt}:nt;return je.read(Je),je})()}waitForJobCompletion(Te={}){var je=this;return(0,E.Z)(function*(){const{interval:$e=1e3,statusCallback:nt}=Te;return new Promise((Je,ot)=>{je._clearTimer();const at=setInterval(()=>{je._timer||ot((0,S.zE)()),je.checkJobStatus().then(mt=>{const{status:Tt}=mt;switch(je.status=Tt,Tt){case"job-succeeded":je._clearTimer(),Je(je);break;case"job-waiting":case"job-executing":nt&&nt(je)}},mt=>{je._clearTimer(),ot(mt)})},$e);je._timer=at})})()}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,M._)([(0,V.Cb)({type:String,json:{write:!0}})],Fe.prototype,"statusUrl",void 0),(0,M._)([(0,X.J)(et)],Fe.prototype,"status",void 0),(0,M._)([(0,V.Cb)({type:Date,json:{type:Number,write:{writer:(Te,je)=>{je.submissionTime=Te?Te.getTime():null}}}})],Fe.prototype,"submissionTime",void 0),(0,M._)([(0,V.Cb)({type:Date,json:{type:Number,write:{writer:(Te,je)=>{je.lastUpdatedTime=Te?Te.getTime():null}}}})],Fe.prototype,"lastUpdatedTime",void 0),Fe=(0,M._)([(0,B.j)("esri.networks.support.TraceJobInfo")],Fe);const Qe=Fe;var Ne=_(91866);let ve=class extends ge{constructor(Te){super(Te),this.sharedNamedTraceConfigurations=[],this.type="utility"}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new He({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(Te=>Re.fromJSON(Te))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(Te=>Te.domainNetworkName)||[]}get _utilityLayerList(){const Te=new Set;return this.dataElement?.domainNetworks?.map(je=>{je.edgeSources.map($e=>{Te.add($e.layerId)}),je.junctionSources.map($e=>{Te.add($e.layerId)})}),Te}load(Te){var je=()=>super.load,$e=this;return(0,E.Z)(function*(){return $e.addResolvingPromise(je().call($e,Te)),$e.addResolvingPromise($e._loadNamedTraceConfigurationsFromNetwork(Te)),$e})()}getTerminalConfiguration(Te){let je=null,$e=null;const nt=Te.layer;let Je=null;if("feature"===nt?.type){if(Je=nt.layerId,null===Je)return null}else if("subtype-sublayer"!==nt?.type||(Je=nt?.parent?.layerId??null,null===Je))return null;const ot=Te.attributes;if(null==ot)return null;for(const Tt of Object.keys(ot))"ASSETGROUP"===Tt.toUpperCase()&&(je=Te.getAttribute(Tt)),"ASSETTYPE"===Tt.toUpperCase()&&($e=Te.getAttribute(Tt));if(!this.dataElement)return null;let at=null;const mt=this.dataElement.domainNetworks;for(const Tt of mt){const Ot=Tt.junctionSources?.find(Bt=>Bt.layerId===Je);if(Ot){const Bt=Ot.assetGroups?.find(Gt=>Gt.assetGroupCode===je);if(Bt){const Gt=Bt.assetTypes?.find(kt=>kt.assetTypeCode===$e);if(Gt){at=Gt.terminalConfigurationId;break}}}}if(null!=at){const Tt=this.dataElement.terminalConfigurations,Ot=Tt?.find(Bt=>Bt.terminalConfigurationId===at);return Ot?Re.fromJSON(Ot):null}return null}getTierNames(Te){return this.dataElement?.domainNetworks.find($e=>$e.domainNetworkName===Te)?.tiers.map($e=>$e.name)||[]}getRulesTable(){var Te=this;return(0,E.Z)(function*(){return Te._sharedRulesTable||(Te._sharedRulesTable=Te._createRulesTable()),yield Te._sharedRulesTable})()}isUtilityLayer(Te){return this._utilityLayerList.has(Te.layerId)}queryAssociations(Te){var je=this;return(0,E.Z)(function*(){const[{queryAssociations:$e},{default:nt}]=yield Promise.all([Promise.all([_.e(8592),_.e(28)]).then(_.bind(_,20028)),_.e(858).then(_.bind(_,70858))]),Je=nt.from(Te);return Je.gdbVersion=je.gdbVersion,Je.moment=je.historicMoment,(yield $e(je.networkServiceUrl,Je)).associations})()}synthesizeAssociationGeometries(Te){var je=this;return(0,E.Z)(function*(){const[{synthesizeAssociationGeometries:$e},{default:nt}]=yield Promise.all([Promise.all([_.e(8592),_.e(9056)]).then(_.bind(_,39056)),_.e(5085).then(_.bind(_,35085))]),Je=nt.from(Te);return Je.gdbVersion=je.gdbVersion,Je.moment=je.historicMoment,$e(je.networkServiceUrl,Je)})()}trace(Te){var je=this;return(0,E.Z)(function*(){const[{trace:$e},{default:nt}]=yield Promise.all([_.e(2432).then(_.bind(_,82432)),_.e(7190).then(_.bind(_,67190))]),Je=nt.from(Te);return Je.gdbVersion=je.gdbVersion,Je.moment=je.historicMoment,$e(je.networkServiceUrl,Je)})()}submitTraceJob(Te){var je=this;return(0,E.Z)(function*(){const[{submitTraceJob:$e},{default:nt}]=yield Promise.all([_.e(2432).then(_.bind(_,82432)),_.e(7190).then(_.bind(_,67190))]),Je=nt.from(Te);Je.gdbVersion=je.gdbVersion,Je.moment=je.historicMoment;const ot=yield $e(je.networkServiceUrl,Je);return new Qe({statusUrl:ot})})()}_loadNamedTraceConfigurationsFromNetwork(Te){var je=this;return(0,E.Z)(function*(){if(0===je.sharedNamedTraceConfigurations?.length)return;const $e=je.sharedNamedTraceConfigurations.map(Je=>Je.globalId),nt=yield je.queryNamedTraceConfigurations({globalIds:$e},Te);for(const Je of je.sharedNamedTraceConfigurations){const ot=nt?.find(at=>at.globalId===Je.globalId);if(ot){const at=ot.write({},{origin:"service"});Je.read(at,{origin:"service"})}}})()}_createRulesTable(){var Te=this;return(0,E.Z)(function*(){const $e=new F.default({url:Te.networkSystemLayers.rulesTableUrl});yield $e.load();const nt=Te.dataElement?.domainNetworks;if(!nt)return null;const Je=nt.flatMap(at=>[...at.edgeSources,...at.junctionSources]),ot=(yield Te._queryRulesTable($e)).map(at=>Te._hydrateRuleInfo($e,Je,at));return new De({layer:$e,rules:ot})})()}_queryRulesTable(Te){return(0,E.Z)(function*(){const je=new Ne.Z({where:"1=1",outFields:["*"]});return(yield(0,T.UK)(Te,je)).features})()}_hydrateRuleInfo(Te,je,$e){const nt=Te.fieldsIndex,Je=nt.get("RULETYPE"),ot=nt.get("CREATIONDATE"),at=nt.get("FROMNETWORKSOURCEID"),mt=nt.get("FROMASSETGROUP"),Tt=nt.get("FROMASSETTYPE"),Ot=nt.get("FROMTERMINALID"),Bt=nt.get("TONETWORKSOURCEID"),Gt=nt.get("TOASSETGROUP"),kt=nt.get("TOASSETTYPE"),on=nt.get("TOTERMINALID"),ft=nt.get("VIANETWORKSOURCEID"),dt=nt.get("VIAASSETGROUP"),Ct=nt.get("VIAASSETTYPE"),Dt=nt.get("VIATERMINALID"),xt=$e.attributes[Je.name],nn=new Date($e.attributes[ot.name]),Yt=[{networkSourceId:$e.attributes[at.name],assetGroupId:$e.attributes[mt.name],assetTypeId:$e.attributes[Tt.name],terminalId:$e.attributes[Ot.name]},{networkSourceId:$e.attributes[Bt.name],assetGroupId:$e.attributes[Gt.name],assetTypeId:$e.attributes[kt.name],terminalId:$e.attributes[on.name]},{networkSourceId:$e.attributes[ft.name],assetGroupId:$e.attributes[dt.name],assetTypeId:$e.attributes[Ct.name],terminalId:$e.attributes[Dt.name]}];let rn;var yn;(yn=rn||(rn={}))[yn.from=0]="from",yn[yn.to=1]="to",yn[yn.via=2]="via";const gn={ruleType:xt,creationDate:nn};for(const yn of[rn.from,rn.to,rn.via]){if(xt!==be.SV.RTEdgeJunctionEdgeConnectivity&&yn===rn.via)continue;const Mn=Yt[yn],lr=je.find(Gn=>Gn.sourceId===Mn.networkSourceId),On=lr?.assetGroups.find(Gn=>Gn.assetGroupCode===Mn.assetGroupId),zn=On?.assetTypes.find(Gn=>Gn.assetTypeCode===Mn.assetTypeId);let Ut=this._getTerminal(xt,zn,Mn);xt!==be.SV.RTContainment&&xt!==be.SV.RTAttachment||(Ut=null);let Xt="";switch(yn){case rn.from:Xt="from";break;case rn.to:Xt="to";break;case rn.via:Xt="via"}gn[`${Xt}NetworkSource`]=lr,gn[`${Xt}AssetGroup`]=On,gn[`${Xt}AssetType`]=zn,gn[`${Xt}Terminal`]=Ut?.toJSON()}return gn}_getTerminal(Te,je,$e){if(Te===be.SV.RTAttachment||Te===be.SV.RTContainment)return null;const nt=je?.terminalConfigurationId;return this.terminalConfigurations?.find(ot=>ot.id===nt)?.terminals?.find(ot=>ot.id===$e.terminalId)??null}};(0,M._)([(0,V.Cb)({type:[Be.Z],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],ve.prototype,"sharedNamedTraceConfigurations",void 0),(0,M._)([(0,V.Cb)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],ve.prototype,"type",void 0),(0,M._)([(0,V.Cb)({readOnly:!0})],ve.prototype,"serviceTerritoryFeatureLayerId",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ve.prototype,"networkSystemLayers",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ve.prototype,"terminalConfigurations",null),(0,M._)([(0,V.Cb)({readOnly:!0})],ve.prototype,"domainNetworkNames",null),ve=(0,M._)([(0,B.j)("esri.networks.UtilityNetwork")],ve);const Oe=ve},36948:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var E=_(50484),M=_(3233),V=_(80543),B=(_(1535),_(57678),_(14007),_(62185)),F=_(10141),T=_(91491),w=_(57353),j=_(66716);let Z=class extends M.w{constructor(G){super(G),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(G,W){return void 0!==G.tierName?j.Z.fromJSON(G):T.Z.fromJSON(G)}};(0,E._)([(0,V.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],Z.prototype,"globalId",void 0),(0,E._)([(0,V.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],Z.prototype,"title",void 0),(0,E._)([(0,V.Cb)({type:T.Z,json:{origins:{service:{read:!0,write:!0}},read:!1}})],Z.prototype,"traceConfiguration",void 0),(0,E._)([(0,B.r)("service","traceConfiguration")],Z.prototype,"readTraceConfiguration",null),(0,E._)([(0,V.Cb)({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],Z.prototype,"creationDate",void 0),(0,E._)([(0,V.Cb)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],Z.prototype,"creator",void 0),(0,E._)([(0,V.Cb)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],Z.prototype,"description",void 0),(0,E._)([(0,V.Cb)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],Z.prototype,"minStartingPoints",void 0),(0,E._)([(0,V.Cb)({json:{origins:{service:{read:!0,write:!0}},read:!1}})],Z.prototype,"resultTypes",void 0),(0,E._)([(0,V.Cb)({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],Z.prototype,"tags",void 0),(0,E._)([(0,V.Cb)({type:w.Fh.apiValues,json:{type:w.Fh.jsonValues,origins:{service:{read:w.Fh.read,write:w.Fh.write}},read:!1}})],Z.prototype,"traceType",void 0),Z=(0,E._)([(0,F.j)("esri.networks.support.NamedTraceConfiguration")],Z);const I=Z},91491:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};(0,E._)([(0,V.Cb)({type:[Object],json:{write:!0}})],F.prototype,"conditionBarriers",void 0),(0,E._)([(0,V.Cb)({type:[Object],json:{write:!0}})],F.prototype,"outputConditions",void 0),(0,E._)([(0,V.Cb)({type:[Object],json:{write:!0}})],F.prototype,"functions",void 0),(0,E._)([(0,V.Cb)({type:[Object],json:{write:!0}})],F.prototype,"functionBarriers",void 0),(0,E._)([(0,V.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],F.prototype,"traversabilityScope",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],F.prototype,"shortestPathNetworkAttributeName",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"includeBarriers",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"validateConsistency",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"ignoreBarriersAtStartingPoints",void 0),F=(0,E._)([(0,B.j)("esri.networks.support.TraceConfiguration")],F);const T=F},66716:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(91491);let F=class extends B.Z{constructor(w){super(w),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};(0,E._)([(0,M.Cb)({type:[Object],json:{write:!0}})],F.prototype,"filterBarriers",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],F.prototype,"arcadeExpressionBarrier",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],F.prototype,"domainNetworkName",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],F.prototype,"filterBitsetNetworkAttributeName",void 0),(0,E._)([(0,M.Cb)({type:[Object],json:{write:!0}})],F.prototype,"filterFunctionBarriers",void 0),(0,E._)([(0,M.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],F.prototype,"filterScope",void 0),(0,E._)([(0,M.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"includeContainers",void 0),(0,E._)([(0,M.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"includeContent",void 0),(0,E._)([(0,M.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"includeIsolated",void 0),(0,E._)([(0,M.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"includeStructures",void 0),(0,E._)([(0,M.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"allowIndeterminateFlow",void 0),(0,E._)([(0,M.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"includeUpToFirstSpatialContainer",void 0),(0,E._)([(0,M.Cb)({type:Object,json:{write:!0}})],F.prototype,"nearestNeighbor",void 0),(0,E._)([(0,M.Cb)({type:[Object],json:{write:!0}})],F.prototype,"outputFilterCategories",void 0),(0,E._)([(0,M.Cb)({type:[Object],json:{write:!0}})],F.prototype,"outputFilters",void 0),(0,E._)([(0,M.Cb)({type:[Object],json:{write:!0}})],F.prototype,"propagators",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],F.prototype,"subnetworkName",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],F.prototype,"targetTierName",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],F.prototype,"diagramTemplateName",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],F.prototype,"tierName",void 0),(0,E._)([(0,M.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"validateLocatability",void 0),F=(0,E._)([(0,H.j)("esri.networks.support.UNTraceConfiguration")],F);const T=F},57353:(Ze,me,_)=>{"use strict";_.d(me,{By:()=>x,Fh:()=>V,SV:()=>M,k3:()=>P});var M,H,E=_(84303);(H=M||(M={}))[H.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",H[H.RTContainment=2]="RTContainment",H[H.RTAttachment=3]="RTAttachment",H[H.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",H[H.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity";const V=new E.X({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"}),x=new E.X({connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionMidspanConnectivity:"junction-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),P=new E.X({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"})},43573:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let T=F=class extends M.wq{constructor(j){super(j),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new F({title:this.title,expression:this.expression})}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],T.prototype,"expression",void 0),(0,E._)([(0,V.Cb)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"returnType",void 0),T=F=(0,E._)([(0,B.j)("esri.popup.ElementExpressionInfo")],T);const w=T},59869:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let T=F=class extends M.wq{constructor(j){super(j),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new F({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],T.prototype,"name",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],T.prototype,"expression",void 0),(0,E._)([(0,V.Cb)({type:["string","number"],json:{write:!0}})],T.prototype,"returnType",void 0),T=F=(0,E._)([(0,B.j)("esri.popup.ExpressionInfo")],T);const w=T},42271:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var w,E=_(50484),M=_(84303),V=_(89317),x=_(34222),P=_(80543),B=(_(1535),_(21070)),F=_(10141),T=_(17831);let j=w=class extends V.wq{constructor(I){super(I),this.fieldName=null,this.format=null,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new w({fieldName:this.fieldName,format:this.format?(0,x.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],j.prototype,"fieldName",void 0),(0,E._)([(0,P.Cb)({type:T.Z,json:{write:!0}})],j.prototype,"format",void 0),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],j.prototype,"isEditable",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],j.prototype,"label",void 0),(0,E._)([(0,B.J)(new M.X({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],j.prototype,"stringFieldOption",void 0),(0,E._)([(0,P.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],j.prototype,"statisticType",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],j.prototype,"tooltip",void 0),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:!0}})],j.prototype,"visible",void 0),j=w=(0,E._)([(0,F.j)("esri.popup.FieldInfo")],j);const Z=j},20004:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(37462);let T=F=class extends B.Z{constructor(j){super(j),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new F({description:this.description,displayType:this.displayType,title:this.title})}};(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],T.prototype,"description",void 0),(0,E._)([(0,M.Cb)({type:["auto","preview","list"],json:{write:!0}})],T.prototype,"displayType",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,E._)([(0,M.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=F=(0,E._)([(0,H.j)("esri.popup.content.AttachmentsContent")],T);const w=T},50014:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(68368),F=_(73966);let w=T=class extends B.Z{constructor(Z){super(Z),this.type="bar-chart"}clone(){return new T({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,E._)([(0,M.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:F.l.write}})],w.prototype,"type",void 0),w=T=(0,E._)([(0,H.j)("esri.popup.content.BarChartMediaInfo")],w);const j=w},25157:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(68368),F=_(73966);let w=T=class extends B.Z{constructor(Z){super(Z),this.type="column-chart"}clone(){return new T({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,E._)([(0,M.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:F.l.write}})],w.prototype,"type",void 0),w=T=(0,E._)([(0,H.j)("esri.popup.content.ColumnChartMediaInfo")],w);const j=w},37462:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w),this.type=null}};(0,E._)([(0,V.Cb)({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=(0,E._)([(0,B.j)("esri.popup.content.Content")],F);const T=F},52225:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var B,E=_(50484),M=_(34222),V=_(80543),P=(_(1535),_(10141)),H=_(37462);let F=B=class extends H.Z{constructor(w){super(w),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new B({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,M.d9)(this.outFields):null})}};(0,E._)([(0,V.Cb)()],F.prototype,"creator",void 0),(0,E._)([(0,V.Cb)()],F.prototype,"destroyer",void 0),(0,E._)([(0,V.Cb)()],F.prototype,"outFields",void 0),(0,E._)([(0,V.Cb)({type:["custom"],readOnly:!0})],F.prototype,"type",void 0),F=B=(0,E._)([(0,P.j)("esri.popup.content.CustomContent")],F);const T=F},49497:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(43573),F=_(37462);let w=T=class extends F.Z{constructor(Z){super(Z),this.expressionInfo=null,this.type="expression"}clone(){return new T({expressionInfo:this.expressionInfo?.clone()})}};(0,E._)([(0,M.Cb)({type:B.Z,json:{write:!0}})],w.prototype,"expressionInfo",void 0),(0,E._)([(0,M.Cb)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],w.prototype,"type",void 0),w=T=(0,E._)([(0,H.j)("esri.popup.content.ExpressionContent")],w);const j=w},90629:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(34222),V=_(80543),P=(_(1535),_(10141)),H=_(7547),B=_(42271),F=_(37462);let w=T=class extends F.Z{constructor(Z){super(Z),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(Z,I){I.fieldInfos=Z&&Z.map(G=>G.toJSON())}clone(){return new T((0,M.d9)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,E._)([(0,V.Cb)({type:Object,json:{write:!0}})],w.prototype,"attributes",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"description",void 0),(0,E._)([(0,V.Cb)({type:[B.Z]})],w.prototype,"fieldInfos",void 0),(0,E._)([(0,H.c)("fieldInfos")],w.prototype,"writeFieldInfos",null),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"title",void 0),(0,E._)([(0,V.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],w.prototype,"type",void 0),w=T=(0,E._)([(0,P.j)("esri.popup.content.FieldsContent")],w);const j=w},59058:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var T,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(31740),F=_(89317);let w=T=class extends F.wq{constructor(W){super(W),this.linkURL=null,this.sourceURL=null}clone(){return new T({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],w.prototype,"linkURL",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],w.prototype,"sourceURL",void 0),w=T=(0,E._)([(0,H.j)("esri.popup.content.support.ImageMediaInfoValue")],w);const j=w;var Z;let I=Z=class extends B.Z{constructor(W){super(W),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new Z({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,E._)([(0,M.Cb)({type:Number,json:{write:!0}})],I.prototype,"refreshInterval",void 0),(0,E._)([(0,M.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],I.prototype,"type",void 0),(0,E._)([(0,M.Cb)({type:j,json:{write:!0}})],I.prototype,"value",void 0),I=Z=(0,E._)([(0,H.j)("esri.popup.content.ImageMediaInfo")],I);const G=I},74677:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(68368),F=_(73966);let w=T=class extends B.Z{constructor(Z){super(Z),this.type="line-chart"}clone(){return new T({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,E._)([(0,M.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:F.l.write}})],w.prototype,"type",void 0),w=T=(0,E._)([(0,H.j)("esri.popup.content.LineChartMediaInfo")],w);const j=w},57229:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>S});var W,E=_(50484),M=_(34222),V=_(80543),P=(_(1535),_(62185)),H=_(10141),B=_(7547),F=_(50014),T=_(25157),w=_(37462),j=_(59058),Z=_(74677),I=_(53370),G=_(12670);let A=W=class extends w.Z{constructor(N){super(N),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(N){return N&&N.map(L=>"image"===L.type?j.Z.fromJSON(L):"barchart"===L.type?F.Z.fromJSON(L):"columnchart"===L.type?T.Z.fromJSON(L):"linechart"===L.type?Z.Z.fromJSON(L):"piechart"===L.type?I.Z.fromJSON(L):void 0).filter(Boolean)}writeMediaInfos(N,L){L.mediaInfos=N&&N.map(O=>O.toJSON())}clone(){return new W((0,M.d9)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,E._)([(0,V.Cb)()],A.prototype,"activeMediaInfoIndex",void 0),(0,E._)([(0,V.Cb)({type:Object,json:{write:!0}})],A.prototype,"attributes",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],A.prototype,"description",void 0),(0,E._)([(0,V.Cb)({types:[G.V]})],A.prototype,"mediaInfos",void 0),(0,E._)([(0,P.r)("mediaInfos")],A.prototype,"readMediaInfos",null),(0,E._)([(0,B.c)("mediaInfos")],A.prototype,"writeMediaInfos",null),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],A.prototype,"title",void 0),(0,E._)([(0,V.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],A.prototype,"type",void 0),A=W=(0,E._)([(0,H.j)("esri.popup.content.MediaContent")],A);const S=A},53370:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(68368),F=_(73966);let w=T=class extends B.Z{constructor(Z){super(Z),this.type="pie-chart"}clone(){return new T({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,E._)([(0,M.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:F.l.write}})],w.prototype,"type",void 0),w=T=(0,E._)([(0,H.j)("esri.popup.content.PieChartMediaInfo")],w);const j=w},98522:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var E=_(50484),M=_(25387),V=_(80543),x=_(1535),B=(_(57678),_(14007),_(10141)),F=_(37462),T=_(78496);let w=class extends((0,M.J)(F.Z)){constructor(Z){super(Z),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"description",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{type:x.z8,write:!0}})],w.prototype,"displayCount",void 0),(0,E._)([(0,V.Cb)({type:["list"],json:{write:!0}})],w.prototype,"displayType",void 0),(0,E._)([(0,V.Cb)({type:[T.Z],json:{write:!0}})],w.prototype,"orderByFields",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{type:x.z8,write:!0}})],w.prototype,"relationshipId",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"title",void 0),(0,E._)([(0,V.Cb)({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],w.prototype,"type",void 0),w=(0,E._)([(0,B.j)("esri.popup.content.RelationshipContent")],w);const j=w},23002:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(37462);let T=F=class extends B.Z{constructor(j){super(j),this.text=null,this.type="text"}clone(){return new F({text:this.text})}};(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],T.prototype,"text",void 0),(0,E._)([(0,M.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=F=(0,E._)([(0,H.j)("esri.popup.content.TextContent")],T);const w=T},68368:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>A});var Z,E=_(50484),M=_(80543),V=_(1535),H=(_(57678),_(14007),_(10141)),B=_(31740),F=_(66599),T=_(89317),w=_(34222),j=_(17009);let I=Z=class extends T.wq{constructor(S){super(S),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Z({colors:(0,w.d9)(this.colors),fields:(0,w.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,E._)([(0,M.Cb)({type:[F.Z],json:{type:[[V.z8]],write:!0}})],I.prototype,"colors",void 0),(0,E._)([(0,M.Cb)({type:[String],json:{write:!0}})],I.prototype,"fields",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],I.prototype,"normalizeField",void 0),(0,E._)([(0,M.Cb)({type:[j.Z],json:{read:!1}})],I.prototype,"series",void 0),(0,E._)([(0,M.Cb)({type:String,json:{write:!0}})],I.prototype,"tooltipField",void 0),I=Z=(0,E._)([(0,H.j)("esri.popup.content.support.ChartMediaInfoValue")],I);const G=I;let W=class extends B.Z{constructor(S){super(S),this.type=null,this.value=null}};(0,E._)([(0,M.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],W.prototype,"type",void 0),(0,E._)([(0,M.Cb)({type:G,json:{write:!0}})],W.prototype,"value",void 0),W=(0,E._)([(0,H.j)("esri.popup.content.mixins.ChartMediaInfo")],W);const A=W},31740:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w),this.altText=null,this.caption="",this.title="",this.type=null}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],F.prototype,"altText",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],F.prototype,"caption",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],F.prototype,"title",void 0),(0,E._)([(0,V.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=(0,E._)([(0,B.j)("esri.popup.content.mixins.MediaInfo")],F);const T=F},17009:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(73514),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let T=F=class extends M.Z{constructor(j){super(j),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new F({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,E._)([(0,V.Cb)()],T.prototype,"color",void 0),(0,E._)([(0,V.Cb)()],T.prototype,"fieldName",void 0),(0,E._)([(0,V.Cb)()],T.prototype,"tooltip",void 0),(0,E._)([(0,V.Cb)()],T.prototype,"value",void 0),T=F=(0,E._)([(0,B.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],T);const w=T},73966:(Ze,me,_)=>{"use strict";_.d(me,{l:()=>M});const M=(0,_(84303).w)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},12670:(Ze,me,_)=>{"use strict";_.d(me,{V:()=>B});var E=_(50014),M=_(25157),V=_(59058),x=_(74677),P=_(53370);const B={base:_(31740).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":E.Z,"column-chart":M.Z,"line-chart":x.Z,"pie-chart":P.Z,image:V.Z}}},17831:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var E=_(50484),M=_(25387),V=_(89317),x=_(80543),P=_(1535),F=(_(57678),_(14007),_(21070)),T=_(10141),w=_(94678);let j=class extends((0,M.J)(V.wq)){constructor(I){super(I),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};(0,E._)([(0,F.J)(w.Xr)],j.prototype,"dateFormat",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],j.prototype,"digitSeparator",void 0),(0,E._)([(0,x.Cb)({type:P.z8,json:{write:!0}})],j.prototype,"places",void 0),j=(0,E._)([(0,T.j)("esri.popup.support.FieldInfoFormat")],j);const Z=j},78496:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let T=F=class extends M.wq{constructor(j){super(j),this.field=null,this.order=null}clone(){return new F({field:this.field,order:this.order})}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],T.prototype,"field",void 0),(0,E._)([(0,V.Cb)({type:["asc","desc"],json:{write:!0}})],T.prototype,"order",void 0),T=F=(0,E._)([(0,B.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],T);const w=T},61018:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>pe});var E=_(15861),M=_(50484),V=_(11931),x=_(26152),P=_(66476),H=_(57964),B=_(89317),F=_(67016),T=_(51172),w=_(79412),j=_(80543),Z=_(1535),W=(_(57678),_(14007),_(62185)),A=_(10141),S=_(26894),N=_(55829);let L;var K=_(18962),U=_(78149),X=_(73514);let Y=class extends X.Z{constructor(q){super(q),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,M._)([(0,j.Cb)()],Y.prototype,"nextQueryParams",void 0),(0,M._)([(0,j.Cb)()],Y.prototype,"queryParams",void 0),(0,M._)([(0,j.Cb)()],Y.prototype,"results",void 0),(0,M._)([(0,j.Cb)()],Y.prototype,"total",void 0),Y=(0,M._)([(0,A.j)("esri.portal.PortalQueryResult")],Y);const oe=Y;var te,ne=_(57437),se=_(40907);let k;const re={PortalGroup:()=>Promise.resolve({default:K.Z}),PortalItem:()=>Promise.resolve().then(_.bind(_,27835)),PortalUser:()=>Promise.resolve({default:ne.Z})};let Q=te=class extends((0,B.eC)(F.Z)){constructor(q){super(q),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=V.default.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(q){return"string"==typeof q?{url:q}:q}destroy(){fe.unregister(this),this.defaultBasemap=(0,T.SC)(this.defaultBasemap),this.defaultDevBasemap=(0,T.SC)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,T.SC)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,T.hw)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(q){if(q)for(const le of q)V.default.request.trustedServers.includes(le)||V.default.request.trustedServers.push(le);return q}readDefaultBasemap(q){return this._readBasemap(q)}readDefaultDevBasemap(q){return this._readBasemap(q)}readDefaultVectorBasemap(q){return this._readBasemap(q)}get extraQuery(){const q=this.user?.orgId;return this.id&&q&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let q=this.url;if(q){const le=q.indexOf("/sharing");q=le>0?q.substring(0,le):this.url.replace(/\/+$/,""),q+="/sharing/rest"}return q}get thumbnailUrl(){const q=this.restUrl,le=this.thumbnail;return q&&le?this._normalizeSSL(q+"/portals/self/resources/"+le):null}readUrlKey(q){return q&&q.toLowerCase()}readUser(q){let le=null;return q&&(le=ne.Z.fromJSON(q),le.portal=this),le}load(q){const le=Promise.resolve().then(_.bind(_,7624)).then(({default:ee})=>{(0,w.k_)(q),k=ee}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,q)).then(ee=>{if(x.id){const ae=x.id;this.credential=ae.findCredential(this.restUrl),this.credential||this.authMode!==te.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=ae.on("credential-create",function ce(q){const le=x.id;return()=>{const ee=q.deref();ee&&le.findCredential(ee.restUrl)&&ee.signIn().catch(()=>{})}}(new WeakRef(this))),fe.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=ee,this.read(ee)});return this.addResolvingPromise(le),Promise.resolve(this)}createElevationLayers(){var q=this;return(0,E.Z)(function*(){yield q.load();const le=q._getHelperService("defaultElevationLayers"),ee=(yield Promise.all([_.e(8592),_.e(1753)]).then(_.bind(_,86069))).default;return le?le.map(ae=>new ee({id:ae.id,url:ae.url})):[]})()}fetchBasemaps(q,le){var ee=this;return(0,E.Z)(function*(){const ae=yield ee._fetchBasemaps(q,le);if(!0===le?.include3d&&!1!==ee.use3dBasemaps){const ue=yield ee._fetchBasemaps3D(q,le);ae.unshift(...ue)}return ae})()}fetchCategorySchema(q){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",q).then(le=>le.categorySchema):(0,w.Hc)(q)?Promise.reject((0,w.zE)()):Promise.resolve([])}fetchFeaturedGroups(q){const le=this.featuredGroups,ee=new U.Z;if(ee.num=100,ee.sortField="title",le&&le.length){const ae=[];for(const ue of le)ae.push(`(title:"${ue.title}" AND owner:${ue.owner})`);return ee.query=ae.join(" OR "),this.queryGroups(ee,q).then(ue=>ue.results)}return(0,w.Hc)(q)?Promise.reject((0,w.zE)()):Promise.resolve([])}fetchRegions(q){const le=this.user?.culture||this.culture||(0,N.Kd)();return this.request(this.restUrl+"/portals/regions",{...q,query:{culture:le}})}fetchSettings(q){const le=this.user?.culture||this.culture||(0,N.Kd)();return this.request(this.restUrl+"/portals/self/settings",{...q,query:{culture:le}})}static getDefault(){return function $(q){return L&&!L.destroyed||(L=q()),L}(()=>new te)}queryGroups(q,le){return this.queryPortal("/community/groups",q,"PortalGroup",le)}queryItems(q,le){return this.queryPortal("/search",q,"PortalItem",le)}queryUsers(q,le){return q.sortField||(q.sortField="username"),this.queryPortal("/community/users",q,"PortalUser",le)}fetchSelf(q=this.authMode,le=!1,ee){const ae=this.restUrl+"/portals/self",ue={authMode:q,query:{culture:(0,N.Kd)().toLowerCase()},...ee};return"auto"===ue.authMode&&(ue.authMode="no-prompt"),le&&(ue.query.default=!0),this.request(ae,ue)}queryPortal(q,le,ee,ae){const ue=(0,Z.se)(U.Z,le),ge=Ee=>this.request(this.restUrl+q,{...ue.toRequestOptions(this),...ae}).then(be=>{const ie=ue.clone();return ie.start=be.nextStart,new oe({nextQueryParams:ie,queryParams:ue,total:be.total,results:te._resultsToTypedArray(Ee,{portal:this},be,ae)})}).then(be=>Promise.all(be.results.map(ie=>"function"==typeof ie.when?ie.when():be)).then(()=>be,ie=>((0,w.r9)(ie),be)));return ee&&re[ee]?re[ee]().then(({default:Ee})=>((0,w.k_)(ae),ge(Ee))):ge()}signIn(){if(this.authMode===te.AUTH_MODE_ANONYMOUS)return Promise.reject(new H.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const q=le=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(le||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=le,this.fetchSelf("immediate"))):this.user&&this.credential===le?null:(this.credential=le,this.fetchSelf("immediate"))).then(ee=>{ee&&(this.sourceJSON=ee,this.read(ee))});return x.id?x.id.getCredential(this.restUrl).then(le=>q(le)):q(this.credential)}normalizeUrl(q){const le=this.credential?.token;return this._normalizeSSL(le?q+(q.includes("?")?"&":"?")+"token="+le:q)}requestToTypedArray(q,le,ee){return this.request(q,le).then(ae=>{const ue=te._resultsToTypedArray(ee,{portal:this},ae);return Promise.all(ue.map(ge=>"function"==typeof ge.when?ge.when():ae)).then(()=>ue,()=>ue)})}request(q,le={}){const ee={f:"json",...le.query},{authMode:ae=(this.authMode===te.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:ue=null,cacheBust:ge=!1,method:Ee="auto",responseType:be="json",signal:ie}=le,De={authMode:ae,body:ue,cacheBust:ge,method:Ee,query:ee,responseType:be,timeout:0,signal:ie};return(0,P.Z)(this._normalizeSSL(q),De).then(Be=>Be.data)}toJSON(){throw new H.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(q){if(!q)return null;if(q.declaredClass)throw new Error("JSON object is already hydrated");return new te({sourceJSON:q})}_getHelperService(q){const le=this.helperServices&&this.helperServices[q];if(!le)throw new H.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${q}"`);return le}_fetchBasemaps(q,le){var ee=this;return(0,E.Z)(function*(){const ae=new U.Z;ae.query=q||(V.default.apiKey&&(0,se.r)(ee.url)?ee.devBasemapGalleryGroupQuery:ee.useVectorBasemaps?ee.vectorBasemapGalleryGroupQuery:ee.basemapGalleryGroupQuery),ae.disableExtraQuery=!0;const ue=yield ee.queryGroups(ae,le);if(!ue.total)return[];const ge=ue.results[0];ae.num=100,ae.query='type:"Web Map" -type:"Web Application"',ae.sortField=ge.sortField||"name",ae.sortOrder=ge.sortOrder||"desc";const Ee=yield ge.queryItems(ae,le);return Ee.total?Ee.results.filter(be=>"Web Map"===be.type).map(be=>new k({portalItem:be})):[]})()}_fetchBasemaps3D(q,le){var ee=this;return(0,E.Z)(function*(){const ae=q||ee.basemapGalleryGroupQuery3D;if(!ae)return[];const ue=new U.Z({query:ae,disableExtraQuery:!0}),ge=yield ee.queryGroups(ue,le);if(!ge.total)return[];const Ee=ge.results[0];ue.num=100,ue.query='type:"Web Scene"',ue.sortField=Ee.sortField||"name",ue.sortOrder=Ee.sortOrder||"desc";const be=yield Ee.queryItems(ue,le);return be.total?be.results.filter(ie=>"Web Scene"===ie.type).map(ie=>new k({portalItem:ie})):[]})()}_normalizeSSL(q){return q.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(q){if(q){const le=k.fromJSON(q);return le.portalItem={portal:this},le}return null}static _resultsToTypedArray(q,le,ee,ae){let ue=[];if(ee){const ge=null!=ae?ae.signal:null;ue=ee.listings||ee.notifications||ee.userInvitations||ee.tags||ee.items||ee.groups||ee.comments||ee.provisions||ee.results||ee.relatedItems||ee,(q||le)&&(ue=ue.map(Ee=>{const be=Object.assign(q?q.fromJSON(Ee):Ee,le);return"function"==typeof be.load&&be.load(ge),be}))}else ue=[];return ue}};Q.AUTH_MODE_ANONYMOUS="anonymous",Q.AUTH_MODE_AUTO="auto",Q.AUTH_MODE_IMMEDIATE="immediate",(0,M._)([(0,j.Cb)()],Q.prototype,"access",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"allSSL",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"authMode",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"authorizedCrossOriginDomains",void 0),(0,M._)([(0,W.r)("authorizedCrossOriginDomains")],Q.prototype,"readAuthorizedCrossOriginDomains",null),(0,M._)([(0,j.Cb)()],Q.prototype,"basemapGalleryGroupQuery",void 0),(0,M._)([(0,j.Cb)({json:{name:"3DBasemapGalleryGroupQuery"}})],Q.prototype,"basemapGalleryGroupQuery3D",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"bingKey",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canListApps",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canListData",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canListPreProvisionedItems",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canProvisionDirectPurchase",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canSearchPublic",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canShareBingPublic",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canSharePublic",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canSignInArcGIS",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"canSignInIDP",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"colorSetsGroupQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"commentsEnabled",void 0),(0,M._)([(0,j.Cb)({type:Date})],Q.prototype,"created",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"credential",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"culture",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"currentVersion",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"customBaseUrl",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"defaultBasemap",void 0),(0,M._)([(0,W.r)("defaultBasemap")],Q.prototype,"readDefaultBasemap",null),(0,M._)([(0,j.Cb)()],Q.prototype,"defaultDevBasemap",void 0),(0,M._)([(0,W.r)("defaultDevBasemap")],Q.prototype,"readDefaultDevBasemap",null),(0,M._)([(0,j.Cb)({type:S.Z})],Q.prototype,"defaultExtent",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"defaultVectorBasemap",void 0),(0,M._)([(0,W.r)("defaultVectorBasemap")],Q.prototype,"readDefaultVectorBasemap",null),(0,M._)([(0,j.Cb)()],Q.prototype,"description",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"devBasemapGalleryGroupQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"eueiEnabled",void 0),(0,M._)([(0,j.Cb)({readOnly:!0})],Q.prototype,"extraQuery",null),(0,M._)([(0,j.Cb)()],Q.prototype,"featuredGroups",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"featuredItemsGroupQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"galleryTemplatesGroupQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"livingAtlasGroupQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"hasCategorySchema",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"helpBase",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"helperServices",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"helpMap",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"homePageFeaturedContent",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"homePageFeaturedContentCount",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"httpPort",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"httpsPort",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"id",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"ipCntryCode",void 0),(0,M._)([(0,j.Cb)({readOnly:!0})],Q.prototype,"isOrganization",null),(0,M._)([(0,j.Cb)()],Q.prototype,"isPortal",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"isReadOnly",void 0),(0,M._)([(0,j.Cb)({readOnly:!0})],Q.prototype,"itemPageUrl",null),(0,M._)([(0,j.Cb)()],Q.prototype,"layerTemplatesGroupQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"maxTokenExpirationMinutes",void 0),(0,M._)([(0,j.Cb)({type:Date})],Q.prototype,"modified",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"name",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"portalHostname",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"portalMode",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"portalProperties",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"region",void 0),(0,M._)([(0,j.Cb)({readOnly:!0})],Q.prototype,"restUrl",null),(0,M._)([(0,j.Cb)()],Q.prototype,"rotatorPanels",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"showHomePageDescription",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"sourceJSON",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"staticImagesUrl",void 0),(0,M._)([(0,j.Cb)({json:{name:"2DStylesGroupQuery"}})],Q.prototype,"stylesGroupQuery2d",void 0),(0,M._)([(0,j.Cb)({json:{name:"stylesGroupQuery"}})],Q.prototype,"stylesGroupQuery3d",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"supportsHostedServices",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"symbolSetsGroupQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"templatesGroupQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"thumbnail",void 0),(0,M._)([(0,j.Cb)({readOnly:!0})],Q.prototype,"thumbnailUrl",null),(0,M._)([(0,j.Cb)()],Q.prototype,"units",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"url",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"urlKey",void 0),(0,M._)([(0,W.r)("urlKey")],Q.prototype,"readUrlKey",null),(0,M._)([(0,j.Cb)()],Q.prototype,"user",void 0),(0,M._)([(0,W.r)("user")],Q.prototype,"readUser",null),(0,M._)([(0,j.Cb)()],Q.prototype,"use3dBasemaps",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"useStandardizedQuery",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"useVectorBasemaps",void 0),(0,M._)([(0,j.Cb)()],Q.prototype,"vectorBasemapGalleryGroupQuery",void 0),Q=te=(0,M._)([(0,A.j)("esri.portal.Portal")],Q);const pe=Q,fe=new FinalizationRegistry(q=>{q.remove()})},18962:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var w,E=_(50484),M=_(57964),V=_(89317),x=_(80543),P=_(1535),F=(_(57678),_(14007),_(10141)),T=_(78149);let j=w=class extends V.wq{constructor(I){super(I),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const I=this.url,G=this.thumbnail;return I&&G&&this.portal?this.portal?.normalizeUrl(`${I}/info/${G}?f=json`):null}get url(){const I=this.portal?.restUrl;return I?I+"/community/groups/"+this.id:null}fetchCategorySchema(I){return this.portal.request(this.url+"/categorySchema",I).then(G=>{const W=G.categorySchema||[];return W.some(A=>"contentCategorySetsGroupQuery.LivingAtlas"===A.source)?this._fetchCategorySchemaSet("LivingAtlas",I):W})}fetchMembers(I){return this.portal.request(this.url+"/users",I)}getThumbnailUrl(I){let G=this.thumbnailUrl;return G&&I&&(G+=`&w=${I}`),G}toJSON(){throw new M.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(I){if(!I)return null;if(I.declaredClass)throw new Error("JSON object is already hydrated");const G=new w;return G.sourceJSON=I,G.read(I),G}queryItems(I,G){let W=(0,P.se)(T.Z,I);const A=this.portal;return parseFloat(A.currentVersion)>5?(W=W||new T.Z,A.queryPortal(`/content/groups/${this.id}/search`,W,"PortalItem",G)):(W=W?W.clone():new T.Z,W.query="group:"+this.id+(W.query?" "+W.query:""),A.queryItems(W,G))}_fetchCategorySchemaSet(I,G){const W=this.portal;return W.fetchSelf(W.authMode,!0,G).then(A=>{const S=A.contentCategorySetsGroupQuery;if(S){const N=new T.Z;return N.disableExtraQuery=!0,N.num=1,N.query=S,W.queryGroups(N,G)}throw new M.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(A=>{if(A.total){const S=A.results[0],N=new T.Z;return N.num=1,N.query=`typekeywords:"${I}"`,S.queryItems(N,G)}throw new M.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(A=>A.total?A.results[0].fetchData("json",G).then(S=>{const N=S?.categorySchema;return N?.length?N:[]}):[])}};(0,E._)([(0,x.Cb)()],j.prototype,"access",void 0),(0,E._)([(0,x.Cb)({type:Date})],j.prototype,"created",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"description",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"id",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"isInvitationOnly",void 0),(0,E._)([(0,x.Cb)({type:Date})],j.prototype,"modified",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"owner",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"portal",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"snippet",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"sortField",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"sortOrder",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"sourceJSON",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"tags",void 0),(0,E._)([(0,x.Cb)()],j.prototype,"thumbnail",void 0),(0,E._)([(0,x.Cb)({readOnly:!0})],j.prototype,"thumbnailUrl",null),(0,E._)([(0,x.Cb)()],j.prototype,"title",void 0),(0,E._)([(0,x.Cb)({readOnly:!0})],j.prototype,"url",null),j=w=(0,E._)([(0,F.j)("esri.portal.PortalGroup")],j);const Z=j},27835:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{default:()=>te});var E=_(15861),M=_(50484),V=_(98930),x=_(26152),P=_(57964),H=_(89317),B=_(34222),F=_(67016),T=_(6785),w=_(80543),j=_(1535),Z=_(62185),I=_(10141),G=_(26894),W=_(61018),A=_(73514),S=_(4703),N=_(73018);_(57678),_(14007);let $=class extends A.Z{constructor(k){super(k),this.portalItem=null}normalizeCtorArgs(k){return k?.portalItem&&k.path?{...k,path:this._normalizePath(k.path,k.portalItem)}:k}set path(k){null!=k&&(0,T.YP)(k)?S.Z.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",k)}_castPath(k){return this._normalizePath(k,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(k="json",re){const Q=this.cdnUrl;if(null==Q)throw new P.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(Q,{responseType:k,query:{token:this.portalItem.apiKey},signal:re?.signal})}update(k,re){var Q=this;return(0,E.Z)(function*(){const{addOrUpdateResource:pe}=yield _.e(5251).then(_.bind(_,5251));return pe(Q,"update",k,re)})()}hasPath(){return null!=this.path}_normalizePath(k,re){return null==k?k:(k=k.replace(/^\/+/,""),null!=re&&(0,T.YP)(k)&&(k=(0,T.PF)(k,re.itemUrl)),k?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,M._)([(0,w.Cb)()],$.prototype,"portalItem",void 0),(0,M._)([(0,w.Cb)({type:String,value:null})],$.prototype,"path",null),(0,M._)([(0,N.p)("path")],$.prototype,"_castPath",null),(0,M._)([(0,w.Cb)({type:String,readOnly:!0})],$.prototype,"url",null),(0,M._)([(0,w.Cb)({type:String,readOnly:!0})],$.prototype,"cdnUrl",null),(0,M._)([(0,w.Cb)({type:String,readOnly:!0})],$.prototype,"itemRelativeUrl",null),$=(0,M._)([(0,I.j)("esri.portal.PortalItemResource")],$);const K=$;let U=class extends A.Z{constructor(k){super(k),this.created=null,this.rating=null}};(0,M._)([(0,w.Cb)()],U.prototype,"created",void 0),(0,M._)([(0,w.Cb)()],U.prototype,"rating",void 0),U=(0,M._)([(0,I.j)("esri.portal.PortalRating")],U);const X=U;var Y;const oe=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),ne=new Set(["KML","GeoJson","CSV"]);let se=Y=class extends((0,H.eC)(F.Z)){static from(k){return(0,j.TJ)(Y,k)}constructor(k){super(k),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const k=this.type,re=this.typeKeywords||[];let Q=k;return"Feature Service"===k||"Feature Collection"===k?Q=re.includes("Table")?"Table":re.includes("Route Layer")?"Route Layer":re.includes("Markup")?"Markup":"Feature Layer":"Image Service"===k?Q=re.includes("Elevation 3D Layer")?"Elevation Layer":re.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===k?Q="Scene Layer":"Video Service"===k?Q="Video Layer":"Scene Package"===k?Q="Scene Layer Package":"Stream Service"===k?Q="Feature Layer":"Geoprocessing Service"===k?Q=re.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===k?Q="Locator":"Geoenrichment Service"===k?Q="GeoEnrichment Service":"Microsoft Powerpoint"===k?Q="Microsoft PowerPoint":"GeoJson"===k?Q="GeoJSON":"Globe Service"===k?Q="Globe Layer":"Vector Tile Service"===k?Q="Tile Layer":"netCDF"===k?Q="NetCDF":"Map Service"===k?Q=re.includes("Spatiotemporal")||!re.includes("Hosted Service")&&!re.includes("Tiled")||re.includes("Relational")?"Map Image Layer":"Tile Layer":k&&k.toLowerCase().includes("add in")?Q=k.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===k?Q="Big Data File Share":"Compact Tile Package"===k?Q="Tile Package (tpkx)":"OGCFeatureServer"===k?Q="OGC Feature Layer":"web mapping application"===k&&re.includes("configurableApp")?Q="Instant App":"Insights Page"===k?Q="Insights Report":"Excalibur Imagery Project"===k&&(Q="Excalibur Project"),Q}readExtent(k){return k&&k.length?new G.Z(k[0][0],k[0][1],k[1][0],k[1][1]):null}get iconUrl(){const k=this.type?.toLowerCase()||"",re=this.typeKeywords||[];let fe,ce=!1,q=!1,le=!1,ee=!1,ae=!1,ue=!1,ge=!1;return k.indexOf("service")>0||"feature collection"===k||"kml"===k||"wms"===k||"wmts"===k||"wfs"===k?(ce=re.includes("Hosted Service"),"feature service"===k||"feature collection"===k||"kml"===k||"wfs"===k?(q=re.includes("Table"),le=re.includes("Route Layer"),ee=re.includes("Markup"),ae=re.includes("Spatiotemporal"),ue=re.includes("UtilityNetwork"),fe=ae&&q?"spatiotemporaltable":q?"table":le?"routelayer":ee?"markup":ae?"spatiotemporal":ce?"featureshosted":ue?"utilitynetwork":"features"):fe="map service"===k||"wms"===k||"wmts"===k?ce||re.includes("Tiled")||"wmts"===k?"maptiles":"mapimages":"scene service"===k?re.includes("Line")?"sceneweblayerline":re.includes("3DObject")?"sceneweblayermultipatch":re.includes("Point")?"sceneweblayerpoint":re.includes("IntegratedMesh")?"sceneweblayermesh":re.includes("PointCloud")?"sceneweblayerpointcloud":re.includes("Polygon")?"sceneweblayerpolygon":re.includes("Building")?"sceneweblayerbuilding":re.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===k?re.includes("Elevation 3D Layer")?"elevationlayer":re.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===k?"streamlayer":"video service"===k?re.includes("Live Stream")?"livestreamvideolayer":"videolayer":"vector tile service"===k?"vectortile":"datastore catalog service"===k?"datastorecollection":"geocoding service"===k?"geocodeservice":"geoprocessing service"===k?re.includes("Web Tool")?"tool":"layers":"geodata service"===k?"geodataservice":"3dtiles service"===k?"3dtileslayer":"layers"):"web map"===k||"cityengine web scene"===k?fe="maps":"web scene"===k?fe=re.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===k&&re.includes("configurableApp")?fe="instantapps":"web mapping application"===k||"mobile application"===k||"application"===k||"operation view"===k||"desktop application"===k?fe="apps":"map document"===k||"map package"===k||"published map"===k||"scene document"===k||"globe document"===k||"basemap package"===k||"mobile basemap package"===k||"mobile map package"===k||"project package"===k||"project template"===k||"pro map"===k||"layout"===k||"layer"===k&&re.includes("ArcGIS Pro")||"explorer map"===k&&re.indexOf("Explorer Document")?fe="mapsgray":"service definition"===k||"csv"===k||"shapefile"===k||"cad drawing"===k||"geojson"===k||"netcdf"===k||"administrative report"===k?fe="datafiles":"explorer add in"===k||"desktop add in"===k||"windows viewer add in"===k||"windows viewer configuration"===k?fe="appsgray":"360 vr experience"===k?fe="360vr":"arcgis pro add in"===k||"arcgis pro configuration"===k?fe="addindesktop":"rule package"===k||"file geodatabase"===k||"sqlite geodatabase"===k||"csv collection"===k||"kml collection"===k||"windows mobile package"===k||"map template"===k||"desktop application template"===k||"gml"===k||"arcpad package"===k||"code sample"===k||"document link"===k||"earth configuration"===k||"operations dashboard add in"===k||"rules package"===k||"image"===k||"workflow manager package"===k||"explorer map"===k&&re.includes("Explorer Mapping Application")||re.includes("Document")?fe="datafilesgray":"network analysis service"===k||"geoprocessing service"===k||"geodata service"===k||"geometry service"===k||"geoprocessing package"===k||"locator package"===k||"geoprocessing sample"===k||"workflow manager service"===k?fe="toolsgray":"layer"===k||"layer package"===k||"explorer layer"===k?fe="layersgray":"scene package"===k?fe="scenepackage":"3dtiles package"===k?fe="3dtileslayerpackage":"mobile scene package"===k?fe="mobilescenepackage":"tile package"===k||"compact tile package"===k?fe="tilepackage":"task file"===k?fe="taskfile":"report template"===k?fe="report-template":"statistical data collection"===k?fe="statisticaldatacollection":"insights workbook"===k?fe="workbook":"insights model"===k?fe="insightsmodel":"insights page"===k?fe="insightspage":"insights theme"===k?fe="insightstheme":"hub initiative"===k?fe="hubinitiative":"hubpage"===k?fe="hubpage":"hub event"===k?fe="hubevent":"hub site application"===k?fe="hubsite":"hub project"===k?fe="hubproject":"relational database connection"===k?fe="relationaldatabaseconnection":"big data file share"===k?fe="datastorecollection":"image collection"===k?fe="imagecollection":"style"===k?fe="style":"desktop style"===k?fe="desktopstyle":"dashboard"===k?fe="dashboard":"raster function template"===k?fe="rasterprocessingtemplate":"vector tile package"===k?fe="vectortilepackage":"ortho mapping project"===k?fe="orthomappingproject":"ortho mapping template"===k?fe="orthomappingtemplate":"solution"===k?fe="solutions":"geopackage"===k?fe="geopackage":"deep learning package"===k?fe="deeplearningpackage":"real time analytic"===k?fe="realtimeanalytics":"big data analytic"===k?fe="bigdataanalytics":"feed"===k?fe="feed":"excalibur imagery project"===k?fe="excaliburimageryproject":"notebook"===k?fe="notebook":"storymap"===k?fe="storymap":"survey123 add in"===k?fe="survey123addin":"mission"===k?fe="mission":"mission report"===k?fe="missionreport":"mission template"===k?fe="missiontemplate":"quickcapture project"===k?fe="quickcaptureproject":"pro report"===k?fe="proreport":"pro report template"===k?fe="proreporttemplate":"urban model"===k?fe="urbanmodel":"web experience"===k?fe="experiencebuilder":"web experience template"===k?fe="webexperiencetemplate":"experience builder widget"===k?fe="experiencebuilderwidget":"experience builder widget package"===k?fe="experiencebuilderwidgetpackage":"workflow"===k?fe="workflow":"insights script"===k?fe="insightsscript":"kernel gateway connection"===k?fe="kernelgatewayconnection":"hub initiative template"===k?fe="hubinitiativetemplate":"storymap theme"===k?fe="storymaptheme":"knowledge graph"===k?fe="knowledgegraph":"knowledge studio project"===k?fe="knowledgestudio":"native application"===k?fe="nativeapp":"native application installer"===k?fe="nativeappinstaller":"link chart"===k?fe="linkchart":"investigation"===k?fe="investigation":"ogcfeatureserver"===k?fe="features":"pro project"===k?fe="proproject":"insights workbook package"===k?fe="insightsworkbookpackage":"apache parquet"===k?fe="apacheparquet":"notebook code snippets"===k||"notebook code snippet library"===k?fe="notebookcodesnippets":"suitability model"===k?fe="suitabilitymodel":"esri classifier definition"===k?fe="classifierdefinition":"esri classification schema"===k?fe="classificationschema":"insights data engineering workbook"===k?fe="dataengineeringworkbook":"insights data engineering model"===k?fe="dataengineeringmodel":"deep learning studio project"===k?fe="deeplearningproject":"discussion"===k?fe="discussion":"allsource project"===k?fe="allsourceproject":"api key"===k?fe="apikey":"data pipeline"===k?fe="datapipelines":"group layer"===k?(ge=re.includes("Map"),fe=ge?"layergroup2d":"layergroup"):fe="media layer"===k?"onlinemedialayer":"form"===k?re.includes("Survey123")?"survey":"datafilesgray":"maps",fe?(0,V.V)("esri/images/portal/"+fe+"16.png"):null}get isLayer(){return null!=this.type&&oe.has(this.type)}get itemCdnUrl(){let k=this.itemUrl;return k&&x.id&&!x.id.findCredential(k)&&(k=x.id._normalizeAGOLorgDomain(k),k=k.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),k=k.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),k=k.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),k}get itemPageUrl(){const k=this.portal?.itemPageUrl;return k&&this.id?`${k}?id=${this.id}`:null}get itemUrl(){const k=this.portal?.restUrl;return k&&this.id?`${k}/content/items/${this.id}`:null}get thumbnailUrl(){const k=this.itemUrl,re=this.thumbnail;return k&&re?this.portal?.normalizeUrl(`${k}/info/${re}?f=json`)??null:null}get userItemUrl(){const k=this.portal?.restUrl;if(!k)return null;const re=this.owner||this.portal?.user?.username;return re?`${k}/content/users/${this.ownerFolder?`${re}/${this.ownerFolder}`:re}/items/${this.id}`:null}load(k){const re=this.portal??(this.portal=W.Z.getDefault()),Q=re.load(k).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?re.request(this.itemUrl,{signal:null!=k?k.signal:null,query:{token:this.apiKey}}):{}).then(pe=>{this.sourceJSON=pe,this.read(pe)});return this.addResolvingPromise(Q),Promise.resolve(this)}addRating(k){var re=this;return(0,E.Z)(function*(){const Q={method:"post",query:{}};return k instanceof X&&(k=k.rating),null==k||isNaN(k)||"number"!=typeof k||(Q.query.rating=k),re.portal?(yield re.portal.request(re.itemUrl+"/addRating",Q),new X({rating:k,created:new Date})):null})()}clone(){const k={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,B.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,B.d9)(this.categories),created:(0,B.d9)(this.created),culture:this.culture,description:this.description,extent:(0,B.d9)(this.extent),groupCategories:(0,B.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,B.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,B.d9)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,B.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,B.d9)(this.typeKeywords),url:this.url};this.loaded&&(k.loadStatus="loaded");const re=new Y({sourceJSON:this.sourceJSON}).set(k);return re._set("isOrgItem",this.isOrgItem),re}createPostQuery(){const k=this.toJSON();for(const Q of["tags","typeKeywords","categories"])k[Q]=k[Q]?.join(", ");const{extent:re}=k;return re&&(k.extent=JSON.stringify(re)),k}deleteRating(){var k=this;return(0,E.Z)(function*(){yield k.portal.request(k.itemUrl+"/deleteRating",{method:"post"})})()}fetchData(k="json",re){return this.portal.request(this.itemUrl+"/data",{responseType:k,...re,query:{token:this.apiKey}})}fetchRating(k){var re=this;return(0,E.Z)(function*(){const Q=yield re.portal.request(re.itemUrl+"/rating",{query:{token:re.apiKey},...k});return null!=Q.rating?(Q.created=new Date(Q.created),new X(Q)):null})()}fetchRelatedItems(k,re){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...k,token:this.apiKey},...re},Y)}getThumbnailUrl(k){let re=this.thumbnailUrl;return re&&k&&(re+=`&w=${k}`),re}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(k=>(this.sourceJSON=k,this.read(k),this))}update(k){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const re=k?.data,Q={method:"post"};Q.query=this.createPostQuery();for(const pe in Q.query)null===Q.query[pe]&&(Q.query[pe]="");return Q.query.clearEmptyFields=!0,null!=re&&("string"==typeof re?Q.query.text=re:"object"==typeof re&&(Q.query.text=JSON.stringify(re))),this.portal.request(`${this.userItemUrl}/update`,Q).then(()=>this.reload())}):Promise.reject(new P.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}copy(k){var re=this;return(0,E.Z)(function*(){if(!re.id)throw new P.Z("portal:item-does-not-exist","The item does not exist yet");yield re.load();const{portal:Q,itemUrl:pe}=re;yield Q.signIn();const{copyResources:fe,folder:ce,tags:q,title:le}=k||{},ee={method:"post",query:{copyPrivateResources:"all"===fe,folder:"string"==typeof ce?ce:ce?.id,includeResources:!!fe,tags:q?.join(","),title:le}},{itemId:ae}=yield Q.request(`${pe}/copy`,ee);return new Y({id:ae,portal:Q})})()}updateThumbnail(k){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const re=k.thumbnail,Q=k.filename,pe={method:"post"};if("string"==typeof re)pe.query=(0,T.HK)(re)?{data:re}:{url:(0,T.hF)(re)},null!=Q&&(pe.query.filename=Q);else{const fe=new FormData;null!=Q?fe.append("file",re,Q):fe.append("file",re),pe.body=fe}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,pe).then(()=>this.reload())}):Promise.reject(new P.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(k={},re){var Q=this;return(0,E.Z)(function*(){const{fetchResources:pe}=yield _.e(5251).then(_.bind(_,5251));return pe(Q,k,re)})()}addResource(k,re,Q){var pe=this;return(0,E.Z)(function*(){const{addOrUpdateResource:fe}=yield _.e(5251).then(_.bind(_,5251));return k.portalItem=pe,fe(k,"add",re,Q)})()}removeResource(k,re){var Q=this;return(0,E.Z)(function*(){const{removeResource:pe}=yield _.e(5251).then(_.bind(_,5251));if(k.portalItem&&k.portalItem.itemUrl!==Q.itemUrl)throw new P.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return pe(Q,k,re)})()}removeAllResources(k){var re=this;return(0,E.Z)(function*(){const{removeAllResources:Q}=yield _.e(5251).then(_.bind(_,5251));return Q(re,k)})()}resourceFromPath(k){return new K({portalItem:this,path:k})}toJSON(){const k=this.extent,re={accessInformation:this.accessInformation,categories:(0,B.d9)(this.categories),created:this.created?.getTime(),description:this.description,extent:k&&[[k.xmin,k.ymin],[k.xmax,k.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,B.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,B.d9)(this.typeKeywords),url:this.url};return(0,B.yd)(re)}static fromJSON(k){if(!k)return null;if(k.declaredClass)throw new Error("JSON object is already hydrated");return new Y({sourceJSON:k})}_getPostQuery(){const k=this.toJSON();for(const re in k)"tags"===re&&null!==k[re]&&(k[re]=k[re].join(", ")),"typeKeywords"===re&&null!==k[re]&&(k[re]=k[re].join(", ")),"extent"===re&&k[re]&&(k[re]=JSON.stringify(k[re]));return k}};(0,M._)([(0,w.Cb)({type:["private","shared","org","public"]})],se.prototype,"access",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"accessInformation",void 0),(0,M._)([(0,w.Cb)({type:String})],se.prototype,"apiKey",void 0),(0,M._)([(0,w.Cb)({json:{read:{source:"appProxies"}}})],se.prototype,"applicationProxies",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"avgRating",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"categories",void 0),(0,M._)([(0,w.Cb)({type:Date})],se.prototype,"created",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"culture",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"description",void 0),(0,M._)([(0,w.Cb)({readOnly:!0})],se.prototype,"displayName",null),(0,M._)([(0,w.Cb)({type:G.Z})],se.prototype,"extent",void 0),(0,M._)([(0,Z.r)("extent")],se.prototype,"readExtent",null),(0,M._)([(0,w.Cb)()],se.prototype,"groupCategories",void 0),(0,M._)([(0,w.Cb)({readOnly:!0})],se.prototype,"iconUrl",null),(0,M._)([(0,w.Cb)()],se.prototype,"id",void 0),(0,M._)([(0,w.Cb)({readOnly:!0})],se.prototype,"isLayer",null),(0,M._)([(0,w.Cb)({type:Boolean,readOnly:!0})],se.prototype,"isOrgItem",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"itemControl",void 0),(0,M._)([(0,w.Cb)({readOnly:!0})],se.prototype,"itemPageUrl",null),(0,M._)([(0,w.Cb)({readOnly:!0})],se.prototype,"itemUrl",null),(0,M._)([(0,w.Cb)()],se.prototype,"licenseInfo",void 0),(0,M._)([(0,w.Cb)({type:Date})],se.prototype,"modified",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"name",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"numComments",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"numRatings",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"numViews",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"owner",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"ownerFolder",void 0),(0,M._)([(0,w.Cb)({type:W.Z})],se.prototype,"portal",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"screenshots",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"size",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"snippet",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"sourceJSON",void 0),(0,M._)([(0,w.Cb)({type:String})],se.prototype,"sourceUrl",void 0),(0,M._)([(0,w.Cb)({type:String})],se.prototype,"spatialReference",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"tags",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"thumbnail",void 0),(0,M._)([(0,w.Cb)({readOnly:!0})],se.prototype,"thumbnailUrl",null),(0,M._)([(0,w.Cb)()],se.prototype,"title",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"type",void 0),(0,M._)([(0,w.Cb)()],se.prototype,"typeKeywords",void 0),(0,M._)([(0,w.Cb)({type:String,json:{read(k,re){if(ne.has(re.type)){const Q=this.portal?.restUrl;k||=Q&&this.id?`${Q}/content/items/${this.id}/data`:null}return k}}})],se.prototype,"url",void 0),(0,M._)([(0,w.Cb)({readOnly:!0})],se.prototype,"userItemUrl",null),se=Y=(0,M._)([(0,I.j)("esri.portal.PortalItem")],se);const te=se},78149:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var j,E=_(50484),M=_(73514),V=_(84303),x=_(34222),P=_(80543),B=(_(1535),_(10141)),F=_(26894),T=_(43814),w=_(48230);const Z=new V.X({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let I=j=class extends M.Z{constructor(W){super(W),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(W){"asc"!==W&&"desc"!==W||this._set("sortOrder",W)}clone(){return new j({categories:this.categories?(0,x.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(W,A){let S=[];this.categories&&(S=this.categories.map($=>Array.isArray($)?JSON.stringify($):$));let N="";if(this.extent){const $=(0,w.iV)(this.extent,T.Z.WGS84);null!=$&&(N=`${$.xmin},${$.ymin},${$.xmax},${$.ymax}`)}let L=this.query;!this.disableExtraQuery&&W.extraQuery&&(L="("+L+")"+W.extraQuery);const O={categories:S,bbox:N,q:L,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(O.sortField=this.sortField.split(",").map($=>Z.toJSON($.trim())).join(","),O.sortOrder=this.sortOrder),{query:{...A,...O}}}};(0,E._)([(0,P.Cb)()],I.prototype,"categories",void 0),(0,E._)([(0,P.Cb)()],I.prototype,"disableExtraQuery",void 0),(0,E._)([(0,P.Cb)({type:F.Z})],I.prototype,"extent",void 0),(0,E._)([(0,P.Cb)()],I.prototype,"filter",void 0),(0,E._)([(0,P.Cb)()],I.prototype,"num",void 0),(0,E._)([(0,P.Cb)()],I.prototype,"query",void 0),(0,E._)([(0,P.Cb)()],I.prototype,"sortField",void 0),(0,E._)([(0,P.Cb)()],I.prototype,"sortOrder",null),(0,E._)([(0,P.Cb)()],I.prototype,"start",void 0),I=j=(0,E._)([(0,B.j)("esri.portal.PortalQueryParams")],I);const G=I},57437:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var E=_(50484),M=_(57964),V=_(89317),x=_(80543),F=(_(1535),_(57678),_(14007),_(10141));let T=class extends V.wq{constructor(W){super(W),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const W=this.portal?.restUrl;return W?`${W}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new M.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,E._)([(0,x.Cb)({type:Date})],T.prototype,"created",void 0),(0,E._)([(0,x.Cb)()],T.prototype,"id",void 0),(0,E._)([(0,x.Cb)()],T.prototype,"portal",void 0),(0,E._)([(0,x.Cb)()],T.prototype,"title",void 0),(0,E._)([(0,x.Cb)({readOnly:!0})],T.prototype,"url",null),(0,E._)([(0,x.Cb)()],T.prototype,"username",void 0),T=(0,E._)([(0,F.j)("esri.portal.PortalFolder")],T);const w=T;var Z,j=_(18962);let I=Z=class extends V.wq{constructor(...W){super(...W),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const W=this.url,A=this.thumbnail;return W&&A?this.portal.normalizeUrl(`${W}/info/${A}?f=json`):null}get userContentUrl(){const W=this.portal?.restUrl;return W?`${W}/content/users/${this.username}`:null}get url(){const W=this.portal?.restUrl;return W?`${W}/community/users/${this.username}`:null}addItem(W){const A=W&&W.item,S=W?.data,N=W?.folder,L={method:"post"};A&&(L.query=A.createPostQuery(),null!=S&&("string"==typeof S?L.query.text=S:"object"==typeof S&&(L.query.text=JSON.stringify(S))));let O=this.userContentUrl;return N&&(O+="/"+("string"==typeof N?N:N.id)),this.portal.request(O+"/addItem",L).then($=>(A.id=$.id,A.portal=this.portal,A.loaded?A.reload():A.load()))}deleteItem(W){let A=this.userContentUrl;return W.ownerFolder&&(A+="/"+W.ownerFolder),this.portal.request(A+`/items/${W.id}/delete`,{method:"post"}).then(()=>{W.id=null,W.portal=null})}deleteItems(W){const A=this.userContentUrl+"/deleteItems",S=W.map(N=>N.id);if(S.length){const N={method:"post",query:{items:S.join(",")}};return this.portal.request(A,N).then(()=>{W.forEach(L=>{L.id=null,L.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(A=>{let S;return S=A&&A.folders?A.folders.map(N=>{const L=w.fromJSON(N);return L.portal=this.portal,L}):[],S})}fetchGroups(){return this.portal.request(this.url??"").then(W=>{let A;return A=W&&W.groups?W.groups.map(S=>{const N=j.Z.fromJSON(S);return N.portal=this.portal,N}):[],A})}fetchItems(W){const A=W??{};let S,N=this.userContentUrl??"";return A.folder&&(N+="/"+A.folder.id),Promise.resolve().then(_.bind(_,27835)).then(({default:L})=>(S=L,this.portal.request(N,{query:{folders:!1,num:A.num||10,start:A.start||1,sortField:A.sortField||"created",sortOrder:A.sortOrder||"asc"}}))).then(L=>{let O;return L?.items?(O=L.items.map($=>{const K=S.fromJSON($);return K.portal=this.portal,K}),Promise.all(O.map($=>$.load())).catch($=>$).then(()=>({items:O,nextStart:L.nextStart,total:L.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(W=>W.tags)}getThumbnailUrl(W){let A=this.thumbnailUrl;return A&&W&&(A+=`&w=${W}`),A}queryFavorites(W){return this.favGroupId?(this._favGroup||(this._favGroup=new j.Z({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(W)):Promise.reject(new M.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new M.Z("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(W){if(!W)return null;if(W.declaredClass)throw new Error("JSON object is already hydrated");const A=new Z;return A.sourceJSON=W,A.read(W),A}};(0,E._)([(0,x.Cb)()],I.prototype,"access",void 0),(0,E._)([(0,x.Cb)({type:Date})],I.prototype,"created",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"culture",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"description",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"email",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"favGroupId",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"fullName",void 0),(0,E._)([(0,x.Cb)({type:Date})],I.prototype,"modified",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"orgId",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"portal",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"preferredView",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"privileges",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"region",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"role",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"roleId",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"sourceJSON",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"thumbnail",void 0),(0,E._)([(0,x.Cb)({readOnly:!0})],I.prototype,"thumbnailUrl",null),(0,E._)([(0,x.Cb)()],I.prototype,"units",void 0),(0,E._)([(0,x.Cb)({readOnly:!0})],I.prototype,"userContentUrl",null),(0,E._)([(0,x.Cb)({readOnly:!0})],I.prototype,"url",null),(0,E._)([(0,x.Cb)()],I.prototype,"username",void 0),(0,E._)([(0,x.Cb)()],I.prototype,"userType",void 0),I=Z=(0,E._)([(0,F.j)("esri.portal.PortalUser")],I);const G=I},50318:(Ze,me,_)=>{"use strict";_.d(me,{$o:()=>Z,Ct:()=>j,Fj:()=>T,Kz:()=>G,Ss:()=>W,_$:()=>F,ck:()=>w,qj:()=>B});var E=_(15861),M=_(83821),V=_(43814),x=_(48230);function H(){return(H=(0,E.Z)(function*(A){const S=A.spatialReference;if(S.isWGS84)return A.clone();if(S.isWebMercator)return(0,x.Sx)(A);const N=V.Z.WGS84;return yield(0,M.initializeProjection)(S,N),(0,M.project)(A,N)})).apply(this,arguments)}function B(A,S){if(!F(A,S)){const N=A.typeKeywords;N?N.push(S):A.typeKeywords=[S]}}function F(A,S){return!!A.typeKeywords?.includes(S)}function T(A){return F(A,G.HOSTED_SERVICE)}function w(A,S){const N=A.typeKeywords;if(N){const L=N.indexOf(S);L>-1&&N.splice(L,1)}}function j(A,S,N){N?B(A,S):w(A,S)}function Z(A){return I.apply(this,arguments)}function I(){return I=(0,E.Z)(function*(A){const S=A.clone().normalize();let N;if(S.length>1)for(const L of S)N?L.width>N.width&&(N=L):N=L;else N=S[0];return function P(A){return H.apply(this,arguments)}(N)}),I.apply(this,arguments)}const G={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function W(A){const{portal:S,isOrgItem:N,itemControl:L}=A,O=S.user?.privileges;let $=!O||O.includes("features:user:edit"),K=!!N&&!!O?.includes("features:user:fullEdit");const U="update"===L||"admin"===L;return U?K=$=!0:K&&($=!0),{features:{edit:$,fullEdit:K},content:{updateItem:U}}}},71438:(Ze,me,_)=>{"use strict";_.d(me,{P:()=>x,a:()=>V});const E=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,M={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function V(P){const H=P?.match(E);if(!H)return null;const[,B,F,T]=H;if(!B)return null;let w=null,j=null,Z=null;const{devext:I,qaext:G,www:W}=M;if(F)if(w=B,T)switch(T.toLowerCase()){case"devext":({customBaseUrl:j,portalHostname:Z}=I);break;case"qa":({customBaseUrl:j,portalHostname:Z}=G);break;default:return null}else({customBaseUrl:j,portalHostname:Z}=W);else switch(B.toLowerCase()){case"devext":({customBaseUrl:j,portalHostname:Z}=I);break;case"qaext":({customBaseUrl:j,portalHostname:Z}=G);break;case"www":({customBaseUrl:j,portalHostname:Z}=W);break;default:return null}return{customBaseUrl:j,isPortal:!1,portalHostname:Z,urlKey:w}}function x(P){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(P)}},81238:(Ze,me,_)=>{"use strict";_.d(me,{v:()=>M});const M=(0,_(84303).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},36699:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>se});var $,E=_(15861),M=_(50484),V=_(71950),x=_(84303),P=_(34222),H=_(4703),B=_(80543),F=_(73018),T=_(21070),w=_(62185),j=_(10141),Z=_(7547),I=_(1535),G=_(85295),W=_(38748),A=_(47305),S=_(87617),N=_(47702),L=_(37764),O=_(4978);const U="percent-of-total",X="field",Y=new x.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:U,esriNormalizeByField:X}),oe=(0,I.se)(S.Z);let ne=$=class extends((0,A.W)(W.Z)){constructor(te){super(te),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(te,k,re){if(!Array.isArray(te))return;let Q=k.minValue;return te.map(pe=>{const fe=new S.Z;return fe.read(pe,re),null==fe.minValue&&(fe.minValue=Q),null==fe.maxValue&&(fe.maxValue=fe.minValue),Q=fe.maxValue,fe})}writeClassBreakInfos(te,k,re,Q){const pe=te.map(fe=>fe.write({},Q));this._areClassBreaksConsecutive()&&pe.forEach(fe=>delete fe.classMinValue),k[re]=pe}castField(te){return null==te?te:"function"==typeof te?(H.Z.getLogger(this).error(".field: field must be a string value"),null):(0,I.Zs)(te)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let te=this._get("normalizationType");const k=!!this.normalizationField,re=null!=this.normalizationTotal;return k||re?(te=k&&X||re&&U||null,k&&re&&H.Z.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):te!==X&&te!==U||(te=null),te}set normalizationType(te){this._set("normalizationType",te)}addClassBreakInfo(te,k,re){let Q=null;Q="number"==typeof te?new S.Z({minValue:te,maxValue:k,symbol:(0,V.se)(re)}):oe((0,P.d9)(te)),this.classBreakInfos.push(Q),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(te,k){const re=this.classBreakInfos.length;for(let Q=0;Q<re;Q++){const pe=[this.classBreakInfos[Q].minValue,this.classBreakInfos[Q].maxValue];if(pe[0]===te&&pe[1]===k){this.classBreakInfos.splice(Q,1);break}}}getBreakIndex(te,k){return this.valueExpression&&null==k?.arcade&&H.Z.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(te,k):this._getBreakIndexForField(te)}getClassBreakInfo(te,k){var re=this;return(0,E.Z)(function*(){let Q=k;re.valueExpression&&null==k?.arcade&&(Q={...Q,arcade:yield(0,O.LC)()});const pe=re.getBreakIndex(te,Q);return-1!==pe?re.classBreakInfos[pe]:null})()}getSymbol(te,k){if(this.valueExpression&&null==k?.arcade)return void H.Z.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const re=this.getBreakIndex(te,k);return re>-1?this.classBreakInfos[re].symbol:this.defaultSymbol}getSymbolAsync(te,k){var re=this;return(0,E.Z)(function*(){let Q=k;if(re.valueExpression&&null==k?.arcade){const fe=yield(0,O.LC)(),{arcadeUtils:ce}=fe;ce.hasGeometryOperations(re.valueExpression)&&(yield ce.enableGeometryOperations()),Q={...Q,arcade:fe}}const pe=re.getBreakIndex(te,Q);return pe>-1?re.classBreakInfos[pe].symbol:re.defaultSymbol})()}getSymbols(){const te=[];return this.classBreakInfos.forEach(k=>{k.symbol&&te.push(k.symbol)}),this.defaultSymbol&&te.push(this.defaultSymbol),te}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((te,k)=>te+k.getAttributeHash(),"")}getMeshHash(){const te=JSON.stringify(this.backgroundFillSymbol),k=JSON.stringify(this.defaultSymbol),re=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${te}.${k}.${this.classBreakInfos.reduce((Q,pe)=>Q+pe.getMeshHash(),"")}.${re}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new $({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,P.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,P.d9)(this.visualVariables),legendOptions:(0,P.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(te,k){var re=this;return(0,E.Z)(function*(){const Q=[re.collectVVRequiredFields(te,k),re.collectSymbolFields(te,k)];yield Promise.all(Q)})()}collectSymbolFields(te,k){var re=this;return(0,E.Z)(function*(){const Q=[...re.getSymbols().map(pe=>pe.collectRequiredFields(te,k)),(0,G.io)(te,k,re.valueExpression)];(0,G.AB)(te,k,re.field),(0,G.AB)(te,k,re.normalizationField),yield Promise.all(Q)})()}_getBreakIndexForExpression(te,k){const{viewingMode:re,scale:Q,spatialReference:pe,arcade:fe,timeZone:ce}=k??{},{valueExpression:q}=this;let le=this._compiledValueExpression.valueExpression===q?this._compiledValueExpression.compiledFunction:null;const ee=fe.arcadeUtils;if(!le){const ue=ee.createSyntaxTree(q);le=ee.createFunction(ue),this._compiledValueExpression.compiledFunction=le}this._compiledValueExpression.valueExpression=q;const ae=ee.executeFunction(le,ee.createExecContext(te,ee.getViewInfo({viewingMode:re,scale:Q,spatialReference:pe}),ce));return this._getBreakIndexfromInfos(ae)}_getBreakIndexForField(te){const re=te.attributes,Q=this.normalizationType;let pe=parseFloat(re[this.field]);if(Q){const fe=this.normalizationTotal,ce=parseFloat(this.normalizationField?re[this.normalizationField]:void 0);if("log"===Q)pe=Math.log(pe)*Math.LOG10E;else if(Q!==U||null==fe||isNaN(fe)){if(Q===X&&!isNaN(ce)){if(isNaN(pe)||isNaN(ce))return-1;pe/=ce}}else pe=pe/fe*100}return this._getBreakIndexfromInfos(pe)}_getBreakIndexfromInfos(te){const k=this.isMaxInclusive;if(null!=te&&"number"==typeof te&&!isNaN(te))for(let re=0;re<this.classBreakInfos.length;re++){const Q=[this.classBreakInfos[re].minValue,this.classBreakInfos[re].maxValue];if(Q[0]<=te&&(k?te<=Q[1]:te<Q[1]))return re}return-1}_areClassBreaksConsecutive(){const te=this.classBreakInfos,k=te.length;for(let re=1;re<k;re++)if(te[re-1].maxValue!==te[re].minValue)return!1;return!0}};(0,M._)([(0,B.Cb)(N.KK)],ne.prototype,"backgroundFillSymbol",void 0),(0,M._)([(0,B.Cb)({type:[S.Z]})],ne.prototype,"classBreakInfos",void 0),(0,M._)([(0,w.r)("classBreakInfos")],ne.prototype,"readClassBreakInfos",null),(0,M._)([(0,Z.c)("classBreakInfos")],ne.prototype,"writeClassBreakInfos",null),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"defaultLabel",void 0),(0,M._)([(0,B.Cb)(N.Gn)],ne.prototype,"defaultSymbol",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"field",void 0),(0,M._)([(0,F.p)("field")],ne.prototype,"castField",null),(0,M._)([(0,B.Cb)({type:Boolean})],ne.prototype,"isMaxInclusive",void 0),(0,M._)([(0,B.Cb)({type:L.I,json:{write:!0}})],ne.prototype,"legendOptions",void 0),(0,M._)([(0,B.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],ne.prototype,"minValue",null),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"normalizationField",void 0),(0,M._)([(0,B.Cb)({type:Number,cast:te=>(0,I.q9)(te),json:{write:!0}})],ne.prototype,"normalizationTotal",void 0),(0,M._)([(0,B.Cb)({type:Y.apiValues,value:null,json:{type:Y.jsonValues,read:Y.read,write:Y.write}})],ne.prototype,"normalizationType",null),(0,M._)([(0,T.J)({classBreaks:"class-breaks"})],ne.prototype,"type",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpression",void 0),(0,M._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpressionTitle",void 0),ne=$=(0,M._)([(0,j.j)("esri.renderers.ClassBreaksRenderer")],ne);const se=ne},15212:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var Z,E=_(15861),M=_(50484),V=_(34222),x=_(80543),H=(_(1535),_(10141)),B=_(7547),F=_(85295),T=_(38748),w=_(47305),j=_(96844);let I=Z=class extends((0,w.W)(T.Z)){constructor(W){super(W),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new j.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(W,A){W&&(A.scalingExpressionInfo={expression:W,returnType:"number"})}writeVisualVariables(W,A,S,N){N?.origin||super.writeVisualVariables(W,A,S,N)}clone(){return new Z({config:(0,V.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,V.d9)(this.fieldMap),url:(0,V.d9)(this.url),visualVariables:(0,V.d9)(this.visualVariables)})}getSymbolAsync(W,A){var S=this;return(0,E.Z)(function*(){return S._loader.getSymbolAsync(W,A)})()}collectRequiredFields(W,A){var S=this;return(0,E.Z)(function*(){yield S.collectVVRequiredFields(W,A),S.scaleExpression&&(yield(0,F.io)(W,A,S.scaleExpression));for(const N in S.fieldMap){const L=S.fieldMap[N];A.has(L)&&W.add(L)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((W,A)=>W+A.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,M._)([(0,x.Cb)({type:j.DictionaryLoader})],I.prototype,"_loader",null),(0,M._)([(0,x.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],I.prototype,"config",void 0),(0,M._)([(0,x.Cb)({type:Object,json:{write:!0}})],I.prototype,"fieldMap",void 0),(0,M._)([(0,x.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],I.prototype,"scaleExpression",void 0),(0,M._)([(0,B.c)("scaleExpression")],I.prototype,"writeData",null),(0,M._)([(0,x.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(W){return{enabled:!!W&&!!this.scaleExpression}}}}})],I.prototype,"scaleExpressionTitle",void 0),(0,M._)([(0,x.Cb)({type:String,json:{write:!0}})],I.prototype,"url",void 0),(0,M._)([(0,B.c)("visualVariables")],I.prototype,"writeVisualVariables",null),I=Z=(0,M._)([(0,H.j)("esri.renderers.DictionaryRenderer")],I);const G=I},53722:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>U});var A,E=_(15861),M=_(50484),V=_(66599),x=_(34222),P=_(80543),B=(_(1535),_(21070)),F=_(10141),T=_(85295),w=_(38748),j=_(47305),Z=_(72923),I=_(89317);_(57678),_(14007);let S=A=class extends I.wq{constructor(){super(...arguments),this.unit=null}clone(){return new A({unit:this.unit})}};(0,M._)([(0,P.Cb)({type:String,json:{write:!0}})],S.prototype,"unit",void 0),S=A=(0,M._)([(0,F.j)("esri.renderers.support.DotDensityLegendOptions")],S);const N=S;var $,L=_(89481),O=_(66637);let K=$=class extends((0,j.W)(w.Z)){constructor(X){super(X),this.attributes=null,this.backgroundColor=new V.Z([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new O.Z,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(X){if(null==this.referenceScale)return this.dotValue;const Y=X/this.referenceScale*this.dotValue;return Y<1?1:Y}getSymbol(){return new L.Z({outline:this.outline})}getSymbolAsync(){var X=this;return(0,E.Z)(function*(){return X.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((X,Y)=>X+Y.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new $({attributes:(0,x.d9)(this.attributes),backgroundColor:(0,x.d9)(this.backgroundColor),dotBlendingEnabled:(0,x.d9)(this.dotBlendingEnabled),dotShape:(0,x.d9)(this.dotShape),dotSize:(0,x.d9)(this.dotSize),dotValue:(0,x.d9)(this.dotValue),legendOptions:(0,x.d9)(this.legendOptions),outline:(0,x.d9)(this.outline),referenceScale:(0,x.d9)(this.referenceScale),visualVariables:(0,x.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes?.map(Y=>Y.field||Y.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(X,Y){var oe=this;return(0,E.Z)(function*(){yield oe.collectVVRequiredFields(X,Y);for(const ne of oe.attributes??[])ne.valueExpression&&(yield(0,T.io)(X,Y,ne.valueExpression)),ne.field&&X.add(ne.field)})()}};(0,M._)([(0,P.Cb)({type:[Z.Z],json:{write:!0}})],K.prototype,"attributes",void 0),(0,M._)([(0,P.Cb)({type:V.Z,json:{write:!0}})],K.prototype,"backgroundColor",void 0),(0,M._)([(0,P.Cb)({type:Boolean,json:{write:!0}})],K.prototype,"dotBlendingEnabled",void 0),(0,M._)([(0,P.Cb)({type:String,json:{write:!1}})],K.prototype,"dotShape",void 0),(0,M._)([(0,P.Cb)({type:Number,json:{write:!0}})],K.prototype,"dotSize",void 0),(0,M._)([(0,P.Cb)({type:N,json:{write:!0}})],K.prototype,"legendOptions",void 0),(0,M._)([(0,P.Cb)({type:O.Z,json:{default:null,write:!0}})],K.prototype,"outline",void 0),(0,M._)([(0,P.Cb)({type:Number,json:{write:!0}})],K.prototype,"dotValue",void 0),(0,M._)([(0,P.Cb)({type:Number,json:{write:!0}})],K.prototype,"referenceScale",void 0),(0,M._)([(0,P.Cb)({type:Number,json:{write:!0}})],K.prototype,"seed",void 0),(0,M._)([(0,B.J)({dotDensity:"dot-density"})],K.prototype,"type",void 0),K=$=(0,M._)([(0,F.j)("esri.renderers.DotDensityRenderer")],K);const U=K},82752:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>re});var E=_(15861),M=_(50484),V=_(66599),P=(_(71950),_(93300)),H=_(34222),B=_(4703),F=_(66679),T=_(55768),w=_(80543),Z=(_(1535),_(49301)),I=_(21070),G=_(10141),W=_(85295),A=_(38748),S=_(62501),N=_(61197),L=_(25387),O=_(89317);_(57678),_(14007);let U=class extends((0,L.J)(O.wq)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,M._)([(0,w.Cb)({type:String,json:{write:!0}})],U.prototype,"minLabel",void 0),(0,M._)([(0,w.Cb)({type:String,json:{write:!0}})],U.prototype,"maxLabel",void 0),(0,M._)([(0,w.Cb)({type:String,json:{write:!0}})],U.prototype,"title",void 0),U=(0,M._)([(0,G.j)("esri.renderers.support.HeatmapLegendOptions")],U);var oe,X=_(96043),Y=_(35451);const ne="esri.renderers.HeatmapRenderer",se=B.Z.getLogger(ne);function te(Q){if(null!=Q){const{maxDensity:pe,minDensity:fe,radius:ce}=Q;if(null!=pe||null!=fe||null!=ce){const{blurRadius:q,maxPixelIntensity:le,minPixelIntensity:ee,...ae}=Q;return ae}}return Q}let k=oe=class extends A.Z{constructor(Q){super(Q),this.authoringInfo=null,this.colorStops=[new N.Z({ratio:0,color:new V.Z("rgba(255, 140, 0, 0)")}),new N.Z({ratio:.75,color:new V.Z("rgba(255, 140, 0, 1)")}),new N.Z({ratio:.9,color:new V.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(Q){return te(Q)}get blurRadius(){return(0,X.AJ)(this.radius)}set blurRadius(Q){const pe=this.maxPixelIntensity,fe=this.minPixelIntensity;this._set("radius",(0,X.k0)(Q)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",pe*this._pixelIntensityToDensity),this._set("minDensity",fe*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(Q){this._set("maxDensity",Q*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(Q){this._set("minDensity",Q*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(X.ul**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(Q,pe){this._warnedProps[Q]||"user"===(0,Z.vw)(this).getDefaultOrigin()&&(this._warnedProps[Q]=!0,(0,F.Os)(()=>{(0,P.Mr)(se,Q,{replacement:`${String(pe)} (suggested value: ${this._get(pe)})`,version:"4.24"})}))}read(Q,pe){Q=te(Q),super.read(Q,pe)}getSymbol(){return new Y.Z}getSymbolAsync(){var Q=this;return(0,E.Z)(function*(){return Q.getSymbol()})()}getSymbols(){return[this.getSymbol()]}collectRequiredFields(Q,pe){var fe=this;return(0,E.Z)(function*(){const ce=fe.field,q=fe.valueExpression;ce&&"string"==typeof ce&&(0,W.AB)(Q,pe,ce),q&&"string"==typeof q&&(yield(0,W.io)(Q,pe,q))})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new oe({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,H.d9)(this.colorStops),field:this.field,legendOptions:(0,H.d9)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,M._)([(0,w.Cb)({type:S.Z,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],k.prototype,"authoringInfo",void 0),(0,M._)([(0,w.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],k.prototype,"blurRadius",null),(0,M._)([(0,w.Cb)({type:[N.Z],json:{write:!0}})],k.prototype,"colorStops",void 0),(0,M._)([(0,w.Cb)({type:String,json:{write:!0}})],k.prototype,"field",void 0),(0,M._)([(0,w.Cb)({type:Number,json:{write:{overridePolicy:(Q,pe,fe)=>({enabled:null==fe})},origins:{"web-scene":{write:!1}}}})],k.prototype,"fieldOffset",void 0),(0,M._)([(0,w.Cb)({type:U,json:{write:!0}})],k.prototype,"legendOptions",void 0),(0,M._)([(0,w.Cb)({type:Number,json:{write:!0}})],k.prototype,"maxDensity",void 0),(0,M._)([(0,w.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],k.prototype,"maxPixelIntensity",null),(0,M._)([(0,w.Cb)({type:Number,json:{write:!0}})],k.prototype,"minDensity",void 0),(0,M._)([(0,w.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],k.prototype,"minPixelIntensity",null),(0,M._)([(0,w.Cb)({type:Number,cast:T.t_,json:{write:!0}})],k.prototype,"radius",void 0),(0,M._)([(0,w.Cb)({type:Number,range:{min:0},json:{default:0,write:!0}})],k.prototype,"referenceScale",void 0),(0,M._)([(0,I.J)({heatmap:"heatmap"})],k.prototype,"type",void 0),(0,M._)([(0,w.Cb)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],k.prototype,"valueExpression",void 0),(0,M._)([(0,w.Cb)({type:String})],k.prototype,"valueExpressionTitle",void 0),(0,M._)([(0,w.Cb)({readOnly:!0})],k.prototype,"_pixelIntensityToDensity",null),k=oe=(0,M._)([(0,G.j)(ne)],k);const re=k},28999:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>X});var E=_(15861),M=_(50484),V=_(66599),P=(_(71950),_(57678)),H=_(25387),B=_(55768),F=_(80543),j=(_(1535),_(14007),_(21070)),Z=_(10141),I=_(85295),G=_(38748),W=_(47305),A=_(72923),S=_(89317);let N=class extends((0,H.J)(S.wq)){constructor(){super(...arguments),this.color=new V.Z([0,0,0,0]),this.label=null,this.threshold=0}};(0,M._)([(0,F.Cb)({type:V.Z,json:{write:!0}})],N.prototype,"color",void 0),(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],N.prototype,"label",void 0),(0,M._)([(0,F.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],N.prototype,"threshold",void 0),N=(0,M._)([(0,Z.j)("esri.renderers.support.OthersCategory")],N);let L=class extends((0,H.J)(S.wq)){constructor(){super(...arguments),this.title=null}};(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],L.prototype,"title",void 0),L=(0,M._)([(0,Z.j)("esri.renderers.support.PieChartLegendOptions")],L);var O=_(35451),$=_(89481),K=_(66637);let U=class extends((0,W.W)((0,H.J)(G.Z))){constructor(Y){super(Y),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new V.Z([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new N,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){return new O.Z({size:this.size?this.size/2+(this.outline?.width||0):0})}getSymbolAsync(){var Y=this;return(0,E.Z)(function*(){return Y.getSymbol()})()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(P.pC)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Y,oe)=>Y+oe.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((Y,oe)=>Y+JSON.stringify(oe),"")}collectRequiredFields(Y,oe){var ne=this;return(0,E.Z)(function*(){yield ne.collectVVRequiredFields(Y,oe);for(const se of ne.attributes)se.valueExpression&&(yield(0,I.io)(Y,oe,se.valueExpression)),se.field&&Y.add(se.field)})()}};(0,M._)([(0,F.Cb)({type:[A.Z],json:{write:!0}})],U.prototype,"attributes",void 0),(0,M._)([(0,F.Cb)({type:$.Z,json:{default:null,write:!0}})],U.prototype,"backgroundFillSymbol",void 0),(0,M._)([(0,F.Cb)({type:V.Z,json:{write:!0}})],U.prototype,"defaultColor",void 0),(0,M._)([(0,F.Cb)({type:String,json:{write:!0}})],U.prototype,"defaultLabel",void 0),(0,M._)([(0,F.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],U.prototype,"holePercentage",void 0),(0,M._)([(0,F.Cb)({type:N,json:{write:!0}})],U.prototype,"othersCategory",void 0),(0,M._)([(0,F.Cb)({type:L,json:{write:!0}})],U.prototype,"legendOptions",void 0),(0,M._)([(0,F.Cb)({type:K.Z,json:{default:null,write:!0}})],U.prototype,"outline",void 0),(0,M._)([(0,F.Cb)({type:Number,cast:B.t_,json:{write:!0}})],U.prototype,"size",void 0),(0,M._)([(0,j.J)({pieChart:"pie-chart"})],U.prototype,"type",void 0),U=(0,M._)([(0,Z.j)("esri.renderers.PieChartRenderer")],U);const X=U},38748:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var E=_(15861),M=_(50484),V=_(84303),x=_(89317),P=_(80543),T=(_(1535),_(57678),_(14007),_(10141)),w=_(62501);const j=new V.X({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Z=class extends x.wq{constructor(G){super(G),this.authoringInfo=null,this.type=null}getRequiredFields(G){var W=this;return(0,E.Z)(function*(){if(!W.collectRequiredFields)return[];const A=new Set;return yield W.collectRequiredFields(A,G),Array.from(A).sort()})()}getSymbol(G,W){}getSymbolAsync(G,W){return(0,E.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,M._)([(0,P.Cb)({type:w.Z,json:{write:!0}})],Z.prototype,"authoringInfo",void 0),(0,M._)([(0,P.Cb)({type:j.apiValues,readOnly:!0,json:{type:j.jsonValues,read:!1,write:{writer:j.write,ignoreOrigin:!0}}})],Z.prototype,"type",void 0),Z=(0,M._)([(0,T.j)("esri.renderers.Renderer")],Z);const I=Z},50923:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var j,E=_(15861),M=_(50484),V=_(34222),x=_(80543),H=(_(1535),_(21070)),B=_(10141),F=_(38748),T=_(47305),w=_(47702);let Z=j=class extends((0,T.W)(F.Z)){constructor(G){super(G),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(G,W){var A=this;return(0,E.Z)(function*(){yield Promise.all([A.collectSymbolFields(G,W),A.collectVVRequiredFields(G,W)])})()}collectSymbolFields(G,W){var A=this;return(0,E.Z)(function*(){yield Promise.all(A.getSymbols().map(S=>S.collectRequiredFields(G,W)))})()}getSymbol(G,W){return this.symbol}getSymbolAsync(G,W){var A=this;return(0,E.Z)(function*(){return A.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((G,W)=>G+W.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((G,W)=>G+JSON.stringify(W),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new j({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,V.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,M._)([(0,x.Cb)({type:String,json:{write:!0}})],Z.prototype,"description",void 0),(0,M._)([(0,x.Cb)({type:String,json:{write:!0}})],Z.prototype,"label",void 0),(0,M._)([(0,x.Cb)(w.EW)],Z.prototype,"symbol",void 0),(0,M._)([(0,H.J)({simple:"simple"})],Z.prototype,"type",void 0),Z=j=(0,M._)([(0,B.j)("esri.renderers.SimpleRenderer")],Z);const I=Z},42212:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>we});var E=_(15861),M=_(50484),V=_(71950),x=_(57964),P=_(34222),H=_(4703),B=_(71763),F=_(77675),T=_(80543),w=_(73018),j=_(21070),Z=_(62185),I=_(10141),G=_(7547),W=_(657),A=_(1535),S=_(85295),N=_(61018),L=_(38748),O=_(47305),$=_(47702),K=_(37764),U=_(25387),X=_(89317),Y=_(57678);_(14007);let ne=class extends((0,U.J)(X.wq)){constructor(Me){super(Me),this.value=null,this.value2=null,this.value3=null}};(0,M._)([(0,T.Cb)($.GY)],ne.prototype,"value",void 0),(0,M._)([(0,T.Cb)($.GY)],ne.prototype,"value2",void 0),(0,M._)([(0,T.Cb)($.GY)],ne.prototype,"value3",void 0),ne=(0,M._)([(0,I.j)("esri.renderers.support.UniqueValue")],ne);const se=ne;let te=class extends((0,U.J)(X.wq)){constructor(Me){super(Me),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(Me){if(null==Me)return null;const He=typeof(Me=Array.isArray(Me)?Me:[Me])[0];return"string"===He||"number"===He?Me.map(xe=>new se({value:xe})):"object"===He?Me[0]instanceof se?Me:Me.map(xe=>new se(xe)):null}};(0,M._)([(0,T.Cb)({type:String,json:{write:!0}})],te.prototype,"description",void 0),(0,M._)([(0,T.Cb)({type:String,json:{write:!0}})],te.prototype,"label",void 0),(0,M._)([(0,T.Cb)($.Gn)],te.prototype,"symbol",void 0),(0,M._)([(0,T.Cb)({type:[se],json:{type:[[String]],read:{reader:Me=>Me?Me.map(He=>new se({value:He[0],value2:He[1],value3:He[2]})):null},write:{writer:(Me,He)=>{const xe=[];for(const Xe of Me){const J=[Xe.value,Xe.value2,Xe.value3].filter(Y.pC).map(ye=>ye.toString());xe.push(J)}He.values=xe}}}})],te.prototype,"values",void 0),(0,M._)([(0,w.p)("values")],te.prototype,"castValues",null),te=(0,M._)([(0,I.j)("esri.renderers.support.UniqueValueClass")],te);const k=te;let re=class extends((0,U.J)(X.wq)){constructor(Me){super(Me),this.heading=null,this.classes=null}};(0,M._)([(0,T.Cb)({type:String,json:{write:!0}})],re.prototype,"heading",void 0),(0,M._)([(0,T.Cb)({type:[k],json:{write:!0}})],re.prototype,"classes",void 0),re=(0,M._)([(0,I.j)("esri.renderers.support.UniqueValueGroup")],re);const Q=re;var ee,pe=_(24147),fe=_(4978),ce=_(19677),q=_(18007),le=_(80121);const ae="esri.renderers.UniqueValueRenderer",ue=H.Z.getLogger(ae),ge="uvInfos-watcher",Ee="uvGroups-watcher",ie=(0,A.se)(pe.Z);let Be=ee=class extends((0,O.W)(L.Z)){constructor(Me){super(Me),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(He,xe){if(!He&&!xe)return;if(!He||!xe)return{type:"complete",oldValue:He,newValue:xe};let Xe=!1;const J={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let ye=0;ye<xe.length;ye++){const Re=He.find(Ve=>Ve.value===xe[ye].value);Re?(0,W.Hg)(Re,xe[ye])?(J.changed.push({type:"complete",oldValue:Re,newValue:xe[ye]}),Xe=!0):J.unchanged.push({oldValue:Re,newValue:xe[ye]}):(J.added.push(xe[ye]),Xe=!0)}for(let ye=0;ye<He.length;ye++)xe.find(Re=>Re.value===He[ye].value)||(J.removed.push(He[ye]),Xe=!0);return Xe?J:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(Me){this._set("field",Me),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(Me){return null==Me||"function"==typeof Me?Me:(0,A.Zs)(Me)}writeField(Me,He,xe,Xe){"string"==typeof Me?He[xe]=Me:Xe?.messages?Xe.messages.push(new x.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):ue.error(".field: cannot write field to JSON since it's not a string value")}set field2(Me){this._set("field2",Me),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(Me){this._set("field3",Me),this._updateUniqueValues()}set valueExpression(Me){this._set("valueExpression",Me),this._updateUniqueValues()}set defaultSymbol(Me){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",Me)}set fieldDelimiter(Me){this._set("fieldDelimiter",Me),this._updateUniqueValues()}readPortal(Me,He,xe){return xe.portal||N.Z.getDefault()}readStyleOrigin(Me,He,xe){if(He.styleName)return Object.freeze({styleName:He.styleName});if(He.styleUrl){const Xe=(0,ce.f)(He.styleUrl,xe);return Object.freeze({styleUrl:Xe})}}writeStyleOrigin(Me,He,xe,Xe){Me.styleName?He.styleName=Me.styleName:Me.styleUrl&&(He.styleUrl=(0,ce.t)(Me.styleUrl,Xe))}set uniqueValueGroups(Me){this.styleOrigin?ue.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",Me),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(Me){this.styleOrigin?ue.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",Me),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(Me,He){if(this.styleOrigin)return void ue.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let xe;xe="object"==typeof Me?ie(Me):new pe.Z({value:Me,symbol:(0,V.se)(He)}),this.uniqueValueInfos?.push(xe),this._valueInfoMap[xe.value]=xe,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(Me){if(this.styleOrigin)return void ue.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const He=this.uniqueValueInfos;if(He)for(let xe=0;xe<He.length;xe++)if(String(He[xe].value)===String(Me)){delete this._valueInfoMap[Me],He.splice(xe,1);break}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}getUniqueValueInfo(Me,He){var xe=this;return(0,E.Z)(function*(){let Xe=He;return xe.valueExpression&&null==He?.arcade&&(Xe={...Xe,arcade:yield(0,fe.LC)()}),xe._getUniqueValueInfo(Me,Xe)})()}getSymbol(Me,He){return this.valueExpression&&null==He?.arcade?void ue.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(Me,He)?.symbol||this.defaultSymbol}getSymbolAsync(Me,He){var xe=this;return(0,E.Z)(function*(){let Xe=He;if(xe.valueExpression&&null==Xe?.arcade){const ye=yield(0,fe.LC)(),{arcadeUtils:Re}=ye;Re.hasGeometryOperations(xe.valueExpression)&&(yield Re.enableGeometryOperations()),Xe={...Xe,arcade:ye}}return xe._getUniqueValueInfo(Me,Xe)?.symbol||xe.defaultSymbol})()}getSymbols(){const Me=[];for(const He of this.uniqueValueInfos??[])He.symbol&&Me.push(He.symbol);return this.defaultSymbol&&Me.push(this.defaultSymbol),Me}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Me,He)=>Me+He.getAttributeHash(),"")}getMeshHash(){const Me=JSON.stringify(this.backgroundFillSymbol),He=JSON.stringify(this.defaultSymbol),xe=this.uniqueValueInfos?.reduce((Xe,J)=>Xe+J.getMeshHash(),"");return`${Me}.${He}.${xe}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const Me=new ee({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,P.d9)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,P.d9)(this.visualVariables),legendOptions:(0,P.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,P.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(Me._isDefaultSymbolDerived=!0),Me._set("portal",this.portal);const He=(0,P.d9)(this.uniqueValueInfos),xe=(0,P.d9)(this.uniqueValueGroups);return this.styleOrigin&&(Me._set("styleOrigin",Object.freeze((0,P.d9)(this.styleOrigin))),Object.freeze(He),Object.freeze(xe)),Me._set("uniqueValueInfos",He),Me._updateValueInfoMap(),Me._set("uniqueValueGroups",xe),Me._isInfosSource=this._isInfosSource,Me._watchUniqueValueInfosAndGroups(),Me}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(Me,He){var xe=this;return(0,E.Z)(function*(){const Xe=[xe.collectVVRequiredFields(Me,He),xe.collectSymbolFields(Me,He)];yield Promise.all(Xe)})()}collectSymbolFields(Me,He){var xe=this;return(0,E.Z)(function*(){const Xe=[...xe.getSymbols().map(J=>J.collectRequiredFields(Me,He)),(0,S.io)(Me,He,xe.valueExpression)];(0,S.AB)(Me,He,xe.field),(0,S.AB)(Me,He,xe.field2),(0,S.AB)(Me,He,xe.field3),yield Promise.all(Xe)})()}populateFromStyle(){return(0,q.n2)(this.styleOrigin,{portal:this.portal}).then(Me=>{const He=[];return this._valueInfoMap={},Me&&Me.data&&Array.isArray(Me.data.items)&&Me.data.items.forEach(xe=>{const Xe=new le.Z({styleUrl:Me.styleUrl,styleName:Me.styleName,portal:this.portal,name:xe.name});this.defaultSymbol||xe.name!==Me.data.defaultItem||(this.defaultSymbol=Xe,this._isDefaultSymbolDerived=!0);const J=new pe.Z({value:xe.name,symbol:Xe});He.push(J),this._valueInfoMap[xe.name]=J}),this._set("uniqueValueInfos",Object.freeze(He)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:Me}=this;if(Me)for(const He of Me)this._valueInfoMap[He.value+""]=He}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(ge);const{uniqueValueInfos:Me}=this;if(Me){const He=[];for(const xe of Me)He.push((0,F.YP)(()=>({symbol:xe.symbol,value:xe.value,label:xe.label,description:xe.description}),(Xe,J)=>{Xe!==J&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(He,ge)}}_watchUniqueValueGroups(){this.removeHandles(Ee);const{uniqueValueGroups:Me}=this;if(Me){const He=[];for(const xe of Me){He.push((0,F.YP)(()=>({classes:xe.classes}),(Xe,J)=>{Xe!==J&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const Xe of xe.classes??[])He.push((0,F.YP)(()=>({symbol:Xe.symbol,values:Xe.values,label:Xe.label,description:Xe.description}),(J,ye)=>{J!==ye&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(He,Ee)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const Me=[],{field:He,field2:xe,field3:Xe,fieldDelimiter:J,uniqueValueGroups:ye,valueExpression:Re}=this;if(!He&&!Re)return this._set("uniqueValueInfos",Me),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const Ve=!(!He||!xe);for(const et of ye)for(const Fe of et.classes??[]){const{symbol:Qe,label:Ne,values:ve,description:Oe}=Fe;for(const Te of ve??[]){const{value:je,value2:$e,value3:nt}=Te,Je=[je];xe&&Je.push($e),Xe&&Je.push(nt);const ot=Ve?Je.join(J||""):Je[0];Me.push(new pe.Z({symbol:Qe,label:Ne,value:ot,description:Oe}))}}this._set("uniqueValueInfos",Me),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(Me=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:He,field2:xe,valueExpression:Xe,fieldDelimiter:J,uniqueValueInfos:ye}=this;if(!He&&!Xe||!ye.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const Re=!(!He||!xe),Ve=ye.map(Fe=>{const{symbol:Qe,label:Ne,value:ve,description:Oe}=Fe,[Te,je,$e]=Re?ve?.toString()?.split(J||"")||[]:[ve];return new k({symbol:Qe,label:Ne,description:Oe,values:[new se({value:Te,value2:je,value3:$e})]})}),et=[new Q({classes:Ve})];Me&&Object.freeze(et),this._set("uniqueValueGroups",et),this._watchUniqueValueGroups()}_getUniqueValueInfo(Me,He){return this.valueExpression?this._getUnqiueValueInfoForExpression(Me,He):this._getUnqiueValueInfoForFields(Me)}_getUnqiueValueInfoForExpression(Me,He){const{viewingMode:xe,scale:Xe,spatialReference:J,arcade:ye,timeZone:Re}=He??{};let Ve=this._cache.compiledFunc;const et=ye.arcadeUtils;if(!Ve){const Qe=et.createSyntaxTree(this.valueExpression);Ve=et.createFunction(Qe),this._cache.compiledFunc=Ve}const Fe=et.executeFunction(Ve,et.createExecContext(Me,et.getViewInfo({viewingMode:xe,scale:Xe,spatialReference:J}),Re));return this._valueInfoMap[Fe+""]}_getUnqiueValueInfoForFields(Me){const He=this.field,xe=Me.attributes;let Xe;if("function"!=typeof He&&this.field2){const J=this.field2,ye=this.field3,Re=[];He&&Re.push(xe[He]),J&&Re.push(xe[J]),ye&&Re.push(xe[ye]),Xe=Re.join(this.fieldDelimiter||"")}else"function"==typeof He?Xe=He(Me):He&&(Xe=xe[He]);return this._valueInfoMap[Xe+""]}static fromPortalStyle(Me,He){const xe=new ee(He?.properties);xe._set("styleOrigin",Object.freeze({styleName:Me})),xe._set("portal",He?.portal||N.Z.getDefault());const Xe=xe.populateFromStyle();return Xe.catch(J=>{ue.error(`#fromPortalStyle('${Me}'[, ...])`,"Failed to create unique value renderer from style name",J)}),Xe}static fromStyleUrl(Me,He){const xe=new ee(He?.properties);xe._set("styleOrigin",Object.freeze({styleUrl:Me}));const Xe=xe.populateFromStyle();return Xe.catch(J=>{ue.error(`#fromStyleUrl('${Me}'[, ...])`,"Failed to create unique value renderer from style URL",J)}),Xe}};(0,M._)([(0,T.Cb)({readOnly:!0})],Be.prototype,"_cache",null),(0,M._)([(0,j.J)({uniqueValue:"unique-value"})],Be.prototype,"type",void 0),(0,M._)([(0,T.Cb)($.KK)],Be.prototype,"backgroundFillSymbol",void 0),(0,M._)([(0,T.Cb)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Be.prototype,"field",null),(0,M._)([(0,w.p)("field")],Be.prototype,"castField",null),(0,M._)([(0,G.c)("field")],Be.prototype,"writeField",null),(0,M._)([(0,T.Cb)({type:String,value:null,json:{write:!0}})],Be.prototype,"field2",null),(0,M._)([(0,T.Cb)({type:String,value:null,json:{write:!0}})],Be.prototype,"field3",null),(0,M._)([(0,T.Cb)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Be.prototype,"orderByClassesEnabled",void 0),(0,M._)([(0,T.Cb)({type:String,value:null,json:{write:!0}})],Be.prototype,"valueExpression",null),(0,M._)([(0,T.Cb)({type:String,json:{write:!0}})],Be.prototype,"valueExpressionTitle",void 0),(0,M._)([(0,T.Cb)({type:K.I,json:{write:!0}})],Be.prototype,"legendOptions",void 0),(0,M._)([(0,T.Cb)({type:String,json:{write:!0}})],Be.prototype,"defaultLabel",void 0),(0,M._)([(0,T.Cb)((0,B.RH)({...$.Gn},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Be.prototype,"defaultSymbol",null),(0,M._)([(0,T.Cb)({type:String,value:null,json:{write:!0}})],Be.prototype,"fieldDelimiter",null),(0,M._)([(0,T.Cb)({type:N.Z,readOnly:!0})],Be.prototype,"portal",void 0),(0,M._)([(0,Z.r)("portal",["styleName"])],Be.prototype,"readPortal",null),(0,M._)([(0,T.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Be.prototype,"styleOrigin",void 0),(0,M._)([(0,Z.r)("styleOrigin",["styleName","styleUrl"])],Be.prototype,"readStyleOrigin",null),(0,M._)([(0,G.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Be.prototype,"writeStyleOrigin",null),(0,M._)([(0,T.Cb)({type:[Q],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(Me,He,xe)=>(He.uniqueValueGroups||function De(Me){const{field1:He,field2:xe,field3:Xe,fieldDelimiter:J,uniqueValueInfos:ye,valueExpression:Re}=Me,Ve=!(!He||!xe);return[{classes:(ye??[]).map(et=>{const{symbol:Fe,label:Qe,value:Ne,description:ve}=et,[Oe,Te,je]=Ve?Ne?.toString()?.split(J||"")||[]:[Ne],$e=[];return(He||Re)&&$e.push(Oe),xe&&$e.push(Te),Xe&&$e.push(je),{symbol:Fe,label:Qe,values:[$e],description:ve}})}]}(He)).map(Xe=>Q.fromJSON(Xe,xe))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Be.prototype,"uniqueValueGroups",null),(0,M._)([(0,T.Cb)({type:[pe.Z],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Be.prototype,"uniqueValueInfos",null),Be=ee=(0,M._)([(0,I.j)(ae)],Be);const we=Be},47305:(Ze,me,_)=>{"use strict";_.d(me,{W:()=>ee});var E=_(15861),M=_(50484),V=_(80543),x=_(1535),B=(_(57678),_(14007),_(62185)),F=_(10141),T=_(7547),w=_(85295);const Z=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var W,I=_(64234),G=_(11892);let A=W=class extends I.Z{constructor(ue){super(ue),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(ue){ue&&Array.isArray(ue)&&(ue=ue.filter(ge=>!!ge)).sort((ge,Ee)=>ge.value-Ee.value),this._set("stops",ue)}clone(){return new W({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(ue=>ue.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ue=>ue.value||0)}};(0,M._)([(0,V.Cb)({readOnly:!0})],A.prototype,"cache",null),(0,M._)([(0,V.Cb)({type:["color"],json:{type:["colorInfo"]}})],A.prototype,"type",void 0),(0,M._)([(0,V.Cb)({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0),(0,M._)([(0,V.Cb)({type:[G.Z],json:{write:!0}})],A.prototype,"stops",null),A=W=(0,M._)([(0,F.j)("esri.renderers.visualVariables.ColorVariable")],A);const S=A;var O,N=_(89317),L=_(39437);let $=O=class extends N.wq{constructor(ue){super(ue),this.label=null,this.opacity=null,this.value=null}readOpacity(ue,ge){return(0,L.b)(ge.transparency)}writeOpacity(ue,ge,Ee){ge[Ee]=(0,L.a)(ue)}clone(){return new O({label:this.label,opacity:this.opacity,value:this.value})}};(0,M._)([(0,V.Cb)({type:String,json:{write:!0}})],$.prototype,"label",void 0),(0,M._)([(0,V.Cb)({type:Number,json:{type:x.z8,write:{target:"transparency"}}})],$.prototype,"opacity",void 0),(0,M._)([(0,B.r)("opacity",["transparency"])],$.prototype,"readOpacity",null),(0,M._)([(0,T.c)("opacity")],$.prototype,"writeOpacity",null),(0,M._)([(0,V.Cb)({type:Number,json:{write:!0}})],$.prototype,"value",void 0),$=O=(0,M._)([(0,F.j)("esri.renderers.visualVariables.support.OpacityStop")],$);const K=$;var U;let X=U=class extends I.Z{constructor(ue){super(ue),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(ue){ue&&Array.isArray(ue)&&(ue=ue.filter(ge=>!!ge)).sort((ge,Ee)=>ge.value-Ee.value),this._set("stops",ue)}clone(){return new U({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(ue=>ue.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ue=>ue.value||0)}};(0,M._)([(0,V.Cb)({readOnly:!0})],X.prototype,"cache",null),(0,M._)([(0,V.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],X.prototype,"type",void 0),(0,M._)([(0,V.Cb)({type:String,json:{write:!0}})],X.prototype,"normalizationField",void 0),(0,M._)([(0,V.Cb)({type:[K],json:{write:!0}})],X.prototype,"stops",null),X=U=(0,M._)([(0,F.j)("esri.renderers.visualVariables.OpacityVariable")],X);const Y=X;var oe=_(15242),ne=_(39639),se=_(73514),te=_(84303),k=_(4703),re=_(23206);const Q={color:S,size:ne.Z,opacity:Y,rotation:oe.Z},pe=new te.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),fe=/^\[([^\]]+)\]$/i;let ce=class extends se.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(ue){if(this._resetVariables(),ue=ue&&ue.filter(ge=>!!ge),ue?.length){for(const ge of ue)switch(ge.type){case"color":this.colorVariables.push(ge);break;case"opacity":this.opacityVariables.push(ge);break;case"rotation":this.rotationVariables.push(ge);break;case"size":this.sizeVariables.push(ge)}this.sizeVariables.length&&this.sizeVariables.some(ge=>!!ge.target)&&ue.sort((ge,Ee)=>{let be=null;return be=ge.target===Ee.target?0:ge.target?1:-1,be});for(let ge=0;ge<ue.length;ge++)ue[ge].index=ge;this._set("visualVariables",ue)}else this._set("visualVariables",ue)}readVariables(ue,ge,Ee){const{rotationExpression:be,rotationType:ie}=ge,De=be?.match(fe),Be=De?.[1];if(Be&&(ue||(ue=[]),ue.push({type:"rotationInfo",rotationType:ie,field:Be})),ue)return ue.map(we=>{const Me=pe.read(we.type),He=Q[Me];He||(k.Z.getLogger(this).warn(`Unknown variable type: ${Me}`),Ee?.messages&&Ee.messages.push(new re.Z("visual-variable:unsupported",`visualVariable of type '${Me}' is not supported`,{definition:we,context:Ee})));const xe=new He;return xe.read(we,Ee),xe})}writeVariables(ue,ge){const Ee=[];for(const be of ue){const ie=be.toJSON(ge);ie&&Ee.push(ie)}return Ee}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,M._)([(0,V.Cb)()],ce.prototype,"visualVariables",null),ce=(0,M._)([(0,F.j)("esri.renderers.visualVariables.VisualVariableFactory")],ce);const q=ce,le={base:I.Z,key:"type",typeMap:{opacity:Y,color:S,rotation:oe.Z,size:ne.Z}},ee=ue=>{let ge=class extends ue{constructor(){super(...arguments),this._vvFactory=new q}set visualVariables(Ee){this._vvFactory.visualVariables=Ee,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(Ee,be,ie){return this._vvFactory.readVariables(Ee,be,ie)}writeVisualVariables(Ee,be,ie,De){be[ie]=this._vvFactory.writeVariables(Ee,De)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const Ee of this.visualVariables)if(Ee.arcadeRequired)return!0;return!1}hasVisualVariables(Ee,be){return Ee?this.getVisualVariablesForType(Ee,be).length>0:this.getVisualVariablesForType("size",be).length>0||this.getVisualVariablesForType("color",be).length>0||this.getVisualVariablesForType("opacity",be).length>0||this.getVisualVariablesForType("rotation",be).length>0}getVisualVariablesForType(Ee,be){const ie=this.visualVariables;return ie?ie.filter(De=>De.type===Ee&&("string"==typeof be?De.target===be:!1!==be||!De.target)):[]}collectVVRequiredFields(Ee,be){var ie=this;return(0,E.Z)(function*(){let De=[];ie.visualVariables&&(De=De.concat(ie.visualVariables));for(const Be of De)Be&&(Be.field&&(0,w.AB)(Ee,be,Be.field),Be.normalizationField&&(0,w.AB)(Ee,be,Be.normalizationField),Be.valueExpression&&(ae(Be.valueExpression,Ee,be)||(yield(0,w.io)(Ee,be,Be.valueExpression))))})()}};return(0,M._)([(0,V.Cb)({types:[le],value:null,json:{write:!0}})],ge.prototype,"visualVariables",null),(0,M._)([(0,B.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],ge.prototype,"readVisualVariables",null),(0,M._)([(0,T.c)("visualVariables")],ge.prototype,"writeVisualVariables",null),ge=(0,M._)([(0,F.j)("esri.renderers.mixins.VisualVariablesMixin")],ge),ge};function ae(ue,ge,Ee){const be=function j(ue){return ue.match(Z)?.[1]?.replace(/\\'/g,"'")??null}(ue);return null!=be&&((0,w.AB)(ge,Ee,be),!0)}},72923:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var j,E=_(50484),M=_(66599),V=_(89317),x=_(4703),P=_(80543),H=_(73018),T=(_(57678),_(14007),_(10141)),w=_(1535);let Z=j=class extends V.wq{constructor(G){super(G),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(G){return null==G?G:"function"==typeof G?(x.Z.getLogger(this).error(".field: field must be a string value"),null):(0,w.Zs)(G)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new j({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,E._)([(0,P.Cb)({type:M.Z,json:{type:[Number],write:!0}})],Z.prototype,"color",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],Z.prototype,"field",void 0),(0,E._)([(0,H.p)("field")],Z.prototype,"castField",null),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],Z.prototype,"label",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],Z.prototype,"valueExpression",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],Z.prototype,"valueExpressionTitle",void 0),Z=j=(0,E._)([(0,T.j)("esri.renderers.support.AttributeColorInfo")],Z);const I=Z},62501:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>ce});var j,E=_(50484),M=_(84303),V=_(89317),x=_(34222),P=_(80543),H=_(1535),B=_(62185),F=_(10141);_(57678),_(14007);let Z=j=class extends V.wq{constructor(q){super(q),this.minValue=0,this.maxValue=0}clone(){return new j({minValue:this.minValue,maxValue:this.maxValue})}};var I;(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],Z.prototype,"minValue",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],Z.prototype,"maxValue",void 0),Z=j=(0,E._)([(0,F.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],Z);let G=I=class extends V.wq{constructor(q){super(q),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new I({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,x.d9)(this.classBreakInfos)})}};(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],G.prototype,"field",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],G.prototype,"normalizationField",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],G.prototype,"label",void 0),(0,E._)([(0,P.Cb)({type:[Z],json:{write:!0}})],G.prototype,"classBreakInfos",void 0),G=I=(0,E._)([(0,F.j)("esri.renderers.support.AuthoringInfoFieldInfo")],G);var A,W=_(73018);const S=new M.X({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),N=new M.X({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),L={key:q=>"number"==typeof q?"number":"string",typeMap:{number:Number,string:String},base:null},O=["high-to-low","above-and-below","centered-on","extremes"],$=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],K=["seconds","minutes","hours","days","months","years"];let U=A=class extends V.wq{constructor(q){super(q),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(q){return"string"==typeof q||"number"==typeof q?q:null}castStartTime(q){return"string"==typeof q||"number"==typeof q?q:null}get style(){return"color"===this.type?this._get("style"):null}set style(q){this._set("style",q)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(q){this._set("theme",q)}clone(){return new A({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,E._)([(0,P.Cb)({types:L,json:{write:!0}})],U.prototype,"endTime",void 0),(0,E._)([(0,W.p)("endTime")],U.prototype,"castEndTime",null),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],U.prototype,"field",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],U.prototype,"maxSliderValue",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],U.prototype,"minSliderValue",void 0),(0,E._)([(0,P.Cb)({types:L,json:{write:!0}})],U.prototype,"startTime",void 0),(0,E._)([(0,W.p)("startTime")],U.prototype,"castStartTime",null),(0,E._)([(0,P.Cb)({type:S.apiValues,value:null,json:{type:S.jsonValues,read:S.read,write:S.write}})],U.prototype,"style",null),(0,E._)([(0,P.Cb)({type:$,value:null,json:{type:$,origins:{"web-scene":{type:O,write:{writer:(q,le)=>{O.includes(q)&&(le.theme=q)}}}},write:!0}})],U.prototype,"theme",null),(0,E._)([(0,P.Cb)({type:N.apiValues,json:{type:N.jsonValues,read:N.read,write:N.write}})],U.prototype,"type",void 0),(0,E._)([(0,P.Cb)({type:K,json:{type:K,write:!0}})],U.prototype,"units",void 0),U=A=(0,E._)([(0,F.j)("esri.renderers.support.AuthoringInfoVisualVariable")],U);const X=U;var oe,Y=_(46143);const ne=new M.X({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),se=new M.X({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),te=new M.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),k=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let fe=oe=class extends V.wq{constructor(q){super(q),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const q=this._get("classificationMethod"),le=this.type;return le&&"relationship"!==le?"class-breaks-size"===le||"class-breaks-color"===le?q||"manual":null:q}set classificationMethod(q){this._set("classificationMethod",q)}readColorRamp(q){return q?(0,Y.i)(q):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(q){this._set("fields",q)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(q){this._set("field1",q)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(q){this._set("field2",q)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(q){this._set("flowTheme",q)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(q){this._set("focus",q)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(q){this._set("numClasses",q)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(q){this._set("statistics",q)}get standardDeviationInterval(){const q=this.type;return q&&"relationship"!==q&&"class-breaks-size"!==q&&"class-breaks-color"!==q||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(q){this._set("standardDeviationInterval",q)}get type(){return this._get("type")}set type(q){let le=q;"classed-size"===q?le="class-breaks-size":"classed-color"===q&&(le="class-breaks-color"),this._set("type",le)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(q){this._set("univariateSymbolStyle",q)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(q){this._set("univariateTheme",q)}clone(){return new oe({classificationMethod:this.classificationMethod,colorRamp:(0,x.d9)(this.colorRamp),fadeRatio:(0,x.d9)(this.fadeRatio),fields:this.fields?.slice(0),field1:(0,x.d9)(this.field1),field2:(0,x.d9)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(q=>q.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,E._)([(0,P.Cb)({type:ne.apiValues,value:null,json:{type:ne.jsonValues,read:ne.read,write:ne.write,origins:{"web-document":{default:"manual",type:ne.jsonValues,read:ne.read,write:ne.write}}}})],fe.prototype,"classificationMethod",null),(0,E._)([(0,P.Cb)({types:Y.V,json:{write:!0}})],fe.prototype,"colorRamp",void 0),(0,E._)([(0,B.r)("colorRamp")],fe.prototype,"readColorRamp",null),(0,E._)([(0,P.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],fe.prototype,"fadeRatio",void 0),(0,E._)([(0,P.Cb)({type:[String],value:null,json:{write:!0}})],fe.prototype,"fields",null),(0,E._)([(0,P.Cb)({type:G,value:null,json:{write:!0}})],fe.prototype,"field1",null),(0,E._)([(0,P.Cb)({type:G,value:null,json:{write:!0}})],fe.prototype,"field2",null),(0,E._)([(0,P.Cb)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],fe.prototype,"flowTheme",null),(0,E._)([(0,P.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],fe.prototype,"focus",null),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],fe.prototype,"isAutoGenerated",void 0),(0,E._)([(0,P.Cb)({type:Number,value:null,json:{type:H.z8,write:!0}})],fe.prototype,"numClasses",null),(0,E._)([(0,P.Cb)({type:k,json:{type:k,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],fe.prototype,"lengthUnit",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],fe.prototype,"maxSliderValue",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],fe.prototype,"minSliderValue",void 0),(0,E._)([(0,P.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],fe.prototype,"statistics",null),(0,E._)([(0,P.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],fe.prototype,"standardDeviationInterval",null),(0,E._)([(0,P.Cb)({type:se.apiValues,value:null,json:{type:se.jsonValues,read:se.read,write:se.write,origins:{"web-scene":{type:te.jsonValues,write:{writer:te.write,overridePolicy:q=>({enabled:"flow"!==q})}}}}})],fe.prototype,"type",null),(0,E._)([(0,P.Cb)({type:[X],json:{write:!0}})],fe.prototype,"visualVariables",void 0),(0,E._)([(0,P.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],fe.prototype,"univariateSymbolStyle",null),(0,E._)([(0,P.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],fe.prototype,"univariateTheme",null),fe=oe=(0,E._)([(0,F.j)("esri.renderers.support.AuthoringInfo")],fe);const ce=fe},87617:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(47702);let w=T=class extends M.wq{constructor(Z){super(Z),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new T({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const Z=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${Z}`}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"description",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"label",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],w.prototype,"minValue",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],w.prototype,"maxValue",void 0),(0,E._)([(0,V.Cb)(F.EW)],w.prototype,"symbol",void 0),w=T=(0,E._)([(0,B.j)("esri.renderers.support.ClassBreakInfo")],w);const j=w},96844:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{DictionaryLoader:()=>A});var E=_(15861),M=_(66599),V=_(66476),x=_(57964),H=(_(14007),_(4703)),B=_(52540),F=_(79412),T=_(72578),w=_(93960),j=_(40100),Z=_(4978),I=_(66641);const G="esri.renderers.support.DictionaryLoader",W={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class A{constructor(O,$,K){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new B.z(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=O,this.config=$,this.fieldMap=K}getSymbolFields(){return this._symbolFields}getSymbolAsync(O,$){var K=this;return(0,E.Z)(function*(){let U;K._dictionaryPromise||(K._dictionaryPromise=K.fetchResources($));try{U=yield K._dictionaryPromise}catch(fe){if((0,F.D_)(fe))return K._dictionaryPromise=null,null}const X=K._dictionaryVersion&&K._dictionaryVersion.since(4,0),Y={};if(K.fieldMap)for(const fe of K._symbolFields){const ce=K._getFieldName(K.fieldMap[fe]);if(ce){const q=O.attributes[ce];Y[fe]=X?q:null!=q?""+O.attributes[ce]:""}else Y[fe]=""}let oe=null;try{oe=U?.(Y,$)}catch{return null}if(!oe||"string"!=typeof oe)return null;const ne=(0,T.hP)(oe).toString(),se=K._symbolCache.get(ne);if(se)return se.catch(()=>{K._symbolCache.pop(ne)}),se;const te=oe.split(";"),k=[],re=[];for(const fe of te)if(fe)if(fe.includes("po:")){const ce=fe.substr(3).split("|");if(3===ce.length){const q=ce[0],le=ce[1];let ee=ce[2];if("DashTemplate"===le)ee=ee.split(" ").map(ae=>Number(ae));else if("Color"===le){const ae=new M.Z(ee).toRgba();ee=[ae[0],ae[1],ae[2],255*ae[3]]}else ee=Number(ee);re.push({primitiveName:q,propertyName:le,value:ee})}}else if(fe.includes("|")){for(const ce of fe.split("|"))if(K._itemNames.has(ce)){k.push(ce);break}}else K._itemNames.has(fe)&&k.push(fe);const pe=K._cimPartsToCIMSymbol(k,re,null==O.geometry||!O.geometry.hasZ&&"point"===O.geometry.type,$);return K._symbolCache.put(ne,pe,1),pe})()}fetchResources(O){var $=this;return(0,E.Z)(function*(){if($._dictionaryPromise)return $._dictionaryPromise;if(!$.url)return void H.Z.getLogger(G).error("no valid URL!");const K=(0,V.Z)($.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=O?O.signal:null}),[{data:U}]=yield Promise.all([K,(0,Z.LC)()]);if(!U)throw $._dictionaryPromise=null,new x.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:X,dictionary_version:Y,expression:oe,itemsNames:ne}=U,se=oe;let te=!1;Y&&($._dictionaryVersion=w.G.parse(Y),te=$._dictionaryVersion.since(4,0)),$._refSymbolUrlTemplate=$.url+"/"+U.cimRefTemplateUrl,$._itemNames=new Set(ne),$._symbolFields=X.symbol;const k={};if($.config){const pe=$.config;for(const fe in pe)k[fe]=pe[fe]}if(X.configuration)for(const pe of X.configuration)k.hasOwnProperty(pe.name)||(k[pe.name]=pe.value);const re=[];if(O?.fields&&$.fieldMap)for(const pe of $._symbolFields){const fe=$.fieldMap[pe],ce=O.fields.filter(q=>q.name.toLowerCase()===fe?.toLowerCase());ce.length>0&&re.push({...ce[0],type:te?ce[0].type:"esriFieldTypeString"})}re.length>0&&($._fieldIndex=new j.Z(re));const Q=(0,Z.pp)(se,null!=O?O.spatialReference:null,re,k).then(pe=>{const fe={scale:0};return(ce,q)=>{if(null==pe)return null;const le=pe.repurposeFeature({geometry:null,attributes:ce});return fe.scale=null!=q?q.scale??void 0:void 0,pe.evaluate({$feature:le,$view:fe},pe.services)}}).catch(pe=>(H.Z.getLogger(G).error("Creating dictinoary expression failed:",pe),null));return $._dictionaryPromise=Q,Q})()}_cimPartsToCIMSymbol(O,$,K,U){var X=this;return(0,E.Z)(function*(){const Y=new Array(O.length);for(let se=0;se<O.length;se++)Y[se]=X._getSymbolPart(O[se],U);const oe=yield Promise.all(Y),ne=X.fieldMap;if(ne)for(const se of oe)S(se,ne);return new I.Z({data:X._combineSymbolParts(oe,$,K)})})()}_getSymbolPart(O,$){var K=this;return(0,E.Z)(function*(){if(K._ongoingRequests.has(O))return K._ongoingRequests.get(O).then(Y=>Y.data);const U=K._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,O),X=(0,V.Z)(U,{responseType:"json",query:{f:"json"},...$});K._ongoingRequests.set(O,X);try{return(yield X).data}catch(Y){throw K._ongoingRequests.delete(O),Y}})()}_combineSymbolParts(O,$,K){if(!O||0===O.length)return null;const U={...O[0]};if(O.length>1){U.symbolLayers=[];for(const X of O)U.symbolLayers.unshift(...X.symbolLayers)}return K&&(U.callout=W),{type:"CIMSymbolReference",symbol:U,primitiveOverrides:$}}_getFieldName(O){if(null!==this._fieldIndex){const $=this._fieldIndex.get(O);return $?$.name:O}return O}}function S(L,O){if(!L)return;const $=L.symbolLayers;if(!$)return;let K=$.length;for(;K--;){const U=$[K];U&&!1!==U.enable&&"CIMVectorMarker"===U.type&&N(U,O)}}function N(L,O){const $=L.markerGraphics;if($)for(const K of $){if(!K)continue;const U=K.symbol;if(U)switch(U.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":S(U,O);break;case"CIMTextSymbol":U.fieldMap=O}}}},61197:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(66599),V=_(89317),x=_(80543),P=_(1535),F=(_(57678),_(14007),_(10141));let w=T=class extends V.wq{constructor(Z){super(Z),this.color=null,this.ratio=null}clone(){return new T({color:this.color,ratio:this.ratio})}};(0,E._)([(0,x.Cb)({type:M.Z,json:{type:[P.z8],default:null,write:!0}})],w.prototype,"color",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{write:!0}})],w.prototype,"ratio",void 0),w=T=(0,E._)([(0,F.j)("esri.renderers.support.HeatmapColorStop")],w);const j=w},37764:(Ze,me,_)=>{"use strict";_.d(me,{I:()=>T});var F,E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let T=F=class extends M.wq{constructor(){super(...arguments),this.title=null}clone(){return new F({title:this.title})}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],T.prototype,"title",void 0),T=F=(0,E._)([(0,B.j)("esri.renderers.support.LegendOptions")],T)},24147:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(47702);let w=T=class extends M.wq{constructor(Z){super(Z),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new T({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const Z=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${Z}`}};(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"description",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],w.prototype,"label",void 0),(0,E._)([(0,V.Cb)(F.EW)],w.prototype,"symbol",void 0),(0,E._)([(0,V.Cb)(F.GY)],w.prototype,"value",void 0),w=T=(0,E._)([(0,B.j)("esri.renderers.support.UniqueValueInfo")],w);const j=w},47702:(Ze,me,_)=>{"use strict";_.d(me,{EW:()=>F,GY:()=>w,Gn:()=>B,KK:()=>T});var E=_(71950),M=_(71763),V=_(50106),x=_(27399),P=_(85601),H=_(87137);const B={types:E.QT,json:{write:{writer:x.cW},origins:{"web-scene":{types:E.f_,write:{writer:x.cW},read:{reader:(0,V.d)({types:E.f_})}}}}},F=(0,M.RH)({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},B),T={types:{base:P.Z,key:"type",typeMap:{"simple-fill":E.LB.typeMap["simple-fill"],"picture-fill":E.LB.typeMap["picture-fill"],"polygon-3d":E.LB.typeMap["polygon-3d"]}},json:{write:{writer:x.cW},origins:{"web-scene":{type:H.Z,write:{writer:x.cW}}}}},w={cast:j=>null==j||"string"==typeof j||"number"==typeof j?j:`${j}`,json:{type:String,write:{writer:(j,Z)=>{Z.value=j?.toString()}}}}},96043:(Ze,me,_)=>{"use strict";_.d(me,{AJ:()=>B,If:()=>I,QM:()=>w,hy:()=>j,k0:()=>H,uI:()=>T,ul:()=>P,wx:()=>G});var E=_(55117),M=_(55768),V=_(70993),x=_(79516);const P=2.4;function H(A){return(0,M.Wz)(A*P)}function B(A){return(0,M.F2)(A)/P}function F(A,S,N,L){let{color:O,ratio:$}=S,{color:K,ratio:U}=N;U===$&&(1===U?$-=1e-6:U+=1e-6);const X=(0,E.uZ)((L-$)/(U-$),0,1);(0,V.l)(A,O.toArray(),K.toArray(),X)}function T(A){const N=new Uint8ClampedArray(2048);if((A=A.filter(({ratio:U})=>U>=0&&U<=1).sort((U,X)=>U.ratio-X.ratio).map(({color:U,ratio:X})=>({color:U,ratio:Math.max(X,.001)}))).length<1)return N;let L=A[0],O=A[0],$=1;const K=(0,x.c)();for(let U=0;U<512;U++){const X=(U+.5)/512;for(;X>O.ratio&&$<A.length;)L=O,O=A[$++];F(K,L,O,X),N.set(K,4*U)}return N}function w(A,S,N,L){const{radius:O,fieldOffset:$,field:K}=S,U=Math.round((0,M.F2)(O)),X=new Float64Array(N*L);let Y,oe=Number.NEGATIVE_INFINITY;const ne=function W(A,S){return null!=A?"string"==typeof S?N=>-1*+N.readAttribute(A):N=>+N.readAttribute(A)+S:N=>1}(K,$),se=new Set;for(const te of A){const k=te.getCursor();for(;k.next();){const re=k.getObjectId();if(se.has(re))continue;se.add(re);const Q=k.readLegacyPointGeometry(),pe=128;if(Q.x<-pe||Q.x>=N+pe||Q.y<-pe||Q.y>L+pe)continue;const fe=+ne(k),ce=Math.max(0,Math.round(Q.x)-U),q=Math.max(0,Math.round(Q.y)-U),le=Math.min(L,Math.round(Q.y)+U),ee=Math.min(N,Math.round(Q.x)+U);for(let ae=q;ae<le;ae++)for(let ue=ce;ue<ee;ue++){const ge=ae*N+ue,Ee=I(Q.x-ue,Q.y-ae,U);Y=X[ge]+=Ee*fe,Y>oe&&(oe=Y)}}}return{matrix:X.buffer,max:oe}}function j(A,S,N,L,O,$){A.canvas.width=A.canvas.height=S,A.clearRect(0,0,S,S);const K=A.getImageData(0,0,S,S);N&&L&&K.data.set(new Uint8ClampedArray(function Z(A,S,N,L,O){const $=new Uint32Array(A*A),K="buffer"in S?S:new Float64Array(S),U="buffer"in N?new Uint32Array(N.buffer):new Uint32Array(new Uint8Array(N).buffer),X=U.length/(O-L);for(let Y=0;Y<K.length;Y++){const ne=Math.floor((K[Y]-L)*X);$[Y]=U[(0,E.uZ)(ne,0,U.length-1)]}return $.buffer}(S,N,L,O,$))),A.putImageData(K,0,0)}function I(A,S,N){const L=Math.sqrt(A**2+S**2)/N;return L>1?0:3/(Math.PI*N**2)*(1-L**2)**2}function G(A,S){return"function"==typeof A?A:A?"string"==typeof S?N=>-1*+N[A]:N=>+N[A]+S:()=>1}},91963:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>H,i:()=>x});var E=_(23206),M=_(50106),V=_(41007);function x(B,F){return H(B,null,F)}const P=(0,M.d)({types:V.A});function H(B,F,T){return B?B&&(B.styleName||B.styleUrl)&&"uniqueValue"!==B.type?(T?.messages&&T.messages.push(new E.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+B.type+"'",{definition:B,context:T})),null):P(B,F,T):null}},44526:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>V});var E=_(49602),M=_(82301);const V={unknown:1,inches:(0,E.En)(1,"meters","inches"),feet:(0,E.En)(1,"meters","feet"),"us-feet":(0,E.En)(1,"meters","us-feet"),yards:(0,E.En)(1,"meters","yards"),miles:(0,E.En)(1,"meters","miles"),"nautical-miles":(0,E.En)(1,"meters","nautical-miles"),millimeters:(0,E.En)(1,"meters","millimeters"),centimeters:(0,E.En)(1,"meters","centimeters"),decimeters:(0,E.En)(1,"meters","decimeters"),meters:(0,E.En)(1,"meters","meters"),kilometers:(0,E.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,E.ty)(1,"meters",M.sv.radius)}},39262:(Ze,me,_)=>{"use strict";_.d(me,{y:()=>P});var E=_(15861),M=_(37636),V=_(79412),x=_(23206);function P(B,F,T){return H.apply(this,arguments)}function H(){return(H=(0,E.Z)(function*(B,F,T){const w=B&&B.getAtOrigin&&B.getAtOrigin("renderer",F.origin);if(w&&"unique-value"===w.type&&w.styleOrigin){const j=yield(0,M.q6)(w.populateFromStyle());if((0,V.k_)(T),!1===j.ok){const Z=j.error;F?.messages&&F.messages.push(new x.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${Z.message}`,{error:Z,context:F})),B.clear("renderer",F?.origin)}}})).apply(this,arguments)}},41007:(Ze,me,_)=>{"use strict";_.d(me,{A:()=>w,o:()=>j});var E=_(4703),M=_(36699),V=_(15212),x=_(53722),P=_(82752),H=_(28999),B=_(38748),F=_(50923),T=_(42212);const w={key:"type",base:B.Z,typeMap:{heatmap:P.Z,simple:F.Z,"unique-value":T.Z,"class-breaks":M.Z,"dot-density":x.Z,dictionary:V.Z,"pie-chart":H.Z},errorContext:"renderer"},j={key:"type",base:B.Z,typeMap:{simple:F.Z,"unique-value":T.Z,"class-breaks":M.Z,heatmap:P.Z},errorContext:"renderer",validate:function Z(A){switch(A.type){case"simple":return function I(A){if(A.symbol)return A;E.Z.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}(A);case"unique-value":return function G(A){const S=A.uniqueValueInfos,N=S?.filter(({symbol:L,label:O},$)=>(L||E.Z.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${$}] ${O}) without a symbol from web scene.`),!!L));return N?.length!==S?.length&&(A.uniqueValueInfos=N),A}(A);case"class-breaks":return function W(A){const S=A.classBreakInfos,N=S?.filter(({symbol:L,label:O},$)=>(L||E.Z.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${$}] ${O}) without a symbol from web scene.`),!!L));return N?.length!==S?.length&&(A.classBreakInfos=N),A}(A);case"heatmap":return A}}}},15242:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var w,E=_(50484),M=_(57964),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(7547),T=_(64234);let j=w=class extends T.Z{constructor(I){super(I),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(I,G,W,A){A?.messages&&A.messages.push(new M.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:A}))}clone(){return new w({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};(0,E._)([(0,V.Cb)({readOnly:!0})],j.prototype,"cache",null),(0,E._)([(0,V.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],j.prototype,"axis",void 0),(0,E._)([(0,V.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],j.prototype,"type",void 0),(0,E._)([(0,V.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],j.prototype,"rotationType",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],j.prototype,"valueExpressionTitle",void 0),(0,E._)([(0,F.c)("web-scene","valueExpressionTitle")],j.prototype,"writeValueExpressionTitleWebScene",null),j=w=(0,E._)([(0,B.j)("esri.renderers.visualVariables.RotationVariable")],j);const Z=j},39639:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>se});var S,E=_(50484),M=_(57964),V=_(84303),x=_(4703),P=_(55768),H=_(80543),B=_(73018),F=_(62185),T=_(10141),w=_(7547),j=_(64234),Z=_(44991),A=(_(1535),_(57678),_(14007),_(13737));let N=S=class extends A.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new S({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};(0,E._)([(0,H.Cb)({type:[Number],json:{write:!0}})],N.prototype,"customValues",void 0),N=S=(0,E._)([(0,T.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],N);const L=N;var K,O=_(50532),$=_(37157);const U=new V.X({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),X=new V.X({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function Y(te){if(null!=te)return"string"==typeof te||"number"==typeof te?(0,P.t_)(te):"size"===te.type?(0,O.iY)(te)?te:(delete(te={...te}).type,new ne(te)):void 0}function oe(te,k,re){if("object"!=typeof te)return te;const Q=new ne;return Q.read(te,re),Q}let ne=K=class extends j.Z{constructor(te){super(te),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&$.viewScaleRE.test(this.valueExpression)}}set expression(te){x.Z.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===te?(this.valueExpression="$view.scale",this._set("expression",te)):this._set("expression",null)}set index(te){(0,O.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${te}].maxSize`),(0,O.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${te}].minSize`),this._set("index",te)}get inputValueType(){return(0,O.PS)(this)}set maxDataValue(te){te&&this.stops&&(x.Z.getLogger(this).warn("cannot set maxDataValue when stops is not null."),te=null),this._set("maxDataValue",te)}set maxSize(te){te&&this.stops&&(x.Z.getLogger(this).warn("cannot set maxSize when stops is not null."),te=null),this._set("maxSize",te)}castMaxSize(te){return Y(te)}readMaxSize(te,k,re){return oe(te,0,re)}set minDataValue(te){te&&this.stops&&(x.Z.getLogger(this).warn("cannot set minDataValue when stops is not null."),te=null),this._set("minDataValue",te)}set minSize(te){te&&this.stops&&(x.Z.getLogger(this).warn("cannot set minSize when stops is not null."),te=null),this._set("minSize",te)}castMinSize(te){return Y(te)}readMinSize(te,k,re){return oe(te,0,re)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(te){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?te&&Array.isArray(te)&&(te=te.filter(k=>!!k)).sort((k,re)=>k.value-re.value):te&&(x.Z.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),te=null),this._set("stops",te)}get transformationType(){return(0,O.QW)(this,this.inputValueType)}readValueExpression(te,k){return te||k.expression&&"$view.scale"}writeValueExpressionWebScene(te,k,re,Q){if("$view.scale"===te){if(Q?.messages){const pe=this.index;Q.messages.push(new M.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof pe?pe:`visualVariables[${pe}]`)+".valueExpression",context:Q}))}}else k[re]=te}readValueUnit(te){return te?X.read(te):null}clone(){return new K({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,O.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,O.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(te=>te.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===O.hL.ClampedLinear){const{minSize:te,maxSize:k}=this;return this.minSize=k,this.maxSize=te,this}if(this.transformationType===O.hL.Stops){const te=this.stops;if(!te)return this;const k=te.map(Q=>Q.size).reverse(),re=te.length;for(let Q=0;Q<re;Q++)te[Q].size=k[Q];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(te=>te.value||0)}};(0,E._)([(0,H.Cb)({readOnly:!0})],ne.prototype,"cache",null),(0,E._)([(0,H.Cb)({type:U.apiValues,json:{type:U.jsonValues,origins:{"web-map":{read:!1}},read:U.read,write:U.write}})],ne.prototype,"axis",void 0),(0,E._)([(0,H.Cb)({type:String,value:null,json:{read:!1}})],ne.prototype,"expression",null),(0,E._)([(0,H.Cb)()],ne.prototype,"index",null),(0,E._)([(0,H.Cb)({type:String,readOnly:!0})],ne.prototype,"inputValueType",null),(0,E._)([(0,H.Cb)({type:L,json:{write:!0}})],ne.prototype,"legendOptions",void 0),(0,E._)([(0,H.Cb)({type:Number,value:null,json:{write:!0}})],ne.prototype,"maxDataValue",null),(0,E._)([(0,H.Cb)({type:Number,value:null,json:{write:!0}})],ne.prototype,"maxSize",null),(0,E._)([(0,B.p)("maxSize")],ne.prototype,"castMaxSize",null),(0,E._)([(0,F.r)("maxSize")],ne.prototype,"readMaxSize",null),(0,E._)([(0,H.Cb)({type:Number,value:null,json:{write:!0}})],ne.prototype,"minDataValue",null),(0,E._)([(0,H.Cb)({type:Number,value:null,json:{write:!0}})],ne.prototype,"minSize",null),(0,E._)([(0,B.p)("minSize")],ne.prototype,"castMinSize",null),(0,E._)([(0,F.r)("minSize")],ne.prototype,"readMinSize",null),(0,E._)([(0,H.Cb)({type:String,json:{write:!0}})],ne.prototype,"normalizationField",void 0),(0,E._)([(0,H.Cb)({readOnly:!0})],ne.prototype,"arcadeRequired",null),(0,E._)([(0,H.Cb)({type:String})],ne.prototype,"scaleBy",void 0),(0,E._)([(0,H.Cb)({type:[Z.Z],value:null,json:{write:!0}})],ne.prototype,"stops",null),(0,E._)([(0,H.Cb)({type:["outline"],json:{write:!0}})],ne.prototype,"target",void 0),(0,E._)([(0,H.Cb)({type:String,readOnly:!0})],ne.prototype,"transformationType",null),(0,E._)([(0,H.Cb)({type:["size"],json:{type:["sizeInfo"]}})],ne.prototype,"type",void 0),(0,E._)([(0,H.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],ne.prototype,"useSymbolValue",void 0),(0,E._)([(0,H.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpression",void 0),(0,E._)([(0,F.r)("valueExpression",["valueExpression","expression"])],ne.prototype,"readValueExpression",null),(0,E._)([(0,w.c)("web-scene","valueExpression")],ne.prototype,"writeValueExpressionWebScene",null),(0,E._)([(0,H.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],ne.prototype,"valueRepresentation",void 0),(0,E._)([(0,H.Cb)({type:X.apiValues,json:{write:X.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],ne.prototype,"valueUnit",void 0),(0,E._)([(0,F.r)("valueUnit")],ne.prototype,"readValueUnit",null),ne=K=(0,E._)([(0,T.j)("esri.renderers.visualVariables.SizeVariable")],ne);const se=ne},64234:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var E=_(50484),M=_(84303),V=_(89317),x=_(4703),P=_(80543),H=_(73018),B=_(10141),F=_(1535),T=_(13737);const w=new M.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let j=class extends V.wq{constructor(I){super(I),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(I){return null==I?I:"function"==typeof I?(x.Z.getLogger(this).error(".field: field must be a string value"),null):(0,F.Zs)(I)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,E._)([(0,P.Cb)()],j.prototype,"index",void 0),(0,E._)([(0,P.Cb)({type:w.apiValues,readOnly:!0,json:{read:w.read,write:w.write}})],j.prototype,"type",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],j.prototype,"field",void 0),(0,E._)([(0,H.p)("field")],j.prototype,"castField",null),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],j.prototype,"valueExpression",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],j.prototype,"valueExpressionTitle",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],j.prototype,"arcadeRequired",null),(0,E._)([(0,P.Cb)({type:T.Z,json:{write:!0}})],j.prototype,"legendOptions",void 0),j=(0,E._)([(0,B.j)("esri.renderers.visualVariables.VisualVariable")],j);const Z=j},11892:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var w,E=_(50484),M=_(66599),V=_(89317),x=_(80543),P=_(1535),F=(_(57678),_(14007),_(10141)),T=_(7547);let j=w=class extends V.wq{constructor(I){super(I),this.color=null,this.label=null,this.value=null}writeValue(I,G,W){G[W]=I??0}clone(){return new w({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,E._)([(0,x.Cb)({type:M.Z,json:{type:[P.z8],write:!0}})],j.prototype,"color",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],j.prototype,"label",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],j.prototype,"value",void 0),(0,E._)([(0,T.c)("value")],j.prototype,"writeValue",null),j=w=(0,E._)([(0,F.j)("esri.renderers.visualVariables.support.ColorStop")],j);const Z=j},44991:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(89317),V=_(55768),x=_(80543),F=(_(1535),_(57678),_(14007),_(10141));let w=T=class extends M.wq{constructor(Z){super(Z),this.label=null,this.size=null,this.value=null}clone(){return new T({label:this.label,size:this.size,value:this.value})}};(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],w.prototype,"label",void 0),(0,E._)([(0,x.Cb)({type:Number,cast:V.t_,json:{write:!0}})],w.prototype,"size",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{write:!0}})],w.prototype,"value",void 0),w=T=(0,E._)([(0,F.j)("esri.renderers.visualVariables.support.SizeStop")],w);const j=w},13737:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(37764);let T=F=class extends B.I{constructor(){super(...arguments),this.showLegend=null}clone(){return new F({title:this.title,showLegend:this.showLegend})}};(0,E._)([(0,M.Cb)({type:Boolean,json:{write:!0}})],T.prototype,"showLegend",void 0),T=F=(0,E._)([(0,H.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],T);const w=T},50532:(Ze,me,_)=>{"use strict";var E,M,B;function V(B){return B&&"esri.renderers.visualVariables.SizeVariable"===B.declaredClass}function x(B){return null!=B&&!isNaN(B)&&isFinite(B)}function P(B){return B.valueExpression?E.Expression:B.field&&"string"==typeof B.field?E.Field:E.Unknown}function H(B,F){return(F||P(B))===E.Unknown?M.Constant:B.stops?M.Stops:null!=B.minSize&&null!=B.maxSize&&null!=B.minDataValue&&null!=B.maxDataValue?M.ClampedLinear:"unknown"===(B.valueUnit||"unknown")?null!=B.minSize&&null!=B.minDataValue?B.minSize&&B.minDataValue?M.Proportional:M.Additive:M.Identity:M.RealWorldSize}_.d(me,{PS:()=>P,QW:()=>H,RY:()=>E,hL:()=>M,iY:()=>V,qh:()=>x}),(B=E||(E={})).Unknown="unknown",B.Expression="expression",B.Field="field",function(B){B.Unknown="unknown",B.Stops="stops",B.ClampedLinear="clamped-linear",B.Proportional="proportional",B.Additive="additive",B.Constant="constant",B.Identity="identity",B.RealWorldSize="real-world-size"}(M||(M={}))},37157:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{getAllSizes:()=>k,getColor:()=>j,getOpacity:()=>Z,getRotationAngle:()=>I,getSize:()=>A,getSizeForValue:()=>oe,getSizeFromNumberOrVariable:()=>S,getSizeRangeAtScale:()=>ne,getVisualVariableValues:()=>se,viewScaleRE:()=>w});var E=_(66599),M=_(35458),V=_(480),x=_(4703),P=_(44526),H=_(50532);const B=x.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),F=new M.Z,T=Math.PI,w=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function j(re,Q,pe){const fe="visualVariables"in re&&re.visualVariables?re.visualVariables.find(De=>"color"===De.type):re;if(!fe)return;if("esri.renderers.visualVariables.ColorVariable"!==fe.declaredClass)return void B.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const ce="number"==typeof Q,q=ce?null:Q,le=q?.attributes;let ee=ce?Q:null;const ae=fe.field,{ipData:ue,hasExpression:ge}=fe.cache;let Ee=fe.cache.compiledFunc;if(!ae&&!ge){const De=fe.stops;return De&&De[0]&&De[0].color}if("number"!=typeof ee)if(ge){if(null==pe?.arcade)return void B.error("Use of arcade expressions requires an arcade context");const Be=pe.arcade.arcadeUtils,we=Be.getViewInfo({viewingMode:pe.viewingMode,scale:pe.scale,spatialReference:pe.spatialReference}),Me=Be.createExecContext(q,we,pe.timeZone);if(!Ee){const He=Be.createSyntaxTree(fe.valueExpression);Ee=Be.createFunction(He),fe.cache.compiledFunc=Ee}ee=Be.executeFunction(Ee,Me)}else le&&(ee=le[ae]);const be=fe.normalizationField,ie=null!=le&&null!=be?parseFloat(le[be]):void 0;if(null!=ee&&(!be||ce||!isNaN(ie)&&0!==ie)){isNaN(ie)||ce||(ee/=ie);const De=te(ee,ue);if(De){const Be=De[0],we=De[1],Me=Be===we?fe.stops[Be].color:E.Z.blendColors(fe.stops[Be].color,fe.stops[we].color,De[2],pe?.color);return new E.Z(Me)}}}function Z(re,Q,pe){const fe="visualVariables"in re&&re.visualVariables?re.visualVariables.find(De=>"opacity"===De.type):re;if(!fe)return;if("esri.renderers.visualVariables.OpacityVariable"!==fe.declaredClass)return void B.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const ce="number"==typeof Q,q=ce?null:Q,le=q?.attributes;let ee=ce?Q:null;const ae=fe.field,{ipData:ue,hasExpression:ge}=fe.cache;let Ee=fe.cache.compiledFunc;if(!ae&&!ge){const De=fe.stops;return De&&De[0]&&De[0].opacity}if("number"!=typeof ee)if(ge){if(null==pe?.arcade)return void B.error("Use of arcade expressions requires an arcade context");const Be=pe.arcade.arcadeUtils,we=Be.getViewInfo({viewingMode:pe.viewingMode,scale:pe.scale,spatialReference:pe.spatialReference}),Me=Be.createExecContext(q,we,pe.timeZone);if(!Ee){const He=Be.createSyntaxTree(fe.valueExpression);Ee=Be.createFunction(He),fe.cache.compiledFunc=Ee}ee=Be.executeFunction(Ee,Me)}else le&&(ee=le[ae]);const be=fe.normalizationField,ie=null!=le&&null!=be?parseFloat(le[be]):void 0;if(null!=ee&&(!be||ce||!isNaN(ie)&&0!==ie)){isNaN(ie)||ce||(ee/=ie);const De=te(ee,ue);if(De){const Be=De[0],we=De[1];if(Be===we)return fe.stops[Be].opacity;{const Me=fe.stops[Be].opacity;return Me+(fe.stops[we].opacity-Me)*De[2]}}}}function I(re,Q,pe){const fe="visualVariables"in re&&re.visualVariables?re.visualVariables.find(ie=>"rotation"===ie.type):re;if(!fe)return;if("esri.renderers.visualVariables.RotationVariable"!==fe.declaredClass)return void B.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const ce=fe.axis||"heading",q="heading"===ce&&"arithmetic"===fe.rotationType?90:0,le="heading"===ce&&"arithmetic"===fe.rotationType?-1:1,ee="number"==typeof Q?null:Q,ae=ee?.attributes,ue=fe.field,{hasExpression:ge}=fe.cache;let Ee=fe.cache.compiledFunc,be=0;if(!ue&&!ge)return be;if(ge){if(null==pe?.arcade)return void B.error("Use of arcade expressions requires an arcade context");const De=pe.arcade.arcadeUtils,Be=De.getViewInfo({viewingMode:pe.viewingMode,scale:pe.scale,spatialReference:pe.spatialReference}),we=De.createExecContext(ee,Be,pe.timeZone);if(!Ee){const Me=De.createSyntaxTree(fe.valueExpression);Ee=De.createFunction(Me),fe.cache.compiledFunc=Ee}be=De.executeFunction(Ee,we)}else ae&&(be=ae[ue]||0);return be="number"!=typeof be||isNaN(be)?null:q+le*be,be}function A(re,Q,pe){const fe="visualVariables"in re&&re.visualVariables?re.visualVariables.find(q=>"size"===q.type):re;if(!fe)return;if("esri.renderers.visualVariables.SizeVariable"!==fe.declaredClass)return void B.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const ce=oe(function G(re,Q,pe){const fe="number"==typeof Q,ce=fe?null:Q,q=ce?.attributes;let le=fe?Q:null;const{isScaleDriven:ee}=re.cache;let ae=re.cache.compiledFunc;if(ee){const ge=pe?.scale,Ee=pe?.view;le=null==ge||"3d"===Ee?function W(re){let Q=null,pe=null;const fe=re.stops;return fe?(Q=fe[0].value,pe=fe[fe.length-1].value):(Q=re.minDataValue||0,pe=re.maxDataValue||0),(Q+pe)/2}(re):ge}else if(!fe)switch(re.inputValueType){case H.RY.Expression:{if(null==pe?.arcade)return void B.error("Use of arcade expressions requires an arcade context");const Ee=pe.arcade.arcadeUtils,be=Ee.getViewInfo({viewingMode:pe.viewingMode,scale:pe.scale,spatialReference:pe.spatialReference}),ie=Ee.createExecContext(ce,be,pe.timeZone);if(!ae){const De=Ee.createSyntaxTree(re.valueExpression);ae=Ee.createFunction(De),re.cache.compiledFunc=ae}le=Ee.executeFunction(ae,ie);break}case H.RY.Field:q&&(le=q[re.field]);break;case H.RY.Unknown:le=null}if(!(0,H.qh)(le))return null;if(fe||!re.normalizationField)return le;const ue=q?parseFloat(q[re.normalizationField]):null;return(0,H.qh)(ue)&&0!==ue?le/ue:null}(fe,Q,pe),fe,Q,pe,fe.cache.ipData);return null==ce||isNaN(ce)?0:ce}function S(re,Q,pe){return null==re?null:(0,H.iY)(re)?A(re,Q,pe):(0,H.qh)(re)?re:null}function N(re,Q,pe){return(0,H.qh)(pe)&&re>pe?pe:(0,H.qh)(Q)&&re<Q?Q:re}function oe(re,Q,pe,fe,ce){switch(Q.transformationType){case H.hL.Additive:return function L(re,Q,pe,fe){return re+((S(Q.minSize,pe,fe)||Q.minDataValue)??0)}(re,Q,pe,fe);case H.hL.Constant:return function O(re,Q,pe){const fe=re.stops;let ce=fe?.length&&fe[0].size;return null==ce&&(ce=re.minSize),S(ce,Q,pe)}(Q,pe,fe);case H.hL.ClampedLinear:return function $(re,Q,pe,fe){const ce=(re-Q.minDataValue)/(Q.maxDataValue-Q.minDataValue),q=S(Q.minSize,pe,fe),le=S(Q.maxSize,pe,fe),ee=fe?.shape;if(re<=Q.minDataValue)return q;if(re>=Q.maxDataValue)return le;if(null==q||null==le)return null;if("area"===Q.scaleBy&&ee){const ae="circle"===ee,ue=ae?T*(q/2)**2:q*q,ge=ue+ce*((ae?T*(le/2)**2:le*le)-ue);return ae?2*Math.sqrt(ge/T):Math.sqrt(ge)}return q+ce*(le-q)}(re,Q,pe,fe);case H.hL.Proportional:return function K(re,Q,pe,fe){const ce=fe?.shape,q=re/Q.minDataValue,le=S(Q.minSize,pe,fe),ee=S(Q.maxSize,pe,fe);let ae=null;return ae="circle"===ce?2*Math.sqrt(q*(le/2)**2):"square"===ce||"diamond"===ce||"image"===ce?Math.sqrt(q*le**2):q*le,N(ae,le,ee)}(re,Q,pe,fe);case H.hL.Stops:return function U(re,Q,pe,fe,ce){const[q,le,ee]=te(re,ce);if(q===le)return S(Q.stops?.[q].size,pe,fe);{const ae=S(Q.stops?.[q].size,pe,fe);return ae+(S(Q.stops?.[le].size,pe,fe)-ae)*ee}}(re,Q,pe,fe,ce);case H.hL.RealWorldSize:return function X(re,Q,pe,fe){const ce=(fe?.resolution??1)*P.a[Q.valueUnit],q=S(Q.minSize,pe,fe),le=S(Q.maxSize,pe,fe),{valueRepresentation:ee}=Q;let ae=null;return ae="area"===ee?2*Math.sqrt(re/T)/ce:"radius"===ee||"distance"===ee?2*re/ce:re/ce,N(ae,q,le)}(re,Q,pe,fe);case H.hL.Identity:return re;case H.hL.Unknown:return null}}function ne(re,Q,pe){const{isScaleDriven:fe}=re.cache;if(!(fe&&"3d"===pe||Q))return null;const ce={scale:Q,view:pe};let q=S(re.minSize,F,ce),le=S(re.maxSize,F,ce);if(null!=q||null!=le){if(q>le){const ee=le;le=q,q=ee}return{minSize:q,maxSize:le}}}function se(re,Q,pe){if(!re.visualVariables)return;const fe=[],ce=[],q=[],le=[],ee=[];for(const ae of re.visualVariables)switch(ae.type){case"color":ce.push(ae);break;case"opacity":q.push(ae);break;case"rotation":ee.push(ae);break;case"size":le.push(ae)}return ce.forEach(ae=>{const ue=j(ae,Q,pe);fe.push({variable:ae,value:ue})}),q.forEach(ae=>{const ue=Z(ae,Q,pe);fe.push({variable:ae,value:ue})}),ee.forEach(ae=>{const ue=I(ae,Q,pe);fe.push({variable:ae,value:ue})}),le.forEach(ae=>{const ue=A(ae,Q,pe);fe.push({variable:ae,value:ue})}),fe.filter(ae=>null!=ae.value)}function te(re,Q){if(!Q)return;let pe=0,fe=Q.length-1;return Q.some((ce,q)=>re<ce?(fe=q,!0):(pe=q,!1)),[pe,fe,(re-Q[pe])/(Q[fe]-Q[pe])]}function k(re,Q,pe){const fe=["proportional","proportional","proportional"];for(const ce of re){const q=ce.useSymbolValue?"symbol-value":A(ce,Q,pe);switch(ce.axis){case"width":fe[0]=q;break;case"depth":fe[1]=q;break;case"height":fe[2]=q;break;case"width-and-depth":fe[0]=q,fe[1]=q;break;case"all":case void 0:case null:fe[0]=q,fe[1]=q,fe[2]=q;break;default:(0,V.Bg)(ce.axis)}}return fe}},66476:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var E=_(15861),M=_(11931),V=_(26152),x=_(57964),P=_(14007),H=_(34222),B=_(79412),F=_(6785),T=_(71438),w=_(40907),j=_(33258);function Z(be,ie){return I.apply(this,arguments)}function I(){return I=(0,E.Z)(function*(be,ie){be instanceof URL&&(be=be.toString()),ie?.query instanceof URLSearchParams&&(ie.query=(0,F.u0)(ie.query.toString().replaceAll("+"," ")));const De=(0,F.HK)(be),Be=(0,F.jc)(be);Be||De||(be=(0,F.Fv)(be));const we={url:be,requestOptions:{...ie}};let Me=(0,F.oh)(be);if(Me){const J=yield function fe(be,ie){return ce.apply(this,arguments)}(Me,we);if(null!=J)return{data:J,getHeader:O,httpStatus:200,requestOptions:we.requestOptions,url:we.url};Me.after||Me.error||(Me=null)}if(be=we.url,"image"===(ie=we.requestOptions).responseType&&((0,P.Z)("host-webworker")||(0,P.Z)("host-node")))throw X("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),we);if("head"===ie.method){if(ie.body)throw X("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),we);if(De||Be)throw X("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),we)}if(yield function Y(){return oe.apply(this,arguments)}(),G)return G.execute(be,ie);const He=new AbortController;(0,B.fu)(ie,()=>He.abort());const xe={controller:He,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:Me,params:we,redoRequest:!1,useIdentity:W.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},Xe=yield function ee(be){return ae.apply(this,arguments)}(xe);return Me?.after?.(Xe),Xe}),I.apply(this,arguments)}let G;const W=M.default.request,A="FormData"in globalThis,S=new Set([499,498,403,401]),N=new Set(["COM_0056","COM_0057","SB_0008"]),L=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],O=()=>null,$=Symbol();function U(be){const ie=(0,F.P$)(be);return!ie||ie.endsWith(".arcgis.com")||Z._corsServers.includes(ie)||(0,F.kl)(ie)}function X(be,ie,De,Be){let we="Error";const Me={url:De.url,requestOptions:De.requestOptions,getHeader:O,ssl:!1};if(ie instanceof x.Z)return ie.details?(ie.details=(0,H.d9)(ie.details),ie.details.url=De.url,ie.details.requestOptions=De.requestOptions):ie.details=Me,ie;if(ie){const He=Be&&(J=>Be.headers.get(J)),xe=Be?.status,Xe=ie.message;Xe&&(we=Xe),He&&(Me.getHeader=He),Me.httpStatus=(null!=ie.httpCode?ie.httpCode:ie.code)||xe||0,Me.subCode=ie.subcode,Me.messageCode=ie.messageCode,Me.messages="string"==typeof ie.details?[ie.details]:ie.details,Me.raw=$ in ie?ie[$]:ie}return(0,B.D_)(ie)?(0,B.zE)():new x.Z(be,we,Me)}function oe(){return(oe=(0,E.Z)(function*(){(0,P.Z)("host-webworker")?G||(G=yield _.e(8836).then(_.bind(_,85085))):Z._abortableFetch||(Z._abortableFetch=globalThis.fetch.bind(globalThis))})).apply(this,arguments)}function ne(){return se.apply(this,arguments)}function se(){return(se=(0,E.Z)(function*(){V.id||(yield _.e(3893).then(_.bind(_,3893)))})).apply(this,arguments)}function k(){return(k=(0,E.Z)(function*(be){const ie=be.params.url,De=be.params.requestOptions,Be=be.controller.signal,we=De.body;let Me=null,He=null;if(A&&"HTMLFormElement"in globalThis&&(we instanceof FormData?Me=we:we instanceof HTMLFormElement&&(Me=new FormData(we))),"string"==typeof we&&(He=we),be.fetchOptions={cache:De.cacheBust&&!("polyfill"in Z._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:De.headers||{},method:"head"===De.method?"HEAD":"GET",mode:"cors",priority:W.priority,redirect:"follow",signal:Be},(Me||He)&&(be.fetchOptions.body=Me||He),"anonymous"===De.authMode&&(be.useIdentity=!1),be.hasToken=!!(/token=/i.test(ie)||De.query?.token||Me?.get("token")),!be.hasToken&&M.default.apiKey&&(0,w.r)(ie)&&(De.query||(De.query={}),De.query.token=M.default.apiKey,be.hasToken=!0),be.useIdentity&&!be.hasToken&&!be.credentialToken&&!re(ie)&&!(0,B.Hc)(Be)){let xe;"immediate"===De.authMode?(yield ne(),xe=yield V.id.getCredential(ie,{signal:Be}),be.credential=xe):"no-prompt"===De.authMode?(yield ne(),xe=yield V.id.getCredential(ie,{prompt:!1,signal:Be}).catch(()=>{}),be.credential=xe):V.id&&(xe=V.id.findCredential(ie)),xe&&(be.credentialToken=xe.token,be.useSSL=!!xe.ssl)}})).apply(this,arguments)}function re(be){return L.some(ie=>ie.test(be))}function Q(be){return pe.apply(this,arguments)}function pe(){return(pe=(0,E.Z)(function*(be){let ie=be.params.url;const De=be.params.requestOptions,Be=be.fetchOptions??{},we=(0,F.jc)(ie)||(0,F.HK)(ie),Me=De.responseType||"json",He=we?0:null!=De.timeout?De.timeout:W.timeout;let xe=!1;if(!we){be.useSSL&&(ie=(0,F.hO)(ie)),De.cacheBust&&"default"===Be.cache&&(ie=(0,F.ZN)(ie,"request.preventCache",Date.now()));let Ve={...De.query};be.credentialToken&&(Ve.token=be.credentialToken);let et=(0,F.B7)(Ve);(0,P.Z)("esri-url-encodes-apostrophe")&&(et=et.replaceAll("'","%27"));const Fe=ie.length+1+et.length;let Qe;xe="delete"===De.method||"post"===De.method||"put"===De.method||!!De.body||Fe>W.maxUrlLength;const Ne=De.useProxy||!!(0,F.ed)(ie);if(Ne){const ve=(0,F.b7)(ie);Qe=ve.path,!xe&&Qe.length+1+Fe>W.maxUrlLength&&(xe=!0),ve.query&&(Ve={...ve.query,...Ve})}if("HEAD"===Be.method&&(xe||Ne)){if(xe)throw X("request:invalid-parameters",Fe>W.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),be.params);if(Ne)throw X("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),be.params)}xe?(Be.method="delete"===De.method?"DELETE":"put"===De.method?"PUT":"POST",De.body?ie=(0,F.fl)(ie,Ve):(Be.body=(0,F.B7)(Ve),Be.headers||(Be.headers={}),Be.headers["Content-Type"]="application/x-www-form-urlencoded")):ie=(0,F.fl)(ie,Ve),Ne&&(be.useProxy=!0,ie=`${Qe}?${ie}`),Ve.token&&A&&Be.body instanceof FormData&&!(0,T.P)(ie)&&Be.body.set("token",Ve.token),De.hasOwnProperty("withCredentials")?be.withCredentials=De.withCredentials:(0,F.D6)(ie,(0,F.TI)())||((0,F.kl)(ie)||V.id&&V.id.findServerInfo(ie)?.webTierAuth)&&(be.withCredentials=!0),be.withCredentials&&(Be.credentials="include",(0,j.jH)(ie)&&(yield(0,j.jz)(xe?(0,F.fl)(ie,Ve):ie)))}let Xe,J,ye=0,Re=!1;He>0&&(ye=setTimeout(()=>{Re=!0,be.controller.abort()},He));try{if("native-request-init"===De.responseType)J=Be,J.url=ie;else if("image"!==De.responseType||"default"!==Be.cache||"GET"!==Be.method||xe||function q(be){if(be)for(const ie of Object.getOwnPropertyNames(be))if(be[ie])return!0;return!1}(De.headers)||!we&&!be.useProxy&&W.proxyUrl&&!U(ie)){if(Xe=yield Z._abortableFetch(ie,Be),be.useProxy||function K(be){const ie=(0,F.P$)(be);ie&&!Z._corsServers.includes(ie)&&Z._corsServers.push(ie)}(ie),"native"===De.responseType)J=Xe;else if("HEAD"!==Be.method)if(Xe.ok){switch(Me){case"array-buffer":J=yield Xe.arrayBuffer();break;case"blob":case"image":J=yield Xe.blob();break;default:J=yield Xe.text()}if(ye&&(clearTimeout(ye),ye=0),"json"===Me||"xml"===Me||"document"===Me)if(J)switch(Me){case"json":J=JSON.parse(J);break;case"xml":J=le(J,"application/xml");break;case"document":J=le(J,"text/html")}else J=null;if(J){if("array-buffer"===Me||"blob"===Me){const Ve=Xe.headers.get("Content-Type");if(Ve&&/application\/json|text\/plain/i.test(Ve)&&J["blob"===Me?"size":"byteLength"]<=750)try{const et=yield new Response(J).json();et.error&&(J=et)}catch{}}"image"===Me&&J instanceof Blob&&(J=yield Ee(URL.createObjectURL(J),be,!0))}}else{J=yield Xe.text();try{J=JSON.parse(J)}catch{}}}else J=yield Ee(ie,be)}catch(Ve){if("AbortError"===Ve.name)throw Re?(0,j.Tf)():(0,B.zE)("Request canceled");if(!(!Xe&&Ve instanceof TypeError&&W.proxyUrl)||De.body||"delete"===De.method||"head"===De.method||"post"===De.method||"put"===De.method||be.useProxy||U(ie))throw Ve;be.redoRequest=!0,(0,F.tD)({proxyUrl:W.proxyUrl,urlPrefix:(0,F.P$)(ie)??""})}finally{ye&&clearTimeout(ye)}return[Xe,J]})).apply(this,arguments)}function ce(){return(ce=(0,E.Z)(function*(be,ie){if(null!=be.responseData)return be.responseData;if(be.headers&&(ie.requestOptions.headers={...ie.requestOptions.headers,...be.headers}),be.query&&(ie.requestOptions.query={...ie.requestOptions.query,...be.query}),be.before){let De,Be;try{Be=yield be.before(ie)}catch(we){De=X("request:interceptor",we,ie)}if((Be instanceof Error||Be instanceof x.Z)&&(De=X("request:interceptor",Be,ie)),De)throw be.error&&be.error(De),De;return Be}})).apply(this,arguments)}function le(be,ie){let De;try{De=(new DOMParser).parseFromString(be,ie)}catch{}if(!De||De.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return De}function ae(){return ae=(0,E.Z)(function*(be){let ie,De;yield function te(be){return k.apply(this,arguments)}(be);try{do{[ie,De]=yield Q(be)}while(!(yield ue(be,ie,De)))}catch(Me){const He=X("request:server",Me,be.params,ie);throw He.details.ssl=be.useSSL,be.interceptor?.error&&be.interceptor.error(He),He}const Be=be.params.url;if(De&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Be)){if(!be.hasToken&&!be.credentialToken&&De.user?.username&&!(0,F.kl)(Be)){const Me=(0,F.P$)(Be,!0);Me&&W.trustedServers.push(Me)}Array.isArray(De.authorizedCrossOriginNoCorsDomains)&&(0,j.Hu)(De.authorizedCrossOriginNoCorsDomains)}const we=be.credential;if(we&&V.id){let He=V.id.findServerInfo(we.server)?.owningSystemUrl;if(He){He=He.replace(/\/?$/,"/sharing");const xe=V.id.findCredential(He,we.userId);xe&&-1===V.id._getIdenticalSvcIdx(He,xe)&&xe.resources.unshift(He)}}return{data:De,getHeader:ie?Me=>ie?.headers.get(Me):O,httpStatus:ie?.status??200,requestOptions:be.params.requestOptions,ssl:be.useSSL,url:be.params.url}}),ae.apply(this,arguments)}function ue(be,ie,De){return ge.apply(this,arguments)}function ge(){return(ge=(0,E.Z)(function*(be,ie,De){if(be.redoRequest)return be.redoRequest=!1,!1;const Be=be.params.requestOptions;if(!ie||"native"===Be.responseType||"native-request-init"===Be.responseType)return!0;let we,Me;if(De&&(De.error?we=De.error:"error"===De.status&&Array.isArray(De.messages)&&(we={...De},we[$]=De,we.details=De.messages)),!we&&!ie.ok)throw we=new Error(`Unable to load ${ie.url} status: ${ie.status}`),we[$]=De,we;let He,xe=null;we&&(Me=Number(we.code),xe=we.hasOwnProperty("subcode")?Number(we.subcode):null,He=we.messageCode,He=He?.toUpperCase());const Xe=Be.authMode;if(403===Me&&(4===xe||we.message?.toLowerCase().includes("ssl")&&!we.message.toLowerCase().includes("permission"))){if(!be.useSSL)return be.useSSL=!0,!1}else if(!be.hasToken&&be.useIdentity&&("no-prompt"!==Xe||498===Me)&&void 0!==Me&&S.has(Me)&&!re(be.params.url)&&(403!==Me||(!He||!N.has(He))&&(null==xe||2===xe&&be.credentialToken))){yield ne();try{const J=yield V.id.getCredential(be.params.url,{error:X("request:server",we,be.params),prompt:"no-prompt"!==Xe,signal:be.controller.signal,token:be.credentialToken});return be.credential=J,be.credentialToken=J.token,be.useSSL=be.useSSL||J.ssl,!1}catch(J){if("no-prompt"===Xe)return be.credential=void 0,be.credentialToken=void 0,!1;we=J}}if(we)throw we;return!0})).apply(this,arguments)}function Ee(be,ie,De=!1){const Be=ie.controller.signal,we=new Image;return we.crossOrigin=ie.withCredentials?"use-credentials":"anonymous",we.alt="",we.fetchPriority=W.priority,we.src=be,(0,j.fY)(we,be,De,Be)}Z._abortableFetch=null,Z._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},22497:(Ze,me,_)=>{"use strict";_.d(me,{i:()=>T});var E=_(15861),M=_(66476),V=_(1535),x=_(40637),P=_(15462),H=_(60323),B=_(93305);const F=(0,V.se)(B.Z);function T(j,Z,I){return w.apply(this,arguments)}function w(){return(w=(0,E.Z)(function*(j,Z,I){Z=F(Z);const G=(0,P.en)(j),W={...G.query,f:"json",...Z.toJSON()},A=Z.outSpatialReference,S=(0,x.Ji)(Z.geometries[0]),N=(0,P.lA)(W,I);return(0,M.Z)(G.path+"/project",N).then(({data:{geometries:L}})=>(0,H.o)(L,S,A))})).apply(this,arguments)}},60323:(Ze,me,_)=>{"use strict";_.d(me,{F:()=>M,o:()=>V});var E=_(40637);function M(x){return{geometryType:(0,E.Ji)(x[0]),geometries:x.map(P=>P.toJSON())}}function V(x,P,H){const B=(0,E.q9)(P);return x.map(F=>{const T=B.fromJSON(F);return T.spatialReference=H,T})}},27321:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w),this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],F.prototype,"assetGroupCode",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],F.prototype,"assetTypeCode",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],F.prototype,"globalId",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],F.prototype,"networkSourceId",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],F.prototype,"objectId",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],F.prototype,"positionFrom",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],F.prototype,"positionTo",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],F.prototype,"terminalId",void 0),F=(0,E._)([(0,B.j)("esri.rest.networks.support.NetworkElement")],F);const T=F},80020:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>S});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(12628),T=_(5391),w=_(64222);let j=class extends M.wq{constructor(N){super(N),this.line=null,this.multipoint=null,this.polygon=null}};(0,E._)([(0,V.Cb)({type:w.Z,json:{write:!0},readOnly:!0})],j.prototype,"line",void 0),(0,E._)([(0,V.Cb)({type:F.Z,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],j.prototype,"multipoint",void 0),(0,E._)([(0,V.Cb)({type:T.Z,json:{write:!0},readOnly:!0})],j.prototype,"polygon",void 0),j=(0,E._)([(0,B.j)("esri.rest.networks.support.AggregatedGeometry")],j);const Z=j;let I=class extends M.wq{constructor(N){super(N),this.functionType=null,this.networkAttributeName=null,this.result=null}};(0,E._)([(0,V.Cb)({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],I.prototype,"functionType",void 0),(0,E._)([(0,V.Cb)({type:String,json:{write:!0},readOnly:!0})],I.prototype,"networkAttributeName",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0},readOnly:!0})],I.prototype,"result",void 0),I=(0,E._)([(0,B.j)("esri.rest.networks.support.FunctionResult")],I);const G=I;var W=_(27321);let A=class extends M.wq{constructor(N){super(N),this.aggregatedGeometry=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.startingPointsIgnored=!1,this.warnings=null}};(0,E._)([(0,V.Cb)({type:Z,json:{write:!0},readOnly:!0})],A.prototype,"aggregatedGeometry",void 0),(0,E._)([(0,V.Cb)({type:[W.Z],json:{write:!0},readOnly:!0})],A.prototype,"elements",void 0),(0,E._)([(0,V.Cb)({type:[G],json:{write:!0},readOnly:!0})],A.prototype,"globalFunctionResults",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:!0},readOnly:!0})],A.prototype,"kFeaturesForKNNFound",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:!0},readOnly:!0})],A.prototype,"startingPointsIgnored",void 0),(0,E._)([(0,V.Cb)({type:[String],json:{write:!0},readOnly:!0})],A.prototype,"warnings",void 0),A=(0,E._)([(0,B.j)("esri.rest.networks.support.TraceResult")],A);const S=A},41997:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.dirtyAreaCount=null,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};(0,E._)([(0,V.Cb)({type:Date,json:{type:Number,write:{writer:(w,j)=>{j.moment=w?w.getTime():null}}}})],F.prototype,"moment",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"fullUpdate",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"validateErrorsCreated",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],F.prototype,"dirtyAreaCount",void 0),(0,E._)([(0,V.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"exceededTransferLimit",void 0),(0,E._)([(0,V.Cb)({type:[Object],json:{write:!0}})],F.prototype,"serviceEdits",void 0),(0,E._)([(0,V.Cb)({type:[Object],json:{write:!0}})],F.prototype,"discoveredSubnetworks",void 0),F=(0,E._)([(0,B.j)("esri.rest.networks.support.ValidateNetworkTopologyResult")],F);const T=F},18101:(Ze,me,_)=>{"use strict";_.d(me,{P:()=>x});var E=_(49602),M=_(33721);function V(B,F,T){if(null==B.hasM||B.hasZ)for(const w of F)for(const j of w)j.length>2&&(j[2]*=T)}function x(B,F,T){if(!B&&!F||!T)return;const w=(0,E._R)(T);P(B,T,w),P(F,T,w)}function P(B,F,T){if(B)for(const w of B)H(w.geometry,F,T)}function H(B,F,T){if(!B?.spatialReference||(0,M.fS)(B.spatialReference,F))return;const w=(0,E._R)(B.spatialReference)/T;if(1!==w)if("x"in B)null!=B.z&&(B.z*=w);else if("rings"in B)V(B,B.rings,w);else if("paths"in B)V(B,B.paths,w);else if("points"in B&&(null==B.hasM||B.hasZ))for(const j of B.points)j.length>2&&(j[2]*=w)}},8295:(Ze,me,_)=>{"use strict";_.d(me,{p:()=>M});var E=_(53456);function M(V,x,P){if(!P?.features||!P.hasZ)return;const H=(0,E.k)(P.geometryType,x,V.outSpatialReference);if(null!=H)for(const B of P.features)H(B.geometry)}},93618:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(66599),V=_(34222),x=_(80543),P=_(1535),H=_(21070),B=_(10141),F=_(85241);let w=T=class extends F.Z{constructor(Z){super(Z),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new T({fromColor:(0,V.d9)(this.fromColor),toColor:(0,V.d9)(this.toColor),algorithm:this.algorithm})}};(0,E._)([(0,H.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],w.prototype,"algorithm",void 0),(0,E._)([(0,x.Cb)({type:M.Z,json:{type:[P.z8],write:!0}})],w.prototype,"fromColor",void 0),(0,E._)([(0,x.Cb)({type:M.Z,json:{type:[P.z8],write:!0}})],w.prototype,"toColor",void 0),(0,E._)([(0,x.Cb)({type:["algorithmic"]})],w.prototype,"type",void 0),w=T=(0,E._)([(0,B.j)("esri.rest.support.AlgorithmicColorRamp")],w);const j=w},12768:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(89317),V=_(34222),x=_(80543),P=_(1535),H=_(10141),B=_(7547);let T=F=class extends M.wq{constructor(j){super(j),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(j,Z){Z.resultOffset=this.start,Z.resultRecordCount=this.num||10}clone(){return new F((0,V.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,E._)([(0,x.Cb)({type:[String],json:{write:!0}})],T.prototype,"attachmentTypes",void 0),(0,E._)([(0,x.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],T.prototype,"attachmentsWhere",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{write:!0}})],T.prototype,"cacheHint",void 0),(0,E._)([(0,x.Cb)({type:[String],json:{write:!0}})],T.prototype,"keywords",void 0),(0,E._)([(0,x.Cb)({type:[Number],json:{write:!0}})],T.prototype,"globalIds",void 0),(0,E._)([(0,x.Cb)({json:{write:!0}})],T.prototype,"name",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0),(0,E._)([(0,x.Cb)({type:[Number],json:{write:!0}})],T.prototype,"objectIds",void 0),(0,E._)([(0,x.Cb)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnMetadata",void 0),(0,E._)([(0,x.Cb)({type:[Number],json:{write:!0}})],T.prototype,"size",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],T.prototype,"start",void 0),(0,E._)([(0,B.c)("start"),(0,B.c)("num")],T.prototype,"writeStart",null),(0,E._)([(0,x.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],T.prototype,"where",void 0),T=F=(0,E._)([(0,H.j)("esri.rest.support.AttachmentQuery")],T),T.from=(0,P.se)(T);const w=T},85241:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w),this.type=null}};(0,E._)([(0,V.Cb)({readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=(0,E._)([(0,B.j)("esri.rest.support.ColorRamp")],F);const T=F},93792:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>N});var W,E=_(50484),M=_(2189),V=_(35458),x=_(84303),P=_(89317),H=_(34222),B=_(80543),T=(_(1535),_(62185)),w=_(10141),j=_(7547),Z=_(43814),I=_(40637),G=_(81247);const A=new x.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let S=W=class extends P.wq{constructor(L){super(L),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(L,O){const $=Z.Z.fromJSON(O.spatialReference),K=[];for(let U=0;U<L.length;U++){const X=L[U],Y=V.Z.fromJSON(X),oe=X.geometry?.spatialReference;null==Y.geometry||oe||(Y.geometry.spatialReference=$);const ne=X.aggregateGeometries,se=Y.aggregateGeometries;if(ne&&null!=se)for(const te in se){const k=se[te],re=ne[te],Q=re?.spatialReference;null==k||Q||(k.spatialReference=$)}K.push(Y)}return K}writeGeometryType(L,O,$,K){if(L)return void A.write(L,O,$,K);const{features:U}=this;if(U)for(const X of U)if(null!=X?.geometry)return void A.write(X.geometry.type,O,$,K)}readQueryGeometry(L,O){if(!L)return null;const $=!!L.spatialReference,K=(0,I.im)(L);return K&&!$&&O.spatialReference&&(K.spatialReference=Z.Z.fromJSON(O.spatialReference)),K}writeSpatialReference(L,O){if(L)return void(O.spatialReference=L.toJSON());const{features:$}=this;if($)for(const K of $)if(K&&null!=K.geometry&&K.geometry.spatialReference)return void(O.spatialReference=K.geometry.spatialReference.toJSON())}clone(){return new W(this.cloneProperties())}cloneProperties(){return(0,H.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(L){const O=this.write();if(O.features&&Array.isArray(L)&&L.length>0)for(let $=0;$<O.features.length;$++){const K=O.features[$];if(K.geometry){const U=L?.[$];K.geometry=U?.toJSON()||K.geometry}}return O}quantize(L){const{scale:[O,$],translate:[K,U]}=L,oe=this.features,ne=this._getQuantizationFunction(this.geometryType,se=>Math.round((se-K)/O),se=>Math.round((U-se)/$));for(let se=0,te=oe.length;se<te;se++)ne?.(oe[se].geometry)||(oe.splice(se,1),se--,te--);return this.transform=L,this}unquantize(){const{geometryType:L,features:O,transform:$}=this;if(!$)return this;const{translate:[K,U],scale:[X,Y]}=$;let se=null,te=null;if(this.hasZ&&null!=$?.scale?.[2]){const{translate:[,,re],scale:[,,Q]}=$;se=pe=>pe*Q+re}if(this.hasM&&null!=$?.scale?.[3]){const{translate:[,,,re],scale:[,,,Q]}=$;te=pe=>null==pe?pe:pe*Q+re}const k=this._getHydrationFunction(L,re=>re*X+K,re=>U-re*Y,se,te);for(const{geometry:re}of O)null!=re&&k&&k(re);return this.transform=null,this}_quantizePoints(L,O,$){let K,U;const X=[];for(let Y=0,oe=L.length;Y<oe;Y++){const ne=L[Y];if(Y>0){const se=O(ne[0]),te=$(ne[1]);se===K&&te===U||(X.push([se-K,te-U]),K=se,U=te)}else K=O(ne[0]),U=$(ne[1]),X.push([K,U])}return X.length>0?X:null}_getQuantizationFunction(L,O,$){return"point"===L?K=>(K.x=O(K.x),K.y=$(K.y),K):"polyline"===L||"polygon"===L?K=>{const U=(0,I.oU)(K)?K.rings:K.paths,X=[];for(let Y=0,oe=U.length;Y<oe;Y++){const se=this._quantizePoints(U[Y],O,$);se&&X.push(se)}return X.length>0?((0,I.oU)(K)?K.rings=X:K.paths=X,K):null}:"multipoint"===L?K=>{const U=this._quantizePoints(K.points,O,$);return U&&U.length>0?(K.points=U,K):null}:"extent"===L?K=>K:null}_getHydrationFunction(L,O,$,K,U){return"point"===L?X=>{X.x=O(X.x),X.y=$(X.y),K&&(X.z=K(X.z))}:"polyline"===L||"polygon"===L?X=>{const Y=(0,I.oU)(X)?X.rings:X.paths;let oe,ne;for(let se=0,te=Y.length;se<te;se++){const k=Y[se];for(let re=0,Q=k.length;re<Q;re++){const pe=k[re];re>0?(oe+=pe[0],ne+=pe[1]):(oe=pe[0],ne=pe[1]),pe[0]=O(oe),pe[1]=$(ne)}}if(K&&U)for(let se=0,te=Y.length;se<te;se++){const k=Y[se];for(let re=0,Q=k.length;re<Q;re++){const pe=k[re];pe[2]=K(pe[2]),pe[3]=U(pe[3])}}else if(K)for(let se=0,te=Y.length;se<te;se++){const k=Y[se];for(let re=0,Q=k.length;re<Q;re++){const pe=k[re];pe[2]=K(pe[2])}}else if(U)for(let se=0,te=Y.length;se<te;se++){const k=Y[se];for(let re=0,Q=k.length;re<Q;re++){const pe=k[re];pe[2]=U(pe[2])}}}:"extent"===L?X=>{X.xmin=O(X.xmin),X.ymin=$(X.ymin),X.xmax=O(X.xmax),X.ymax=$(X.ymax),K&&null!=X.zmax&&null!=X.zmin&&(X.zmax=K(X.zmax),X.zmin=K(X.zmin)),U&&null!=X.mmax&&null!=X.mmin&&(X.mmax=U(X.mmax),X.mmin=U(X.mmin))}:"multipoint"===L?X=>{const Y=X.points;let oe,ne;for(let se=0,te=Y.length;se<te;se++){const k=Y[se];se>0?(oe+=k[0],ne+=k[1]):(oe=k[0],ne=k[1]),k[0]=O(oe),k[1]=$(ne)}if(K&&U)for(let se=0,te=Y.length;se<te;se++){const k=Y[se];k[2]=K(k[2]),k[3]=U(k[3])}else if(K)for(let se=0,te=Y.length;se<te;se++){const k=Y[se];k[2]=K(k[2])}else if(U)for(let se=0,te=Y.length;se<te;se++){const k=Y[se];k[2]=U(k[2])}}:null}};(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],S.prototype,"displayFieldName",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:L=>({enabled:L})}}})],S.prototype,"exceededTransferLimit",void 0),(0,E._)([(0,B.Cb)({type:[V.Z],json:{write:!0}})],S.prototype,"features",void 0),(0,E._)([(0,T.r)("features")],S.prototype,"readFeatures",null),(0,E._)([(0,B.Cb)({type:[G.Z],json:{write:!0}})],S.prototype,"fields",void 0),(0,E._)([(0,B.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:A.read}}})],S.prototype,"geometryType",void 0),(0,E._)([(0,j.c)("geometryType")],S.prototype,"writeGeometryType",null),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:L=>({enabled:L})}}})],S.prototype,"hasM",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:L=>({enabled:L})}}})],S.prototype,"hasZ",void 0),(0,E._)([(0,B.Cb)({types:M.qM,json:{write:!0}})],S.prototype,"queryGeometry",void 0),(0,E._)([(0,T.r)("queryGeometry")],S.prototype,"readQueryGeometry",null),(0,E._)([(0,B.Cb)({type:Z.Z,json:{write:!0}})],S.prototype,"spatialReference",void 0),(0,E._)([(0,j.c)("spatialReference")],S.prototype,"writeSpatialReference",null),(0,E._)([(0,B.Cb)({json:{write:!0}})],S.prototype,"transform",void 0),S=W=(0,E._)([(0,w.j)("esri.rest.support.FeatureSet")],S),S.prototype.toJSON.isDefaultToJSON=!0;const N=S},68020:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(34222),V=_(80543),P=(_(1535),_(10141)),H=_(93618),B=_(85241);let T=F=class extends B.Z{constructor(j){super(j),this.colorRamps=null,this.type="multipart"}clone(){return new F({colorRamps:(0,M.d9)(this.colorRamps)})}};(0,E._)([(0,V.Cb)({type:[H.Z],json:{write:!0}})],T.prototype,"colorRamps",void 0),(0,E._)([(0,V.Cb)({type:["multipart"]})],T.prototype,"type",void 0),T=F=(0,E._)([(0,P.j)("esri.rest.support.MultipartColorRamp")],T);const w=T},93305:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(40637),T=_(33721);let w=class extends M.wq{constructor(Z){super(Z),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const Z=this.geometries.map(W=>W.toJSON()),I=this.geometries[0],G={};return G.outSR=(0,T.B9)(this.outSpatialReference),G.inSR=(0,T.B9)(I.spatialReference),G.geometries=JSON.stringify({geometryType:(0,F.Ji)(I),geometries:Z}),this.transformation&&(G.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(G.transformForward=this.transformForward),G}};(0,E._)([(0,V.Cb)()],w.prototype,"geometries",void 0),(0,E._)([(0,V.Cb)({json:{read:{source:"outSR"}}})],w.prototype,"outSpatialReference",void 0),(0,E._)([(0,V.Cb)()],w.prototype,"transformation",void 0),(0,E._)([(0,V.Cb)()],w.prototype,"transformForward",void 0),w=(0,E._)([(0,B.j)("esri.rest.support.ProjectParameters")],w);const j=w},31886:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var w,E=_(50484),V=(_(2189),_(84303)),x=_(89317),P=_(34222),H=_(80543),F=(_(1535),_(10141)),T=_(26894);const j=new V.X({upperLeft:"upper-left",lowerLeft:"lower-left"});let Z=w=class extends x.wq{constructor(G){super(G),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new w((0,P.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,E._)([(0,H.Cb)({type:T.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Z.prototype,"extent",void 0),(0,E._)([(0,H.Cb)({type:["view","edit"],json:{write:!0}})],Z.prototype,"mode",void 0),(0,E._)([(0,H.Cb)({type:String,json:{read:j.read,write:j.write}})],Z.prototype,"originPosition",void 0),(0,E._)([(0,H.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Z.prototype,"tolerance",void 0),Z=w=(0,E._)([(0,F.j)("esri.rest.support.QuantizationParameters")],Z);const I=Z},91866:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>se});var E=_(50484),M=_(2189),V=_(34411),x=_(84303),P=_(89317),H=_(34222),B=_(80543),F=_(73018),T=_(21070),w=_(10141),j=_(7547),Z=_(1535),I=_(40637),G=_(46054),W=_(25387);_(57678),_(14007);let N=class extends((0,W.J)(P.wq)){constructor(te){super(te),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,E._)([(0,B.Cb)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],N.prototype,"onFields",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],N.prototype,"operator",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],N.prototype,"searchTerm",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],N.prototype,"searchType",void 0),N=(0,E._)([(0,w.j)("esri.rest.support.FullTextSearch")],N);const L=N;var X,O=_(31886),$=_(91085),K=_(43814),U=_(85039);const Y=new x.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),oe=new x.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ne=X=class extends P.wq{static from(te){return(0,Z.TJ)(X,te)}constructor(te){super(te),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(te){return"number"==typeof te||"object"==typeof te?te:null}writeHistoricMoment(te,k){k.historicMoment=te&&te.getTime()}writeParameterValues(te,k){if(te){const re={};for(const Q in te){const pe=te[Q];re[Q]=Array.isArray(pe)?pe.map(fe=>fe instanceof Date?fe.getTime():fe):pe instanceof Date?pe.getTime():pe}k.parameterValues=re}}writeStart(te,k){k.resultOffset=this.start,k.resultRecordCount=this.num||10,k.where="1=1"}writeWhere(te,k){k.where=te||"1=1"}clone(){return new X((0,H.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};ne.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,E._)([(0,B.Cb)({json:{write:!0}})],ne.prototype,"aggregateIds",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ne.prototype,"cacheHint",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ne.prototype,"compactGeometryEnabled",void 0),(0,E._)([(0,B.Cb)({json:{write:!0}})],ne.prototype,"datumTransformation",void 0),(0,E._)([(0,F.p)("datumTransformation")],ne.prototype,"castDatumTransformation",null),(0,E._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ne.prototype,"defaultSpatialReferenceEnabled",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy:te=>({enabled:te>0})}}})],ne.prototype,"distance",void 0),(0,E._)([(0,B.Cb)({type:G.n,json:{write:!0}})],ne.prototype,"dynamicDataSource",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"formatOf3DObjects",void 0),(0,E._)([(0,B.Cb)({type:[L],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],ne.prototype,"fullText",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"gdbVersion",void 0),(0,E._)([(0,B.Cb)({types:M.qM,json:{read:I.im,write:!0}})],ne.prototype,"geometry",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{write:!0}})],ne.prototype,"geometryPrecision",void 0),(0,E._)([(0,B.Cb)({type:[String],json:{write:!0}})],ne.prototype,"groupByFieldsForStatistics",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"having",void 0),(0,E._)([(0,B.Cb)({type:Date})],ne.prototype,"historicMoment",void 0),(0,E._)([(0,j.c)("historicMoment")],ne.prototype,"writeHistoricMoment",null),(0,E._)([(0,B.Cb)({type:Number,json:{write:!0}})],ne.prototype,"maxAllowableOffset",void 0),(0,E._)([(0,B.Cb)({type:Number,cast:te=>te<1?1:te>ne.MAX_MAX_RECORD_COUNT_FACTOR?ne.MAX_MAX_RECORD_COUNT_FACTOR:te,json:{write:{overridePolicy:te=>({enabled:te>1})}}})],ne.prototype,"maxRecordCountFactor",void 0),(0,E._)([(0,B.Cb)({type:["xyFootprint"],json:{write:!0}})],ne.prototype,"multipatchOption",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],ne.prototype,"num",void 0),(0,E._)([(0,B.Cb)({json:{write:!0}})],ne.prototype,"objectIds",void 0),(0,E._)([(0,B.Cb)({type:[String],json:{write:!0}})],ne.prototype,"orderByFields",void 0),(0,E._)([(0,B.Cb)({type:[String],json:{write:!0}})],ne.prototype,"outFields",void 0),(0,E._)([(0,B.Cb)({type:K.Z,json:{name:"outSR",write:!0}})],ne.prototype,"outSpatialReference",void 0),(0,E._)([(0,B.Cb)({type:[$.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],ne.prototype,"outStatistics",void 0),(0,E._)([(0,B.Cb)({json:{write:!0}})],ne.prototype,"parameterValues",void 0),(0,E._)([(0,j.c)("parameterValues")],ne.prototype,"writeParameterValues",null),(0,E._)([(0,B.Cb)({type:U.Z,json:{write:!0}})],ne.prototype,"pixelSize",void 0),(0,E._)([(0,B.Cb)({type:O.Z,json:{write:!0}})],ne.prototype,"quantizationParameters",void 0),(0,E._)([(0,B.Cb)({type:[Object],json:{write:!0}})],ne.prototype,"rangeValues",void 0),(0,E._)([(0,B.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],ne.prototype,"relationParameter",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"resultType",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ne.prototype,"returnCentroid",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ne.prototype,"returnDistinctValues",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{default:!0,write:!0}})],ne.prototype,"returnExceededLimitFeatures",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ne.prototype,"returnGeometry",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ne.prototype,"returnQueryGeometry",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ne.prototype,"returnM",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:te=>({enabled:te})}}})],ne.prototype,"returnZ",void 0),(0,E._)([(0,B.Cb)({type:K.Z,json:{write:!0}})],ne.prototype,"sourceSpatialReference",void 0),(0,E._)([(0,T.J)(Y,{ignoreUnknown:!1,name:"spatialRel"})],ne.prototype,"spatialRelationship",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],ne.prototype,"start",void 0),(0,E._)([(0,j.c)("start"),(0,j.c)("num")],ne.prototype,"writeStart",null),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"sqlFormat",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],ne.prototype,"text",void 0),(0,E._)([(0,B.Cb)({type:V.Z,json:{write:!0}})],ne.prototype,"timeExtent",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ne.prototype,"timeReferenceUnknownClient",void 0),(0,E._)([(0,T.J)(oe,{ignoreUnknown:!1}),(0,B.Cb)({json:{write:{overridePolicy(te){return{enabled:!!te&&null!=this.distance&&this.distance>0}}}}})],ne.prototype,"units",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:{overridePolicy(te){return{enabled:null!=te||null!=this.start&&this.start>0}}}}})],ne.prototype,"where",void 0),(0,E._)([(0,j.c)("where")],ne.prototype,"writeWhere",null),ne=X=(0,E._)([(0,w.j)("esri.rest.support.Query")],ne);const se=ne},46556:(Ze,me,_)=>{"use strict";_.r(me),_.d(me,{default:()=>I});var j,E=_(50484),V=(_(2189),_(89317)),x=_(34222),P=_(80543),H=_(1535),B=_(10141),F=_(7547),T=_(46054),w=_(43814);let Z=j=class extends V.wq{constructor(G){super(G),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(G,W){W.historicMoment=G&&G.getTime()}writeStart(G,W){W.resultOffset=this.start,W.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(W.definitionExpression="1=1")}clone(){return new j((0,x.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,E._)([(0,P.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"cacheHint",void 0),(0,E._)([(0,P.Cb)({type:T.n,json:{write:!0}})],Z.prototype,"dynamicDataSource",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],Z.prototype,"gdbVersion",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],Z.prototype,"geometryPrecision",void 0),(0,E._)([(0,P.Cb)({type:Date})],Z.prototype,"historicMoment",void 0),(0,E._)([(0,F.c)("historicMoment")],Z.prototype,"_writeHistoricMoment",null),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],Z.prototype,"maxAllowableOffset",void 0),(0,E._)([(0,P.Cb)({type:[Number],json:{write:!0}})],Z.prototype,"objectIds",void 0),(0,E._)([(0,P.Cb)({type:[String],json:{write:!0}})],Z.prototype,"orderByFields",void 0),(0,E._)([(0,P.Cb)({type:[String],json:{write:!0}})],Z.prototype,"outFields",void 0),(0,E._)([(0,P.Cb)({type:w.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Z.prototype,"outSpatialReference",void 0),(0,E._)([(0,P.Cb)({json:{write:!0}})],Z.prototype,"relationshipId",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],Z.prototype,"start",void 0),(0,E._)([(0,F.c)("start"),(0,F.c)("num")],Z.prototype,"writeStart",null),(0,E._)([(0,P.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],Z.prototype,"num",void 0),(0,E._)([(0,P.Cb)({json:{write:!0}})],Z.prototype,"returnGeometry",void 0),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:{overridePolicy:G=>({enabled:G})}}})],Z.prototype,"returnM",void 0),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:{overridePolicy:G=>({enabled:G})}}})],Z.prototype,"returnZ",void 0),(0,E._)([(0,P.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Z.prototype,"where",void 0),Z=j=(0,E._)([(0,B.j)("esri.rest.support.RelationshipQuery")],Z),Z.from=(0,H.se)(Z);const I=Z},91085:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var T,E=_(50484),M=_(84303),V=_(89317),x=_(34222),P=_(80543),B=(_(1535),_(10141)),F=_(7547);const w=new M.X({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let j=T=class extends V.wq{constructor(I){super(I),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(I,G){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(G.statisticParameters=(0,x.d9)(I))}clone(){return new T({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,x.d9)(this.statisticParameters)})}};(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],j.prototype,"maxPointCount",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],j.prototype,"maxRecordCount",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],j.prototype,"maxVertexCount",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],j.prototype,"onStatisticField",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],j.prototype,"outStatisticFieldName",void 0),(0,E._)([(0,P.Cb)({type:String,json:{read:{source:"statisticType",reader:w.read},write:{target:"statisticType",writer:w.write}}})],j.prototype,"statisticType",void 0),(0,E._)([(0,P.Cb)({type:Object})],j.prototype,"statisticParameters",void 0),(0,E._)([(0,F.c)("statisticParameters")],j.prototype,"writeStatisticParameters",null),j=T=(0,E._)([(0,B.j)("esri.rest.support.StatisticDefinition")],j);const Z=j},89047:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>K});var G,E=_(50484),M=_(2189),V=_(34411),x=_(84303),P=_(89317),H=_(34222),B=_(80543),F=_(1535),T=_(10141),w=_(7547),j=_(40637);_(57678),_(14007);let W=G=class extends P.wq{constructor(U){super(U),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new G({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,E._)([(0,B.Cb)({type:[String],json:{write:!0}})],W.prototype,"groupByFields",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{write:!0}})],W.prototype,"topCount",void 0),(0,E._)([(0,B.Cb)({type:[String],json:{write:!0}})],W.prototype,"orderByFields",void 0),W=G=(0,E._)([(0,T.j)("esri.rest.support.TopFilter")],W);const A=W;var N,S=_(43814);const L=new x.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),O=new x.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let $=N=class extends P.wq{constructor(U){super(U),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(U,X){X.resultOffset=this.start,X.resultRecordCount=this.num||10}clone(){return new N((0,H.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,E._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"cacheHint",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy:U=>({enabled:U>0})}}})],$.prototype,"distance",void 0),(0,E._)([(0,B.Cb)({types:M.qM,json:{read:j.im,write:!0}})],$.prototype,"geometry",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{write:!0}})],$.prototype,"geometryPrecision",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{write:!0}})],$.prototype,"maxAllowableOffset",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],$.prototype,"num",void 0),(0,E._)([(0,B.Cb)({json:{write:!0}})],$.prototype,"objectIds",void 0),(0,E._)([(0,B.Cb)({type:[String],json:{write:!0}})],$.prototype,"orderByFields",void 0),(0,E._)([(0,B.Cb)({type:[String],json:{write:!0}})],$.prototype,"outFields",void 0),(0,E._)([(0,B.Cb)({type:S.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],$.prototype,"outSpatialReference",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],$.prototype,"resultType",void 0),(0,E._)([(0,B.Cb)({json:{write:!0}})],$.prototype,"returnGeometry",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:U=>({enabled:U})}}})],$.prototype,"returnM",void 0),(0,E._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:U=>({enabled:U})}}})],$.prototype,"returnZ",void 0),(0,E._)([(0,B.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],$.prototype,"start",void 0),(0,E._)([(0,w.c)("start"),(0,w.c)("num")],$.prototype,"writeStart",null),(0,E._)([(0,B.Cb)({type:String,json:{read:{source:"spatialRel",reader:L.read},write:{target:"spatialRel",writer:L.write}}})],$.prototype,"spatialRelationship",void 0),(0,E._)([(0,B.Cb)({type:V.Z,json:{write:!0}})],$.prototype,"timeExtent",void 0),(0,E._)([(0,B.Cb)({type:A,json:{write:!0}})],$.prototype,"topFilter",void 0),(0,E._)([(0,B.Cb)({type:String,json:{read:O.read,write:{writer:O.write,overridePolicy(U){return{enabled:null!=U&&null!=this.distance&&this.distance>0}}}}})],$.prototype,"units",void 0),(0,E._)([(0,B.Cb)({type:String,json:{write:!0}})],$.prototype,"where",void 0),$=N=(0,E._)([(0,T.j)("esri.rest.support.TopFeaturesQuery")],$),$.from=(0,F.se)($);const K=$},46143:(Ze,me,_)=>{"use strict";_.d(me,{V:()=>x,i:()=>P});var E=_(93618),M=_(85241),V=_(68020);const x={key:"type",base:M.Z,typeMap:{algorithmic:E.Z,multipart:V.Z}};function P(H){return H?.type?"algorithmic"===H.type?E.Z.fromJSON(H):"multipart"===H.type?V.Z.fromJSON(H):null:null}},15462:(Ze,me,_)=>{"use strict";_.d(me,{cv:()=>F,en:()=>B,lA:()=>H}),_(11931),_(26152);var V=_(34222),x=_(6785);function H(w,j){return j?{...j,query:{...w??{},...j.query}}:{query:w}}function B(w){return"string"==typeof w?(0,x.mN)(w):(0,V.d9)(w)}function F(w,j,Z){const I={};for(const G in w){if("declaredClass"===G)continue;const W=w[G];if(null!=W&&"function"!=typeof W)if(Array.isArray(W)){I[G]=[];for(let A=0;A<W.length;A++)I[G][A]=F(W[A])}else if("object"==typeof W)if(W.toJSON){const A=W.toJSON(Z?.[G]);I[G]=j?A:JSON.stringify(A)}else I[G]=j?W:JSON.stringify(W);else I[G]=W}return I}_(40907)},72262:(Ze,me,_)=>{"use strict";_.d(me,{J:()=>j});var E=_(50484),M=_(35458),x=(_(4703),_(1535)),F=(_(57678),_(14007),_(57964),_(63788)),T=_(10141),w=_(18714);let j=class extends w.a{_own(Z){Z.layer&&"remove"in Z.layer&&Z.layer!==this.owner&&Z.layer.remove(Z),Z.layer=this.owner}_release(Z){Z.layer===this.owner&&(Z.layer=null)}};(0,E._)([(0,F.c)({Type:M.Z,ensureType:(0,x.se)(M.Z)})],j.prototype,"itemType",void 0),j=(0,E._)([(0,T.j)("esri.support.GraphicsCollection")],j)},95140:(Ze,me,_)=>{"use strict";_.d(me,{K:()=>I});var E=_(50484),M=_(83944),V=_(18626),x=_(4703),P=_(79412),H=_(80543),w=(_(1535),_(57678),_(14007),_(10141)),j=_(95060);function Z(G,W,A){let S,N;if(G)for(let L=0,O=G.length;L<O;L++){if(S=G.at(L),S?.[W]===A)return S;if("group"===S?.type&&(N=Z(S.layers,W,A),N))return N}}const I=G=>{let W=class extends G{constructor(...A){super(...A),this.layers=new M.Z;const N=O=>{O.parent=this,this.layerAdded(O),"elevation"!==O.type&&"base-elevation"!==O.type||x.Z.getLogger(this).error(`Layer 'title:${O.title}, id:${O.id}' of type '${O.type}' is not supported as an operational layer and will therefore be ignored.`)},L=O=>{O.parent=null,this.layerRemoved(O)};this.addHandles([this.layers.on("before-add",O=>(O=>{O.parent&&"remove"in O.parent&&O.parent.remove(O)})(O.item)),this.layers.on("after-add",O=>N(O.item)),this.layers.on("after-remove",O=>L(O.item))])}destroy(){const A=this.layers.toArray();for(const S of A)S.destroy();this.layers.destroy()}set layers(A){this._set("layers",(0,V.Z)(A,this._get("layers")))}add(A,S){const N=this.layers;if(S=N.getNextIndex(S),A instanceof j.Z){const L=A;L.parent===this?this.reorder(L,S):N.add(L,S)}else(0,P.y8)(A)?A.then(L=>{this.destroyed||this.add(L,S)}):x.Z.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(A,S){const N=this.layers;let L=N.getNextIndex(S);A.slice().forEach(O=>{O.parent!==this?(N.add(O,L),L+=1):this.reorder(O,L)})}findLayerById(A){return Z(this.layers,"id",A)}findLayerByUid(A){return Z(this.layers,"uid",A)}remove(A){return this.layers.remove(A)}removeMany(A){return this.layers.removeMany(A)}removeAll(){return this.layers.removeAll()}reorder(A,S){return this.layers.reorder(A,S)}layerAdded(A){}layerRemoved(A){}};return(0,E._)([(0,H.Cb)()],W.prototype,"layers",null),W=(0,E._)([(0,w.j)("esri.support.LayersMixin")],W),W}},16031:(Ze,me,_)=>{"use strict";_.d(me,{Q:()=>j});var E=_(50484),M=_(83944),V=_(18626),x=_(4703),P=_(80543),T=(_(1535),_(57678),_(14007),_(10141));function w(Z,I,G){if(Z)for(let W=0,A=Z.length;W<A;W++){const S=Z.at(W);if(S[I]===G)return S;if("group"===S?.type){const N=w(S.tables,I,G);if(N)return N}}}const j=Z=>{let I=class extends Z{constructor(...G){super(...G),this.tables=new M.Z,this.addHandles([this.tables.on("after-add",W=>{const A=W.item;A.parent&&A.parent!==this&&"tables"in A.parent&&A.parent.tables.remove(A),A.parent=this,"feature"!==A.type&&x.Z.getLogger(this).error(`Layer 'title:${A.title}, id:${A.id}' of type '${A.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",W=>{W.item.parent=null})])}destroy(){const G=this.tables.toArray();for(const W of G)W.destroy();this.tables.destroy()}set tables(G){this._set("tables",(0,V.Z)(G,this._get("tables")))}findTableById(G){return w(this.tables,"id",G)}findTableByUid(G){return w(this.tables,"uid",G)}};return(0,E._)([(0,P.Cb)()],I.prototype,"tables",null),I=(0,E._)([(0,T.j)("esri.support.TablesMixin")],I),I}},72031:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(73514),V=_(84373),x=_(80543),F=(_(1535),_(57678),_(14007),_(10141));let w=T=class extends((0,V.IG)(M.Z)){constructor(Z){super(Z),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new T({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,E._)([(0,x.Cb)()],w.prototype,"active",void 0),(0,E._)([(0,x.Cb)()],w.prototype,"className",void 0),(0,E._)([(0,x.Cb)()],w.prototype,"disabled",void 0),(0,E._)([(0,x.Cb)()],w.prototype,"icon",void 0),(0,E._)([(0,x.Cb)()],w.prototype,"id",void 0),(0,E._)([(0,x.Cb)()],w.prototype,"indicator",void 0),(0,E._)([(0,x.Cb)()],w.prototype,"title",void 0),(0,E._)([(0,x.Cb)()],w.prototype,"type",void 0),(0,E._)([(0,x.Cb)()],w.prototype,"visible",void 0),w=T=(0,E._)([(0,F.j)("esri.support.actions.ActionBase")],w);const j=w},99002:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(72031);let T=F=class extends B.Z{constructor(j){super(j),this.image=null,this.type="button"}clone(){return new F({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,E._)([(0,M.Cb)()],T.prototype,"image",void 0),T=F=(0,E._)([(0,H.j)("esri.support.Action.ActionButton")],T);const w=T},25917:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var F,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(72031);let T=F=class extends B.Z{constructor(j){super(j),this.image=null,this.type="toggle",this.value=!1}clone(){return new F({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,E._)([(0,M.Cb)()],T.prototype,"image",void 0),(0,E._)([(0,M.Cb)()],T.prototype,"value",void 0),T=F=(0,E._)([(0,H.j)("esri.support.Action.ActionToggle")],T);const w=T},40907:(Ze,me,_)=>{"use strict";_.d(me,{r:()=>x});var E=_(6785);const M=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function x(P){const H=(0,E.P$)(P,!0);return!!H&&H.endsWith(".arcgis.com")&&!M.has(H)&&!P.endsWith("/sharing/rest/generateToken")}},4978:(Ze,me,_)=>{"use strict";_.d(me,{LC:()=>F,WW:()=>T,Yi:()=>w,mz:()=>I,pp:()=>Z});var E=_(15861),V=(_(2189),_(57964)),x=_(4703),P=_(43814);const H=x.Z.getLogger("esri.support.arcadeOnDemand");let B;function F(){return B||(B=(0,E.Z)(function*(){const G=yield Promise.all([_.e(842),_.e(3866),_.e(4025)]).then(_.bind(_,34025));return{arcade:G.arcade,arcadeUtils:G,Dictionary:G.Dictionary,Feature:G.arcadeFeature}})()),B}const T=(G,W,A)=>I.create(G,W,A,null,["$feature","$view"],[]),w=(G,W,A)=>I.create(G,W,A,null,["$feature","$view"],[]),Z=(G,W,A,S)=>I.create(G,W,A,S,["$feature","$view"],[]);class I{constructor(W,A,S,N,L,O,$){this.services=null,this.script=W,this.evaluate=N;const K=Array.isArray(O)?O:O.fields;this.fields=K,this._syntaxTree=S,this._arcade=A,this._arcadeFeature=L,this._spatialReference=$,this._referencesGeometry=A.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(W,A,S,N,L,O){return(0,E.Z)(function*(){const{arcade:$,Feature:K,Dictionary:U}=yield F(),X=P.Z.fromJSON(A);let Y;try{Y=$.parseScript(W,O)}catch(ee){return H.error(new V.Z("arcade-bad-expression","Failed to parse arcade script",{script:W,error:ee})),null}const oe=L.reduce((ee,ae)=>({...ee,[ae]:null}),{});let ne=null;null!=N&&(ne=new U(N),ne.immutable=!0,oe.$config=null);const se=$.scriptUsesGeometryEngine(Y),te=se&&$.enableGeometrySupport(),k=$.scriptUsesFeatureSet(Y)&&$.enableFeatureSetSupport(),re=$.scriptIsAsync(Y),Q=re&&$.enableAsyncSupport(),pe={vars:oe,spatialReference:X,useAsync:!!Q};yield Promise.all([te,k,Q]);const fe=new Set;yield $.loadDependentModules(fe,Y,null,re,se);const ce=new U;ce.immutable=!1,ce.setField("scale",0);const q=$.compileScript(Y,pe);return new I(W,$,Y,(ee,ae)=>{const ue=ee.$view?.timeZone;return"$view"in ee&&ee.$view&&(ce.setField("scale","object"==typeof ee.$view&&"scale"in ee.$view?ee.$view.scale:void 0),ee.$view=ce),ne&&(ee.$config=ne),q({vars:ee,spatialReference:X,services:ae,timeZone:ue})},new K,S,X)})()}repurposeFeature(W){return W.geometry&&!W.geometry.spatialReference&&(W.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(W.geometry,W.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}},20940:(Ze,me,_)=>{"use strict";function E(V){const x=atob(V),P=new Uint8Array(x.length);for(let H=0;H<x.length;H++)P[H]=x.charCodeAt(H);return P.buffer}function M(V){const x=new Uint8Array(V);let P="";for(let H=0;H<x.length;H++)P+=String.fromCharCode(x[H]);return btoa(P)}_.d(me,{R:()=>E,s:()=>M})},72380:(Ze,me,_)=>{"use strict";_.d(me,{g:()=>x,s:()=>H});var E=_(15861),M=_(98930),V=_(33653);function x(B){return P.apply(this,arguments)}function P(){return(P=(0,E.Z)(function*(B){if(!B)return;const F=B.includes("-vector")?B.slice(0,B.indexOf("-vector")):B.includes("-3d")?B.slice(0,B.indexOf("-3d")):B,T=yield(0,V.ME)("esri/t9n/basemaps");return T[B]||T[F]})).apply(this,arguments)}const H={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,M.V)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,M.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},63335:(Ze,me,_)=>{"use strict";_.d(me,{Bf:()=>Z,Df:()=>j,Us:()=>Y,aL:()=>X,se:()=>I,zb:()=>U});var E=_(7624),M=_(11931),x=(_(83944),_(4703)),P=_(51172),H=_(6785),B=_(1535),T=(_(99072),_(72380));const w=x.Z.getLogger("esri.support.basemapUtils");function j(){return{}}function Z(ge){for(const Ee in ge)(0,P.SC)(ge[Ee]),delete ge[Ee]}function I(ge,Ee){let be;if("string"==typeof ge){const ie=ge in T.s,De=!ie&&ge.includes("/");if(!ie&&!De){const Be=Object.entries(T.s).filter(([we,Me])=>M.default.apiKey&&!Me.classic||!M.default.apiKey&&(Me.classic||Me.is3d)).map(([we])=>`"${we}"`).sort().join(", ");return w.warn(`Unable to find basemap definition for: ${ge}. Try one of these: ${Be}`),null}Ee&&(be=Ee[ge]),be||(be=ie?E.default.fromId(ge):new E.default({style:{id:ge}}),Ee&&(Ee[ge]=be))}else be=(0,B.se)(E.default,ge);return be?.destroyed&&(w.warn("The provided basemap is already destroyed",{basemap:be}),be=null),be}function U(ge){return!!ge?.baseLayers.concat(ge.referenceLayers).some(X)}function X(ge){if(ne(ge.url))return!0;if("vector-tile"===ge.type)for(const Ee in ge.sourceNameToSource){const be=ge.sourceNameToSource[Ee];if(ne(be?.sourceUrl))return!0}return!1}function Y(ge,Ee){if(null==Ee||null==ge)return{spatialReference:null,updating:!1};if("not-loaded"===Ee.loadStatus)return Ee.load(),{spatialReference:null,updating:!0};if(Ee.spatialReference)return{spatialReference:Ee.spatialReference,updating:!1};if(0===Ee.baseLayers.length)return{spatialReference:null,updating:!1};const be=Ee.baseLayers.at(0);switch(be.loadStatus){case"not-loaded":be.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const ie=(("supportedSpatialReferences"in be?be.supportedSpatialReferences:null)||["tileInfo"in be?be.tileInfo?.spatialReference:be.spatialReference]).filter(Boolean),De=ge.spatialReference;return De?{spatialReference:ie.find(Be=>De.equals(Be))??ie[0]??null,updating:!1}:{spatialReference:ie[0],updating:!1}}const oe=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function ne(ge){if(!ge)return!1;const Ee=new H.R9((0,H.hF)(ge));return!!Ee.authority&&oe.test(Ee.authority)}},41528:(Ze,me,_)=>{"use strict";_.d(me,{O:()=>V,a:()=>M});var E=_(5603);function M(x){return new E.Z({getCollections:()=>[x.tables,x.layers],getChildrenFunction:P=>{const H=[];return"tables"in P&&H.push(P.tables),"layers"in P&&H.push(P.layers),H},itemFilterFunction:P=>{const H=P.parent;return!!H&&"tables"in H&&H.tables.includes(P)}})}function V(x){for(const P of x.values())P?.destroy();x.clear()}},13967:(Ze,me,_)=>{"use strict";_.d(me,{K3:()=>M,Rx:()=>T});var E=_(14007);const M=()=>!!(0,E.Z)("enable-feature:force-wosr"),T=()=>!!(0,E.Z)("enable-feature:SceneLayer-editing");((I="i3s-patching")=>{switch(E.Z.add("enable-i3s-patching",!1,!0,!0),E.Z.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),E.Z.add("enable-feature:SceneLayer-editing",!0,!0,!0),I){case"feature-layer-view":E.Z.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":E.Z.add("enable-i3s-patching",!0,!0,!0)}})("i3s-patching")},33331:(Ze,me,_)=>{"use strict";_.d(me,{eZ:()=>I});var E=_(62691),M=_(85295),V=_(20004),B=(_(37462),_(52225),_(49497),_(90629)),j=(_(57229),_(98522),_(23002),_(42271)),Z=_(17831);function I({displayField:se,editFieldsInfo:te,fields:k,objectIdField:re,title:Q},pe){if(!k)return null;const fe=function L(se,te){const k=te?.visibleFieldNames;return function A(se,te){const k=se;return te&&(se=se.filter(re=>!te.includes(re.type))),se===k&&(se=se.slice()),se.sort(S),se}(se.fields??[],te?.ignoreFieldTypes||ne).map(re=>new j.Z({fieldName:re.name,isEditable:(0,M.Hp)(re,se),label:re.alias,format:K(re),visible:W(re,{...se,visibleFieldNames:k})}))}({editFieldsInfo:te,fields:k,objectIdField:re},pe);if(!fe.length)return null;const ce=function Y(se){const te=(0,M.O5)(se),{titleBase:k}=se;return te?`${k}: {${te.trim()}}`:k??""}({titleBase:Q,fields:k,displayField:se}),q=function U(){return[new B.Z,new V.Z]}();return new E.Z({title:ce,content:q,fieldInfos:fe})}const W=(se,te)=>te.visibleFieldNames?te.visibleFieldNames.has(se.name):(0,M.Fv)(se,te);function S(se,te){return"oid"===se.type?-1:"oid"===te.type?1:oe(se)?-1:oe(te)?1:(se.alias||se.name).toLocaleLowerCase().localeCompare((te.alias||te.name).toLocaleLowerCase())}function K(se){switch(se.type){case"small-integer":case"integer":case"single":return new Z.Z({digitSeparator:!0,places:0});case"double":return new Z.Z({digitSeparator:!0,places:2});case"string":return(0,M.Ec)(se.name)?new Z.Z({digitSeparator:!0,places:0}):null;default:return null}}function oe(se){return"name"===(se.name&&se.name.toLowerCase())||"name"===(se.alias&&se.alias.toLowerCase())}const ne=["geometry","blob","raster","guid","xml"]},33258:(Ze,me,_)=>{"use strict";_.d(me,{Hu:()=>j,Tf:()=>T,fY:()=>H,jH:()=>Z,jz:()=>I});var E=_(15861),M=_(11931),V=_(14007),x=_(79412),P=_(6785);function H(W,A,S=!1,N){return new Promise((L,O)=>{if((0,x.Hc)(N))return void O(B());let $=()=>{X(),O(new Error(`Unable to load ${A}`))},K=()=>{const Y=W;X(),L(Y)},U=()=>{if(!W)return;const Y=W;X(),Y.src="",O(B())};const X=()=>{(0,V.Z)("esri-image-decode")||(W.removeEventListener("error",$),W.removeEventListener("load",K)),$=null,K=null,W=null,N?.removeEventListener("abort",U),U=null,S&&URL.revokeObjectURL(A)};N?.addEventListener("abort",U),(0,V.Z)("esri-image-decode")?W.decode().then(K,$):(W.addEventListener("error",$),W.addEventListener("load",K))})}function B(){try{return new DOMException("Aborted","AbortError")}catch{const W=new Error;return W.name="AbortError",W}}const F="Timeout exceeded";function T(){return new Error(F)}function j(W){M.default.request.crossOriginNoCorsDomains||(M.default.request.crossOriginNoCorsDomains={});const A=M.default.request.crossOriginNoCorsDomains;for(let S of W)S=S.toLowerCase(),/^https?:\/\//.test(S)?A[(0,P.P$)(S)??""]=0:(A[(0,P.P$)("http://"+S)??""]=0,A[(0,P.P$)("https://"+S)??""]=0)}function Z(W){const A=M.default.request.crossOriginNoCorsDomains;if(A){let S=(0,P.P$)(W);if(S)return S=S.toLowerCase(),!(0,P.D6)(S,(0,P.TI)())&&A[S]<Date.now()-36e5}return!1}function I(W){return G.apply(this,arguments)}function G(){return(G=(0,E.Z)(function*(W){const A=M.default.request.crossOriginNoCorsDomains,S=(0,P.P$)(W);A&&S&&(A[S.toLowerCase()]=Date.now());const N=(0,P.mN)(W);W=N.path,"json"===N.query?.f&&(W+="?f=json");try{yield fetch(W,{mode:"no-cors",credentials:"include"})}catch{}})).apply(this,arguments)}},89610:(Ze,me,_)=>{"use strict";_.d(me,{$:()=>M,r:()=>E});const E="20231115",M="a6fcf2901ef678ef17a528e11b93ffe09e3ec267"},55774:(Ze,me,_)=>{"use strict";_.d(me,{$o:()=>V,V$:()=>P});const E="calcite-mode-";function V(){return function M(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}().startsWith("dark")}function P(B){(function H(B){Array.from(B.classList).forEach(F=>{F.startsWith(E)&&B.classList.remove(F)})})(B),B.classList.add(function x(){return`${E}${V()?"dark":"light"}`}())}},71950:(Ze,me,_)=>{"use strict";_.d(me,{se:()=>J,cT:()=>Ee,dU:()=>be,S9:()=>Be,LB:()=>ie,AH:()=>De,yK:()=>Me,S6:()=>Xe,QT:()=>we,f_:()=>xe});var U,E=_(1535),M=_(50106),V=_(66641),P=(_(29295),_(22225)),T=(_(13714),_(14890),_(86394),_(82108)),w=_(92227),I=(_(91729),_(47326),_(75771)),A=(_(57093),_(42919),_(50484)),S=_(34222),N=_(55768),L=_(80543),O=_(21070),$=_(10141),K=_(43845);let X=U=class extends P.Z{constructor(...ye){super(...ye),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(ye,Re,Ve,et){if(ye&&"string"!=typeof ye&&null==ye.imageData)return ye;const Fe={};return ye&&(Fe.url=ye),Re&&(Fe.outline=Re),null!=Ve&&(Fe.width=(0,N.t_)(Ve)),null!=et&&(Fe.height=(0,N.t_)(et)),Fe}clone(){const ye=new U({color:(0,S.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return ye._set("source",(0,S.d9)(this.source)),ye}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,A._)([(0,O.J)({esriPFS:"picture-fill"},{readOnly:!0})],X.prototype,"type",void 0),(0,A._)([(0,L.Cb)(K.KA)],X.prototype,"url",void 0),(0,A._)([(0,L.Cb)({type:Number,json:{write:!0}})],X.prototype,"xscale",void 0),(0,A._)([(0,L.Cb)({type:Number,json:{write:!0}})],X.prototype,"yscale",void 0),(0,A._)([(0,L.Cb)({type:Number,cast:N.t_,json:{write:!0}})],X.prototype,"width",void 0),(0,A._)([(0,L.Cb)({type:Number,cast:N.t_,json:{write:!0}})],X.prototype,"height",void 0),(0,A._)([(0,L.Cb)({type:Number,cast:N.t_,json:{write:!0}})],X.prototype,"xoffset",void 0),(0,A._)([(0,L.Cb)({type:Number,cast:N.t_,json:{write:!0}})],X.prototype,"yoffset",void 0),(0,A._)([(0,L.Cb)(K.Ds)],X.prototype,"source",void 0),X=U=(0,A._)([(0,$.j)("esri.symbols.PictureFillSymbol")],X);const Y=X;var oe=_(41391),ne=_(31110),se=_(87137),te=_(89481),k=_(66637),re=_(35451),Q=_(85601),ce=(_(15954),_(78800),_(52248)),ee=(_(2068),_(36856),_(80121));function Ee(ye){if(!ye)return!1;switch(ye.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function be(ye){if(!ye)return!1;switch(ye.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}_(99086),_(84699);const ie={base:Q.Z,key:"type",typeMap:{"simple-fill":te.Z,"picture-fill":Y,"picture-marker":oe.Z,"simple-line":k.Z,"simple-marker":re.Z,text:ce.Z,"label-3d":T.Z,"line-3d":w.Z,"mesh-3d":I.Z,"point-3d":ne.Z,"polygon-3d":se.Z,"web-style":ee.Z,cim:V.Z},errorContext:"symbol"},De={base:Q.Z,key:"type",typeMap:{"picture-marker":oe.Z,"simple-marker":re.Z,text:ce.Z,"web-style":ee.Z,cim:V.Z},errorContext:"symbol"},Be=(0,M.d)({types:ie}),we={base:Q.Z,key:"type",typeMap:{"simple-fill":te.Z,"picture-fill":Y,"picture-marker":oe.Z,"simple-line":k.Z,"simple-marker":re.Z,text:ce.Z,"line-3d":w.Z,"mesh-3d":I.Z,"point-3d":ne.Z,"polygon-3d":se.Z,"web-style":ee.Z,cim:V.Z},errorContext:"symbol"},Me={base:Q.Z,key:"type",typeMap:{text:ce.Z,"label-3d":T.Z},errorContext:"symbol"},xe={base:Q.Z,key:"type",typeMap:{"line-3d":w.Z,"mesh-3d":I.Z,"point-3d":ne.Z,"polygon-3d":se.Z,"web-style":ee.Z,cim:V.Z},errorContext:"symbol"},Xe={base:Q.Z,key:"type",typeMap:{"label-3d":T.Z},errorContext:"symbol"},J=(0,E.N7)(ie)},66641:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>W});var I,E=_(15861),M=_(50484),V=_(34222),x=_(72578),P=_(80543),B=(_(1535),_(21070)),F=_(62185),T=_(10141),w=_(7547),j=_(85295),Z=_(85601);let G=I=class extends Z.Z{constructor(A){super(A),this.data=null,this.type="cim"}readData(A,S){return S}writeData(A,S){Object.assign(S,A)}collectRequiredFields(A,S){var N=this;return(0,E.Z)(function*(){if("CIMSymbolReference"===N.data?.type){const L=N.data.primitiveOverrides;if(L){const O=L.map($=>(0,j.io)(A,S,$.valueExpressionInfo.expression));yield Promise.all(O)}}})()}clone(){return new I({data:(0,V.d9)(this.data)})}hash(){return(0,x.hP)(JSON.stringify(this.data)).toString()}};(0,M._)([(0,P.Cb)({json:{write:!1}})],G.prototype,"color",void 0),(0,M._)([(0,P.Cb)({json:{write:!0}})],G.prototype,"data",void 0),(0,M._)([(0,F.r)("data",["symbol"])],G.prototype,"readData",null),(0,M._)([(0,w.c)("data",{})],G.prototype,"writeData",null),(0,M._)([(0,B.J)({CIMSymbolReference:"cim"},{readOnly:!0})],G.prototype,"type",void 0),G=I=(0,M._)([(0,T.j)("esri.symbols.CIMSymbol")],G);const W=G},29295:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var j,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(21070)),B=_(10141),F=_(78800),T=_(43931),w=_(41647);let Z=j=class extends F.Z{constructor(G){super(G),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new j({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,E._)([(0,H.J)({Extrude:"extrude"},{readOnly:!0})],Z.prototype,"type",void 0),(0,E._)([(0,M.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Z.prototype,"size",void 0),(0,E._)([(0,M.Cb)({type:w.b,json:{write:!0}})],Z.prototype,"material",void 0),(0,E._)([(0,M.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Z.prototype,"castShadows",void 0),(0,E._)([(0,M.Cb)(T.Z)],Z.prototype,"edges",void 0),Z=j=(0,E._)([(0,B.j)("esri.symbols.ExtrudeSymbol3DLayer")],Z);const I=Z},22225:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(66637),F=_(85601);let T=class extends F.Z{constructor(j){super(j),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,E._)([(0,M.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":B.Z}},json:{default:null,write:!0}})],T.prototype,"outline",void 0),(0,E._)([(0,M.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],T.prototype,"type",void 0),T=(0,E._)([(0,H.j)("esri.symbols.FillSymbol")],T);const w=T},13714:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>se});var S,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(21070)),B=_(10141),F=_(78800),T=_(43931),w=_(3019),j=_(90646),Z=_(76214),I=_(72438),A=(_(4703),_(57964),_(41647));let N=S=class extends A.b{constructor(te){super(te),this.colorMixMode=null}clone(){const te={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new S(te)}};(0,E._)([(0,H.J)({multiply:"multiply",replace:"replace",tint:"tint"})],N.prototype,"colorMixMode",void 0),N=S=(0,E._)([(0,B.j)("esri.symbols.support.Symbol3DFillMaterial")],N);var X,L=_(66599),O=_(89317),$=_(55768),K=_(34895),U=_(58156);let Y=X=class extends O.wq{constructor(te){super(te),this.color=new L.Z([0,0,0,1]),this.size=(0,$.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const te={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new X(te)}};var oe;(0,E._)([(0,M.Cb)(K.a)],Y.prototype,"color",void 0),(0,E._)([(0,M.Cb)(K.y)],Y.prototype,"size",void 0),(0,E._)([(0,M.Cb)(Z.D)],Y.prototype,"pattern",void 0),(0,E._)([(0,M.Cb)({type:U.Hc,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],Y.prototype,"patternCap",void 0),Y=X=(0,E._)([(0,B.j)("esri.symbols.support.Symbol3DOutline")],Y);let ne=oe=class extends F.Z{constructor(te){super(te),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const te={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new oe(te)}static fromSimpleFillSymbol(te){const k=te.outline&&te.outline.style&&"inside-frame"!==te.outline.style&&"solid"!==te.outline.style?new w.Z({style:te.outline.style}):null,re={size:te.outline?.width??0,color:(te.outline?.color??I.ix).clone(),pattern:k};return k&&te.outline?.cap&&(re.patternCap=te.outline.cap),new oe({material:new N({color:(te.color??I.l9).clone()}),pattern:te.style&&"solid"!==te.style?new j.Z({style:te.style}):null,outline:re})}};(0,E._)([(0,H.J)({Fill:"fill"},{readOnly:!0})],ne.prototype,"type",void 0),(0,E._)([(0,M.Cb)({type:N,json:{write:!0}})],ne.prototype,"material",void 0),(0,E._)([(0,M.Cb)(Z.q)],ne.prototype,"pattern",void 0),(0,E._)([(0,M.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ne.prototype,"castShadows",void 0),(0,E._)([(0,M.Cb)({type:Y,json:{write:!0}})],ne.prototype,"outline",void 0),(0,E._)([(0,M.Cb)(T.Z)],ne.prototype,"edges",void 0),ne=oe=(0,E._)([(0,B.j)("esri.symbols.FillSymbol3DLayer")],ne);const se=ne},14890:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var w,E=_(50484),M=_(89317),V=_(55768),x=_(80543),P=_(73018),F=(_(57678),_(14007),_(10141)),T=_(52759);let j=w=class extends M.wq{constructor(I){super(I),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(I){return(0,V.t_)(I)}clone(){return new w({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,E._)([(0,x.Cb)({type:T.JT,json:{default:"none",write:!0}})],j.prototype,"decoration",void 0),(0,E._)([(0,x.Cb)({type:String,json:{write:!0}})],j.prototype,"family",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{write:{overridePolicy:(I,G,W)=>({enabled:!W||!W.textSymbol3D})}}})],j.prototype,"size",void 0),(0,E._)([(0,P.p)("size")],j.prototype,"castSize",null),(0,E._)([(0,x.Cb)({type:T.g6,json:{default:"normal",write:!0}})],j.prototype,"style",void 0),(0,E._)([(0,x.Cb)({type:T.vC,json:{default:"normal",write:!0}})],j.prototype,"weight",void 0),j=w=(0,E._)([(0,F.j)("esri.symbols.Font")],j);const Z=j},86394:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>se});var N,E=_(50484),M=_(4703),V=_(6785),x=_(80543),F=(_(1535),_(57678),_(14007),_(21070)),T=_(10141),w=_(78800),j=_(72438),Z=_(81218),I=_(34895),G=_(94970),W=_(66599),A=_(89317),S=_(55768);let L=N=class extends A.wq{constructor(te){super(te),this.color=new W.Z([0,0,0,1]),this.size=(0,S.Wz)(1)}clone(){const te={color:null!=this.color?this.color.clone():null,size:this.size};return new N(te)}};(0,E._)([(0,x.Cb)(I.a)],L.prototype,"color",void 0),(0,E._)([(0,x.Cb)(I.y)],L.prototype,"size",void 0),L=N=(0,E._)([(0,T.j)("esri.symbols.support.Symbol3DIconOutline")],L);var $,O=_(41647);const K="esri.symbols.IconSymbol3DLayer";let U=$=class extends w.Z{constructor(te){super(te),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new $({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,outline:null!=this.outline?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(te){const k=te.color||j.ix,re=X(te),Q=te.outline&&te.outline.width>0?{size:te.outline.width,color:(te.outline.color||j.ix).clone()}:null;return new $({size:te.size,resource:{primitive:ne(te.style)},material:{color:k},outline:Q,anchor:re?"relative":void 0,anchorPosition:re})}static fromPictureMarkerSymbol(te){const k=!te.color||(0,j.rx)(te.color)?j.ix:te.color,re=X(te);return new $({size:te.width<=te.height?te.height:te.width,resource:{href:te.url},material:{color:k.clone()},anchor:re?"relative":void 0,anchorPosition:re})}static fromCIMSymbol(te){return new $({resource:{href:(0,V._l)({mediaType:"application/json",data:JSON.stringify(te.data)})}})}};function X(te){const k="width"in te?te.width:te.size,re="height"in te?te.height:te.size,Q=Y(te.xoffset),pe=Y(te.yoffset);return(Q||pe)&&k&&re?{x:-Q/k,y:pe/re}:null}function Y(te){return isFinite(te)?te:0}(0,E._)([(0,x.Cb)({type:O.b,json:{write:!0}})],U.prototype,"material",void 0),(0,E._)([(0,x.Cb)({type:Z.b,json:{write:!0}})],U.prototype,"resource",void 0),(0,E._)([(0,F.J)({Icon:"icon"},{readOnly:!0})],U.prototype,"type",void 0),(0,E._)([(0,x.Cb)(I.y)],U.prototype,"size",void 0),(0,E._)([(0,F.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,x.Cb)({json:{default:"center"}})],U.prototype,"anchor",void 0),(0,E._)([(0,x.Cb)({type:G.e,json:{type:[Number],read:{reader:te=>new G.e({x:te[0],y:te[1]})},write:{writer:(te,k)=>{k.anchorPosition=[te.x,te.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],U.prototype,"anchorPosition",void 0),(0,E._)([(0,x.Cb)({type:L,json:{write:!0}})],U.prototype,"outline",void 0),U=$=(0,E._)([(0,T.j)(K)],U);const oe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ne(te){return oe[te]||(M.Z.getLogger(K).warn(`${te} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const se=U},82108:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>W});var Z,E=_(50484),M=_(83944),V=_(34222),x=_(80543),H=(_(1535),_(21070)),B=_(10141),F=_(15954),T=_(2068),w=_(58223),j=_(85581);const I=M.Z.ofType({base:null,key:"type",typeMap:{text:T.Z}});let G=Z=class extends F.Z{constructor(A){super(A),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new I,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,w.gv)(this)}hasVisibleVerticalOffset(){return(0,w.Uy)(this)}clone(){return new Z({styleOrigin:(0,V.d9)(this.styleOrigin),symbolLayers:(0,V.d9)(this.symbolLayers),thumbnail:(0,V.d9)(this.thumbnail),callout:(0,V.d9)(this.callout),verticalOffset:(0,V.d9)(this.verticalOffset)})}static fromTextSymbol(A){return new Z({symbolLayers:new M.Z([T.Z.fromTextSymbol(A)])})}};(0,E._)([(0,x.Cb)({type:j.Z,json:{write:!0}})],G.prototype,"verticalOffset",void 0),(0,E._)([(0,x.Cb)(w.Y2)],G.prototype,"callout",void 0),(0,E._)([(0,x.Cb)({json:{read:!1,write:!1}})],G.prototype,"styleOrigin",void 0),(0,E._)([(0,x.Cb)({type:I})],G.prototype,"symbolLayers",void 0),(0,E._)([(0,H.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],G.prototype,"type",void 0),G=Z=(0,E._)([(0,B.j)("esri.symbols.LabelSymbol3D")],G);const W=G},92227:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>W});var j,E=_(50484),M=_(83944),V=_(34222),x=_(80543),H=(_(1535),_(21070)),B=_(10141),F=_(91729),T=_(42919),w=_(15954);const Z=M.Z.ofType({base:null,key:"type",typeMap:{line:F.Z,path:T.Z}}),I=M.Z.ofType({base:null,key:"type",typeMap:{line:F.Z,path:T.Z}});let G=j=class extends w.Z{constructor(A){super(A),this.symbolLayers=new Z,this.type="line-3d"}clone(){return new j({styleOrigin:(0,V.d9)(this.styleOrigin),symbolLayers:(0,V.d9)(this.symbolLayers),thumbnail:(0,V.d9)(this.thumbnail)})}static fromSimpleLineSymbol(A){return new j({symbolLayers:new M.Z([F.Z.fromSimpleLineSymbol(A)])})}};(0,E._)([(0,x.Cb)({type:Z,json:{type:I}})],G.prototype,"symbolLayers",void 0),(0,E._)([(0,H.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],G.prototype,"type",void 0),G=j=(0,E._)([(0,B.j)("esri.symbols.LineSymbol3D")],G);const W=G},91729:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>X});var E=_(50484),M=_(55768),V=_(80543),x=_(1535),B=(_(57678),_(14007),_(21070)),F=_(10141),T=_(66599),w=_(25387),j=_(89317),Z=_(30930);let I=class extends((0,w.J)(j.wq)){constructor(Y){super(Y),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(Y){return null!=Y&&Y.placement===this.placement&&Y.style===this.style&&(null==this.color&&null==Y.color||null!=this.color&&null!=Y.color&&this.color.toJSON()===Y.color.toJSON())}};(0,E._)([(0,V.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],I.prototype,"type",void 0),(0,E._)([(0,V.Cb)({type:Z.J,json:{default:"begin-end",write:!0}})],I.prototype,"placement",void 0),(0,E._)([(0,V.Cb)({type:Z.k,json:{default:"arrow",write:!0}})],I.prototype,"style",void 0),(0,E._)([(0,V.Cb)({type:T.Z,json:{type:[x.z8],default:null,write:!0}})],I.prototype,"color",void 0),I=(0,E._)([(0,F.j)("esri.symbols.LineStyleMarker3D")],I);const G=I;var K,W=_(78800),A=_(3019),S=_(76214),N=_(72438),L=_(34895),O=_(41647),$=_(58156);let U=K=class extends W.Z{constructor(Y){super(Y),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,M.Wz)(1),this.pattern=null,this.marker=null}clone(){const Y={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new K(Y)}static fromSimpleLineSymbol(Y){const oe={enabled:!0,size:Y.width??(0,M.Wz)(1),cap:Y.cap||"butt",join:Y.join||"miter",pattern:Y.style&&"inside-frame"!==Y.style?new A.Z({style:Y.style}):null,material:new O.b({color:(Y.color||N.ix).clone()}),marker:Y.marker?new G({placement:Y.marker.placement,style:Y.marker.style,color:Y.marker.color?.clone()??null}):null};return new K(oe)}};(0,E._)([(0,V.Cb)({type:O.b,json:{write:!0}})],U.prototype,"material",void 0),(0,E._)([(0,B.J)({Line:"line"},{readOnly:!0})],U.prototype,"type",void 0),(0,E._)([(0,V.Cb)({type:$.w2,json:{write:!0,default:"miter"}})],U.prototype,"join",void 0),(0,E._)([(0,V.Cb)({type:$.Hc,json:{write:!0,default:"butt"}})],U.prototype,"cap",void 0),(0,E._)([(0,V.Cb)(L.y)],U.prototype,"size",void 0),(0,E._)([(0,V.Cb)(S.D)],U.prototype,"pattern",void 0),(0,E._)([(0,V.Cb)({types:{key:"type",base:G,typeMap:{style:G}},json:{write:!0}})],U.prototype,"marker",void 0),U=K=(0,E._)([(0,F.j)("esri.symbols.LineSymbol3DLayer")],U);const X=U},47326:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var E=_(50484),M=_(55768),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(85601);let T=class extends F.Z{constructor(j){super(j),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,E._)([(0,V.Cb)({type:Number,json:{read:j=>j&&-1*j,write:(j,Z)=>Z.angle=j&&-1*j}})],T.prototype,"angle",void 0),(0,E._)([(0,V.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],T.prototype,"type",void 0),(0,E._)([(0,V.Cb)({type:Number,cast:M.t_,json:{write:!0}})],T.prototype,"xoffset",void 0),(0,E._)([(0,V.Cb)({type:Number,cast:M.t_,json:{write:!0}})],T.prototype,"yoffset",void 0),(0,E._)([(0,V.Cb)({type:Number,cast:j=>"auto"===j?j:(0,M.t_)(j),json:{write:!0}})],T.prototype,"size",void 0),T=(0,E._)([(0,B.j)("esri.symbols.MarkerSymbol")],T);const w=T},75771:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var w,E=_(50484),M=_(83944),V=_(34222),x=_(80543),H=(_(1535),_(21070)),B=_(10141),F=_(13714),T=_(15954);const j=M.Z.ofType({base:null,key:"type",typeMap:{fill:F.Z}});let Z=w=class extends T.Z{constructor(G){super(G),this.symbolLayers=new j,this.type="mesh-3d"}clone(){return new w({styleOrigin:(0,V.d9)(this.styleOrigin),symbolLayers:(0,V.d9)(this.symbolLayers),thumbnail:(0,V.d9)(this.thumbnail)})}static fromSimpleFillSymbol(G){return new w({symbolLayers:new M.Z([F.Z.fromSimpleFillSymbol(G)])})}};(0,E._)([(0,x.Cb)({type:j})],Z.prototype,"symbolLayers",void 0),(0,E._)([(0,H.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Z.prototype,"type",void 0),Z=w=(0,E._)([(0,B.j)("esri.symbols.MeshSymbol3D")],Z);const I=Z},57093:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>A});var j,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(21070)),B=_(10141),F=_(78800),T=_(85497),w=_(73514);let Z=j=class extends w.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new j({x:this.x,y:this.y,z:this.z})}};(0,E._)([(0,M.Cb)({type:Number})],Z.prototype,"x",void 0),(0,E._)([(0,M.Cb)({type:Number})],Z.prototype,"y",void 0),(0,E._)([(0,M.Cb)({type:Number})],Z.prototype,"z",void 0),Z=j=(0,E._)([(0,B.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],Z);var G,I=_(41647);let W=G=class extends F.Z{constructor(S){super(S),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new G({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,E._)([(0,M.Cb)({type:I.b,json:{write:!0}})],W.prototype,"material",void 0),(0,E._)([(0,M.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],W.prototype,"castShadows",void 0),(0,E._)([(0,M.Cb)({type:T.k,json:{write:!0}})],W.prototype,"resource",void 0),(0,E._)([(0,H.J)({Object:"object"},{readOnly:!0})],W.prototype,"type",void 0),(0,E._)([(0,M.Cb)({type:Number,json:{write:!0}})],W.prototype,"width",void 0),(0,E._)([(0,M.Cb)({type:Number,json:{write:!0}})],W.prototype,"height",void 0),(0,E._)([(0,M.Cb)({type:Number,json:{write:!0}})],W.prototype,"depth",void 0),(0,E._)([(0,H.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,M.Cb)({json:{default:"origin"}})],W.prototype,"anchor",void 0),(0,E._)([(0,M.Cb)({type:Z,json:{type:[Number],read:{reader:S=>new Z({x:S[0],y:S[1],z:S[2]})},write:{writer:(S,N)=>{N.anchorPosition=[S.x,S.y,S.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],W.prototype,"anchorPosition",void 0),(0,E._)([(0,M.Cb)({type:Number,json:{write:!0}})],W.prototype,"heading",void 0),(0,E._)([(0,M.Cb)({type:Number,json:{write:!0}})],W.prototype,"tilt",void 0),(0,E._)([(0,M.Cb)({type:Number,json:{write:!0}})],W.prototype,"roll",void 0),(0,E._)([(0,M.Cb)({readOnly:!0})],W.prototype,"isPrimitive",null),W=G=(0,E._)([(0,B.j)("esri.symbols.ObjectSymbol3DLayer")],W);const A=W},42919:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var Z,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(21070)),B=_(62185),F=_(10141),T=_(78800),w=_(41647),j=_(58156);let I=Z=class extends T.Z{constructor(W){super(W),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(W,A){return W??(null==A.height&&null!=A.size?A.size:void 0)}readHeight(W,A){return W??(null==A.width&&null!=A.size?A.size:void 0)}clone(){return new Z({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,E._)([(0,M.Cb)({type:w.b,json:{write:!0}})],I.prototype,"material",void 0),(0,E._)([(0,M.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],I.prototype,"castShadows",void 0),(0,E._)([(0,H.J)({Path:"path"},{readOnly:!0})],I.prototype,"type",void 0),(0,E._)([(0,M.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],I.prototype,"profile",void 0),(0,E._)([(0,M.Cb)({type:j.w2,json:{write:!0,default:"miter"}})],I.prototype,"join",void 0),(0,E._)([(0,M.Cb)({type:j.KW,json:{write:!0,default:"butt"}})],I.prototype,"cap",void 0),(0,E._)([(0,M.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],I.prototype,"width",void 0),(0,E._)([(0,B.r)("width",["width","size","height"])],I.prototype,"readWidth",null),(0,E._)([(0,M.Cb)({type:Number,json:{write:!0}})],I.prototype,"height",void 0),(0,E._)([(0,B.r)("height",["height","size","width"])],I.prototype,"readHeight",null),(0,E._)([(0,M.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],I.prototype,"anchor",void 0),(0,E._)([(0,M.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],I.prototype,"profileRotation",void 0),I=Z=(0,E._)([(0,F.j)("esri.symbols.PathSymbol3DLayer")],I);const G=I},41391:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>I});var j,E=_(50484),M=_(34222),V=_(55768),x=_(80543),H=(_(1535),_(21070)),B=_(62185),F=_(10141),T=_(47326),w=_(43845);let Z=j=class extends T.Z{constructor(...G){super(...G),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(G,W,A){if(G&&"string"!=typeof G&&null==G.imageData)return G;const S={};return G&&(S.url=G),null!=W&&(S.width=(0,V.t_)(W)),null!=A&&(S.height=(0,V.t_)(A)),S}readHeight(G,W){return W.size||G}readWidth(G,W){return W.size||G}clone(){const G=new j({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return G._set("source",(0,M.d9)(this.source)),G}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,E._)([(0,x.Cb)({json:{write:!1}})],Z.prototype,"color",void 0),(0,E._)([(0,H.J)({esriPMS:"picture-marker"},{readOnly:!0})],Z.prototype,"type",void 0),(0,E._)([(0,x.Cb)(w.KA)],Z.prototype,"url",void 0),(0,E._)([(0,x.Cb)(w.Ds)],Z.prototype,"source",void 0),(0,E._)([(0,x.Cb)({type:Number,cast:V.t_,json:{write:!0}})],Z.prototype,"height",void 0),(0,E._)([(0,B.r)("height",["height","size"])],Z.prototype,"readHeight",null),(0,E._)([(0,x.Cb)({type:Number,cast:V.t_,json:{write:!0}})],Z.prototype,"width",void 0),(0,E._)([(0,x.Cb)({json:{write:!1}})],Z.prototype,"size",void 0),Z=j=(0,E._)([(0,F.j)("esri.symbols.PictureMarkerSymbol")],Z);const I=Z},31110:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>L});var A,E=_(50484),M=_(66599),V=_(83944),x=_(34222),P=_(80543),B=(_(1535),_(21070)),F=_(10141),T=_(86394),w=_(57093),j=_(15954),Z=_(2068),I=_(58223),G=_(99086),W=_(85581);const S=V.Z.ofType({base:null,key:"type",typeMap:{icon:T.Z,object:w.Z,text:Z.Z}});let N=A=class extends j.Z{constructor(O){super(O),this.verticalOffset=null,this.callout=null,this.symbolLayers=new S,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const O of this.symbolLayers.items)switch(O.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,I.gv)(this)}hasVisibleVerticalOffset(){return(0,I.Uy)(this)}clone(){return new A({verticalOffset:(0,x.d9)(this.verticalOffset),callout:(0,x.d9)(this.callout),styleOrigin:(0,x.d9)(this.styleOrigin),symbolLayers:(0,x.d9)(this.symbolLayers),thumbnail:(0,x.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(O){return new A({symbolLayers:new V.Z([T.Z.fromSimpleMarkerSymbol(O)])})}static fromPictureMarkerSymbol(O){return new A({symbolLayers:new V.Z([T.Z.fromPictureMarkerSymbol(O)])})}static fromCIMSymbol(O){if("CIMPointSymbol"!==O.data?.symbol?.type)return null;const K=O.data.symbol;return new A(K?.callout?{symbolLayers:new V.Z([T.Z.fromCIMSymbol(O)]),callout:new G.Z({size:.5,color:new M.Z([0,0,0])}),verticalOffset:new W.Z({screenLength:40})}:{symbolLayers:new V.Z([T.Z.fromCIMSymbol(O)])})}static fromTextSymbol(O){return new A({symbolLayers:new V.Z([Z.Z.fromTextSymbol(O)])})}};(0,E._)([(0,P.Cb)({type:W.Z,json:{write:!0}})],N.prototype,"verticalOffset",void 0),(0,E._)([(0,P.Cb)(I.Y2)],N.prototype,"callout",void 0),(0,E._)([(0,P.Cb)({type:S,json:{origins:{"web-scene":{write:!0}}}})],N.prototype,"symbolLayers",void 0),(0,E._)([(0,B.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],N.prototype,"type",void 0),N=A=(0,E._)([(0,F.j)("esri.symbols.PointSymbol3D")],N);const L=N},87137:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>K});var L,E=_(50484),M=_(83944),V=_(93300),x=_(34222),P=_(4703),H=_(77675),B=_(80543),T=(_(1535),_(21070)),w=_(10141),j=_(29295),Z=_(13714),I=_(86394),G=_(91729),W=_(57093),A=_(15954),S=_(2068),N=_(36856);const O=M.Z.ofType({base:null,key:"type",typeMap:{extrude:j.Z,fill:Z.Z,icon:I.Z,line:G.Z,object:W.Z,text:S.Z,water:N.Z}});let $=L=class extends A.Z{constructor(U){super(U),this.symbolLayers=new O,this.type="polygon-3d"}initialize(){const U=X=>{"line"===X.type&&(0,V.x9)(P.Z.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===X.type&&(0,V.x9)(P.Z.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const X of this.symbolLayers)U(X);this.addHandles((0,H.on)(()=>this.symbolLayers,"after-add",({item:X})=>U(X),H.Z_))}clone(){return new L({styleOrigin:(0,x.d9)(this.styleOrigin),symbolLayers:(0,x.d9)(this.symbolLayers),thumbnail:(0,x.d9)(this.thumbnail)})}static fromJSON(U){const X=new L;if(X.read(U),2===X.symbolLayers.length&&"fill"===X.symbolLayers.at(0).type&&"line"===X.symbolLayers.at(1).type){const Y=X.symbolLayers.at(0),oe=X.symbolLayers.at(1);!oe.enabled||U.symbolLayers?.[1]&&!1===U.symbolLayers[1].enable||(Y.outline={size:oe.size,color:null!=oe.material?oe.material.color:null}),X.symbolLayers.removeAt(1)}return X}static fromSimpleFillSymbol(U){return new L({symbolLayers:new M.Z([Z.Z.fromSimpleFillSymbol(U)])})}};(0,E._)([(0,B.Cb)({type:O,json:{write:!0}})],$.prototype,"symbolLayers",void 0),(0,E._)([(0,T.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],$.prototype,"type",void 0),$=L=(0,E._)([(0,w.j)("esri.symbols.PolygonSymbol3D")],$);const K=$},89481:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var j,E=_(50484),M=_(66599),V=_(84303),x=_(34222),P=_(80543),B=(_(1535),_(21070)),F=_(10141),T=_(22225),w=_(66637);const Z=new V.X({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let I=j=class extends T.Z{constructor(...W){super(...W),this.color=new M.Z([0,0,0,.25]),this.outline=new w.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(W,A,S){if(W&&"string"!=typeof W)return W;const N={};return W&&(N.style=W),A&&(N.outline=A),S&&(N.color=S),N}clone(){return new j({color:(0,x.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,E._)([(0,P.Cb)()],I.prototype,"color",void 0),(0,E._)([(0,P.Cb)()],I.prototype,"outline",void 0),(0,E._)([(0,B.J)({esriSFS:"simple-fill"},{readOnly:!0})],I.prototype,"type",void 0),(0,E._)([(0,P.Cb)({type:Z.apiValues,json:{read:Z.read,write:Z.write}})],I.prototype,"style",void 0),I=j=(0,E._)([(0,F.j)("esri.symbols.SimpleFillSymbol")],I);const G=I},66637:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Y});var E=_(50484),M=_(84303),V=_(34222),x=_(55768),P=_(80543),B=(_(1535),_(21070)),F=_(10141),j=(_(57678),_(14007),_(85601));let Z=class extends j.Z{constructor(oe){super(oe),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,E._)([(0,B.J)({esriSLS:"simple-line"},{readOnly:!0})],Z.prototype,"type",void 0),(0,E._)([(0,P.Cb)({type:Number,cast:x.t_,json:{write:!0}})],Z.prototype,"width",void 0),Z=(0,E._)([(0,F.j)("esri.symbols.LineSymbol")],Z);const I=Z;var L,G=_(66599),W=_(89317),A=_(62185),S=_(7547),N=_(30930);let O=L=class extends W.wq{constructor(oe){super(oe),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(oe,ne,se,te){ne[se]="web-map"===te?.origin?"arrow":oe}set color(oe){this._set("color",oe)}readColor(oe){return null!=oe?.[0]?[oe[0],oe[1],oe[2],oe[3]/255]:oe}writeColor(oe,ne,se,te){"web-map"===te?.origin||(ne[se]=oe)}clone(){return new L({color:(0,V.d9)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,E._)([(0,P.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],O.prototype,"placement",void 0),(0,E._)([(0,B.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,P.Cb)({json:{origins:{"web-map":{write:!1}}}})],O.prototype,"type",void 0),(0,E._)([(0,P.Cb)({type:N.k})],O.prototype,"style",void 0),(0,E._)([(0,S.c)("style")],O.prototype,"writeStyle",null),(0,E._)([(0,P.Cb)({type:G.Z,value:null,json:{write:{allowNull:!0}}})],O.prototype,"color",null),(0,E._)([(0,A.r)("color")],O.prototype,"readColor",null),(0,E._)([(0,S.c)("color")],O.prototype,"writeColor",null),O=L=(0,E._)([(0,F.j)("esri.symbols.LineSymbolMarker")],O);const $=O;var K;const U=new M.X({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let X=K=class extends I{constructor(...oe){super(...oe),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(oe,ne,se,te,k,re){if(oe&&"string"!=typeof oe)return oe;const Q={};return null!=oe&&(Q.style=oe),null!=ne&&(Q.color=ne),null!=se&&(Q.width=(0,x.t_)(se)),null!=te&&(Q.cap=te),null!=k&&(Q.join=k),null!=re&&(Q.miterLimit=(0,x.t_)(re)),Q}clone(){return new K({color:(0,V.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,E._)([(0,B.J)({esriSLS:"simple-line"},{readOnly:!0})],X.prototype,"type",void 0),(0,E._)([(0,P.Cb)({type:U.apiValues,json:{read:U.read,write:U.write}})],X.prototype,"style",void 0),(0,E._)([(0,P.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(oe,ne,se)=>({enabled:"round"!==oe&&null==se?.origin})}}})],X.prototype,"cap",void 0),(0,E._)([(0,P.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(oe,ne,se)=>({enabled:"round"!==oe&&null==se?.origin})}}})],X.prototype,"join",void 0),(0,E._)([(0,P.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":$}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],X.prototype,"marker",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{read:!1,write:!1}})],X.prototype,"miterLimit",void 0),X=K=(0,E._)([(0,F.j)("esri.symbols.SimpleLineSymbol")],X);const Y=X},35451:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>A});var I,E=_(50484),M=_(66599),V=_(84303),x=_(34222),P=_(55768),H=_(80543),F=(_(1535),_(21070)),T=_(10141),w=_(7547),j=_(47326),Z=_(66637);const G=new V.X({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let W=I=class extends j.Z{constructor(...S){super(...S),this.color=new M.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Z.Z}normalizeCtorArgs(S,N,L,O){if(S&&"string"!=typeof S)return S;const $={};return S&&($.style=S),null!=N&&($.size=(0,P.t_)(N)),L&&($.outline=L),O&&($.color=O),$}writeColor(S,N){S&&"x"!==this.style&&"cross"!==this.style&&(N.color=S.toJSON()),null===S&&(N.color=null)}set path(S){this.style="path",this._set("path",S)}clone(){return new I({angle:this.angle,color:(0,x.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,E._)([(0,H.Cb)()],W.prototype,"color",void 0),(0,E._)([(0,w.c)("color")],W.prototype,"writeColor",null),(0,E._)([(0,F.J)({esriSMS:"simple-marker"},{readOnly:!0})],W.prototype,"type",void 0),(0,E._)([(0,H.Cb)()],W.prototype,"size",void 0),(0,E._)([(0,H.Cb)({type:G.apiValues,json:{read:G.read,write:G.write}})],W.prototype,"style",void 0),(0,E._)([(0,H.Cb)({type:String,json:{write:!0}})],W.prototype,"path",null),(0,E._)([(0,H.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Z.Z}},json:{default:null,write:!0}})],W.prototype,"outline",void 0),W=I=(0,E._)([(0,T.j)("esri.symbols.SimpleMarkerSymbol")],W);const A=W},85601:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>W});var E=_(15861),M=_(50484),V=_(66599),x=_(84303),P=_(89317),H=_(80543),w=(_(1535),_(57678),_(14007),_(62185)),j=_(10141);const Z=new x.X({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let I=0,G=class extends P.wq{constructor(A){super(A),this.id="sym"+I++,this.type=null,this.color=new V.Z([0,0,0,1])}readColor(A){return null!=A?.[0]?[A[0],A[1],A[2],A[3]/255]:A}collectRequiredFields(A,S){return(0,E.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,M._)([(0,H.Cb)({type:Z.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Z.write}}})],G.prototype,"type",void 0),(0,M._)([(0,H.Cb)({type:V.Z,json:{write:{allowNull:!0}}})],G.prototype,"color",void 0),(0,M._)([(0,w.r)("color")],G.prototype,"readColor",null),G=(0,M._)([(0,j.j)("esri.symbols.Symbol")],G);const W=G},15954:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>re});var E=_(50484),M=_(83944),V=_(18626),x=_(4703),P=_(6785),H=_(23206),B=_(80543),F=_(73018),j=(_(57678),_(14007),_(62185)),Z=_(10141),I=_(7547),G=_(61018),W=_(19677),A=_(29295),S=_(13714),N=_(86394),L=_(91729),O=_(57093),$=_(42919),K=_(85601),U=_(78800),X=_(2068),Y=_(36856),oe=_(97888),ne=_(16497);const se={icon:N.Z,object:O.Z,line:L.Z,path:$.Z,fill:S.Z,extrude:A.Z,text:X.Z,water:Y.Z},te=M.Z.ofType({base:U.Z,key:"type",typeMap:se,errorContext:"symbol-layer"});let k=class extends K.Z{constructor(Q){super(Q),this.styleOrigin=null,this.thumbnail=null,this.type=null;const pe=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,fe=pe?.type;this._set("symbolLayers",new(fe||M.Z))}get color(){return null}set color(Q){this.constructed&&x.Z.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(Q){(0,V.Z)(Q,this._get("symbolLayers"))}readStyleOrigin(Q,pe,fe){if(Q.styleUrl&&Q.name){const ce=(0,W.f)(Q.styleUrl,fe);return new oe.Z({styleUrl:ce,name:Q.name})}if(Q.styleName&&Q.name)return new oe.Z({portal:fe?.portal||G.Z.getDefault(),styleName:Q.styleName,name:Q.name});fe?.messages&&fe.messages.push(new H.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:fe,definition:Q}))}writeStyleOrigin(Q,pe,fe,ce){if(Q.styleUrl&&Q.name){let q=(0,W.t)(Q.styleUrl,ce);(0,P.YP)(q)&&(q=(0,P.Fv)(q)),pe.styleOrigin={styleUrl:q,name:Q.name}}else Q.styleName&&Q.name&&(Q.portal&&ce?.portal&&!(0,P.tm)(Q.portal.restUrl,ce.portal.restUrl)?ce?.messages&&ce.messages.push(new H.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):pe.styleOrigin={styleName:Q.styleName,name:Q.name})}normalizeCtorArgs(Q){return Q instanceof U.Z||Q&&se[Q.type]?{symbolLayers:[Q]}:Array.isArray(Q)?{symbolLayers:Q}:Q}};(0,E._)([(0,B.Cb)({json:{read:!1,write:!1}})],k.prototype,"color",null),(0,E._)([(0,B.Cb)({type:te,nonNullable:!0,json:{write:!0}}),(0,F.p)(V.R)],k.prototype,"symbolLayers",null),(0,E._)([(0,B.Cb)({type:oe.Z})],k.prototype,"styleOrigin",void 0),(0,E._)([(0,j.r)("styleOrigin")],k.prototype,"readStyleOrigin",null),(0,E._)([(0,I.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],k.prototype,"writeStyleOrigin",null),(0,E._)([(0,B.Cb)({type:ne.p,json:{read:!1}})],k.prototype,"thumbnail",void 0),(0,E._)([(0,B.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],k.prototype,"type",void 0),k=(0,E._)([(0,Z.j)("esri.symbols.Symbol3D")],k);const re=k},78800:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(7547);let T=class extends M.wq{constructor(j){super(j),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(j,Z,I){j||(Z[I]=j)}};(0,E._)([(0,V.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],T.prototype,"enabled",void 0),(0,E._)([(0,F.c)("enabled")],T.prototype,"writeEnabled",null),(0,E._)([(0,V.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],T.prototype,"type",void 0),T=(0,E._)([(0,B.j)("esri.symbols.Symbol3DLayer")],T);const w=T},52248:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>W});var I,E=_(50484),M=_(66599),V=_(34222),x=_(55768),P=_(80543),H=_(73018),B=_(21070),F=_(10141),T=_(7547),w=_(14890),j=_(85601),Z=_(52759);let G=I=class extends j.Z{constructor(...A){super(...A),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new w.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(A,S,N){if(A&&"string"!=typeof A)return A;const L={};return A&&(L.text=A),S&&(L.font=S),N&&(L.color=N),L}writeLineWidth(A,S,N,L){L&&"string"!=typeof L||(S[N]=A)}castLineWidth(A){return(0,x.t_)(A)}writeLineHeight(A,S,N,L){L&&"string"!=typeof L||(S[N]=A)}clone(){return new I({angle:this.angle,backgroundColor:(0,V.d9)(this.backgroundColor),borderLineColor:(0,V.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,V.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,V.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,E._)([(0,P.Cb)({type:M.Z,json:{write:!0}})],G.prototype,"backgroundColor",void 0),(0,E._)([(0,P.Cb)({type:M.Z,json:{write:!0}})],G.prototype,"borderLineColor",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0},cast:x.t_})],G.prototype,"borderLineSize",void 0),(0,E._)([(0,P.Cb)({type:w.Z,json:{write:!0}})],G.prototype,"font",void 0),(0,E._)([(0,P.Cb)({...Z.x0,json:{write:!0}})],G.prototype,"horizontalAlignment",void 0),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:!0}})],G.prototype,"kerning",void 0),(0,E._)([(0,P.Cb)({type:M.Z,json:{write:!0}})],G.prototype,"haloColor",void 0),(0,E._)([(0,P.Cb)({type:Number,cast:x.t_,json:{write:!0}})],G.prototype,"haloSize",void 0),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:!0}})],G.prototype,"rightToLeft",void 0),(0,E._)([(0,P.Cb)({type:Boolean,json:{write:!0}})],G.prototype,"rotated",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],G.prototype,"text",void 0),(0,E._)([(0,B.J)({esriTS:"text"},{readOnly:!0})],G.prototype,"type",void 0),(0,E._)([(0,P.Cb)({...Z.Nj,json:{write:!0}})],G.prototype,"verticalAlignment",void 0),(0,E._)([(0,P.Cb)({type:Number,cast:x.t_,json:{write:!0}})],G.prototype,"xoffset",void 0),(0,E._)([(0,P.Cb)({type:Number,cast:x.t_,json:{write:!0}})],G.prototype,"yoffset",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{read:A=>A&&-1*A,write:(A,S)=>S.angle=A&&-1*A}})],G.prototype,"angle",void 0),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],G.prototype,"width",void 0),(0,E._)([(0,P.Cb)({type:Number})],G.prototype,"lineWidth",void 0),(0,E._)([(0,T.c)("lineWidth")],G.prototype,"writeLineWidth",null),(0,E._)([(0,H.p)("lineWidth")],G.prototype,"castLineWidth",null),(0,E._)([(0,P.Cb)(Z.Ck)],G.prototype,"lineHeight",void 0),(0,E._)([(0,T.c)("lineHeight")],G.prototype,"writeLineHeight",null),G=I=(0,E._)([(0,F.j)("esri.symbols.TextSymbol")],G);const W=G},2068:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>X});var I,E=_(50484),M=_(34222),V=_(80543),P=(_(1535),_(21070)),H=_(10141),B=_(7547),F=_(14890),T=_(78800),w=_(34895),j=_(66599),Z=_(89317);let G=I=class extends Z.wq{constructor(){super(...arguments),this.color=new j.Z([0,0,0,1]),this.size=0}clone(){const Y={color:(0,M.d9)(this.color),size:this.size};return new I(Y)}};(0,E._)([(0,V.Cb)(w.a)],G.prototype,"color",void 0),(0,E._)([(0,V.Cb)(w.y)],G.prototype,"size",void 0),G=I=(0,E._)([(0,H.j)("esri.symbols.support.Symbol3DHalo")],G);var W=_(41647),A=_(25387);_(57678),_(14007);let L=class extends((0,A.J)(Z.wq)){constructor(Y){super(Y),this.color=null}};(0,E._)([(0,V.Cb)(w.a)],L.prototype,"color",void 0),L=(0,E._)([(0,H.j)("esri.symbols.support.Symbol3DTextBackground")],L);var $,O=_(52759);let K=$=class extends T.Z{constructor(Y){super(Y),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(Y){null!=Y&&null!=this._userSize&&(Y.size=this._userSize),this._set("font",Y)}writeFont(Y,oe,ne,se){const te={...se,textSymbol3D:!0};oe.font=Y.write({},te),delete oe.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(Y){this._userSize=Y,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const Y=new $({enabled:this.enabled,font:this.font&&(0,M.d9)(this.font),halo:this.halo&&(0,M.d9)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,M.d9)(this.background)});return Y._userSize=this._userSize,Y}static fromTextSymbol(Y){return new $({font:null!=Y.font?Y.font.clone():new F.Z,halo:U(Y.haloColor,Y.haloSize),horizontalAlignment:Y.horizontalAlignment,lineHeight:Y.lineHeight,material:Y.color?new W.b({color:Y.color.clone()}):null,text:Y.text,verticalAlignment:Y.verticalAlignment,background:Y.backgroundColor?new L({color:Y.backgroundColor.clone()}):null})}};function U(Y,oe){return Y&&null!=oe&&oe>0?new G({color:(0,M.d9)(Y),size:oe}):null}(0,E._)([(0,V.Cb)({type:F.Z,json:{write:!0}})],K.prototype,"font",null),(0,E._)([(0,B.c)("font")],K.prototype,"writeFont",null),(0,E._)([(0,V.Cb)({type:G,json:{write:!0}})],K.prototype,"halo",void 0),(0,E._)([(0,V.Cb)({...O.x0,json:{default:"center",write:!0}})],K.prototype,"horizontalAlignment",void 0),(0,E._)([(0,V.Cb)({...O.Ck,json:{default:1,write:!0}})],K.prototype,"lineHeight",void 0),(0,E._)([(0,V.Cb)({type:W.b,json:{write:!0}})],K.prototype,"material",void 0),(0,E._)([(0,V.Cb)({type:L,json:{write:!0}})],K.prototype,"background",void 0),(0,E._)([(0,V.Cb)(w.y)],K.prototype,"size",null),(0,E._)([(0,V.Cb)({type:String,json:{write:!0}})],K.prototype,"text",void 0),(0,E._)([(0,P.J)({Text:"text"},{readOnly:!0})],K.prototype,"type",void 0),(0,E._)([(0,V.Cb)({...O.Nj,json:{default:"baseline",write:!0}})],K.prototype,"verticalAlignment",void 0),K=$=(0,E._)([(0,H.j)("esri.symbols.TextSymbol3DLayer")],K);const X=K},36856:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>Z});var T,E=_(50484),M=_(66599),V=_(34222),x=_(80543),P=_(1535),H=_(21070),B=_(10141),F=_(78800);let w=T=class extends F.Z{constructor(I){super(I),this.color=j.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new T({color:(0,V.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,E._)([(0,x.Cb)({type:M.Z,nonNullable:!0,json:{type:[P.z8],write:(I,G,W)=>G[W]=I.toArray(M.Z.AlphaMode.UNLESS_OPAQUE),default:()=>j.clone(),defaultEquals:I=>I.toCss(!0)===j.toCss(!0)}})],w.prototype,"color",void 0),(0,E._)([(0,H.J)({Water:"water"},{readOnly:!0})],w.prototype,"type",void 0),(0,E._)([(0,x.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],w.prototype,"waterbodySize",void 0),(0,E._)([(0,x.Cb)({type:Number,json:{write:!0,default:null}})],w.prototype,"waveDirection",void 0),(0,E._)([(0,x.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],w.prototype,"waveStrength",void 0),w=T=(0,E._)([(0,B.j)("esri.symbols.WaterSymbol3DLayer")],w);const j=new M.Z([0,119,190]),Z=w},80121:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>S});var W,E=_(15861),M=_(50484),V=_(4703),x=_(79412),P=_(80543),T=(_(1535),_(57678),_(14007),_(21070)),w=_(10141),j=_(61018),Z=_(19677),I=_(85601),G=_(16497);let A=W=class extends I.Z{constructor(N){super(N),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const N=null!=this.portal?this.portal:j.Z.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${N.user?N.user.username:null}:${N.url}`}read(N,L){this.portal=L?.portal,super.read(N,L)}clone(){return new W({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(N){return this._fetchSymbol("webRef",N)}fetchCIMSymbol(N){return this._fetchSymbol("cimRef",N)}_fetchSymbol(N,L){var O=this;return(0,E.Z)(function*(){const $=null!=L?L.cache:null,K=$?O._fetchCacheKey:null;if(null!=$){const oe=K&&$.get(K);if(oe)return oe.clone()}const{resolveWebStyleSymbol:U}=yield _.e(8592).then(_.bind(_,76945));(0,x.k_)(L);const X=U(O,{portal:O.portal},N,L);X.catch(oe=>{V.Z.getLogger(O).error("#fetchSymbol()","Failed to create symbol from style",oe)});const Y=yield X;return"webRef"===N&&"point-3d"===Y.type||"cimRef"===N&&"cim"===Y.type?($?.set(K,Y.clone()),Y):null})()}};(0,M._)([(0,P.Cb)({json:{write:!1}})],A.prototype,"color",void 0),(0,M._)([(0,P.Cb)({type:String,json:{write:!0}})],A.prototype,"styleName",void 0),(0,M._)([(0,P.Cb)({type:j.Z,json:{write:!1}})],A.prototype,"portal",void 0),(0,M._)([(0,P.Cb)({type:String,json:{read:Z.r,write:Z.w}})],A.prototype,"styleUrl",void 0),(0,M._)([(0,P.Cb)({type:G.p,json:{read:!1}})],A.prototype,"thumbnail",void 0),(0,M._)([(0,P.Cb)({type:String,json:{write:!0}})],A.prototype,"name",void 0),(0,M._)([(0,T.J)({styleSymbolReference:"web-style"},{readOnly:!0})],A.prototype,"type",void 0),(0,M._)([(0,P.Cb)()],A.prototype,"_fetchCacheKey",null),A=W=(0,M._)([(0,w.j)("esri.symbols.WebStyleSymbol")],A);const S=A},17820:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w),this.visible=!0}clone(){}};(0,E._)([(0,V.Cb)({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],F.prototype,"type",void 0),(0,E._)([(0,V.Cb)({readOnly:!0})],F.prototype,"visible",void 0),F=(0,E._)([(0,B.j)("esri.symbols.callouts.Callout3D")],F);const T=F},99086:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var Z,E=_(50484),M=_(66599),V=_(34222),x=_(55768),P=_(80543),B=(_(1535),_(21070)),F=_(10141),T=_(17820),w=_(84699),j=_(34895);let I=Z=class extends T.Z{constructor(W){super(W),this.type="line",this.color=new M.Z([0,0,0,1]),this.size=(0,x.Wz)(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new Z({color:(0,V.d9)(this.color),size:this.size,border:(0,V.d9)(this.border)})}};(0,E._)([(0,B.J)({line:"line"})],I.prototype,"type",void 0),(0,E._)([(0,P.Cb)(j.a)],I.prototype,"color",void 0),(0,E._)([(0,P.Cb)(j.y)],I.prototype,"size",void 0),(0,E._)([(0,P.Cb)({type:w.Z,json:{write:!0}})],I.prototype,"border",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],I.prototype,"visible",null),I=Z=(0,E._)([(0,F.j)("esri.symbols.callouts.LineCallout3D")],I);const G=I},84699:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(66599),V=_(89317),x=_(34222),P=_(80543),B=(_(1535),_(10141)),F=_(34895);let w=T=class extends V.wq{constructor(Z){super(Z),this.color=new M.Z("white")}clone(){return new T({color:(0,x.d9)(this.color)})}};(0,E._)([(0,P.Cb)(F.a)],w.prototype,"color",void 0),w=T=(0,E._)([(0,B.j)("esri.symbols.callouts.LineCallout3DBorder")],w);const j=w},58223:(Ze,me,_)=>{"use strict";_.d(me,{Uy:()=>V,Y2:()=>B,gv:()=>x});var E=_(17820),M=_(99086);function V(F){if(!F)return!1;const T=F.verticalOffset;return!!T&&!(T.screenLength<=0||null!=T.maxWorldLength&&T.maxWorldLength<=0)}function x(F){if(!F||!F.supportsCallout||!F.supportsCallout())return!1;const T=F.callout;return!!T&&!!T.visible&&!!V(F)}const B={types:{key:"type",base:E.Z,typeMap:{line:M.Z}},json:{write:!0}}},43931:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>U});var E=_(50484),M=_(66599),V=_(89317),x=_(34222),P=_(55768),H=_(80543),F=(_(1535),_(10141)),T=_(34895);let w=class extends V.wq{constructor(X){super(X),this.color=new M.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,P.Wz)(1)}clone(){}cloneProperties(){return{color:(0,x.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,E._)([(0,H.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],w.prototype,"type",void 0),(0,E._)([(0,H.Cb)(T.a)],w.prototype,"color",void 0),(0,E._)([(0,H.Cb)({...T.y,json:{write:{overridePolicy:X=>({enabled:!!X})}}})],w.prototype,"extensionLength",void 0),(0,E._)([(0,H.Cb)(T.y)],w.prototype,"size",void 0),w=(0,E._)([(0,F.j)("esri.symbols.edges.Edges3D")],w);const j=w;_(4703),_(57678),_(14007),_(57964);var S,A=_(21070);let N=S=class extends j{constructor(X){super(X),this.type="sketch"}clone(){return new S(this.cloneProperties())}};(0,E._)([(0,A.J)({sketch:"sketch"},{readOnly:!0})],N.prototype,"type",void 0),N=S=(0,E._)([(0,F.j)("esri.symbols.edges.SketchEdges3D")],N);const L=N;var O;let $=O=class extends j{constructor(X){super(X),this.type="solid"}clone(){return new O(this.cloneProperties())}};(0,E._)([(0,A.J)({solid:"solid"},{readOnly:!0})],$.prototype,"type",void 0),$=O=(0,E._)([(0,F.j)("esri.symbols.support.SolidEdges3D")],$);const U={types:{key:"type",base:j,typeMap:{solid:$,sketch:L}},json:{write:!0}}},40911:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w)}clone(){}};(0,E._)([(0,V.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],F.prototype,"type",void 0),F=(0,E._)([(0,B.j)("esri.symbols.patterns.LinePattern3D")],F);const T=F},3019:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var j,E=_(50484),M=_(84303),V=_(80543),B=(_(1535),_(57678),_(14007),_(21070)),F=_(10141),T=_(40911);const Z=(0,M.w)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let I=j=class extends T.Z{constructor(W){super(W),this.type="style",this.style="solid"}clone(){return new j({style:this.style})}};(0,E._)([(0,V.Cb)({type:["style"]})],I.prototype,"type",void 0),(0,E._)([(0,B.J)(Z),(0,V.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],I.prototype,"style",void 0),I=j=(0,E._)([(0,F.j)("esri.symbols.patterns.LineStylePattern3D")],I);const G=I},17694:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>T});var E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let F=class extends M.wq{constructor(w){super(w)}clone(){}};(0,E._)([(0,V.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],F.prototype,"type",void 0),F=(0,E._)([(0,B.j)("esri.symbols.patterns.Pattern3D")],F);const T=F},90646:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(80543),H=(_(1535),_(57678),_(14007),_(10141)),B=_(17694);let w=T=class extends B.Z{constructor(Z){super(Z),this.type="style",this.style="solid"}clone(){return new T({style:this.style})}};(0,E._)([(0,M.Cb)({type:["style"]})],w.prototype,"type",void 0),(0,E._)([(0,M.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],w.prototype,"style",void 0),w=T=(0,E._)([(0,H.j)("esri.symbols.patterns.StylePattern3D")],w);const j=w},76214:(Ze,me,_)=>{"use strict";_.d(me,{D:()=>H,q:()=>P});var E=_(40911),M=_(3019),V=_(17694),x=_(90646);const P={types:{key:"type",base:V.Z,typeMap:{style:x.Z}},json:{write:!0}},H={types:{key:"type",base:E.Z,typeMap:{style:M.Z}},json:{write:!0}}},86516:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>K});var G,E=_(50484),M=_(84303),V=_(89317),x=_(51172),P=_(80543),T=(_(1535),_(57678),_(14007),_(62185)),w=_(10141),j=_(7547),Z=_(15861),I=_(85295);let W=G=class extends V.wq{constructor(U){super(U)}collectRequiredFields(U,X){var Y=this;return(0,Z.Z)(function*(){return(0,I.io)(U,X,Y.expression)})()}clone(){return new G({expression:this.expression,title:this.title})}equals(U){return this.expression===U.expression&&this.title===U.title}};(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],W.prototype,"expression",void 0),(0,E._)([(0,P.Cb)({type:String,json:{write:!0}})],W.prototype,"title",void 0),W=G=(0,E._)([(0,w.j)("esri.layers.support.FeatureExpressionInfo")],W);const A=W;var N,S=_(1678);const L=(0,M.w)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),O=new M.X({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let $=N=class extends V.wq{constructor(U){super(U),this.offset=null}readFeatureExpressionInfo(U,X){return U??(X.featureExpression&&0===X.featureExpression.value?{expression:"0"}:void 0)}writeFeatureExpressionInfo(U,X,Y,oe){X[Y]=U.write({},oe),"0"===U.expression&&(X.featureExpression={value:0})}get mode(){const{offset:U,featureExpressionInfo:X}=this;return this._isOverridden("mode")?this._get("mode"):null!=U||X?"relative-to-ground":"on-the-ground"}set mode(U){this._override("mode",U)}set unit(U){this._set("unit",U)}write(U,X){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(U,X):null}clone(){return new N({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(U){return this.mode===U.mode&&this.offset===U.offset&&this.unit===U.unit&&(0,x._W)(this.featureExpressionInfo,U.featureExpressionInfo)}};(0,E._)([(0,P.Cb)({type:A,json:{write:!0}})],$.prototype,"featureExpressionInfo",void 0),(0,E._)([(0,T.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],$.prototype,"readFeatureExpressionInfo",null),(0,E._)([(0,j.c)("featureExpressionInfo",{featureExpressionInfo:{type:A},"featureExpression.value":{type:[0]}})],$.prototype,"writeFeatureExpressionInfo",null),(0,E._)([(0,P.Cb)({type:L.apiValues,nonNullable:!0,json:{type:L.jsonValues,read:L.read,write:{writer:L.write,isRequired:!0}}})],$.prototype,"mode",null),(0,E._)([(0,P.Cb)({type:Number,json:{write:!0}})],$.prototype,"offset",void 0),(0,E._)([(0,P.Cb)({type:S.f9,json:{type:String,read:O.read,write:O.write}})],$.prototype,"unit",null),$=N=(0,E._)([(0,w.j)("esri.layers.support.ElevationInfo")],$);const K=$},81218:(Ze,me,_)=>{"use strict";_.d(me,{S:()=>S,b:()=>A});var G,E=_(50484),M=_(84303),V=_(89317),x=_(6785),P=_(80543),T=(_(1535),_(57678),_(14007),_(21070)),w=_(62185),j=_(10141),Z=_(7547),I=_(19677);const W=(0,M.w)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let A=G=class extends V.wq{constructor(N){super(N)}readHref(N,L,O){return N?(0,I.f)(N,O):L.dataURI}writeHref(N,L,O,$){N&&((0,x.HK)(N)?L.dataURI=N:(L.href=(0,I.t)(N,$),(0,x.YP)(L.href)&&(L.href=(0,x.Fv)(L.href))))}clone(){return new G({href:this.href,primitive:this.primitive})}};(0,E._)([(0,P.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],A.prototype,"href",void 0),(0,E._)([(0,w.r)("href")],A.prototype,"readHref",null),(0,E._)([(0,Z.c)("href",{href:{type:String},dataURI:{type:String}})],A.prototype,"writeHref",null),(0,E._)([(0,T.J)(W)],A.prototype,"primitive",void 0),A=G=(0,E._)([(0,j.j)("esri.symbols.support.IconSymbol3DLayerResource")],A);const S="circle"},85497:(Ze,me,_)=>{"use strict";_.d(me,{S:()=>G,k:()=>I});var j,E=_(50484),M=_(84303),V=_(89317),x=_(80543),F=(_(1535),_(57678),_(14007),_(21070)),T=_(10141),w=_(19677);const Z=(0,M.w)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let I=j=class extends V.wq{clone(){return new j({href:this.href,primitive:this.primitive})}};(0,E._)([(0,x.Cb)({type:String,json:{read:w.r,write:w.w}})],I.prototype,"href",void 0),(0,E._)([(0,F.J)(Z)],I.prototype,"primitive",void 0),I=j=(0,E._)([(0,T.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],I);const G="sphere"},97888:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(73514),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(61018);let w=T=class extends M.Z{constructor(Z){super(Z),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new T({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,E._)([(0,V.Cb)({type:String})],w.prototype,"name",void 0),(0,E._)([(0,V.Cb)({type:String})],w.prototype,"styleUrl",void 0),(0,E._)([(0,V.Cb)({type:String})],w.prototype,"styleName",void 0),(0,E._)([(0,V.Cb)({type:F.Z})],w.prototype,"portal",void 0),w=T=(0,E._)([(0,B.j)("esri.symbols.support.StyleOrigin")],w);const j=w},94970:(Ze,me,_)=>{"use strict";_.d(me,{e:()=>T});var F,E=_(50484),M=_(73514),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let T=F=class extends M.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new F({x:this.x,y:this.y})}};(0,E._)([(0,V.Cb)({type:Number})],T.prototype,"x",void 0),(0,E._)([(0,V.Cb)({type:Number})],T.prototype,"y",void 0),T=F=(0,E._)([(0,B.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],T)},41647:(Ze,me,_)=>{"use strict";_.d(me,{b:()=>w});var T,E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(34895);let w=T=class extends M.wq{constructor(j){super(j),this.color=null}clone(){const j={color:null!=this.color?this.color.clone():null};return new T(j)}};(0,E._)([(0,V.Cb)(F.a)],w.prototype,"color",void 0),w=T=(0,E._)([(0,B.j)("esri.symbols.support.Symbol3DMaterial")],w)},85581:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var T,E=_(50484),M=_(89317),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141)),F=_(34895);let w=T=class extends M.wq{constructor(Z){super(Z),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new T({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,E._)([(0,V.Cb)(F.y)],w.prototype,"screenLength",void 0),(0,E._)([(0,V.Cb)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],w.prototype,"minWorldLength",void 0),(0,E._)([(0,V.Cb)({type:Number,json:{write:!0}})],w.prototype,"maxWorldLength",void 0),w=T=(0,E._)([(0,B.j)("esri.symbols.support.Symbol3DVerticalOffset")],w);const j=w},16497:(Ze,me,_)=>{"use strict";_.d(me,{p:()=>T});var F,E=_(50484),M=_(73514),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));let T=F=class extends M.Z{constructor(){super(...arguments),this.url=""}clone(){return new F({url:this.url})}};(0,E._)([(0,V.Cb)({type:String})],T.prototype,"url",void 0),T=F=(0,E._)([(0,B.j)("esri.symbols.support.Thumbnail")],T)},72438:(Ze,me,_)=>{"use strict";_.d(me,{ix:()=>M,l9:()=>x,rx:()=>P});var E=_(66599);const M=new E.Z("white"),x=(new E.Z("black"),new E.Z([255,255,255,0]));function P(H){return 0===H.r&&0===H.g&&0===H.b}},26981:(Ze,me,_)=>{"use strict";_.d(me,{CJ:()=>F,G:()=>Z,Rz:()=>w,kD:()=>G,mW:()=>I,xA:()=>B,z3:()=>T}),_(14007);var M=_(89481),V=_(66637),x=_(35451),P=_(52248),H=_(19579);const B=x.Z.fromJSON(H.I4),F=V.Z.fromJSON(H.ET),T=M.Z.fromJSON(H.lF),w=P.Z.fromJSON(H.qP),Z=x.Z.fromJSON(H.eG),I=V.Z.fromJSON(H.wW),G=M.Z.fromJSON(H.lj)},19579:(Ze,me,_)=>{"use strict";_.d(me,{ET:()=>x,I4:()=>V,eG:()=>B,lF:()=>P,lj:()=>T,qP:()=>H,wW:()=>F});const E=[252,146,31,255],V={type:"esriSMS",style:"esriSMSCircle",size:6,color:E,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},x={type:"esriSLS",style:"esriSLSSolid",width:.75,color:E},P={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},H={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},B={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},F={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},T={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},27399:(Ze,me,_)=>{"use strict";_.d(me,{im:()=>K,cW:()=>N,vX:()=>L});var E=_(71950),M=_(57964),V=_(85971),x=_(15954),P=_(80121),H=_(31110),B=_(66637),F=_(92227),T=_(35451),w=_(41391),j=_(89481),Z=_(75771),I=_(87137),G=_(52248),W=_(82108);const A={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function N(U,X,Y,oe){const ne=$(U,{},{context:oe,isLabelSymbol:!1});null!=ne&&(X[Y]=ne)}function L(U,X,Y,oe){const ne=$(U,{},{context:oe,isLabelSymbol:!0});null!=ne&&(X[Y]=ne)}function O(U){return U instanceof x.Z||U instanceof P.Z}function $(U,X,Y){if(null==U)return null;const{context:oe,isLabelSymbol:ne}=Y,se=oe?.origin,te=oe?.messages;if("web-scene"===se&&!O(U)){const k=function S(U,X=A){if(!U)return{symbol:null};const{retainId:Y=A.retainId,ignoreDrivers:oe=A.ignoreDrivers,hasLabelingContext:ne=A.hasLabelingContext,retainCIM:se=A.retainCIM}=X;let te=null;if((0,E.dU)(U)||U instanceof P.Z)te=U.clone();else if("cim"===U.type){const k=U.data?.symbol?.type;if("CIMPointSymbol"!==k)return{error:new M.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${k||"unknown"}' is unsupported in 3D`,{symbol:U})};te=se?U.clone():H.Z.fromCIMSymbol(U)}else if(U instanceof B.Z)te=F.Z.fromSimpleLineSymbol(U);else if(U instanceof T.Z)te=H.Z.fromSimpleMarkerSymbol(U);else if(U instanceof w.Z)te=H.Z.fromPictureMarkerSymbol(U);else if(U instanceof j.Z)te=X.geometryType&&"mesh"===X.geometryType?Z.Z.fromSimpleFillSymbol(U):I.Z.fromSimpleFillSymbol(U);else{if(!(U instanceof G.Z))return{error:new M.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${U.type||U.declaredClass}' is unsupported in 3D`,{symbol:U})};te=ne?W.Z.fromTextSymbol(U):H.Z.fromTextSymbol(U)}return Y&&te&&"cim"!==te.type&&(te.id=U.id),oe&&(0,E.dU)(te)&&te.symbolLayers.forEach(k=>k.ignoreDrivers=!0),{symbol:te}}(U,{retainCIM:!0,hasLabelingContext:ne});return null!=k.symbol?k.symbol.write(X,oe):(te?.push(new M.Z("symbol:unsupported",`Symbols of type '${U.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:U,context:oe,error:k.error})),null)}return("web-map"===se||"portal-item"===se&&!(0,V.A2)(oe?.layer))&&O(U)?(te?.push(new M.Z("symbol:unsupported",`Symbols of type '${U.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:U,context:oe})),null):U.write(X,oe)}function K(U,X){return(0,E.S9)(U,null,X)}},30930:(Ze,me,_)=>{"use strict";_.d(me,{J:()=>E,k:()=>M});const E=["begin","end","begin-end"],M=["arrow","circle","square","diamond","cross","x"]},34895:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>B,y:()=>F});var E=_(66599),M=_(55768),V=_(1535),x=_(39437);const B={type:E.Z,json:{type:[V.z8],default:null,read:{source:["color","transparency"],reader:function P(T,w){const j=null!=w.transparency?(0,x.b)(w.transparency):1,Z=w.color;return Z&&Array.isArray(Z)?new E.Z([Z[0]||0,Z[1]||0,Z[2]||0,j]):null}},write:{target:{color:{type:[V.z8]},transparency:{type:V.z8}},writer:function H(T,w){w.color=T.toJSON().slice(0,3);const j=(0,x.a)(T.a);0!==j&&(w.transparency=j)}}}},F={type:Number,cast:M.t_,json:{write:!0}}},18007:(Ze,me,_)=>{"use strict";_.d(me,{EJ:()=>N,KV:()=>A,n2:()=>W,v9:()=>S,wm:()=>$});var E=_(15861),M=_(66476),V=_(57964),x=_(79412),P=_(6785),H=_(61018),B=_(78149),F=_(13967);let T={};function j(){return(j=(0,E.Z)(function*(K,U){try{return{data:(yield N(K,U)).data,baseUrl:(0,P.Yd)(K),styleUrl:K}}catch(X){return(0,x.r9)(X),null}})).apply(this,arguments)}function W(K,U,X){return null!=K?.styleUrl?function w(K,U){return j.apply(this,arguments)}(K.styleUrl,X):null!=K?.styleName?function Z(K,U,X){const Y=null!=U.portal?U.portal:H.Z.getDefault();let oe;const ne=`${Y.url} - ${Y.user&&Y.user.username} - ${K}`;return T[ne]||(T[ne]=function G(K,U,X){return U.load(X).then(()=>{const Y=new B.Z({disableExtraQuery:!0,query:`owner:${L} AND type:${O} AND typekeywords:"${K}"`});return U.queryItems(Y,X)}).then(({results:Y})=>{let oe=null;const ne=K.toLowerCase();if(Y&&Array.isArray(Y))for(const se of Y)if(se.typeKeywords?.some(k=>k.toLowerCase()===ne)&&se.type===O&&se.owner===L){oe=se;break}if(!oe)throw new V.Z("symbolstyleutils:style-not-found",`The style '${K}' could not be found`,{styleName:K});return oe.load(X)})}(K,Y,X).then(se=>(oe=se,se.fetchData())).then(se=>({data:se,baseUrl:oe.itemUrl??"",styleName:K}))),T[ne]}(K.styleName,U,X):Promise.reject(new V.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function A(K){return null===K||"CIMSymbolReference"===K.type?K:{type:"CIMSymbolReference",symbol:K}}function S(K,U,X=["gltf"]){if("cimRef"===U)return K.cimRef;if(K.formatInfos&&!(0,F.K3)())for(const Y of X){const oe=K.formatInfos.find(ne=>ne.type===Y);if(oe)return oe.href}return K.webRef}function N(K,U){const X={responseType:"json",query:{f:"json"},...U};return(0,M.Z)((0,P.Fv)(K),X)}const L="esri_en",O="Style",$="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},58156:(Ze,me,_)=>{"use strict";_.d(me,{Hc:()=>T,KW:()=>w,Uz:()=>F,w2:()=>j}),_(14007),_(8554);var V=_(27048);const P=(0,V.al)(-.5,-.5,-.5,.5,.5,.5),H=(0,V.al)(-.5,-.5,0,.5,.5,1),B=(0,V.al)(-.5,-.5,0,.5,.5,.5);function F(Z){switch(Z){case"sphere":case"cube":case"diamond":return P;case"cylinder":case"cone":case"inverted-cone":return H;case"tetrahedron":return B;default:return}}const T=["butt","square","round"],w=[...T,"none"],j=["miter","bevel","round"]},52759:(Ze,me,_)=>{"use strict";_.d(me,{Ck:()=>H,JT:()=>V,Nj:()=>w,c9:()=>j,g6:()=>x,vC:()=>P,x0:()=>T});var E=_(55117),M=_(1535);const V=["none","underline","line-through"],x=["normal","italic","oblique"],P=["normal","lighter","bold","bolder"],H={type:Number,cast:Z=>{const I=(0,M.q9)(Z);return 0===I?1:(0,E.uZ)(I,.1,4)},nonNullable:!0},T={type:["left","right","center"],nonNullable:!0},w={type:["baseline","top","middle","bottom"],nonNullable:!0},j=8},1678:(Ze,me,_)=>{"use strict";_.d(me,{Z7:()=>V,f9:()=>P});var E=_(44526);function V(H){return 1/(E.a[H]||1)}const P=function x(){const H=Object.keys(E.a);return H.sort(),H}()},43845:(Ze,me,_)=>{"use strict";_.d(me,{Ds:()=>B,KA:()=>H});var E=_(6785),M=_(19677);function x(T,w){return function F(T){return!(null==T||"service"!==T.origin&&"portal-item"!==T.origin||"feature"!==T.layer?.type&&"stream"!==T.layer?.type)}(w)&&!(0,E.YP)(T)&&w?.layer?.parsedUrl?(0,E.v_)(w.layer.parsedUrl.path,"images",T):(0,M.f)(T,w)}const H={json:{read:{source:["imageData","url"],reader:function V(T,w,j){return w.imageData?(0,E._l)({mediaType:w.contentType||"image/png",isBase64:!0,data:w.imageData}):x(w.url,j)}},write:{writer(T,w,j,Z){!function P(T,w,j,Z){if((0,E.HK)(T)){const I=(0,E.sJ)(T);if(!I)return;w.contentType=I.mediaType,w.imageData=I.data,j&&j.imageData===w.imageData&&j.url&&(0,M.w)(j.url,w,"url",Z)}else(0,M.w)(T,w,"url",Z)}(T,w,this.source,Z)}}}},B={readOnly:!0,json:{read:{source:["imageData","url"],reader(T,w,j){const Z={};return w.imageData&&(Z.imageData=w.imageData),w.contentType&&(Z.contentType=w.contentType),w.url&&(Z.url=x(w.url,j)),Z}}}}},764:(Ze,me,_)=>{"use strict";_.d(me,{Jv:()=>j,Np:()=>W,By:()=>V,o5:()=>H,mi:()=>w,_4:()=>x,pt:()=>P});const E=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var M=_(25037);const V="system",x="unknown",P="UTC",H=Intl.DateTimeFormat().resolvedOptions().timeZone,B="shortOffset";function w(S,N=!1){return{json:{read:{source:S,reader:(L,O)=>O[S]?j(O[S]):null},write:!!N&&{allowNull:!0,writer(L,O){O[S]=L?function Z(S){return{timeZoneIANA:S}}(L):null}}}}}function j(S,N=V){return S?function F(S){return"timeZoneIANA"in S}(S)?S.timeZoneIANA:function I(S,N=V){if(!S||!E.has(S.timeZone))return N;const L=E.get(S.timeZone);return function T(S){return S.startsWith("UTC")}(S.timeZone)||S.respectsDaylightSaving?L:function G(S){const N=M.ou.local().setZone(S),L=Math.min(N.set({month:1,day:1}).offset,N.set({month:5}).offset);return 0===L?"Etc/UTC":`Etc/GMT${M.Qf.instance(-L).formatOffset(0,"narrow")}`}(L)}(S,N):N}function W(S,N,L,O,$){if(N&&"date"===$)return{timeZone:P,timeZoneName:void 0};const U=L===x;return{timeZone:U?"timestamp-offset"===$?void 0:S??P:L,timeZoneName:U&&(O.timeStyle||O.hour)?B:void 0}}},93604:(Ze,me,_)=>{"use strict";_.d(me,{JV:()=>T,Jp:()=>x,Px:()=>B,U8:()=>V});var E=_(15861);const V=(0,_(19986).dG)(),x=new Map,P=new Map;function B(w,j){return F.apply(this,arguments)}function F(){return(F=(0,E.Z)(function*(w,j,Z=!1){if(!w||!j)return!0;const I=w.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),G=P.get(I)?.entries();if(G)for(const[W,A]of G)if(A.name===j){const S=!A.stack?.hasForwardEdits();if(!S&&Z){const[{deleteForwardEdits:N},{default:L}]=yield Promise.all([_.e(1015).then(_.bind(_,51015)),_.e(560).then(_.bind(_,80560))]);return N(I,W,new L({sessionId:V,moment:A.moment}))}return S}return!0})).apply(this,arguments)}function T(w,j){if(!w)return!1;const Z=w.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),I=P.get(Z)?.entries();if(I)for(const[G,W]of I)if(W.name===j)return"edit"===W.lockType;return!1}},82726:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var E=_(88278),M=_(14007),V=_(62168),x=_(11667),P=_(26894),H=_(45425),B=_(31886),F=_(54529);class T{constructor(A,S){this.key=new F.Z(0,0,0,0),this.bounds=(0,H.Ue)(),this.objectIds=new Set,this.key.set(S);const N=A.getLODInfoAt(this.key);this.tileInfoView=A,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=N.resolution,this.scale=N.scale,this.level=N.level}get id(){return this.key.id}get extent(){return P.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const A=this.key.getChildKeys(),S=x.Z.acquire();for(let N=0;N<A.length;N++)S[N]=new T(this.tileInfoView,A[N]);return S}getQuantizationParameters(){return B.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}var w=_(22879);const j={added:[],removed:[]},Z=new Set,I=new F.Z(0,0,0,0);class G extends E.Z{constructor(A){super(),this._tiles=new Map,this._index=(0,V.r)(9,(0,M.Z)("esri-csp-restrictions")?S=>({minX:S.bounds[0],minY:S.bounds[1],maxX:S.bounds[2],maxY:S.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=A}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(A){return this._tiles.has(A)}get(A){return this._tiles.get(A)}boundsIntersections(A){return this._index.search({minX:A[0],minY:A[1],maxX:A[2],maxY:A[3]})}updateTiles(A){const S={added:[],removed:[]};for(const N of A.added)if(!this.has(N)){const L=new T(this.tileScheme,N);this._tiles.set(N,L),this._index.insert(L),S.added.push(L)}for(const N of A.removed)if(this.has(N)){const L=this.get(N);this._tiles.delete(N),this._index.remove(L),S.removed.push(L)}this.tiles.length=0,this._tiles.forEach(N=>this.tiles.push(N)),(S.added.length||S.removed.length)&&this.emit("update",S)}setViewState(A){const S=this.tileScheme.getTileCoverage(A,0);if(!S)return;const{spans:N,lodInfo:L}=S,{level:O}=L;if(N.length>0)for(const{row:$,colFrom:K,colTo:U}of N)for(let X=K;X<=U;X++){const Y=I.set(O,$,L.normalizeCol(X),L.getWorldForColumn(X)).id;if(Z.add(Y),!this.has(Y)){const oe=new T(this.tileScheme,Y);this._tiles.set(Y,oe),this._index.insert(oe),this.tiles.push(oe),j.added.push(oe)}}for(let $=this.tiles.length-1;$>=0;$--){const K=this.tiles[$];Z.has(K.id)||(this._tiles.delete(K.id),this.tiles.splice($,1),this._index.remove(K),j.removed.push(K))}(j.added.length||j.removed.length)&&this.emit("update",j),w.Z.pool.release(S),Z.clear(),j.added.length=0,j.removed.length=0}}},7351:(Ze,me,_)=>{"use strict";_.d(me,{aV:()=>Y,S1:()=>$,os:()=>K,st:()=>U,yR:()=>oe});var S,E=_(57964),M=_(14007),V=_(4703),x=_(19799),P=_(53883),H=_(88367),B=_(62501),F=_(39639),T=_(44991),w=_(50484),j=_(34222),Z=_(80543),G=(_(1535),_(10141)),W=_(7547),A=_(50532);let N=S=class extends F.Z{writeLevels(k,re,Q){for(const pe in k)return void(re.stops=this.levels[pe])}clone(){return new S({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,A.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,A.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(k=>k.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone(),levels:(0,j.d9)(this.levels)})}};(0,w._)([(0,Z.Cb)()],N.prototype,"levels",void 0),(0,w._)([(0,W.c)("levels")],N.prototype,"writeLevels",null),N=S=(0,w._)([(0,G.j)("esri.views.2d.engine.LevelDependentSizeVariable")],N);const L=V.Z.getLogger("esri.views.2d.layers.support.clusterUtils");M.Z.add("esri-cluster-arcade-enabled",!0);const O=(0,M.Z)("esri-cluster-arcade-enabled"),$=(k,re,Q,pe,fe)=>{const ce=re.clone();if(!oe(ce))return ce;if(ce.authoringInfo||(ce.authoringInfo=new B.Z),ce.authoringInfo.isAutoGenerated=!0,"visualVariables"in ce){const q=(ce.visualVariables||[]).filter(ee=>"$view.scale"!==ee.valueExpression),le=K(q);q.forEach(ee=>{"rotation"===ee.type?ee.field?ee.field=te(k,ee.field,"avg_angle","number"):ee.valueExpression&&(ee.field=se(k,ee.valueExpression,"avg_angle","number"),ee.valueExpression=null):ee.normalizationField?(ee.field=te(k,ee.field,"avg_norm","number",ee.normalizationField),ee.normalizationField=null):ee.field?ee.field=te(k,ee.field,"avg","number"):ee.valueExpression&&(ee.field=se(k,ee.valueExpression,"avg","number"),ee.valueExpression=null)}),null==le&&!X(q)&&fe&&(q.push(Y(Q,pe)),ce.dynamicClusterSize=!0),ce.visualVariables=q}switch(ce.type){case"simple":break;case"pie-chart":for(const q of ce.attributes)q.field?q.field=te(k,q.field,"sum","number"):q.valueExpression&&(q.field=se(k,q.valueExpression,"sum","number"),q.valueExpression=null);break;case"unique-value":ce.field?ce.field=te(k,ce.field,"mode","string"):ce.valueExpression&&(ce.field=se(k,ce.valueExpression,"mode","string"),ce.valueExpression=null);break;case"class-breaks":ce.normalizationField?(ce.field=te(k,ce.field,"avg_norm","number",ce.normalizationField),ce.normalizationField=null):ce.field?ce.field=te(k,ce.field,"avg","number"):ce.valueExpression&&(ce.field=se(k,ce.valueExpression,"avg","number"),ce.valueExpression=null)}return ce},K=k=>{for(const re of k)if("size"===re.type)return re;return null};function U(k,re,Q){const pe=k.clone();let fe=!1;if("visualVariables"in pe){const ce=(pe.visualVariables||[]).filter(q=>"$view.scale"!==q.valueExpression);null==K(ce)&&(pe.visualVariables||(pe.visualVariables=[]),pe.visualVariables.push(Y(re,Q)),pe.dynamicClusterSize=!0,fe=!0)}return{renderer:pe,didInject:fe}}const X=k=>{for(const re of k)if("cluster_count"===re.field)return!0;return!1},Y=(k,re)=>{const Q=[new T.Z({value:0,size:0}),new T.Z({value:1})];if(null==re)return new F.Z({field:"cluster_count",stops:[...Q,new T.Z({value:2,size:0})]});const pe=Object.keys(re).reduce((fe,ce)=>({...fe,[ce]:[...Q,new T.Z({value:Math.max(2,re[ce].minValue),size:k.clusterMinSize}),new T.Z({value:Math.max(3,re[ce].maxValue),size:k.clusterMaxSize})]}),{});return new N({field:"cluster_count",levels:pe})},oe=k=>{const re=Q=>L.error(new E.Z("Unsupported-renderer",Q,{renderer:k}));if(!k)return!1;switch(k.type){case"unique-value":if(k.field2||k.field3)return re("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(k.normalizationField){const Q=k.normalizationType;if("field"!==Q)return re(`FeatureReductionCluster does not support a normalizationType of ${Q}`),!1}break;case"simple":case"pie-chart":break;default:return re(`FeatureReductionCluster does not support renderers of type ${k.type}`),!1}if(!O){if("valueExpression"in k&&k.valueExpression)return re("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in k&&k.visualVariables||[]).some(Q=>!(!("valueExpression"in Q)||!Q.valueExpression)))return re("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function se(k,re,Q,pe){const fe=(0,x.F)(re),ce="mode"===Q?`cluster_type_${fe}`:"sum"===Q?`cluster_sum_${fe}`:`cluster_avg_${fe}`;return k.some(q=>q.name===ce)||k.push(new P.Z({name:ce,isAutoGenerated:!0,onStatisticExpression:new H.Z({expression:re,returnType:pe}),statisticType:Q})),ce}function te(k,re,Q,pe,fe){if("cluster_count"===re||k.some(q=>q.name===re))return re;const ce=function ne(k,re,Q){switch(k){case"sum":return`cluster_sum_${re}`;case"avg":case"avg_angle":return`cluster_avg_${re}`;case"mode":return`cluster_type_${re}`;case"avg_norm":{const pe=Q,fe="field",ce=re.toLowerCase()+",norm:"+fe+","+pe.toLowerCase();return"cluster_avg_"+(0,x.F)(ce)}}}(Q,re,fe);return k.some(q=>q.name===ce)||k.push(new P.Z("avg_norm"===Q?{name:ce,isAutoGenerated:!0,onStatisticExpression:new H.Z({expression:`$feature.${re} / $feature.${fe}`,returnType:pe}),statisticType:"avg"}:{name:ce,isAutoGenerated:!0,onStatisticField:re,statisticType:Q})),ce}},30640:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w});var E=_(50484),M=_(66599),V=_(73514),x=_(80543),F=(_(1535),_(57678),_(14007),_(10141));let T=class extends V.Z{constructor(){super(...arguments),this.color=new M.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(j){return this.color.equals(j.color)&&(this.haloColor||this.color).equals(j.haloColor||j.color)&&this.haloOpacity===j.haloOpacity&&this.fillOpacity===j.fillOpacity}};(0,E._)([(0,x.Cb)({type:M.Z})],T.prototype,"color",void 0),(0,E._)([(0,x.Cb)({type:M.Z})],T.prototype,"haloColor",void 0),(0,E._)([(0,x.Cb)()],T.prototype,"haloOpacity",void 0),(0,E._)([(0,x.Cb)()],T.prototype,"fillOpacity",void 0),T=(0,E._)([(0,F.j)("esri.views.2d.support.HighlightOptions")],T);const w=T},76363:(Ze,me,_)=>{"use strict";_.d(me,{T:()=>M});class M{constructor(){this._names=new Map}begin(x){this._names.has(x)||(this._names.set(x,!1),x.includes("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${x}.Start`))}end(x){this._names.has(x)&&!this._names.get(x)&&(this._names.set(x,!0),performance.mark(`Esri.${x}.End`))}record(x){this._names.has(x)||(this._names.set(x,!0),performance.mark(`Esri.${x}`))}}},22879:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>M});var E=_(51479);class M{constructor(){this.spans=[]}acquire(x){this.lodInfo=x}release(){this.lodInfo=null,this.spans.length=0}forEach(x,P){const{spans:H,lodInfo:B}=this,{level:F}=B;if(0!==H.length)for(const{row:T,colFrom:w,colTo:j}of H)for(let Z=w;Z<=j;Z++)x.call(P,F,T,B.normalizeCol(Z),B.getWorldForColumn(Z))}}M.pool=new E.Z(M)},6777:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>G});var E=_(33721),M=_(54529);function V(W,A){return[W,A]}function x(W,A,S){return W[0]=A,W[1]=S,W}const H=new M.Z("0/0/0/0");class B{static create(A,S,N=null){const L=(0,E.C5)(A.spatialReference),O=S.origin||V(A.origin.x,A.origin.y),$=V(A.size[0]*S.resolution,A.size[1]*S.resolution),K=V(-1/0,-1/0),U=V(1/0,1/0),X=V(1/0,1/0);null!=N&&(x(K,Math.max(0,Math.floor((N.xmin-O[0])/$[0])),Math.max(0,Math.floor((O[1]-N.ymax)/$[1]))),x(U,Math.max(0,Math.floor((N.xmax-O[0])/$[0])),Math.max(0,Math.floor((O[1]-N.ymin)/$[1]))),x(X,U[0]-K[0]+1,U[1]-K[1]+1));const{cols:Y,rows:oe}=S;let ne,se,te,k;return!N&&Y&&oe&&(x(K,Y[0],oe[0]),x(U,Y[1],oe[1]),x(X,Y[1]-Y[0]+1,oe[1]-oe[0]+1)),A.isWrappable?(ne=V(Math.ceil(Math.round((L.valid[1]-L.valid[0])/S.resolution)/A.size[0]),X[1]),se=V(Math.floor((L.origin[0]-O[0])/$[0]),K[1]),te=V(ne[0]+se[0]-1,U[1]),k=!0):(se=K,te=U,ne=X,k=!1),new B(S.level,S.resolution,S.scale,O,K,U,X,$,se,te,ne,k)}constructor(A,S,N,L,O,$,K,U,X,Y,oe,ne){this.level=A,this.resolution=S,this.scale=N,this.origin=L,this.first=O,this.last=$,this.size=K,this.norm=U,this.worldStart=X,this.worldEnd=Y,this.worldSize=oe,this.wrap=ne}normalizeCol(A){if(!this.wrap)return A;const S=this.worldSize[0];return A<0?S-1-Math.abs((A+1)%S):A%S}denormalizeCol(A,S){return this.wrap?this.worldSize[0]*S+A:A}getWorldForColumn(A){return this.wrap?Math.floor(A/this.worldSize[0]):0}getFirstColumnForWorld(A){return A*this.worldSize[0]+this.first[0]}getLastColumnForWorld(A){return A*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(A){return(A-this.origin[0])/this.norm[0]}getXForColumn(A){return this.origin[0]+A*this.norm[0]}getRowForY(A){return(this.origin[1]-A)/this.norm[1]}getYForRow(A){return this.origin[1]-A*this.norm[1]}getTileBounds(A,S,N=!1){H.set(S);const L=N?H.col:this.denormalizeCol(H.col,H.world),O=H.row;return function P(W,A,S,N,L){W[0]=A,W[1]=S,W[2]=N,W[3]=L}(A,this.getXForColumn(L),this.getYForRow(O+1),this.getXForColumn(L+1),this.getYForRow(O)),A}getTileCoords(A,S,N=!1){H.set(S);const L=N?H.col:this.denormalizeCol(H.col,H.world);return Array.isArray(A)?x(A,this.getXForColumn(L),this.getYForRow(H.row)):(A.x=this.getXForColumn(L),A.y=this.getYForRow(H.row)),A}}var F=_(22879);class T{constructor(A,S,N){this.row=A,this.colFrom=S,this.colTo=N}}const w=new M.Z("0/0/0/0");class j{static create(A,S){A[1]>S[1]&&([A,S]=[S,A]);const[N,L]=A,[O,$]=S,K=O-N,U=$-L,X=0!==U?K/U:0,Y=(Math.ceil(L)-L)*X,oe=(Math.floor(L)-L)*X;return new j(N,Math.floor(L),Math.ceil($),X,K<0?Y:oe,K<0?oe:Y,K<0?O:N,K<0?N:O)}constructor(A,S,N,L,O,$,K,U){this.x=A,this.ymin=S,this.ymax=N,this.invM=L,this.leftAdjust=O,this.rightAdjust=$,this.leftBound=K,this.rightBound=U}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const Z=[[0,0],[0,0],[0,0],[0,0]];class G{constructor(A,S=null,N=A.lods[0].level,L=A.lods[A.lods.length-1].level){this.tileInfo=A,this.fullExtent=S,this.scales=[],this._infoByScale={},this._infoByLevel={};const O=A.lods.filter(K=>K.level>=N&&K.level<=L);this.minScale=O[0].scale,this.maxScale=O[O.length-1].scale;const $=this._lodInfos=O.map(K=>B.create(A,K,S));O.forEach((K,U)=>{this._infoByLevel[K.level]=$[U],this._infoByScale[K.scale]=$[U],this.scales[U]=K.scale},this),this._wrap=A.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(A){return this._infoByLevel["number"==typeof A?A:A.level]}getTileBounds(A,S,N=!1){w.set(S);const L=this._infoByLevel[w.level];return L?L.getTileBounds(A,w,N):A}getTileCoords(A,S,N=!1){w.set(S);const L=this._infoByLevel[w.level];return L?L.getTileCoords(A,w,N):A}getTileCoverage(A,S=192,N=!0,L="closest"){if(!N&&(A.scale>this.minScale||A.scale<this.maxScale))return null;const O="closest"===L?this.getClosestInfoForScale(A.scale):this.getSmallestInfoForScale(A.scale),$=F.Z.pool.acquire(O),K=this._wrap;let U,X,Y,oe=1/0,ne=-1/0;const se=$.spans;Z[0][0]=Z[0][1]=Z[1][1]=Z[3][0]=-S,Z[1][0]=Z[2][0]=A.size[0]+S,Z[2][1]=Z[3][1]=A.size[1]+S;for(const Q of Z)A.toMap(Q,Q),Q[0]=O.getColumnForX(Q[0]),Q[1]=O.getRowForY(Q[1]);const te=[];let k=3;for(let Q=0;Q<4;Q++){if(Z[Q][1]===Z[k][1]){k=Q;continue}const pe=j.create(Z[Q],Z[k]);oe=Math.min(pe.ymin,oe),ne=Math.max(pe.ymax,ne),void 0===te[pe.ymin]&&(te[pe.ymin]=[]),te[pe.ymin].push(pe),k=Q}if(null==oe||null==ne||ne-oe>100)return null;let re=[];for(U=oe;U<ne;){null!=te[U]&&(re=re.concat(te[U])),X=1/0,Y=-1/0;for(let Q=re.length-1;Q>=0;Q--){const pe=re[Q];X=Math.min(X,pe.getLeftCol()),Y=Math.max(Y,pe.getRightCol())}if(X=Math.floor(X),Y=Math.floor(Y),U>=O.first[1]&&U<=O.last[1])if(K)if(O.size[0]<O.worldSize[0]){const Q=Math.floor(Y/O.worldSize[0]);for(let pe=Math.floor(X/O.worldSize[0]);pe<=Q;pe++)se.push(new T(U,Math.max(O.getFirstColumnForWorld(pe),X),Math.min(O.getLastColumnForWorld(pe),Y)))}else se.push(new T(U,X,Y));else X>O.last[0]||Y<O.first[0]||(X=Math.max(X,O.first[0]),Y=Math.min(Y,O.last[0]),se.push(new T(U,X,Y)));U+=1;for(let Q=re.length-1;Q>=0;Q--){const pe=re[Q];pe.ymax>=U?pe.incrRow():re.splice(Q,1)}}return $}getTileParentId(A){w.set(A);const N=this._lodInfos.indexOf(this._infoByLevel[w.level])-1;return N<0?null:(this._getTileIdAtLOD(w,this._lodInfos[N],w),w.id)}getTileResolution(A){const S=this._infoByLevel["object"==typeof A?A.level:A];return S?S.resolution:-1}getTileScale(A){const S=this._infoByLevel[A.level];return S?S.scale:-1}intersects(A,S){w.set(S);const N=this._infoByLevel[w.level],L=A.lodInfo;if(L.resolution>N.resolution){this._getTileIdAtLOD(w,L,w);const $=L.denormalizeCol(w.col,w.world);for(const K of A.spans)if(K.row===w.row&&K.colFrom<=$&&K.colTo>=$)return!0}if(L.resolution<N.resolution){const[$,K,U,X]=A.spans.reduce((k,re)=>(k[0]=Math.min(k[0],re.row),k[1]=Math.max(k[1],re.row),k[2]=Math.min(k[2],re.colFrom),k[3]=Math.max(k[3],re.colTo),k),[1/0,-1/0,1/0,-1/0]),Y=N.denormalizeCol(w.col,w.world),oe=L.getColumnForX(N.getXForColumn(Y)),ne=L.getRowForY(N.getYForRow(w.row)),se=L.getColumnForX(N.getXForColumn(Y+1))-1,te=L.getRowForY(N.getYForRow(w.row+1))-1;return!(oe>X||se<U||ne>K||te<$)}const O=L.denormalizeCol(w.col,w.world);return A.spans.some($=>$.row===w.row&&$.colFrom<=O&&$.colTo>=O)}normalizeBounds(A,S,N){if(A[0]=S[0],A[1]=S[1],A[2]=S[2],A[3]=S[3],this._wrap){const L=(0,E.C5)(this.tileInfo.spatialReference),O=-N*(L.valid[1]-L.valid[0]);A[0]+=O,A[2]+=O}return A}getSmallestInfoForScale(A){const S=this.scales;if(this._infoByScale[A])return this._infoByScale[A];if(A>S[0])return this._infoByScale[S[0]];for(let N=1;N<S.length-1;N++)if(A>S[N]+1e-6)return this._infoByScale[S[N-1]];return this._infoByScale[S[S.length-1]]}getClosestInfoForScale(A){const S=this.scales;return this._infoByScale[A]||(A=S.reduce((N,L)=>Math.abs(L-A)<Math.abs(N-A)?L:N,S[0])),this._infoByScale[A]}scaleToLevel(A){const S=this.scales;if(this._infoByScale[A])return this._infoByScale[A].level;for(let N=S.length-1;N>=0;N--)if(A<S[N])return N===S.length-1?this._infoByScale[S[S.length-1]].level:this._infoByScale[S[N]].level+(S[N]-A)/(S[N]-S[N+1]);return this._infoByScale[S[0]].level}scaleToZoom(A){return this.tileInfo.scaleToZoom(A)}_getTileIdAtLOD(A,S,N){const L=this._infoByLevel[N.level];return A.set(N),S.resolution<L.resolution?null:(S.resolution===L.resolution||(A.level=S.level,A.col=Math.floor(N.col*L.resolution/S.resolution+.01),A.row=Math.floor(N.row*L.resolution/S.resolution+.01)),A)}}},54529:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>M});var E=_(51479);class M{static getId(x,P,H,B){return"object"==typeof x?`${x.level}/${x.row}/${x.col}/${x.world}`:`${x}/${P}/${H}/${B}`}constructor(x,P,H,B){this.set(x,P,H,B)}get key(){return this}get id(){return this.toString()}set id(x){this.set(x)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(x,P,H,B){this.set(x,P,H,B)}contains(x){const P=x.level-this.level;return P>=0&&this.row===x.row>>P&&this.col===x.col>>P&&this.world===x.world}equals(x){return this.level===x.level&&this.row===x.row&&this.col===x.col&&this.world===x.world}clone(){return new M(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(x,P,H,B){if(null==x)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof x)this.level=x.level||0,this.row=x.row||0,this.col=x.col||0,this.world=x.world||0;else if("string"==typeof x){const[F,T,w,j]=x.split("/");this.level=parseFloat(F),this.row=parseFloat(T),this.col=parseFloat(w),this.world=parseFloat(j)}else this.level=+x,this.row=+P,this.col=+H,this.world=+B||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new M(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const x=this.level+1,P=this.row<<1,H=this.col<<1,B=this.world;return[new M(x,P,H,B),new M(x,P,H+1,B),new M(x,P+1,H,B),new M(x,P+1,H+1,B)]}compareRowMajor(x){return this.row<x.row?-1:this.row>x.row?1:this.col<x.col?-1:this.col>x.col?1:0}}M.pool=new E.Z(M,null,null,25,50)},87766:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>S});var E=_(50484),M=_(73514),V=_(51172),x=_(80543),F=(_(1535),_(57678),_(14007),_(10141)),T=_(46033),w=_(89178);const Z=new Set,I=[],G=new Map,W=[0,0];let A=class extends M.Z{constructor(N){super(N),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:N,process:L,strategy:O}=this;this._queue=new w.e({concurrency:N,process:($,K)=>{const U=this._keyToItem.get($);return L(U,{signal:K})},peeker:"scale-first"===O?$=>this._peekByScaleFirst($):$=>this._peekByCenterFirst($)})}destroy(){this.clear(),this._queue=(0,V.SC)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(N){this._queue.abort("string"==typeof N?N:N.id)}clear(){this._queue.clear(),this._keyToItem.clear()}has(N){return this._keyToItem.has("string"==typeof N?N:N.id)}isOngoing(N){const L="string"==typeof N?N:N.id;return this.has(L)&&this._queue.isOngoing(L)}pause(){this._queue.pause()}push(N){const L=N.key.id;if(this._queue.has(L))return this._queue.get(L);const O=this._queue.push(L),$=()=>{this._keyToItem.delete(L)};return this._keyToItem.set(L,N),O.then($,$),O}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(N){if(!this.state)return N.values().next().value;const L=this.tileInfoView;let O=Number.NEGATIVE_INFINITY,$=Number.POSITIVE_INFINITY;N.forEach(ne=>{const se=this._keyToItem.get(ne),te=this.tileInfoView.getTileScale(se.key);G.has(te)||(G.set(te,[]),O=Math.max(te,O),$=Math.min(te,$)),G.get(te).push(se.key),Z.add(te)});let K=this.state.scale;G.has(K)||(function j(N,L){N.length=0,L.forEach(O=>N.push(O))}(I,Z),I.sort((ne,se)=>ne-se),K=I.reduce((ne,se)=>Math.abs(se-K)<Math.abs(ne-K)?se:ne,I[0])),K=Math.min(K,O),K=Math.max(K,$);const U=G.get(K),X=L.getClosestInfoForScale(K),Y=X.getColumnForX(this.state.center[0]),oe=X.getRowForY(this.state.center[1]);return U.sort((ne,se)=>{const te=X.denormalizeCol(ne.col,ne.world),k=X.denormalizeCol(se.col,se.world);return Math.sqrt((Y-te)*(Y-te)+(oe-ne.row)*(oe-ne.row))-Math.sqrt((Y-k)*(Y-k)+(oe-se.row)*(oe-se.row))}),Z.clear(),G.clear(),U[0].id}_peekByCenterFirst(N){if(!this.state)return N.values().next().value;const L=this.tileInfoView,O=this.state.center;let $,K=Number.POSITIVE_INFINITY;return N.forEach(U=>{const X=this._keyToItem.get(U);L.getTileCoords(W,X.key);const Y=(0,T.d)(W,O);Y<K&&(K=Y,$=X.key)}),$.id}};(0,E._)([(0,x.Cb)({constructOnly:!0})],A.prototype,"concurrency",void 0),(0,E._)([(0,x.Cb)({constructOnly:!0})],A.prototype,"process",void 0),(0,E._)([(0,x.Cb)()],A.prototype,"state",void 0),(0,E._)([(0,x.Cb)({constructOnly:!0})],A.prototype,"strategy",void 0),(0,E._)([(0,x.Cb)({constructOnly:!0})],A.prototype,"tileInfoView",void 0),A=(0,E._)([(0,F.j)("esri.views.2d.tiling.TileQueue")],A);const S=A},40394:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>j});var E=_(45425),M=_(46033);class V{constructor(I,G,W){this.maxSize=I,this._tileInfoView=G,this._removedFunc=W,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(I){return this._tilePerId.has(I)}get(I){return this._tilePerId.get(I)}pop(I){const G=this._tilePerId.get(I);if(!G)return;const A=this._tileKeysPerLevel[G.key.level];x(this._tilePerId,I);for(let S=0;S<A.length;S++)if(A[S].id===I){A.splice(S,1);break}return G.visible=!0,G}add(I){I.visible=!1;const G=I.key,W=G.id;if(this._tilePerId.has(W))return;this._tilePerId.set(W,I);const A=G.level;this._tileKeysPerLevel[A]||(this._tileKeysPerLevel[A]=[]),this._tileKeysPerLevel[A].push(G)}prune(I,G,W){let A=this._tilePerId.size;if(A<=this.maxSize)return;let S=this._tileKeysPerLevel.length-1;for(;A>this.maxSize&&S>=0;)S!==I&&(A=this._pruneAroundCenterTile(A,G,W,S)),S--;A>this.maxSize&&(A=this._pruneAroundCenterTile(A,G,W,I))}_pruneAroundCenterTile(I,G,W,A){const S=this._tileKeysPerLevel[A];if(!S||0===S.length)return I;const{size:N,origin:L}=this._tileInfoView.tileInfo,O=W*N[0],$=W*N[1],K=[0,0],U=[0,0];for(S.sort((X,Y)=>(K[0]=L.x+O*(X.col+.5),K[1]=L.y-$*(X.row+.5),U[0]=L.x+O*(Y.col+.5),U[1]=L.y-$*(Y.row+.5),(0,M.k)(K,G)-(0,M.k)(U,G)));S.length>0;){const X=S.pop();if(this._removeTile(X.id),--I===this.maxSize)break}return I}_removeTile(I){const G=this._tilePerId.get(I);this._removedFunc&&G&&this._removedFunc(G),x(this._tilePerId,I)}}function x(Z,I){Z.delete(I)}var P=_(22879);const B=new(_(54529).Z)(0,0,0,0),F=new Map,T=[],w=[];class j{constructor(I){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=I.acquireTile,this.releaseTile=I.releaseTile,this.tileInfoView=I.tileInfoView,null!=I.resampling&&(this.resampling=I.resampling),I.cachePolicy&&(this.cachePolicy=I.cachePolicy),I.coveragePolicy&&(this.coveragePolicy=I.coveragePolicy),null!=I.buffer&&(this.buffer=I.buffer),I.cacheSize&&(this._tileCache=new V(I.cacheSize,this.tileInfoView,G=>{this.releaseTile(G)}))}destroy(){this.tileIndex.clear()}update(I){const{resampling:G,tileIndex:W}=this,{scale:A,center:S,resolution:N}=I.state,{minScale:L,maxScale:O}=this.tileInfoView,$=!I.stationary&&A>this._previousScale;if(this._previousScale=A,!G&&(A>L||A<O))return this.tiles.length=0,void this.clear();const K=this.tileInfoView.getTileCoverage(I.state,this.buffer,this.resampling,this.coveragePolicy);if(!K)return this.tiles.length=0,void this.clear();const{spans:U,lodInfo:X}=K,{level:Y}=X;this.tiles.length=0,W.forEach(te=>te.visible=!0);let oe=0,ne=0;if(U.length>0)for(const{row:te,colFrom:k,colTo:re}of U)for(let Q=k;Q<=re;Q++){oe++;const pe=B.set(Y,te,X.normalizeCol(Q),X.getWorldForColumn(Q)).id;let fe=W.get(pe);if(fe)fe.isReady?(F.set(pe,fe),ne++):$||this._addParentTile(pe,F);else{if(this._tileCache?.has(pe)){if(fe=this._tileCache.pop(pe),this.tileIndex.set(pe,fe),fe.isReady){F.set(pe,fe),ne++;continue}}else fe=this.acquireTile(B),this.tileIndex.set(pe,fe);$||this._addParentTile(pe,F)}}const se=ne===oe;for(const[te,k]of W){if(F.has(te))continue;B.set(te);const re=this.tileInfoView.intersects(K,B),Q="purge"===this.cachePolicy?B.level!==Y:B.level>Y;!re||!$&&se?!Q&&re||T.push(k):k.isReady?Q&&"purge"===this.cachePolicy&&this._hasReadyAncestor(B,Y)?T.push(k):w.push(k):Q&&T.push(k)}for(const te of w)te.isReady&&F.set(te.key.id,te);for(const te of T)this._tileCache?this._tileCache.add(te):this.releaseTile(te),W.delete(te.key.id);for(const te of F.values())this.tiles.push(te);for(const te of W.values())F.has(te.key.id)||(te.visible=!1);this._tileCache?.prune(Y,S,N),P.Z.pool.release(K),w.length=0,T.length=0,F.clear()}clear(){const{tileIndex:I}=this;for(const G of I.values())this.releaseTile(G);I.clear()}refresh(I){for(const G of this.tileIndex.values())this.tiles.includes(G)?I(G):T.push(G);for(const G of T)this.releaseTile(G),this.tileIndex.delete(G.key.id);this._tileCache?.clear()}updateCacheSize(I){this._tileCache&&(this._tileCache.maxSize=I)}_addParentTile(I,G){let W=I,A=null;for(;W=this.tileInfoView.getTileParentId(W),W;)if(this.tileIndex.has(W)){if(A=this.tileIndex.get(W),A?.isReady){G.has(A.key.id)||G.set(A.key.id,A);break}}else if(this._tileCache?.has(W)&&(A=this._tileCache.pop(W),this.tileIndex.set(W,A),A?.isReady)){G.has(A.key.id)||G.set(A.key.id,A);break}}_hasReadyAncestor(I,G){const W=(0,E.Ue)();this.tileInfoView.getTileBounds(W,I,!0);for(const A of this.tileIndex.values())if(A.isReady&&A.key.level>=G&&A.key.level<I.level){const S=(0,E.Ue)();if(this.tileInfoView.getTileBounds(S,A.key,!0),(0,E.r3)(S,W))return!0}return!1}}},46503:(Ze,me,_)=>{"use strict";function E(P,H,B,F){const T=3*P,w=3*(B-P)-T,j=1-T-w,Z=3*H,I=3*(F-H)-Z,G=1-Z-I;function W(L){return((j*L+w)*L+T)*L}function S(L){return(3*j*L+2*w)*L+T}return function(L,O=1e-6){return function A(L){return((G*L+I)*L+Z)*L}(function N(L,O){let $,K,U,X,Y,oe;for(U=L,oe=0;oe<8;oe++){if(X=W(U)-L,Math.abs(X)<O)return U;if(Y=S(U),Math.abs(Y)<1e-6)break;U-=X/Y}if($=0,K=1,U=L,U<$)return $;if(U>K)return K;for(;$<K;){if(X=W(U),Math.abs(X-L)<O)return U;L>X?$=U:K=U,U=.5*(K-$)+$}return U}(L,O))}}_.d(me,{LI:()=>V,Qc:()=>x,n_:()=>E});const M=/^cubic-bezier\((.*)\)/,V={};function x(P){let H=V[P]||null;if(!H){const B=M.exec(P);if(B){const F=B[1].split(",").map(T=>parseFloat(T.trim()));4!==F.length||F.some(T=>isNaN(T))||(H=E.apply(E,F))}}return H}V.ease=E(.25,.1,.25,1),V.linear=E(0,0,1,1),V.easeIn=V["ease-in"]=E(.42,0,1,1),V.easeOut=V["ease-out"]=E(0,0,.58,1),V.easeInOut=V["ease-in-out"]=E(.42,0,.58,1)},31898:(Ze,me,_)=>{"use strict";_.d(me,{$H:()=>Xe,Ck:()=>be,Dq:()=>ce,EK:()=>U,H4:()=>Me,Hy:()=>Re,JG:()=>k,Jp:()=>ie,L2:()=>Be,Rb:()=>Ee,Rx:()=>Ne,SI:()=>xe,UZ:()=>Ve,Ue:()=>se,YQ:()=>J,bk:()=>Q,dI:()=>we,gG:()=>et,ni:()=>re,o2:()=>He,qf:()=>pe,uG:()=>le,ut:()=>De});var E=_(15861),M=_(78570),V=_(83944),x=_(49602),P=_(52593),H=_(86662),B=_(18755),F=_(46033),T=_(51675),w=_(26894),j=_(32184),Z=_(85039),I=_(83821),G=_(43814),W=_(93566),A=_(33721);const S=96,N=39.37,L=180/Math.PI;function O(ve){return ve.wkid?ve:ve.spatialReference||G.Z.WGS84}function $(ve,Oe){return Oe.type?(0,F.s)(ve,Oe.x,Oe.y):(0,F.j)(ve,Oe)}function K(ve){return(0,x.c9)(ve)}function U(ve,Oe){const Te=Math.max(1,Oe[0]),je=Math.max(1,Oe[1]);return Math.max(ve.width/Te,ve.height/je)*function ue(ve){return(0,A.JY)(ve)?K(ve)*N*S:1}(ve.spatialReference)}function X(ve,Oe,Te,je){return Y.apply(this,arguments)}function Y(){return(Y=(0,E.Z)(function*(ve,Oe,Te,je){let $e,nt;if(!ve||Array.isArray(ve)&&!ve.length)return null;if(V.Z.isCollection(ve)&&(ve=ve.toArray()),Array.isArray(ve)&&ve.length&&"object"==typeof ve[0]){const ot=ve.every(Tt=>"attributes"in Tt),at=ve.some(Tt=>!Tt.geometry);let mt=ve;if(ot&&at&&Oe&&Oe.allLayerViews){const Tt=new Map;for(const kt of ve){const on=kt.layer,ft=Tt.get(on)||[],dt=kt.attributes[on.objectIdField];null!=dt&&ft.push(dt),Tt.set(on,ft)}const Ot=[];Tt.forEach((kt,on)=>{const ft=Oe.allLayerViews.find(dt=>dt.layer.id===on.id);if(ft&&"queryFeatures"in ft){const dt=on.createQuery();dt.objectIds=kt,dt.returnGeometry=!0,Ot.push(ft.queryFeatures(dt))}});const Bt=yield Promise.all(Ot),Gt=[];for(const kt of Bt)if(kt&&kt.features&&kt.features.length)for(const on of kt.features)null!=on.geometry&&Gt.push(on.geometry);mt=Gt}for(const Tt of mt)je=yield X(Tt,Oe,Te,je);return je}if(Array.isArray(ve)&&2===ve.length&&"number"==typeof ve[0]&&"number"==typeof ve[1])$e=new Z.Z(ve);else if(ve instanceof j.Z)$e=ve;else if("geometry"in ve)if(ve.geometry)$e=ve.geometry;else if(ve.layer){const ot=ve.layer,at=Oe.allLayerViews.find(mt=>mt.layer.id===ot.id);if(at&&"queryFeatures"in at){const mt=ot.createQuery();mt.objectIds=[ve.attributes[ot.objectIdField]],mt.returnGeometry=!0,$e=(yield at.queryFeatures(mt))?.features?.[0]?.geometry}}if(null==$e)return null;switch($e.type){case"point":nt=new w.Z({xmin:$e.x,ymin:$e.y,xmax:$e.x,ymax:$e.y,spatialReference:$e.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":nt=(0,W.wK)($e);break;default:nt=$e.extent}if(!nt)return null;(0,I.isLoaded)()||(0,I.canProjectWithoutEngine)(nt.spatialReference,Te)||(yield(0,I.load)());const Je=(0,I.project)(nt,Te);return Je?je=je?je.union(Je):Je:null})).apply(this,arguments)}function ne(ve,Oe){return(0,A.fS)(O(ve),Oe)?ve:(0,I.project)(ve,Oe)}function se(ve,Oe){return te.apply(this,arguments)}function te(){return(te=(0,E.Z)(function*(ve,Oe){if(!ve||!Oe)return new M.Z({targetGeometry:new Z.Z,scale:0,rotation:0});let Te=Oe.spatialReference;const{constraints:je,padding:$e,viewpoint:nt,size:Je}=Oe,ot=[$e?Je[0]-$e.left-$e.right:Je[0],$e?Je[1]-$e.top-$e.bottom:Je[1]];let at=null;ve instanceof M.Z?at=ve:ve.viewpoint?at=ve.viewpoint:ve.target&&"esri.Viewpoint"===ve.target.declaredClass&&(at=ve.target);let mt=null;at?.targetGeometry?mt=at.targetGeometry:ve instanceof w.Z?mt=ve:(ve||ve&&("center"in ve||"extent"in ve||"target"in ve))&&(mt=(yield X(ve.center,Oe,Te))||(yield X(ve.extent,Oe,Te))||(yield X(ve.target,Oe,Te))||(yield X(ve,Oe,Te))),!mt&&nt?.targetGeometry?mt=nt.targetGeometry:!mt&&Oe.extent&&(mt=Oe.extent),Te||(Te=O(Oe.spatialReference||Oe.extent||mt)),(0,I.isLoaded)()||(0,A.fS)(mt.spatialReference,Te)||(0,I.canProjectWithoutEngine)(mt.spatialReference,Te)||(yield(0,I.load)());const Tt=ne("center"in mt?mt.center:mt,Te);!1!==Oe.pickClosestTarget&&"point"===Tt.type&&"point"===nt.targetGeometry?.type&&(Tt.x=(0,W.it)(Tt.x,nt.targetGeometry.x,Tt.spatialReference));let Ot=0;if(null!=at?.targetGeometry&&"point"===at.targetGeometry.type)Ot=at.scale;else if("scale"in ve&&ve.scale)Ot=ve.scale;else if("zoom"in ve&&-1!==ve.zoom&&je&&je.effectiveLODs)Ot=je.zoomToScale(ve.zoom);else if(Array.isArray(mt)||"point"===mt.type||"extent"===mt.type&&0===mt.width&&0===mt.height){const on=ne(Oe.extent,Te);Ot=null!=on?U(on,ot):Oe.extent?U(Oe.extent,ot):nt.scale}else Ot=U(ne(mt.extent,Te),ot);const Bt=function oe(ve){if(ve&&(!Array.isArray(ve)||"number"!=typeof ve[0])&&("object"==typeof ve||Array.isArray(ve)&&"object"==typeof ve[0])){if("layer"in ve&&null!=ve.layer?.minScale&&null!=ve.layer.maxScale){const Oe=ve.layer;return{min:Oe.minScale,max:Oe.maxScale}}if(Array.isArray(ve)&&ve.length&&ve.every(Oe=>"layer"in Oe)){let Oe=0,Te=0;for(const je of ve){const $e=je.layer;$e?.minScale&&$e.maxScale&&(Oe=$e.minScale<Oe?$e.minScale:Oe,Te=$e.maxScale>Te?$e.maxScale:Te)}return Oe&&Te?{min:Oe,max:Te}:null}}}(ve.target??ve);Bt&&(Bt.min&&Bt.min<Ot?Ot=Bt.min:Bt.max&&Bt.max>Ot&&(Ot=Bt.max));let Gt=0;at?Gt=at.rotation:ve.hasOwnProperty("rotation")?Gt=ve.rotation:nt&&(Gt=nt.rotation);let kt=new M.Z({targetGeometry:Tt,scale:Ot,rotation:Gt});return je&&(kt=je.fit(kt),je.constrainByGeometry(kt),je.rotationEnabled||(kt.rotation=nt.rotation)),kt})).apply(this,arguments)}function k(ve,Oe){const Te=ve.targetGeometry,je=Oe.targetGeometry;return Te.x=je.x,Te.y=je.y,Te.spatialReference=je.spatialReference,ve.scale=Oe.scale,ve.rotation=Oe.rotation,ve}function re(ve,Oe,Te){return Te?(0,F.s)(ve,.5*(Oe[0]-Te.right+Te.left),.5*(Oe[1]-Te.bottom+Te.top)):(0,F.a)(ve,Oe,.5)}const Q=function(){const ve=(0,T.a)();return function(Oe,Te,je){const $e=Te.targetGeometry;$(ve,$e);const nt=.5*le(Te);return Oe.xmin=ve[0]-nt*je[0],Oe.ymin=ve[1]-nt*je[1],Oe.xmax=ve[0]+nt*je[0],Oe.ymax=ve[1]+nt*je[1],Oe.spatialReference=$e.spatialReference,Oe}}();function pe(ve,Oe,Te,je,$e){return He(ve,Oe,Te.center),ve.scale=U(Te,je),$e?.constraints?.constrain(ve),ve}const ce=function(){const ve=(0,T.a)();return function(Oe,Te,je){return(0,F.b)(Oe,function ge(ve,Oe){return(0,F.a)(ve,Oe,.5)}(Oe,Te),re(ve,Te,je))}}(),q=function(){const ve=(0,B.c)(),Oe=(0,T.a)();return function(Te,je,$e,nt){const Je=le(je),ot=ae(je);return(0,F.s)(Oe,Je,Je),(0,H.f)(ve,Oe),(0,H.r)(ve,ve,ot),(0,H.t)(ve,ve,ce(Oe,$e,nt)),(0,H.t)(ve,ve,[0,nt.top-nt.bottom]),(0,F.s)(Te,ve[4],ve[5])}}();function le(ve){return ve.scale*function ee(ve){return null!=ve&&(0,A.JY)(ve.spatialReference)?1/(K(ve.spatialReference)*N*S):1}(ve.targetGeometry)}function ae(ve){return(0,P.t)(ve.rotation)||0}const Ee=function(){const ve=(0,T.a)(),Oe=(0,T.a)(),Te=(0,T.a)();return function(je,$e,nt,Je,ot,at){return(0,F.n)(ve,$e),(0,F.a)(Oe,nt,.5*at),(0,F.s)(Te,1/Je*at,-1/Je*at),(0,H.a)(je,Oe),ot&&(0,H.r)(je,je,ot),(0,H.s)(je,je,Te),(0,H.t)(je,je,ve),je}}(),be=function(){const ve=(0,T.a)();return function(Oe,Te,je,$e){const nt=le(Te),Je=ae(Te);return $(ve,Te.targetGeometry),Ee(Oe,ve,je,nt,Je,$e)}}(),ie=function(){const ve=(0,T.a)();return function(Oe,Te,je,$e){const nt=le(Te);return $(ve,Te.targetGeometry),Ee(Oe,ve,je,nt,0,$e)}}();function De(ve){const Oe=(0,A.C5)(ve);return Oe?Oe.valid[1]-Oe.valid[0]:0}function Be(ve,Oe){return Math.round(De(ve)/Oe)}const we=function(){const ve=(0,T.a)(),Oe=(0,T.a)(),Te=[0,0,0];return function(je,$e,nt){(0,F.c)(ve,je,$e),(0,F.e)(ve,ve),(0,F.c)(Oe,je,nt),(0,F.e)(Oe,Oe),(0,F.f)(Te,ve,Oe);let Je=Math.acos((0,F.g)(ve,Oe)/((0,F.h)(ve)*(0,F.h)(Oe)))*L;return Te[2]<0&&(Je=-Je),isNaN(Je)&&(Je=0),Je}}(),Me=function(){const ve=(0,T.a)();return function(Oe,Te,je,$e){const nt=Oe.targetGeometry;return k(Oe,Te),q(ve,Te,je,$e),nt.x+=ve[0],nt.y+=ve[1],Oe}}(),He=function(ve,Oe,Te){k(ve,Oe);const je=ve.targetGeometry;return je.x=Te.x,je.y=Te.y,je.spatialReference=Te.spatialReference,ve},xe=function(){const ve=(0,T.a)();return function(Oe,Te,je,$e,nt){nt||(nt="center"),(0,F.b)(ve,je,$e),(0,F.a)(ve,ve,.5);const Je=ve[0],ot=ve[1];switch(nt){case"center":(0,F.s)(ve,0,0);break;case"left":(0,F.s)(ve,-Je,0);break;case"top":(0,F.s)(ve,0,ot);break;case"right":(0,F.s)(ve,Je,0);break;case"bottom":(0,F.s)(ve,0,-ot);break;case"top-left":(0,F.s)(ve,-Je,ot);break;case"bottom-left":(0,F.s)(ve,-Je,-ot);break;case"top-right":(0,F.s)(ve,Je,ot);break;case"bottom-right":(0,F.s)(ve,Je,-ot)}return Ne(Oe,Te,ve),Oe}}();function Xe(ve,Oe,Te){return k(ve,Oe),ve.rotation+=Te,ve}function J(ve,Oe,Te){return k(ve,Oe),ve.rotation=Te,ve}const ye=function(){const ve=(0,T.a)();return function(Oe,Te,je,$e,nt){return k(Oe,Te),isNaN(je)||0===je||(Fe(ve,$e,Te,nt),Oe.scale=Te.scale*je,Qe(ve,ve,Oe,nt),Ne(Oe,Oe,(0,F.s)(ve,ve[0]-$e[0],$e[1]-ve[1]))),Oe}}();function Re(ve,Oe,Te){return k(ve,Oe),ve.scale=Te,ve}const Ve=function(){const ve=(0,T.a)();return function(Oe,Te,je,$e,nt,Je){return k(Oe,Te),isNaN(je)||0===je||(Fe(ve,nt,Te,Je),Oe.scale=Te.scale*je,Oe.rotation+=$e,Qe(ve,ve,Oe,Je),Ne(Oe,Oe,(0,F.s)(ve,ve[0]-nt[0],nt[1]-ve[1]))),Oe}}(),et=function(){const ve=(0,T.a)(),Oe=(0,T.a)();return function(Te,je,$e,nt,Je,ot,at){return ce(Oe,ot,at),(0,F.i)(ve,Je,Oe),nt?Ve(Te,je,$e,nt,ve,ot):ye(Te,je,$e,ve,ot)}}(),Fe=function(){const ve=(0,B.c)();return function(Oe,Te,je,$e){return(0,F.t)(Oe,Te,function fe(ve,Oe,Te,je){return be(ve,Oe,Te,je),(0,H.i)(ve,ve)}(ve,je,$e,1))}}(),Qe=function(){const ve=(0,B.c)();return function(Oe,Te,je,$e){return(0,F.t)(Oe,Te,be(ve,je,$e,1))}}(),Ne=function(){const ve=(0,T.a)(),Oe=(0,B.c)();return function(Te,je,$e){k(Te,je);const nt=le(je),Je=Te.targetGeometry;return(0,H.b)(Oe,ae(je)),(0,H.s)(Oe,Oe,(0,T.f)(nt,nt)),(0,F.t)(ve,$e,Oe),Je.x+=ve[0],Je.y+=ve[1],Te}}()},92867:(Ze,me,_)=>{"use strict";var E,x;_.d(me,{JY:()=>E}),(x=E||(E={}))[x.Global=1]="Global",x[x.Local=2]="Local"},27041:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>x});var E=_(4703);class M{constructor(F,T=[]){this.eventType=F,this.keyModifiers=T}matches(F){if(F.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const T=F.modifiers;for(const w of this.keyModifiers)if(!T.has(w))return!1;return!0}}const V=E.Z.getLogger("esri.views.input.InputHandler");class x{constructor(F){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=F}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const F in this._incoming){const T=this._incoming[F];for(const w of T)this._incomingEventMatches.push(w.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(F=>F.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(F){this._manager?V.error("This InputHandler has already been registered with an InputManager"):(F.setEventCallback(T=>this._handleEvent(T)),F.setUninstallCallback(()=>this._onUninstall()),this._manager=F)}onUninstall(){}registerIncoming(F,T,w){let j;"function"==typeof T?(w=T,j=[]):j=T||[];const Z="string"==typeof F?new M(F,j):F,I=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},G=S=>{const N=this._incoming[S.match.eventType];if(N){const L=N.indexOf(S);N.splice(L,1),I(),this._manager&&this._manager.updateDependencies()}},W=new P(Z,w,{onPause:G,onRemove:G,onResume:S=>{const N=this._incoming[S.match.eventType];N&&!N.includes(S)&&(N.push(S),I(),this._manager&&this._manager.updateDependencies())}});let A=this._incoming[Z.eventType];return A||(A=[],this._incoming[Z.eventType]=A),A.push(W),I(),this._manager&&this._manager.updateDependencies(),W}registerOutgoing(F){if(this._outgoing[F])throw new Error("There is already a callback registered for this outgoing InputEvent: "+F);const T=new H(F,{onEmit:(w,j,Z,I)=>{this._manager?.emit(w.eventType,j,Z,I)},onRemove:w=>{delete this._outgoing[w.eventType],this._manager?.updateDependencies()}});return this._outgoing[F]=T,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),T}startCapturingPointer(F){this._manager?.setPointerCapture(F,!0)}stopCapturingPointer(F){this._manager?.setPointerCapture(F,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):V.error("This InputHandler is not registered with an InputManager")}_handleEvent(F){const T=this._incoming[F.type];if(T)for(const w of T)if(w.match.matches(F)&&(w.callback?.(F),F.shouldStopPropagation()))break}}class P{constructor(F,T,w){this.match=F,this._callback=T,this._handler=w}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class H{constructor(F,T){this.eventType=F,this._removed=!1,this._handler=T}emit(F,T,w){this._removed||this._handler.onEmit(this,F,T,w)}remove(){this._removed=!0,this._handler.onRemove(this)}}},77192:(Ze,me,_)=>{"use strict";_.d(me,{$:()=>N,f:()=>$});var E=_(50484),M=_(73514),V=_(4703),x=_(65430),P=_(80543),T=(_(1535),_(57678),_(14007),_(10141)),w=_(14467),j=_(12926);class Z{constructor(Y,oe){this._owner=oe,this._properties={},this._afterDispatchHandle=null;for(const ne in Y){const te=new w.e(Y[ne],void 0,void 0,2,2);this._properties[ne]={pool:te,acquired:[]}}this._afterDispatchHandle=(0,j.Fs)(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const Y in this._properties){const oe=this._properties[Y];for(const ne of oe.acquired)(0,j.NC)(ne)||oe.pool.release(ne);oe.pool.destroy(),oe.pool=null,oe.acquired=null}this._properties=null,this._owner=null}get(Y){const oe=this._owner._get(Y),ne=this._properties[Y];let se=ne.pool.acquire();for(ne.acquired.push(se);se===oe;)ne.acquired.push(se),se=ne.pool.acquire();return se}_release(){for(const Y in this._properties){const oe=this._properties[Y];let ne=0;for(const se of oe.acquired)(0,j.NC)(se)?oe.acquired[ne++]=se:oe.pool.release(se);oe.acquired.length=ne}}}var I=_(79259),G=_(27041);class W extends G.a{constructor(Y){super(!0),this._onChange=Y,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",oe=>{this._update(oe.data)})}_update(Y){const oe="touch"===Y.native.pointerType?"touch":"mouse",{x:ne,y:se}=Y;oe===this._value&&this._x===ne&&this._y===se||(this._value=oe,this._x=ne,this._y=se,this._onChange(oe,ne,se))}}var A=_(45974);class S extends G.a{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=(0,A.t)(!1),this._onPointerAdd=({data:Y})=>{"touch"===Y.pointerType&&(this._activeTouchPointerIds.add(Y.native.pointerId),this._update())},this._onPointerRemove=({data:Y})=>{"touch"===Y.pointerType&&(this._activeTouchPointerIds.delete(Y.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}let N=class extends M.Z{constructor(X){super(X),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=I.CK,this._latestPointerType="mouse",this._propertiesPool=new Z({latestPointerLocation:U},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const X=Object.keys(this._nameToGroup);for(const Y of X)this.uninstallHandlers(Y);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(X=>X.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(X,Y,oe=$.INTERNAL){if(this._nameToGroup[X])return void V.Z.getLogger(this).error("There is already an InputHandler group registered under the name `"+X+"`");if(0===Y.length)return void V.Z.getLogger(this).error("Can't register a group of zero handlers");const ne={name:X,handlers:Y.map(se=>({handler:se,active:!0,removed:!1,priorityIndex:0,groupPriority:oe,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[X]=ne;for(let se=ne.handlers.length-1;se>=0;se--){const te=ne.handlers[se];this._handlers.push(te),te.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(k,re,Q,pe,fe)=>{this._emitInputEvent(te.priorityIndex+1,k,re,Q,fe,pe)},setPointerCapture:(k,re)=>{this._setPointerCapture(ne,te,k,re)},setEventCallback:k=>{te.eventCallback=k},setUninstallCallback:k=>{te.uninstallCallback=k},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(X){const Y=this._nameToGroup[X];Y?(Y.handlers.forEach(oe=>{oe.removed=!0,oe.uninstallCallback?.()}),delete this._nameToGroup[X],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):V.Z.getLogger(this).error("There is no InputHandler group registered under the name `"+X+"`")}hasHandlers(X){return void 0!==this._nameToGroup[X]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const X=new Set,Y=new Set;this._handlersPriority=[];for(let oe=this._handlers.length-1;oe>=0;oe--){const ne=this._handlers[oe];ne.priorityIndex=oe,this._handlersPriority.push(ne)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let oe=this._handlersPriority.length-1;oe>=0;oe--){const ne=this._handlersPriority[oe];ne.priorityIndex=oe;let se=ne.handler.hasSideEffects;if(!se)for(const te of ne.handler.outgoingEventTypes)if(X.has(te)){se=!0;break}if(se)for(const te of ne.handler.incomingEventMatches){X.add(te.eventType);for(const k of te.keyModifiers)(0,I.wj)(k)||Y.add(k)}ne.active=se}this._sourceEvents=X,this._keyModifiers=Y,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(X,Y,oe){this._latestPointerType=X;const ne=this._get("latestPointerLocation");if(null==ne||ne.x!==Y||ne.y!==oe){const se=this._propertiesPool.get("latestPointerLocation");se.x=Y,se.y=oe,this._set("latestPointerLocation",se)}}_onEventReceived(X,Y){"pointer-capture-lost"===X&&this._pointerCaptures.delete(Y.native.pointerId),this._updateKeyModifiers(X,Y),this._emitInputEventFromSource(X,Y,null!=this.test.timestamp?this.test.timestamp:Y.native?Y.native.timestamp:void 0,Y.native?Y.native.cancelable:void 0)}_updateKeyModifiers(X,Y){if(!Y)return;let oe=!1;const ne=()=>{if(!oe){const k=new Set;this._activeKeyModifiers.forEach(re=>{k.add(re)}),this._activeKeyModifiers=k,oe=!0}},se=(k,re)=>{re&&!this._activeKeyModifiers.has(k)?(ne(),this._activeKeyModifiers.add(k)):!re&&this._activeKeyModifiers.has(k)&&(ne(),this._activeKeyModifiers.delete(k))};if("key-down"===X||"key-up"===X){const k=Y.key;this._keyModifiers.has(k)&&se(k,"key-down"===X)}const te=Y.native;se("Alt",!(!te||!te.altKey)),se("Ctrl",!(!te||!te.ctrlKey)),se("Shift",!(!te||!te.shiftKey)),se("Meta",!(!te||!te.metaKey)),se("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new W((X,Y,oe)=>this._setLatestPointer(X,Y,oe)),this._multiTouchHandler=new S,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],$.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,$.INTERNAL)}_setPointerCapture(X,Y,oe,ne){const se=X.name+"-"+Y.priorityIndex,te=this._pointerCaptures.get(oe.pointerId)||new Set;this._pointerCaptures.set(oe.pointerId,te),ne?(te.add(se),1===te.size&&this.eventSource&&this.eventSource.setPointerCapture(oe,!0)):te.has(se)&&(te.delete(se),0===te.size&&(this._pointerCaptures.delete(oe.pointerId),this.eventSource&&this.eventSource.setPointerCapture(oe,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(X=>!X.removed),this.updateDependencies()}_emitInputEventFromSource(X,Y,oe,ne){this._emitInputEvent(0,X,Y,oe,ne)}_emitInputEvent(X,Y,oe,ne,se,te){const k=void 0!==ne?ne:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),Q={event:new L(Y,oe,k,te||this._activeKeyModifiers,void 0!==se&&se),priorityIndex:X};this._currentPropagation?this._currentPropagation.events.push(Q):this._doNewPropagation(Q)}_doNewPropagation(X){this._currentPropagation={events:new x.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:X.event.timestamp},this._currentPropagation.events.push(X),this._continuePropagation()}_continuePropagation(){this._paused=!1;const X=this._currentPropagation;if(X){for(;X.events.length>0;){const{event:Y,priorityIndex:oe}=X.events.pop(),ne=Y.data?.eventId;if(null==ne||!this._stoppedPropagationEventIds.has(ne))for(X.currentHandler=this._handlersPriority[oe];X.currentHandler;){if(X.currentHandler.removed)X.needsHandlerGarbageCollect=!0;else{if(X.currentHandler.active&&!Y.shouldStopPropagation()&&X.currentHandler.eventCallback?.(Y),Y.shouldStopPropagation()){null!=ne&&this._stoppedPropagationEventIds.add(ne);break}if(Y.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:Y,priorityIndex:X.currentHandler.priorityIndex+1})}X.currentHandler=this._handlersPriority[X.currentHandler.priorityIndex+1]}}X.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(X){const Y=new x.Z;Y.push(X);const oe=this._currentPropagation;if(oe){for(;oe.events.length;)Y.push(oe.events.pop());oe.events=Y,oe.currentHandler=null,this._paused=!0}}_compareHandlerPriority(X,Y){if(X.handler.hasSideEffects!==Y.handler.hasSideEffects)return X.handler.hasSideEffects?1:-1;if(X.groupPriority!==Y.groupPriority)return X.groupPriority>Y.groupPriority?-1:1;for(const oe of X.handler.incomingEventMatches)for(const ne of Y.handler.incomingEventMatches){if(oe.eventType!==ne.eventType)continue;const se=oe.keyModifiers.filter(te=>ne.keyModifiers.includes(te));if(se.length===oe.keyModifiers.length!=(se.length===ne.keyModifiers.length))return oe.keyModifiers.length>ne.keyModifiers.length?-1:1}return X.priorityIndex>Y.priorityIndex?-1:1}_sortHandlersPriority(X){const Y=[];for(const oe of X){let ne=0;for(;ne<Y.length&&this._compareHandlerPriority(oe,Y[ne])>=0;)ne++;Y.splice(ne,0,oe)}return Y}get debug(){const X=Y=>{const oe=this._setPointerCapture;this._setPointerCapture=()=>{},Y(),this._setPointerCapture=oe};return{injectEvent:(Y,oe)=>{X(()=>{this._onEventReceived(Y,oe)})},disablePointerCapture:X}}};(0,E._)([(0,P.Cb)({readOnly:!0})],N.prototype,"hasPendingInputs",null),(0,E._)([(0,P.Cb)({constructOnly:!0})],N.prototype,"eventSource",void 0),(0,E._)([(0,P.Cb)({constructOnly:!0})],N.prototype,"recognizers",void 0),(0,E._)([(0,P.Cb)()],N.prototype,"_latestPointerType",void 0),(0,E._)([(0,P.Cb)()],N.prototype,"latestPointerType",null),(0,E._)([(0,P.Cb)()],N.prototype,"multiTouchActive",null),(0,E._)([(0,P.Cb)({readOnly:!0})],N.prototype,"latestPointerLocation",void 0),(0,E._)([(0,P.Cb)()],N.prototype,"_paused",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],N.prototype,"updating",null),N=(0,E._)([(0,T.j)("esri.views.input.InputManager")],N);class L{constructor(Y,oe,ne,se,te){this.type=Y,this.data=oe,this.timestamp=ne,this.modifiers=se,this.cancelable=te,this._propagationState=O.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=O.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&O.STOPPED)}async(Y){this._propagationState|=O.PAUSED;const oe=(ne,se)=>{this._propagationState&=~O.PAUSED;const te=this._resumeCallback;if(this._resumeCallback=null,te&&te(),se)throw ne;return ne};return("function"==typeof Y?Y():Y).then(ne=>oe(ne,!1),ne=>oe(ne,!0))}shouldPausePropagation(Y){return!!(this._propagationState&O.PAUSED)&&(this._resumeCallback=Y,!0)}preventDefault(){this.data.native.preventDefault()}}var O,X;(X=O||(O={}))[X.NONE=0]="NONE",X[X.STOPPED=1]="STOPPED",X[X.PAUSED=2]="PAUSED";const $={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},U=class K{}},79259:(Ze,me,_)=>{"use strict";_.d(me,{CK:()=>V,kK:()=>P,wj:()=>H});var E=_(90984);const V=(0,_(14007).Z)("mac")?"Meta":"Ctrl",x={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let B=48;B<58;B++)x[B]=String.fromCharCode(B);for(let B=1;B<25;B++)x[111+B]=`F${B}`;for(let B=65;B<91;B++)x[B]=[String.fromCharCode(B+32),String.fromCharCode(B)];function P(B){if(void 0!==B.key)return(0,E.kK)(B);const F=x[B.keyCode];return Array.isArray(F)?B.shiftKey?F[1]:F[0]:F}function H(B){switch(B){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},89178:(Ze,me,_)=>{"use strict";_.d(me,{e:()=>w});var E=_(51172),M=_(79412),V=_(65430),x=_(56295),P=_(19994);class H{constructor(){this._map=new Map,this._observable=new P.s}get size(){return(0,x.it)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(Z){const I=this._map.delete(Z);return I&&this._observable.notify(),I}entries(){return(0,x.it)(this._observable),this._map.entries()}forEach(Z,I){(0,x.it)(this._observable),this._map.forEach((G,W)=>Z.call(I,G,W,this),I)}get(Z){return(0,x.it)(this._observable),this._map.get(Z)}has(Z){return(0,x.it)(this._observable),this._map.has(Z)}keys(){return(0,x.it)(this._observable),this._map.keys()}set(Z,I){return this._map.set(Z,I),this._observable.notify(),this}values(){return(0,x.it)(this._observable),this._map.values()}[Symbol.iterator](){return(0,x.it)(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}var B=_(66679),F=_(45974);class T{constructor(Z,I){this.item=Z,this.controller=I,this.promise=null}}class w{constructor(Z){this._schedule=null,this._task=null,this._deferreds=new H,this._controllers=new H,this._processingItems=new H,this._pausedSignal=(0,F.t)(!1),this.concurrency=1,Z.concurrency&&(this.concurrency=Z.concurrency),this._queue=new V.Z(Z.peeker),this.process=Z.process;const I=Z.scheduler;Z.priority&&I&&(this._task=I.registerTask(Z.priority,this))}destroy(){this.clear(),this._schedule=(0,E.hw)(this._schedule),this._task=(0,E.hw)(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(Z){const I=this._controllers.get(Z);I&&I.abort()}clear(){this._queue.clear();const Z=[];this._controllers.forEach(I=>Z.push(I)),this._controllers.clear(),Z.forEach(I=>I.abort()),this._processingItems.clear(),this._cancelNext()}forEach(Z){this._deferreds.forEach((I,G)=>Z(G))}get(Z){const I=this._deferreds.get(Z);return I?I.promise:void 0}isOngoing(Z){return this._processingItems.has(Z)}has(Z){return this._deferreds.has(Z)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(Z,I){const G=this.get(Z);if(G)return G;const W=new AbortController;let A=null;I&&(A=(0,M.fu)(I,()=>W.abort()));const N=()=>{L.remove(),A?.remove(),this._deferreds.delete(Z),this._controllers.delete(Z),this._queue.remove(Z),this._processingItems.delete(Z),this._scheduleNext()},L=(0,M.$F)(W.signal,()=>{const $=this._processingItems.get(Z);$&&$.controller.abort(),N(),O.reject((0,M.zE)())}),O=(0,M.hh)();return this._deferreds.set(Z,O),this._controllers.set(Z,W),O.promise.then(N,N),this._queue.push(Z),this._scheduleNext(),O.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const Z=[];this._processingItems.forEach(I=>Z.push(I)),this._processingItems.clear();for(const I of Z)this._queue.push(I.item),I.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const Z=[];for(;this._queue.length;)Z.push(this._queue.pop());return this.clear(),Z}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(Z){for(;!Z.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),Z.madeProgress()}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,B.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(Z,I){this._canProcessFulfillment(Z)&&(this._scheduleNext(),this._deferreds.get(Z.item).resolve(I))}_processError(Z,I){this._canProcessFulfillment(Z)&&(this._scheduleNext(),this._deferreds.get(Z.item).reject(I))}_canProcessFulfillment(Z){return!!this._deferreds.get(Z.item)&&this._processingItems.get(Z.item)===Z}_process(Z){if(null==Z)return;let I;const G=new AbortController,W=new T(Z,G);this._processingItems.set(Z,W);try{I=this.process(Z,G.signal)}catch(A){this._processError(W,A)}(0,M.y8)(I)?(W.promise=I,I.then(A=>this._processResult(W,A),A=>this._processError(W,A))):this._processResult(W,I)}get test(){return{update:Z=>this.runTask(Z)}}}},82871:(Ze,me,_)=>{"use strict";_.d(me,{LI:()=>A,RZ:()=>S,TT:()=>N,cv:()=>T,v8:()=>w}),_(14007);var M=_(55117);function T(pe,fe,ce){const{ctx:q,canvas:le}=j(pe,ce),ee=q.getImageData(0,0,pe.width,pe.height),ae=function W(pe,fe){return pe.toDataURL(se[fe.format],fe.quality/100)}(le,fe);return Z(le),{dataUrl:ae,data:ee}}function w(pe,fe){const{ctx:ce,canvas:q}=j(pe,fe),le=ce.getImageData(0,0,pe.width,pe.height);return Z(q),le}function j(pe,fe){const ce=function I(){return null==G&&(G=document.createElement("canvas")),G}();fe.premultipliedAlpha&&function ne(pe){const fe=pe.data,ce=fe.length;for(let q=0;q<ce;q+=4){const le=fe[q+3];if(255!==le&&le>0){const ee=255/le;fe[q]=fe[q]*ee,fe[q+1]=fe[q+1]*ee,fe[q+2]=fe[q+2]*ee}}}(pe),ce.width=pe.width,ce.height=pe.height;const q=ce.getContext("2d",{willReadFrequently:!0});return q.putImageData(pe,0,0),fe.flipY&&function oe(pe){pe.save(),pe.globalCompositeOperation="copy",pe.scale(1,-1),pe.translate(0,-pe.canvas.height),pe.drawImage(pe.canvas,0,0),pe.restore()}(q),{ctx:q,canvas:ce}}function Z(pe){pe.width=0,pe.height=0}_(26517);let G=null;function A(pe,fe){const ce=function Y(pe){switch(pe){case"png":case"jpg":case"jpeg":return pe;default:return k}}(pe);return{format:ce,quality:(0,M.uZ)(fe??re[ce],0,100)}}function S(pe,fe){return fe/Math.max(pe[0],pe[1])}function N(pe,fe,ce,q=0,le=0,ee=pe.width-q,ae=pe.height-le,ue=!1){const{data:ge}=pe,{width:Ee,height:be,data:ie}=fe,De=ee/Ee,Be=ae/be,we=Math.ceil(De/2),Me=Math.ceil(Be/2),He=pe.width;for(let xe=0;xe<be;xe++)for(let Xe=0;Xe<Ee;Xe++){const J=4*(Xe+(ue?be-xe-1:xe)*Ee);let ye=0,Re=0,Ve=0,et=0,Fe=0,Qe=0;const Ne=(xe+.5)*Be;for(let ve=Math.floor(xe*Be);ve<(xe+1)*Be;ve++){const Oe=Math.abs(Ne-(ve+.5))/Me,Te=(Xe+.5)*De,je=Oe*Oe;for(let $e=Math.floor(Xe*De);$e<(Xe+1)*De;$e++){const nt=Math.abs(Te-($e+.5))/we,Je=Math.sqrt(je+nt*nt);if(Je>=1)continue;let ot=2*Je*Je*Je-3*Je*Je+1;const at=4*(q+$e+(le+ve)*He);Qe+=ot*ge[at+3],Re+=ot,!ce&&ge[at+3]<255&&(ot=ot*ge[at+3]/255),Ve+=ot*ge[at],et+=ot*ge[at+1],Fe+=ot*ge[at+2],ye+=ot}}ie[J]=Ve/ye,ie[J+1]=et/ye,ie[J+2]=Fe/ye,ie[J+3]=Qe/Re}return fe}const se={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},k="png",re={png:100,jpg:98,jpeg:98}},19903:(Ze,me,_)=>{"use strict";_.d(me,{hc:()=>x});var E=_(99273);let M,V;function x(G){const W=(0,E.Sh)(G);for(;W.length>1;){const A=P(W.shift());if(A.available)return A}return P(W.shift())}function P(G){switch(G){case E.zO.WEBGL1:return function H(){return M||(M=function Z(){const G=new T,W=j(E.zO.WEBGL1,G);return null==W||(G.supportsElementIndexUint=null!==W.getExtension("OES_element_index_uint"),G.supportsStandardDerivatives=null!==W.getExtension("OES_standard_derivatives"),G.supportsInstancedArrays=null!==W.getExtension("ANGLE_instanced_arrays"),G.supportsTextureFloat=null!==W.getExtension("OES_texture_float"),G.supportsTextureHalfFloat=null!==W.getExtension("OES_texture_half_float"),G.supportsColorBufferFloat=null!==W.getExtension("WEBGL_color_buffer_float"),G.supportsColorBufferFloatBlend=null!==W.getExtension("EXT_float_blend"),G.supportsColorBufferHalfFloat=null!==W.getExtension("EXT_color_buffer_half_float")),G}()),M}();case E.zO.WEBGL2:return function B(){return V||(V=function I(){const G=new w,W=j(E.zO.WEBGL2,G);return null==W||(G.supportsColorBufferFloat=null!==W.getExtension("EXT_color_buffer_float"),G.supportsColorBufferFloatBlend=null!==W.getExtension("EXT_float_blend"),G.supportsColorBufferHalfFloat=G.supportsColorBufferFloat||null!==W.getExtension("EXT_color_buffer_half_float")),G}()),V}()}}class F{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class T extends F{constructor(){super(...arguments),this.type=E.zO.WEBGL1}}class w extends F{constructor(){super(...arguments),this.type=E.zO.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function j(G,W){if(G===E.zO.WEBGL1&&typeof WebGLRenderingContext>"u"||G===E.zO.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const A=document.createElement("canvas");if(!A)return null;let S=(0,E.kr)(A,G,{failIfMajorPerformanceCaveat:!0});if(null==S&&(S=(0,E.kr)(A,G),null!=S&&(W.majorPerformanceCaveat=!0)),null==S)return S;if(G===E.zO.WEBGL1){const L=S.getParameter(S.VERSION),O=L?.match(/^WebGL\s+([\d.]*)/);if(O){const $=parseFloat(O[1]);W.available=$>=.94}}else W.available=!0;W.maxTextureSize=S.getParameter(S.MAX_TEXTURE_SIZE),W.supportsVertexShaderSamplers=S.getParameter(S.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const N=S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.HIGH_FLOAT);return N&&(W.supportsHighPrecisionFragment=N.precision>0),S}},99273:(Ze,me,_)=>{"use strict";_.d(me,{Sh:()=>P,dz:()=>x,kr:()=>V,zO:()=>M});var M,H,E=_(14007);function V(H,B,F={}){return H.getContext(B===M.WEBGL1?"webgl":"webgl2",F)||null}function x(H,B,F={}){const T=P(H);for(const w of T){const j=V(B,w,F);if(j)return j}return null}function P(H){if("3d"===H)return[M.WEBGL2];const B=(0,E.Z)("esri-force-webgl");return B===M.WEBGL1||B===M.WEBGL2?[B]:(0,E.Z)("mac")&&(0,E.Z)("chrome")?[M.WEBGL1,M.WEBGL2]:[M.WEBGL2,M.WEBGL1]}(H=M||(M={}))[H.WEBGL1=1]="WEBGL1",H[H.WEBGL2=2]="WEBGL2"},84735:(Ze,me,_)=>{"use strict";var E,M;_.d(me,{x:()=>E}),(M=E||(E={}))[M.SAVE=0]="SAVE",M[M.SAVE_AS=1]="SAVE_AS"},39437:(Ze,me,_)=>{"use strict";_.d(me,{a:()=>M,b:()=>V});var E=_(1535);function M(x){const P=(0,E.vU)(100*(1-x));return Math.max(0,Math.min(P,100))}function V(x){return Math.max(0,Math.min(1-x/100,1))}},5538:(Ze,me,_)=>{"use strict";_.d(me,{Nw:()=>W});var E=_(57964),M=_(34222),V=_(71763),x=_(73710),P=_(85971);const H=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),B=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function I(A,S){"maxScale"in A&&(S.maxScale=(0,x.k)(A.maxScale)??void 0),"minScale"in A&&(S.minScale=(0,x.k)(A.minScale)??void 0)}function W(A,S,N){if(!A.persistenceEnabled)return null;if(!("write"in A)||!A.write)return N?.messages&&N.messages.push(new E.Z("layer:unsupported",`Layers (${A.title}, ${A.id}) of type '${A.declaredClass}' cannot be persisted`,{layer:A})),null;if((0,P.rQ)(A)&&!A.isTable)S=A.resourceInfo;else if(function j(A,S){if(S.restrictedWebMapWriting){const N=function w(A){return"basemap"===A.layerContainerType?H:"operational-layers"===A.layerContainerType?B:null}(S);return null==N||N.has(A.type)&&!(0,P.rQ)(A)}return!0}(A,N)){const L={};return A.write(L,N)?L:null}return null!=S&&function G(A,S){if(function Z(A,S){if(S)if((0,P.rQ)(A)){const N=(0,V.hS)("featureCollection.layers",S),L=N?.[0]?.layerDefinition;L&&I(A,L)}else"group"!==A.type&&I(A,S)}(A,S),S&&(S.id=A.id,"blendMode"in A&&(S.blendMode=A.blendMode,"normal"===S.blendMode&&delete S.blendMode),S.opacity=(0,x.k)(A.opacity)??void 0,S.title=A.title||"Layer",S.visibility=A.visible,"legendEnabled"in A&&"wmts"!==A.type))if((0,P.rQ)(A)){const N=S.featureCollection;N&&(N.showLegend=A.legendEnabled)}else S.showLegend=A.legendEnabled}(A,S=(0,M.d9)(S)),S}},19399:(Ze,me,_)=>{"use strict";_.d(me,{i:()=>M});const E="esri-feature",M={base:E,container:`${E}__size-container`,title:`${E}__title`,main:`${E}__main-container`,btn:`${E}__button`,icon:`${E}__icon`,content:`${E}__content`,contentNode:`${E}__content-node`,contentNodeText:`${E}__content-node--text`,contentElement:`${E}__content-element`,text:`${E}__text`,lastEditedInfo:`${E}__last-edited-info`,fields:`${E}__fields`,fieldHeader:`${E}__field-header`,fieldData:`${E}__field-data`,fieldDataDate:`${E}__field-data--date`,loadingSpinnerContainer:`${E}__loading-container`,spinner:`${E}__loading-spinner`}},53021:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>He});var E=_(15861),M=_(50484),x=(_(91531),_(93300)),P=_(66081),H=_(88278),B=_(90984),T=(_(14007),_(34222)),w=_(4703),j=_(51172),Z=_(47868),I=_(79412),G=_(77675),W=_(19986),A=_(80543),S=_(73018),N=_(10141),L=_(56295),O=_(714),$=_(73322);_(58242);const U={handleInterceptedEvent:(xe,Xe,J,ye)=>(xe.scheduleRender(),Xe.properties[`on${ye.type}`].apply(Xe.properties.bind||J,[ye]))},X={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(xe,Xe,J)=>{"-"===Xe.charAt(0)?xe.style.setProperty(Xe,J):xe.style[Xe]=J}},se=(xe,Xe,J=!1)=>{let ye=xe;return Xe.forEach((Re,Ve)=>{const et=ye?.children?((xe,Xe)=>xe.find(Fe=>Fe.domNode===Re))(ye.children):void 0;J&&!et&&Ve!==Xe.length-1||(ye=et)}),ye};var k=_(90643),re=_(54132),Q=_(70868),pe=_(23260);const fe=new Set;var ge,le=_(57885),ee=_(40846),ae=_(55829),ue=_(33653);let be=0;const ie={widgetIcon:Q.W.checkboxUnchecked};function De(xe,Xe){for(const J in Xe)null!=xe[J]&&("object"==typeof xe[J]&&"object"==typeof Xe[J]?De(xe[J],Xe?.[J]):xe[J]=Xe[J]);return xe}const Be=(xe=>{let Xe;const J={...U,...xe},ye=(xe=>({...X,...xe}))(J),Re=ye.performanceLogger;let Ve,et=!0,Fe=!1;const Qe=[],Ne=[],ve=(Te,je,$e)=>{let nt;ye.eventHandlerInterceptor=(ot,at,mt,Tt)=>function(Ot){let Bt;Re("domEvent",Ot);const Gt=((xe,Xe)=>{const J=[];for(;xe&&xe!==Xe;)J.push(xe),xe=xe.parentNode;return J})(Ot.currentTarget,nt.domNode),kt=Gt.some(ft=>customElements.get(ft?.tagName?.toLowerCase()));if(Ot.eventPhase!==Event.CAPTURING_PHASE&&kt){const ft=Ot.composedPath(),dt=ft.slice(ft.indexOf(Ot.currentTarget),ft.indexOf(nt.domNode)).reverse();Bt=se(nt.getLastRender(),dt,!0)}else Gt.reverse(),Bt=se(nt.getLastRender(),Gt);let on;return Bt&&(on=J.handleInterceptedEvent(Xe,Bt,this,Ot)),Re("domEventProcessed",Ot),on},J.postProcessProjectionOptions?.(ye);const Je=$e();nt=Te(je,Je,ye),ye.eventHandlerInterceptor=void 0,Qe.push(nt),Ne.push($e),J.afterFirstVNodeRendered&&J.afterFirstVNodeRendered(nt,Je)};let Oe=()=>{if(Ve=void 0,et){et=!1,Re("renderStart",void 0);for(let Te=0;Te<Qe.length;Te++){const je=Ne[Te]();Re("rendered",void 0),Qe[Te].update(je),Re("patched",void 0)}Re("renderDone",void 0),et=!0}};return J.modifyDoRenderImplementation&&(Oe=J.modifyDoRenderImplementation(Oe,Qe,Ne)),Xe={renderNow:Oe,scheduleRender:()=>{Ve||Fe||(Ve=requestAnimationFrame(Oe))},stop:()=>{Ve&&(cancelAnimationFrame(Ve),Ve=void 0),Fe=!0},resume:()=>{Fe=!1,et=!0,Xe.scheduleRender()},append:(Te,je)=>{ve($.v.append,Te,je)},insertBefore:(Te,je)=>{ve($.v.insertBefore,Te,je)},merge:(Te,je)=>{ve($.v.merge,Te,je)},replace:(Te,je)=>{ve($.v.replace,Te,je)},detach:Te=>{for(let je=0;je<Ne.length;je++)if(Ne[je]===Te)return Ne.splice(je,1),Qe.splice(je,1)[0];throw new Error("renderFunction was not found")}},Xe})({postProcessProjectionOptions(xe){const Xe=xe.eventHandlerInterceptor,J=/capture$/i;xe.eventHandlerInterceptor=(ye,Re,Ve,et)=>{const Fe=Xe?.(ye,Re,Ve,et),Qe=J.test(ye);if(!((ye=ye.replace(J,"")).toLowerCase()in Ve)||Qe){const Ne=ye[2].toLowerCase()+ye.slice(3),ve=je=>Fe?.call(Ve,je);Ve.addEventListener(Ne,ve,Qe);const Oe=()=>Ve.removeEventListener(Ne,ve,Qe),Te=et.afterRemoved;et.afterRemoved=je=>{Te?.(je),Oe()}}return Fe}},handleInterceptedEvent(xe,Xe,J,ye){const{eventPhase:Re,type:Ve}=ye,et=Re===Event.CAPTURING_PHASE;let Fe=`on${Ve}${et?"capture":""}`;const Qe=Xe.properties;(Qe&&Fe in Qe||(Fe=`on${Ve[0].toUpperCase()}${Ve.slice(1)}${et?"Capture":""}`,Qe&&Fe in Qe))&&((0,le.Uy)(),xe.scheduleRender(),Qe[Fe].call(Qe.bind||J,ye))}});let we=!1,Me=class extends((0,Z.v)(H.Z.EventedAccessor)){constructor(xe,Xe){var J;super(xe,Xe),J=this,this._attached=!1,this._projector=Be,this._readyForTrueRender=!1,this.iconClass=ie.widgetIcon,this.icon=null,this.key=this,this._loadLocale=(0,I.Ds)((0,E.Z)(function*(){if(J._messageBundleProps?.length){const Fe=yield Promise.allSettled(J._messageBundleProps.map(function(){var Qe=(0,E.Z)(function*({bundlePath:Ne,propertyName:ve}){if(J.destroyed)return;let Oe=yield(0,ue.ME)(Ne);J.uiStrings&&Object.keys(J.uiStrings)&&(Oe=De((0,T.d9)(Oe),J.uiStrings)),J[ve]=Oe});return function(Ne){return Qe.apply(this,arguments)}}()));if(J.destroyed)return;for(const Qe of Fe)"rejected"===Qe.status&&w.Z.getLogger(J).error("widget-intl:locale-error",J.declaredClass,Qe.reason)}yield J.loadLocale()})),(0,k.B)();const ye="esri-widget-uid-"+(0,W.DO)(),Re=this.render.bind(this);this._trackingTarget=new O.M(()=>this.scheduleRender());const Ve=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const Fe=Re();let{properties:Qe}=Fe;Qe||(Fe.properties=Qe={});const{key:Ne}=Qe;if(Ne||(Qe.key=ye),(0,re.Z)(Fe.vnodeSelector)){if(!this.visible)return{vnodeSelector:"div",properties:{key:`${ye}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}}else this.visible?Qe.styles||(Qe.styles={}):(Qe.class="",Qe.styles={display:"none"}),Qe.styles.display||(Qe.styles.display="");let ve=0;return Fe.children?.forEach(Oe=>{if((0,re.Z)(Oe.vnodeSelector))return;let{properties:Te}=Oe;Te||(Oe.properties=Te={}),Te.key||(Te.key=`${this.id}--${ve++}`)}),(0,re.d)(this,Fe)};this.render=()=>{if(we)return Ve();let Fe=(0,le.O9)(this)??null;if(Fe)return Fe;this._trackingTarget.clear(),we=!0;try{Fe=(0,L.LJ)(this._trackingTarget,Ve)}catch(Qe){throw console.error(Qe),Qe}finally{we=!1}return Fe&&(0,le.KF)(this,Fe),Fe};const et=this.beforeFirstRender();et?this._resourcesFetch=et.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),function ce(xe){fe.add(xe),xe.finally(()=>fe.delete(xe))}(this._resourcesFetch)}normalizeCtorArgs(xe,Xe){const J={...xe};return Xe&&(J.container=Xe),J}postInitialize(){}beforeFirstRender(){const xe=this.loadDependencies();return this._messageBundleProps?.length||xe?Promise.all([xe,this._loadLocale()]).then(()=>{}).catch(I.H9):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,j.SC)(this._trackingTarget),(0,j.SC)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,le.w7)(this))}set container(xe){this._get("container")||this._set("container",xe)}castContainer(xe){return(0,P.L7)(xe)}get domNode(){return this.container}set domNode(xe){this.container=xe}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+be++}set id(xe){xe&&this._set("id",xe)}get label(){return this.declaredClass.split(".").pop()}set label(xe){this._overrideIfSome("label",xe)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(xe){this._set("visible",xe)}get[(ge=pe.R,pe.T)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,le.w7)(this),this._projector.scheduleRender())}own(xe){(0,x.XV)(w.Z.getLogger(this.declaredClass),"`Widget.own()` is deprecated in favor of Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(xe)}classes(...xe){return ee.Sh.apply(this,xe)}renderNow(){(0,le.w7)(this),this._projector.renderNow()}_postInitialize(){var xe=this;if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,G.YP)(()=>this.viewModel,(J,ye)=>{ye&&this.removeHandles("delegated-events"),J&&(0,B.vT)(J)&&this.addHandles(this._delegatedEventNames.map(Re=>(0,B.on)(J,Re,Ve=>{this.emit(Re,Ve)})),"delegated-events")},G.tX)),this.postInitialize();const Xe=function(){var J=(0,E.Z)(function*(){yield xe._loadLocale().catch(I.H9),xe.scheduleRender()});return function(){return J.apply(this,arguments)}}();this.addHandles([(0,ae.qe)(Xe),(0,G.YP)(()=>this.uiStrings,Xe),(0,G.gx)(()=>this.container,J=>{this.destroyed||this._attach(J)},{initial:!0,once:!0})])}_attach(xe){xe&&(this._projector.merge(xe,this.render),this._attached=!0)}_detach(xe){this._attached&&(this._projector.detach(this.render),this._attached=!1),xe?.parentNode?.removeChild(xe)}};Me[ge]=!0,(0,M._)([(0,A.Cb)()],Me.prototype,"_readyForTrueRender",void 0),(0,M._)([(0,A.Cb)({value:null})],Me.prototype,"container",null),(0,M._)([(0,S.p)("container")],Me.prototype,"castContainer",null),(0,M._)([(0,A.Cb)()],Me.prototype,"iconClass",void 0),(0,M._)([(0,A.Cb)()],Me.prototype,"icon",void 0),(0,M._)([(0,A.Cb)()],Me.prototype,"id",null),(0,M._)([(0,A.Cb)()],Me.prototype,"label",null),(0,M._)([(0,A.Cb)()],Me.prototype,"renderable",null),(0,M._)([(0,A.Cb)()],Me.prototype,"uiStrings",void 0),(0,M._)([(0,A.Cb)()],Me.prototype,"viewModel",void 0),(0,M._)([(0,A.Cb)({value:!0})],Me.prototype,"visible",null),(0,M._)([(0,A.Cb)()],Me.prototype,"key",void 0),(0,M._)([(0,A.Cb)()],Me.prototype,"children",void 0),(0,M._)([(0,A.Cb)()],Me.prototype,"afterCreate",void 0),(0,M._)([(0,A.Cb)()],Me.prototype,"afterUpdate",void 0),(0,M._)([(0,A.Cb)()],Me.prototype,"afterRemoved",void 0),Me=(0,M._)([(0,N.j)("esri.widgets.Widget")],Me);const He=Me},42704:(Ze,me,_)=>{"use strict";_.d(me,{_:()=>F});var E=_(50484),M=_(51172),V=_(80543),B=(_(1535),_(57678),_(14007),_(10141));const F=T=>{let w=class extends T{constructor(...j){super(...j),this.goToOverride=null,this.view=null}callGoTo(j){const{view:Z}=this;return(0,M.O3)(Z),this.goToOverride?this.goToOverride(Z,j):Z.goTo(j.target,j.options)}};return(0,E._)([(0,V.Cb)()],w.prototype,"goToOverride",void 0),(0,E._)([(0,V.Cb)()],w.prototype,"view",void 0),w=(0,E._)([(0,B.j)("esri.widgets.support.GoTo")],w),w}},83022:(Ze,me,_)=>{"use strict";_.d(me,{X:()=>P});var E=_(55117),M=_(89219),V=_(40846),x=_(2485);function P({level:F,class:T,...w},j){const Z=function H(F){return(0,E.uZ)(Math.ceil(F),1,6)}(F);return(0,x.u)(`h${Z}`,{...w,"aria-level":String(Z),class:(0,V.Sh)(M.z.heading,T),role:"heading"},j)}},90643:(Ze,me,_)=>{"use strict";_.d(me,{B:()=>w,h:()=>j});var E=_(55369),M=_(12115);function V(){const{classList:Z}=document.body,I=window.matchMedia("(prefers-color-scheme: dark)").matches,G=()=>Z.contains(M.d)||Z.contains(M.a)&&I?"dark":"light",W=N=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:N}})),A=N=>{S!==N&&W(N),S=N};let S=G();W(S),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",N=>A(N.matches?"dark":"light")),new MutationObserver(()=>A(G())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}!function x(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&("interactive"===document.readyState?V():document.addEventListener("DOMContentLoaded",()=>V(),{once:!0}))}();var H=_(98930),F=(_(14007),_(6785));let T;function w(){try{(0,E.K3)(".")}catch{(0,E.YY)((0,F.hF)((0,H.V)(T)))}}function j(Z){const I=[];for(const G of Object.keys(Z))customElements.get(`calcite-${G}`)||I.push(Z[G]?.());return I.length>0?Promise.all(I):null}T="components/assets"},42534:(Ze,me,_)=>{"use strict";_.d(me,{A9:()=>fe,US:()=>q,bk:()=>ce}),_(91531),_(14007),_(57964),_(55117),_(94678),_(764);var B=_(25037);_(55829);const Z="yyyy-MM-dd";var G,ee;(ee=G||(G={})).HM="HH:mm",ee.HMS="HH:mm:ss",ee.HMS_MS="HH:mm:ss.SSS";const W=[G.HMS_MS,G.HMS,G.HM,"TT"];function fe(ee){return B.ou.fromFormat(ee,Z)}function ce(ee){let ae=null;return W.find(ue=>(ae=B.ou.fromFormat(ee,ue),ae.isValid)),ae}function q(ee){return B.ou.fromISO(ee)}},86269:(Ze,me,_)=>{"use strict";_.d(me,{h:()=>M});var E=_(40846);function M(){return function(P,H){if(!P[H])throw new TypeError(`Cannot auto bind undefined function '${String(H)}'`);return{value:x(P[H])}}}function x(P){return function(H,...B){!function V(P){const H=P?.type;return P instanceof KeyboardEvent||"keyup"===H||"keydown"===H||"keypress"===H}(H)?P.call(this,H,...B):(0,E.pf)(H.key)&&(H.preventDefault(),H.stopPropagation(),H.target.click())}}},26440:(Ze,me,_)=>{"use strict";function E(M){return(V,x)=>{V.hasOwnProperty("_messageBundleProps")||(V._messageBundleProps=V._messageBundleProps?V._messageBundleProps.slice():[]),V._messageBundleProps.push({bundlePath:M,propertyName:x})}}_.d(me,{H:()=>E})},92795:(Ze,me,_)=>{"use strict";function E(V){return x=>{x.hasOwnProperty("_delegatedEventNames")||(x._delegatedEventNames=x._delegatedEventNames?x._delegatedEventNames.slice():[]);const P=x._delegatedEventNames,H=Array.isArray(V)?V:function M(V){return V.split(",").map(x=>x.trim())}(V);P.push(...H)}}_.d(me,{s:()=>E})},89219:(Ze,me,_)=>{"use strict";_.d(me,{z:()=>E});const E={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},2485:(Ze,me,_)=>{"use strict";_.d(me,{D:()=>H,u:()=>P});var E=_(54132),M=function(B){return{vnodeSelector:"",properties:void 0,children:void 0,text:B.toString(),domNode:null}},V=function(B,F){for(var T=0,w=B.length;T<w;T++){var j=B[T];Array.isArray(j)?V(j,F):null!=j&&!1!==j&&(j.hasOwnProperty("vnodeSelector")||(j=M(j)),F.push(j))}},x=function(B,F){for(var T=[],w=2;w<arguments.length;w++)T[w-2]=arguments[w];if(1===T.length&&"string"==typeof T[0])return{vnodeSelector:B,properties:F||void 0,children:void 0,text:T[0],domNode:null};var j=[];return V(T,j),{vnodeSelector:B,properties:F||void 0,children:j,text:void 0,domNode:null}};function P(B,F,...T){return"function"!=typeof B||(0,E.Z)(B)?x(B,F,...T):B(F,...T)}function H(...B){return B}},54132:(Ze,me,_)=>{"use strict";_.d(me,{Z:()=>w,d:()=>H});var E=_(1258),M=_(23260);const V=[],x={},P=new WeakMap;function H(j,Z){let I=Z.children;if(I?.length)for(let W=0;W<I.length;++W)I[W]=H(j,I[W]);else I=V;const G=Z.vnodeSelector;if(w(G)){const W=Z.properties||x,A=W.key||G;return{vnodeSelector:"div",properties:{key:A,afterCreate:B,afterUpdate:F,afterRemoved:T,parentWidget:j,widgetConstructor:G,widgetProperties:{...W,key:A,children:I}},children:void 0,text:void 0,domNode:null}}return Z}function B(j,Z,I,{parentWidget:G,widgetConstructor:W,widgetProperties:A}){const S=new W(A);S.container=j,P.set(j,S),S.afterCreate?.(S,j),G.addHandles((0,E.kB)(()=>T(j))),queueMicrotask(()=>{S[M.T].projector.renderNow()})}function F(j,Z,I,{widgetProperties:G}){const W=P.get(j);W&&(W.set(G),W.afterUpdate?.(W,j))}function T(j){const Z=P.get(j);Z&&(Z.afterRemoved?.(Z,j),Z.destroy(),P.delete(j))}function w(j){return"function"==typeof j&&j[M.R]}},70868:(Ze,me,_)=>{"use strict";_.d(me,{W:()=>E});const E={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"}},23260:(Ze,me,_)=>{"use strict";_.d(me,{R:()=>E,T:()=>M});const E=Symbol("widget"),M=Symbol("widget-test-data")},57885:(Ze,me,_)=>{"use strict";_.d(me,{KF:()=>x,O9:()=>V,Uy:()=>M,w7:()=>P});const E=new Map;function M(){E.clear()}function V(H){return E.get(H)}function x(H,B){E.set(H,B)}function P(H){E.delete(H)}},36911:(Ze,me,_)=>{"use strict";function x(H){return H&&"function"==typeof H.render}function P(H){return H&&"function"==typeof H.postMixInProperties&&"function"==typeof H.buildRendering&&"function"==typeof H.postCreate&&"function"==typeof H.startup}_.d(me,{Qd:()=>x,o:()=>P}),_(86269),_(2485),_(40846)},40846:(Ze,me,_)=>{"use strict";_.d(me,{Sh:()=>Gn,pV:()=>ns,pf:()=>Pt,dZ:()=>yr,w3:()=>Ge,Yo:()=>bn});var M={exports:{}},V={},x={exports:{}},P={};function H(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var T=/javascript\s*\:/gim;P.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},P.getDefaultWhiteList=H,P.onAttr=function B(_e,ht,ut){},P.onIgnoreAttr=function F(_e,ht,ut){},P.safeAttrValue=function w(_e,ht){return T.test(ht)?"":ht};var Z_trim=function(_e){return String.prototype.trim?_e.trim():_e.replace(/(^\s*)|(\s*$)/g,"")},Z_trimRight=function(_e){return String.prototype.trimRight?_e.trimRight():_e.replace(/(\s*$)/g,"")},W=P;function S(_e){return null==_e}function L(_e){(_e=function N(_e){var ht={};for(var ut in _e)ht[ut]=_e[ut];return ht}(_e||{})).whiteList=_e.whiteList||W.whiteList,_e.onAttr=_e.onAttr||W.onAttr,_e.onIgnoreAttr=_e.onIgnoreAttr||W.onIgnoreAttr,_e.safeAttrValue=_e.safeAttrValue||W.safeAttrValue,this.options=_e}L.prototype.process=function(_e){if(!(_e=(_e=_e||"").toString()))return"";var ut=this.options,Ye=ut.whiteList,it=ut.onAttr,gt=ut.onIgnoreAttr,Lt=ut.safeAttrValue;return function I(_e,ht){";"!==(_e=Z_trimRight(_e))[_e.length-1]&&(_e+=";");var ut=_e.length,Ye=!1,it=0,gt=0,Lt="";function Kt(){if(!Ye){var Rn=Z_trim(_e.slice(it,gt)),Zn=Rn.indexOf(":");if(-1!==Zn){var br=Z_trim(Rn.slice(0,Zn)),Rr=Z_trim(Rn.slice(Zn+1));if(br){var Hr=ht(it,Lt.length,br,Rr,Rn);Hr&&(Lt+=Hr+"; ")}}}it=gt+1}for(;gt<ut;gt++){var Jt=_e[gt];if("/"===Jt&&"*"===_e[gt+1]){var $n=_e.indexOf("*/",gt+2);if(-1===$n)break;it=(gt=$n+1)+1,Ye=!1}else"("===Jt?Ye=!0:")"===Jt?Ye=!1:";"===Jt?Ye||Kt():"\n"===Jt&&Kt()}return Z_trim(Lt)}(_e,function(Jt,$n,Rn,Zn,br){var Rr=Ye[Rn],Hr=!1;if(!0===Rr?Hr=Rr:"function"==typeof Rr?Hr=Rr(Zn):Rr instanceof RegExp&&(Hr=Rr.test(Zn)),!0!==Hr&&(Hr=!1),Zn=Lt(Rn,Zn)){var Lr,Ds={position:$n,sourcePosition:Jt,source:br,isWhite:Hr};if(Hr)return S(Lr=it(Rn,Zn,Ds))?Rn+":"+Zn:Lr;if(!S(Lr=gt(Rn,Zn,Ds)))return Lr}})};var O=L;!function(_e,ht){var ut=P,Ye=O;for(var gt in(ht=_e.exports=function it(Lt,Kt){return new Ye(Kt).process(Lt)}).FilterCSS=Ye,ut)ht[gt]=ut[gt]}(x,x.exports);var $={indexOf:function(_e,ht){var ut,Ye;if(Array.prototype.indexOf)return _e.indexOf(ht);for(ut=0,Ye=_e.length;ut<Ye;ut++)if(_e[ut]===ht)return ut;return-1},forEach:function(_e,ht,ut){var Ye,it;if(Array.prototype.forEach)return _e.forEach(ht,ut);for(Ye=0,it=_e.length;Ye<it;Ye++)ht.call(ut,_e[Ye],Ye,_e)},trim:function(_e){return String.prototype.trim?_e.trim():_e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(_e){var ut=/\s|\n|\t/.exec(_e);return ut?ut.index:-1}},U=x.exports.getDefaultWhiteList,X=$;var oe=new(0,x.exports.FilterCSS);function re(_e){return _e.replace(pe,"&lt;").replace(fe,"&gt;")}var pe=/</g,fe=/>/g,ce=/"/g,q=/&quot;/g,le=/&#([a-zA-Z0-9]*);?/gim,ee=/&colon;?/gim,ae=/&newline;?/gim,ue=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,ge=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Ee=/u\s*r\s*l\s*\(.*/gi;function be(_e){return _e.replace(ce,"&quot;")}function ie(_e){return _e.replace(q,'"')}function De(_e){return _e.replace(le,function(ut,Ye){return String.fromCharCode("x"===Ye[0]||"X"===Ye[0]?parseInt(Ye.substr(1),16):parseInt(Ye,10))})}function Be(_e){return _e.replace(ee,":").replace(ae," ")}function we(_e){for(var ht="",ut=0,Ye=_e.length;ut<Ye;ut++)ht+=_e.charCodeAt(ut)<32?" ":_e.charAt(ut);return X.trim(ht)}function Me(_e){return we(_e=Be(_e=De(_e=ie(_e))))}function He(_e){return re(_e=be(_e))}V.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},V.getDefaultWhiteList=function Y(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},V.onTag=function ne(_e,ht,ut){},V.onIgnoreTag=function se(_e,ht,ut){},V.onTagAttr=function te(_e,ht,ut){},V.onIgnoreTagAttr=function k(_e,ht,ut){},V.safeAttrValue=function Q(_e,ht,ut,Ye){if(ut=Me(ut),"href"===ht||"src"===ht){if("#"===(ut=X.trim(ut)))return"#";if("http://"!==ut.substr(0,7)&&"https://"!==ut.substr(0,8)&&"mailto:"!==ut.substr(0,7)&&"tel:"!==ut.substr(0,4)&&"data:image/"!==ut.substr(0,11)&&"ftp://"!==ut.substr(0,6)&&"./"!==ut.substr(0,2)&&"../"!==ut.substr(0,3)&&"#"!==ut[0]&&"/"!==ut[0])return""}else if("background"===ht){if(ue.lastIndex=0,ue.test(ut))return""}else if("style"===ht){if(ge.lastIndex=0,ge.test(ut)||(Ee.lastIndex=0,Ee.test(ut)&&(ue.lastIndex=0,ue.test(ut))))return"";!1!==Ye&&(ut=(Ye=Ye||oe).process(ut))}return He(ut)},V.escapeHtml=re,V.escapeQuote=be,V.unescapeQuote=ie,V.escapeHtmlEntities=De,V.escapeDangerHtml5Entities=Be,V.clearNonPrintableCharacter=we,V.friendlyAttrValue=Me,V.escapeAttrValue=He,V.onIgnoreTagStripAll=function xe(){return""},V.StripTagBody=function Xe(_e,ht){"function"!=typeof ht&&(ht=function(){});var ut=!Array.isArray(_e),it=[],gt=!1;return{onIgnoreTag:function(Lt,Kt,Jt){if(function Ye(Lt){return!!ut||-1!==X.indexOf(_e,Lt)}(Lt)){if(Jt.isClosing){return it.push([!1!==gt?gt:Jt.position,Jt.position+10]),gt=!1,"[/removed]"}return gt||(gt=Jt.position),"[removed]"}return ht(Lt,Kt,Jt)},remove:function(Lt){var Kt="",Jt=0;return X.forEach(it,function($n){Kt+=Lt.slice(Jt,$n[0]),Jt=$n[1]}),Kt+=Lt.slice(Jt)}}},V.stripCommentTag=function J(_e){for(var ht="",ut=0;ut<_e.length;){var Ye=_e.indexOf("\x3c!--",ut);if(-1===Ye){ht+=_e.slice(ut);break}ht+=_e.slice(ut,Ye);var it=_e.indexOf("--\x3e",Ye);if(-1===it)break;ut=it+3}return ht},V.stripBlankChar=function ye(_e){var ht=_e.split("");return(ht=ht.filter(function(ut){var Ye=ut.charCodeAt(0);return!(127===Ye||Ye<=31&&10!==Ye&&13!==Ye)})).join("")},V.cssFilter=oe,V.getDefaultCSSWhiteList=U;var Re={},Ve=$;function et(_e){var ut,ht=Ve.spaceIndex(_e);return ut=_e.slice(1,-1===ht?-1:ht+1),"/"===(ut=Ve.trim(ut).toLowerCase()).slice(0,1)&&(ut=ut.slice(1)),"/"===ut.slice(-1)&&(ut=ut.slice(0,-1)),ut}function Fe(_e){return"</"===_e.slice(0,2)}var Ne=/[^a-zA-Z0-9\\_:.-]/gim;function Oe(_e,ht){for(;ht<_e.length;ht++){var ut=_e[ht];if(" "!==ut)return"="===ut?ht:-1}}function Te(_e,ht){for(;ht<_e.length;ht++){var ut=_e[ht];if(" "!==ut)return"'"===ut||'"'===ut?ht:-1}}function je(_e,ht){for(;ht>0;ht--){var ut=_e[ht];if(" "!==ut)return"="===ut?ht:-1}}function nt(_e){return function $e(_e){return'"'===_e[0]&&'"'===_e[_e.length-1]||"'"===_e[0]&&"'"===_e[_e.length-1]}(_e)?_e.substr(1,_e.length-2):_e}Re.parseTag=function Qe(_e,ht,ut){var Ye="",it=0,gt=!1,Lt=!1,Kt=0,Jt=_e.length,$n="",Rn="";e:for(Kt=0;Kt<Jt;Kt++){var Zn=_e.charAt(Kt);if(!1===gt){if("<"===Zn){gt=Kt;continue}}else if(!1===Lt){if("<"===Zn){Ye+=ut(_e.slice(it,Kt)),gt=Kt,it=Kt;continue}if(">"===Zn){Ye+=ut(_e.slice(it,gt)),$n=et(Rn=_e.slice(gt,Kt+1)),Ye+=ht(gt,Ye.length,$n,Rn,Fe(Rn)),it=Kt+1,gt=!1;continue}if('"'===Zn||"'"===Zn)for(var br=1,Rr=_e.charAt(Kt-br);""===Rr.trim()||"="===Rr;){if("="===Rr){Lt=Zn;continue e}Rr=_e.charAt(Kt-++br)}}else if(Zn===Lt){Lt=!1;continue}}return it<_e.length&&(Ye+=ut(_e.substr(it))),Ye},Re.parseAttr=function ve(_e,ht){var ut=0,Ye=0,it=[],gt=!1,Lt=_e.length;function Kt(br,Rr){if(!((br=(br=Ve.trim(br)).replace(Ne,"").toLowerCase()).length<1)){var Hr=ht(br,Rr||"");Hr&&it.push(Hr)}}for(var Jt=0;Jt<Lt;Jt++){var Zn,$n=_e.charAt(Jt);if(!1!==gt||"="!==$n)if(!1===gt||Jt!==Ye){if(/\s|\n|\t/.test($n)){if(_e=_e.replace(/\s|\n|\t/g," "),!1===gt){if(-1===(Zn=Oe(_e,Jt))){Kt(Ve.trim(_e.slice(ut,Jt))),gt=!1,ut=Jt+1;continue}Jt=Zn-1;continue}if(-1===(Zn=je(_e,Jt-1))){Kt(gt,nt(Ve.trim(_e.slice(ut,Jt)))),gt=!1,ut=Jt+1;continue}}}else{if(-1===(Zn=_e.indexOf($n,Jt+1)))break;Kt(gt,Ve.trim(_e.slice(Ye+1,Zn))),gt=!1,ut=(Jt=Zn)+1}else gt=_e.slice(ut,Jt),Ye='"'===_e.charAt(ut=Jt+1)||"'"===_e.charAt(ut)?ut:Te(_e,Jt+1)}return ut<_e.length&&(!1===gt?Kt(_e.slice(ut)):Kt(gt,nt(Ve.trim(_e.slice(ut))))),Ve.trim(it.join(" "))};var Je=x.exports.FilterCSS,ot=V,mt=Re.parseTag,Tt=Re.parseAttr,Ot=$;function Bt(_e){return null==_e}function ft(_e){(_e=function kt(_e){var ht={};for(var ut in _e)ht[ut]=_e[ut];return ht}(_e||{})).stripIgnoreTag&&(_e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),_e.onIgnoreTag=ot.onIgnoreTagStripAll),_e.whiteList=_e.whiteList||_e.allowList?function on(_e){var ht={};for(var ut in _e)Array.isArray(_e[ut])?ht[ut.toLowerCase()]=_e[ut].map(function(Ye){return Ye.toLowerCase()}):ht[ut.toLowerCase()]=_e[ut];return ht}(_e.whiteList||_e.allowList):ot.whiteList,_e.onTag=_e.onTag||ot.onTag,_e.onTagAttr=_e.onTagAttr||ot.onTagAttr,_e.onIgnoreTag=_e.onIgnoreTag||ot.onIgnoreTag,_e.onIgnoreTagAttr=_e.onIgnoreTagAttr||ot.onIgnoreTagAttr,_e.safeAttrValue=_e.safeAttrValue||ot.safeAttrValue,_e.escapeHtml=_e.escapeHtml||ot.escapeHtml,this.options=_e,!1===_e.css?this.cssFilter=!1:(_e.css=_e.css||{},this.cssFilter=new Je(_e.css))}ft.prototype.process=function(_e){if(!(_e=(_e=_e||"").toString()))return"";var ut=this.options,Ye=ut.whiteList,it=ut.onTag,gt=ut.onIgnoreTag,Lt=ut.onTagAttr,Kt=ut.onIgnoreTagAttr,Jt=ut.safeAttrValue,$n=ut.escapeHtml,Rn=this.cssFilter;ut.stripBlankChar&&(_e=ot.stripBlankChar(_e)),ut.allowCommentTag||(_e=ot.stripCommentTag(_e));var Zn=!1;ut.stripIgnoreTagBody&&(Zn=ot.StripTagBody(ut.stripIgnoreTagBody,gt),gt=Zn.onIgnoreTag);var br=mt(_e,function(Rr,Hr,Ds,Lr,Bo){var Fo={sourcePosition:Rr,position:Hr,isClosing:Bo,isWhite:Object.prototype.hasOwnProperty.call(Ye,Ds)},Ys=it(Ds,Lr,Fo);if(!Bt(Ys))return Ys;if(Fo.isWhite){if(Fo.isClosing)return"</"+Ds+">";var gi=function Gt(_e){var ht=Ot.spaceIndex(_e);if(-1===ht)return{html:"",closing:"/"===_e[_e.length-2]};var ut="/"===(_e=Ot.trim(_e.slice(ht+1,-1)))[_e.length-1];return ut&&(_e=Ot.trim(_e.slice(0,-1))),{html:_e,closing:ut}}(Lr),It=Ye[Ds],hr=Tt(gi.html,function(Ss,kn){var Do=-1!==Ot.indexOf(It,Ss),pn=Lt(Ds,Ss,kn,Do);return Bt(pn)?Do?(kn=Jt(Ds,Ss,kn,Rn))?Ss+'="'+kn+'"':Ss:Bt(pn=Kt(Ds,Ss,kn,Do))?void 0:pn:pn});return Lr="<"+Ds,hr&&(Lr+=" "+hr),gi.closing&&(Lr+=" /"),Lr+">"}return Bt(Ys=gt(Ds,Lr,Fo))?$n(Lr):Ys},$n);return Zn&&(br=Zn.remove(br)),br};var dt=ft;!function(_e,ht){var ut=V,Ye=Re,it=dt;function gt(Kt,Jt){return new it(Jt).process(Kt)}(ht=_e.exports=gt).filterXSS=gt,ht.FilterXSS=it,function(){for(var Kt in ut)ht[Kt]=ut[Kt];for(var Jt in Ye)ht[Jt]=Ye[Jt]}(),function Lt(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}()&&(self.filterXSS=_e.exports)}(M,M.exports);var Ct=function(){function _e(ht,ut){var it,Ye=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(gt,Lt,Kt,Jt){return"a"===gt&&"href"===Lt||("img"===gt||"source"===gt)&&"src"===Lt?Ye.sanitizeUrl(Kt):M.exports.safeAttrValue(gt,Lt,Kt,Jt)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},ht&&!ut?it=ht:ht&&ut?(it=Object.create(this.arcgisFilterOptions),Object.keys(ht).forEach(function(gt){"whiteList"===gt?it.whiteList=Ye._extendObjectOfArrays([Ye.arcgisWhiteList,ht.whiteList||{}]):it[gt]=ht[gt]})):(it=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=it,this._xssFilter=new M.exports.FilterXSS(it)}return _e.prototype.sanitize=function(ht,ut){switch(void 0===ut&&(ut={}),typeof ht){case"number":return isNaN(ht)||!isFinite(ht)?null:ht;case"boolean":return ht;case"string":return this._xssFilter.process(ht);case"object":return this._iterateOverObject(ht,ut);default:return ut.allowUndefined&&typeof ht>"u"?void 0:null}},_e.prototype.sanitizeUrl=function(ht,ut){var Ye=(ut??{}).isProtocolRequired,it=void 0===Ye||Ye,gt=this._trim(ht.substring(0,ht.indexOf(":"))),Lt="/"===ht,Kt=/^#/.test(ht),Jt=gt&&this.allowedProtocols.indexOf(gt.toLowerCase())>-1;return Lt||Kt||Jt?M.exports.escapeAttrValue(ht):gt||it?"":M.exports.escapeAttrValue("https://".concat(ht))},_e.prototype.sanitizeHTMLAttribute=function(ht,ut,Ye,it){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(ht,ut,Ye,it):M.exports.safeAttrValue(ht,ut,Ye,it)},_e.prototype.validate=function(ht,ut){void 0===ut&&(ut={});var Ye=this.sanitize(ht,ut);return{isValid:ht===Ye,sanitized:Ye}},_e.prototype.encodeHTML=function(ht){var ut=this;return String(ht).replace(/[&<>"'\/]/g,function(Ye){return ut._entityMap[Ye]})},_e.prototype.encodeAttrValue=function(ht){var ut=/^[a-zA-Z0-9]$/;return String(ht).replace(/[\x00-\xFF]/g,function(Ye,it){return ut.test(Ye)?Ye:"&#x".concat(Number(ht.charCodeAt(it)).toString(16),";")})},_e.prototype._extendObjectOfArrays=function(ht){var ut={};return ht.forEach(function(Ye){Object.keys(Ye).forEach(function(it){ut[it]=Array.isArray(Ye[it])&&Array.isArray(ut[it])?ut[it].concat(Ye[it]):Ye[it]})}),ut},_e.prototype._iterateOverObject=function(ht,ut){var Ye=this;void 0===ut&&(ut={});try{var it=!1,gt=void 0;if(Array.isArray(ht))gt=ht.reduce(function(Kt,Jt){var $n=Ye.validate(Jt,ut);return $n.isValid?Kt.concat([Jt]):(it=!0,Kt.concat([$n.sanitized]))},[]);else{if(!function(_e){if("object"!=typeof _e||null===_e||"[object Object]"!==Object.prototype.toString.call(_e))return!1;var ht=Object.getPrototypeOf(_e);if(null===ht)return!0;for(;null!==Object.getPrototypeOf(ht);)ht=Object.getPrototypeOf(ht);return Object.getPrototypeOf(_e)===ht}(ht))return ut.allowUndefined&&typeof ht>"u"?void 0:null;gt=Object.keys(ht).reduce(function(Kt,Jt){var $n=ht[Jt],Rn=Ye.validate($n,ut);return Rn.isValid?Kt[Jt]=$n:(it=!0,Kt[Jt]=Rn.sanitized),Kt},{})}return it?gt:ht}catch{return null}},_e.prototype._trim=function(ht){return String.prototype.trim?ht.trim():ht.replace(/(^\s*)|(\s*$)/g,"")},_e}(),Dt=_(11667),Yt=(_(1258),_(14007),_(4703)),gn=(_(77675),_(57885));Yt.Z.getLogger("esri.widgets.support.widgetUtils");function Gn(_e){const ht=Dt.Z.acquire();for(let Ye=0;Ye<arguments.length;Ye++){const it=arguments[Ye],gt=typeof it;if("string"===gt)ht.push(it);else if(Array.isArray(it))ht.push.apply(ht,it);else if("object"===gt)for(const Lt in it)it[Lt]&&ht.push(Lt)}const ut=ht.join(" ");return Dt.Z.release(ht),ut}function yr(_e){const ht=_e?.closest("[dir]");return null!==ht&&ht instanceof HTMLElement&&"rtl"===ht.dir||"rtl"===document.dir}function ns(_e){this[_e.getAttribute("data-node-ref")]=null}function bn(_e){this[_e.getAttribute("data-node-ref")]=_e}(()=>{const _e=new Map;new ResizeObserver(Ye=>{(0,gn.Uy)();for(const it of Ye)_e.get(it.target)?.(it)})})();const Rt=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((_e,ht)=>(_e[ht]=[],_e),{}),ze=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ge=new Ct({whiteList:Rt,onTagAttr:(_e,ht,ut)=>{const Ye=`${ht}="${ut}"`;if(ze.includes(ht))return Ye},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Pt(_e){return"Enter"===_e||" "===_e}},12115:(Ze,me,_)=>{"use strict";_.d(me,{A:()=>ce,B:()=>q,C:()=>P,D:()=>A,E:()=>ee,F:()=>ae,a:()=>M,b:()=>be,c:()=>xe,d:()=>V,e:()=>Ot,f:()=>Fe,g:()=>Ne,h:()=>$e,j:()=>Gt,k:()=>Ve,n:()=>Be,q:()=>He,s:()=>Bt,t:()=>Je,w:()=>ot,x:()=>ye,y:()=>on,z:()=>fe});var E=_(15861);const M="calcite-mode-auto",V="calcite-mode-dark",P={autoMode:M,darkMode:V,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};var H=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],B=H.join(","),F=typeof Element>"u",T=F?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,w=!F&&Element.prototype.getRootNode?function(ft){var dt;return null==ft||null===(dt=ft.getRootNode)||void 0===dt?void 0:dt.call(ft)}:function(ft){return ft?.ownerDocument},j=function ft(dt,Ct){var Dt;void 0===Ct&&(Ct=!0);var xt=null==dt||null===(Dt=dt.getAttribute)||void 0===Dt?void 0:Dt.call(dt,"inert");return""===xt||"true"===xt||Ct&&dt&&ft(dt.parentNode)},I=function(dt,Ct,Dt){if(j(dt))return[];var xt=Array.prototype.slice.apply(dt.querySelectorAll(B));return Ct&&T.call(dt,B)&&xt.unshift(dt),xt.filter(Dt)},G=function ft(dt,Ct,Dt){for(var xt=[],nn=Array.from(dt);nn.length;){var Yt=nn.shift();if(!j(Yt,!1))if("SLOT"===Yt.tagName){var rn=Yt.assignedElements(),yn=ft(rn.length?rn:Yt.children,!0,Dt);Dt.flatten?xt.push.apply(xt,yn):xt.push({scopeParent:Yt,candidates:yn})}else{T.call(Yt,B)&&Dt.filter(Yt)&&(Ct||!dt.includes(Yt))&&xt.push(Yt);var lr=Yt.shadowRoot||"function"==typeof Dt.getShadowRoot&&Dt.getShadowRoot(Yt),On=!j(lr,!1)&&(!Dt.shadowRootFilter||Dt.shadowRootFilter(Yt));if(lr&&On){var zn=ft(!0===lr?Yt.children:lr.children,!0,Dt);Dt.flatten?xt.push.apply(xt,zn):xt.push({scopeParent:Yt,candidates:zn})}else nn.unshift.apply(nn,Yt.children)}}return xt},W=function(dt){return!isNaN(parseInt(dt.getAttribute("tabindex"),10))},A=function(dt){if(!dt)throw new Error("No node provided");return dt.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(dt.tagName)||function(dt){var Ct,Dt=null==dt||null===(Ct=dt.getAttribute)||void 0===Ct?void 0:Ct.call(dt,"contenteditable");return""===Dt||"true"===Dt}(dt))&&!W(dt)?0:dt.tabIndex},N=function(dt,Ct){return dt.tabIndex===Ct.tabIndex?dt.documentOrder-Ct.documentOrder:dt.tabIndex-Ct.tabIndex},L=function(dt){return"INPUT"===dt.tagName},ne=function(dt){var Ct=dt.getBoundingClientRect();return 0===Ct.width&&0===Ct.height},k=function(dt,Ct){return!(Ct.disabled||j(Ct)||function(dt){return L(dt)&&"hidden"===dt.type}(Ct)||function(dt,Ct){var Dt=Ct.displayCheck,xt=Ct.getShadowRoot;if("hidden"===getComputedStyle(dt).visibility)return!0;var nn=T.call(dt,"details>summary:first-of-type");if(T.call(nn?dt.parentElement:dt,"details:not([open]) *"))return!0;if(Dt&&"full"!==Dt&&"legacy-full"!==Dt){if("non-zero-area"===Dt)return ne(dt)}else{if("function"==typeof xt){for(var rn=dt;dt;){var gn=dt.parentElement,yn=w(dt);if(gn&&!gn.shadowRoot&&!0===xt(gn))return ne(dt);dt=dt.assignedSlot?dt.assignedSlot:gn||yn===dt.ownerDocument?gn:yn.host}dt=rn}if(function(dt){var Ct,Yt,rn,gn,Dt=dt&&w(dt),xt=null===(Ct=Dt)||void 0===Ct?void 0:Ct.host,nn=!1;if(Dt&&Dt!==dt)for(nn=!!(null!==(Yt=xt)&&void 0!==Yt&&null!==(rn=Yt.ownerDocument)&&void 0!==rn&&rn.contains(xt)||null!=dt&&null!==(gn=dt.ownerDocument)&&void 0!==gn&&gn.contains(dt));!nn&&xt;){var yn,Mn,lr;nn=!(null===(Mn=xt=null===(yn=Dt=w(xt))||void 0===yn?void 0:yn.host)||void 0===Mn||null===(lr=Mn.ownerDocument)||void 0===lr||!lr.contains(xt))}return nn}(dt))return!dt.getClientRects().length;if("legacy-full"!==Dt)return!0}return!1}(Ct,dt)||function(dt){return"DETAILS"===dt.tagName&&Array.prototype.slice.apply(dt.children).some(function(Dt){return"SUMMARY"===Dt.tagName})}(Ct)||function(dt){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(dt.tagName))for(var Ct=dt.parentElement;Ct;){if("FIELDSET"===Ct.tagName&&Ct.disabled){for(var Dt=0;Dt<Ct.children.length;Dt++){var xt=Ct.children.item(Dt);if("LEGEND"===xt.tagName)return!!T.call(Ct,"fieldset[disabled] *")||!xt.contains(dt)}return!0}Ct=Ct.parentElement}return!1}(Ct))},re=function(dt,Ct){return!(function(dt){return function(dt){return L(dt)&&"radio"===dt.type}(dt)&&!function(dt){if(!dt.name)return!0;var xt,Ct=dt.form||w(dt),Dt=function(rn){return Ct.querySelectorAll('input[type="radio"][name="'+rn+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)xt=Dt(window.CSS.escape(dt.name));else try{xt=Dt(dt.name)}catch(Yt){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",Yt.message),!1}var nn=function(dt,Ct){for(var Dt=0;Dt<dt.length;Dt++)if(dt[Dt].checked&&dt[Dt].form===Ct)return dt[Dt]}(xt,dt.form);return!nn||nn===dt}(dt)}(Ct)||A(Ct)<0||!k(dt,Ct))},Q=function(dt){var Ct=parseInt(dt.getAttribute("tabindex"),10);return!!(isNaN(Ct)||Ct>=0)},pe=function ft(dt){var Ct=[],Dt=[];return dt.forEach(function(xt,nn){var Yt=!!xt.scopeParent,rn=Yt?xt.scopeParent:xt,gn=function(dt,Ct){var Dt=A(dt);return Dt<0&&Ct&&!W(dt)?0:Dt}(rn,Yt),yn=Yt?ft(xt.candidates):rn;0===gn?Yt?Ct.push.apply(Ct,yn):Ct.push(rn):Dt.push({documentOrder:nn,tabIndex:gn,item:xt,isScope:Yt,content:yn})}),Dt.sort(N).reduce(function(xt,nn){return nn.isScope?xt.push.apply(xt,nn.content):xt.push(nn.content),xt},[]).concat(Ct)},fe=function(dt,Ct){var Dt;return Dt=(Ct=Ct||{}).getShadowRoot?G([dt],Ct.includeContainer,{filter:re.bind(null,Ct),flatten:!1,getShadowRoot:Ct.getShadowRoot,shadowRootFilter:Q}):I(dt,Ct.includeContainer,re.bind(null,Ct)),pe(Dt)},ce=function(dt,Ct){return(Ct=Ct||{}).getShadowRoot?G([dt],Ct.includeContainer,{filter:k.bind(null,Ct),flatten:!0,getShadowRoot:Ct.getShadowRoot}):I(dt,Ct.includeContainer,k.bind(null,Ct))},q=function(dt,Ct){if(Ct=Ct||{},!dt)throw new Error("No node provided");return!1!==T.call(dt,B)&&re(Ct,dt)},le=H.concat("iframe").join(","),ee=function(dt,Ct){if(Ct=Ct||{},!dt)throw new Error("No node provided");return!1!==T.call(dt,le)&&k(Ct,dt)};const ae={getShadowRoot:!0};function be(ft){const Dt=xe(ft,"[dir]");return Dt?Dt.getAttribute("dir"):"ltr"}function De(ft){return ft.getRootNode()}function Be(ft){const dt=De(ft);return"host"in dt?dt:null}function Me(ft){return ft.host||null}function He(ft,{selector:dt,id:Ct}){return function Dt(xt){if(!xt)return null;xt.assignedSlot&&(xt=xt.assignedSlot);const nn=De(xt),Yt=Ct?"getElementById"in nn?nn.getElementById(Ct):null:dt?nn.querySelector(dt):null,rn=Me(nn);return Yt||(rn?Dt(rn):null)}(ft)}function xe(ft,dt){return function Ct(Dt){return Dt?Dt.closest(dt)||Ct(Me(De(Dt))):null}(ft)}function Xe(ft,dt){return J(ft,dt)}function J(ft,dt){if(!ft)return;const Ct=dt(ft);if(void 0!==Ct)return Ct;const{parentNode:Dt}=ft;return J(Dt instanceof ShadowRoot?Dt.host:Dt,dt)}function ye(ft,dt){return!!Xe(dt,Ct=>Ct===ft||void 0)}function Ve(ft){return et.apply(this,arguments)}function et(){return(et=(0,E.Z)(function*(ft){if(ft)return function Re(ft){return"function"==typeof ft?.setFocus}(ft)?ft.setFocus():ft.focus()})).apply(this,arguments)}function Fe(ft){ft&&(fe(ft,ae)[0]||ft).focus()}const Qe=":not([slot])";function Ne(ft,dt,Ct){dt&&!Array.isArray(dt)&&"string"!=typeof dt&&(Ct=dt,dt=null);const Dt=dt?Array.isArray(dt)?dt.map(xt=>`[slot="${xt}"]`).join(","):`[slot="${dt}"]`:Qe;return Ct?.all?function Oe(ft,dt,Ct){let Dt=dt===Qe?ve(ft,Qe):Array.from(ft.querySelectorAll(dt));Dt=Ct&&!1===Ct.direct?Dt:Dt.filter(nn=>nn.parentElement===ft),Dt=Ct?.matches?Dt.filter(nn=>nn?.matches(Ct.matches)):Dt;const xt=Ct?.selector;return xt?Dt.map(nn=>Array.from(nn.querySelectorAll(xt))).reduce((nn,Yt)=>[...nn,...Yt],[]).filter(nn=>!!nn):Dt}(ft,Dt,Ct):function Te(ft,dt,Ct){let Dt=dt===Qe?ve(ft,Qe)[0]||null:ft.querySelector(dt);Dt=Ct&&!1===Ct.direct||Dt?.parentElement===ft?Dt:null,Dt=Ct?.matches?Dt?.matches(Ct.matches)?Dt:null:Dt;const xt=Ct?.selector;return xt?Dt?.querySelector(xt):Dt}(ft,Dt,Ct)}function ve(ft,dt){return ft?Array.from(ft.children||[]).filter(Ct=>Ct?.matches(dt)):[]}function $e(ft,dt,Ct){return"string"==typeof dt&&""!==dt?dt:""===dt?ft[Ct]:void 0}function Je(ft){return(!!ft).toString()}function ot(ft){return Ot(ft)||function mt(ft){return!!function at(ft){return function Tt(ft){return ft.target.assignedNodes({flatten:!0})}(ft).filter(dt=>dt.nodeType===Node.TEXT_NODE).map(dt=>dt.textContent).join("").trim()}(ft)}(ft)}function Ot(ft){return!!Bt(ft).length}function Bt(ft){return ft.target.assignedElements({flatten:!0})}function Gt(ft){return!(!ft.isPrimary||0!==ft.button)}function on(ft,dt){if(ft.parentNode!==dt.parentNode)return!1;const Ct=Array.from(ft.parentNode.children);return Ct.indexOf(ft)<Ct.indexOf(dt)}},25037:(Ze,me,_)=>{"use strict";_.d(me,{ou:()=>mn,Qf:()=>at,vF:()=>be,ld:()=>fe});class E extends Error{}class M extends E{constructor(de){super(`Invalid DateTime: ${de.toMessage()}`)}}class V extends E{constructor(de){super(`Invalid Interval: ${de.toMessage()}`)}}class x extends E{constructor(de){super(`Invalid Duration: ${de.toMessage()}`)}}class P extends E{}class H extends E{constructor(de){super(`Invalid unit ${de}`)}}class B extends E{}class F extends E{constructor(){super("Zone is an abstract class")}}const T="numeric",w="short",j="long",Z={year:T,month:T,day:T},I={year:T,month:w,day:T},G={year:T,month:w,day:T,weekday:w},W={year:T,month:j,day:T},A={year:T,month:j,day:T,weekday:j},S={hour:T,minute:T},N={hour:T,minute:T,second:T},L={hour:T,minute:T,second:T,timeZoneName:w},O={hour:T,minute:T,second:T,timeZoneName:j},$={hour:T,minute:T,hourCycle:"h23"},K={hour:T,minute:T,second:T,hourCycle:"h23"},U={hour:T,minute:T,second:T,hourCycle:"h23",timeZoneName:w},X={hour:T,minute:T,second:T,hourCycle:"h23",timeZoneName:j},Y={year:T,month:T,day:T,hour:T,minute:T},oe={year:T,month:T,day:T,hour:T,minute:T,second:T},ne={year:T,month:w,day:T,hour:T,minute:T},se={year:T,month:w,day:T,hour:T,minute:T,second:T},te={year:T,month:w,day:T,weekday:w,hour:T,minute:T},k={year:T,month:j,day:T,hour:T,minute:T,timeZoneName:w},re={year:T,month:j,day:T,hour:T,minute:T,second:T,timeZoneName:w},Q={year:T,month:j,day:T,weekday:j,hour:T,minute:T,timeZoneName:j},pe={year:T,month:j,day:T,weekday:j,hour:T,minute:T,second:T,timeZoneName:j};class fe{get type(){throw new F}get name(){throw new F}get ianaName(){return this.name}get isUniversal(){throw new F}offsetName(de,Pe){throw new F}formatOffset(de,Pe){throw new F}offset(de){throw new F}equals(de){throw new F}get isValid(){throw new F}}let ce=null;class q extends fe{static get instance(){return null===ce&&(ce=new q),ce}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(de,{format:Pe,locale:We}){return Fo(de,Pe,We)}formatOffset(de,Pe){return hr(this.offset(de),Pe)}offset(de){return-new Date(de).getTimezoneOffset()}equals(de){return"system"===de.type}get isValid(){return!0}}let le={};const ae={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Ee={};class be extends fe{static create(de){return Ee[de]||(Ee[de]=new be(de)),Ee[de]}static resetCache(){Ee={},le={}}static isValidSpecifier(de){return this.isValidZone(de)}static isValidZone(de){if(!de)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:de}).format(),!0}catch{return!1}}constructor(de){super(),this.zoneName=de,this.valid=be.isValidZone(de)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(de,{format:Pe,locale:We}){return Fo(de,Pe,We,this.name)}formatOffset(de,Pe){return hr(this.offset(de),Pe)}offset(de){const Pe=new Date(de);if(isNaN(Pe))return NaN;const We=function ee(Ae){return le[Ae]||(le[Ae]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Ae,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),le[Ae]}(this.name);let[st,_t,bt,At,Vt,Ht,xn]=We.formatToParts?function ge(Ae,de){const Pe=Ae.formatToParts(de),We=[];for(let st=0;st<Pe.length;st++){const{type:_t,value:bt}=Pe[st],At=ae[_t];"era"===_t?We[At]=bt:bn(At)||(We[At]=parseInt(bt,10))}return We}(We,Pe):function ue(Ae,de){const Pe=Ae.format(de).replace(/\u200E/g,""),We=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Pe),[,st,_t,bt,At,Vt,Ht,xn]=We;return[bt,st,_t,At,Vt,Ht,xn]}(We,Pe);"BC"===At&&(st=1-Math.abs(st));let Bn=+Pe;const ws=Bn%1e3;return Bn-=ws>=0?ws:1e3+ws,(Hr({year:st,month:_t,day:bt,hour:24===Vt?0:Vt,minute:Ht,second:xn,millisecond:0})-Bn)/6e4}equals(de){return"iana"===de.type&&de.name===this.name}get isValid(){return this.valid}}let ie={},Be={};function we(Ae,de={}){const Pe=JSON.stringify([Ae,de]);let We=Be[Pe];return We||(We=new Intl.DateTimeFormat(Ae,de),Be[Pe]=We),We}let Me={},xe={},J=null,Re={};function ve(Ae,de,Pe,We){const st=Ae.listingMode();return"error"===st?null:"en"===st?Pe(de):We(de)}class Te{constructor(de,Pe,We){this.padTo=We.padTo||0,this.floor=We.floor||!1;const{padTo:st,floor:_t,...bt}=We;if(!Pe||Object.keys(bt).length>0){const At={useGrouping:!1,...We};We.padTo>0&&(At.minimumIntegerDigits=We.padTo),this.inf=function He(Ae,de={}){const Pe=JSON.stringify([Ae,de]);let We=Me[Pe];return We||(We=new Intl.NumberFormat(Ae,de),Me[Pe]=We),We}(de,At)}}format(de){if(this.inf){const Pe=this.floor?Math.floor(de):de;return this.inf.format(Pe)}return Lt(this.floor?Math.floor(de):Rn(de,3),this.padTo)}}class je{constructor(de,Pe,We){let st;if(this.opts=We,this.originalZone=void 0,this.opts.timeZone)this.dt=de;else if("fixed"===de.zone.type){const bt=de.offset/60*-1,At=bt>=0?`Etc/GMT+${bt}`:`Etc/GMT${bt}`;0!==de.offset&&be.create(At).valid?(st=At,this.dt=de):(st="UTC",this.dt=0===de.offset?de:de.setZone("UTC").plus({minutes:de.offset}),this.originalZone=de.zone)}else"system"===de.zone.type?this.dt=de:"iana"===de.zone.type?(this.dt=de,st=de.zone.name):(st="UTC",this.dt=de.setZone("UTC").plus({minutes:de.offset}),this.originalZone=de.zone);const _t={...this.opts};_t.timeZone=_t.timeZone||st,this.dtf=we(Pe,_t)}format(){return this.originalZone?this.formatToParts().map(({value:de})=>de).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const de=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?de.map(Pe=>{if("timeZoneName"===Pe.type){const We=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...Pe,value:We}}return Pe}):de}resolvedOptions(){return this.dtf.resolvedOptions()}}class $e{constructor(de,Pe,We){this.opts={style:"long",...We},!Pe&&Ge()&&(this.rtf=function Xe(Ae,de={}){const{base:Pe,...We}=de,st=JSON.stringify([Ae,We]);let _t=xe[st];return _t||(_t=new Intl.RelativeTimeFormat(Ae,de),xe[st]=_t),_t}(de,We))}format(de,Pe){return this.rtf?this.rtf.format(de,Pe):function Un(Ae,de,Pe="always",We=!1){const st={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},_t=-1===["hours","minutes","seconds"].indexOf(Ae);if("auto"===Pe&&_t){const ir="days"===Ae;switch(de){case 1:return ir?"tomorrow":`next ${st[Ae][0]}`;case-1:return ir?"yesterday":`last ${st[Ae][0]}`;case 0:return ir?"today":`this ${st[Ae][0]}`}}const bt=Object.is(de,-0)||de<0,At=Math.abs(de),Vt=1===At,Ht=st[Ae],xn=We?Vt?Ht[1]:Ht[2]||Ht[1]:Vt?st[Ae][0]:Ae;return bt?`${At} ${xn} ago`:`in ${At} ${xn}`}(Pe,de,this.opts.numeric,"long"!==this.opts.style)}formatToParts(de,Pe){return this.rtf?this.rtf.formatToParts(de,Pe):[]}}const nt={firstDay:1,minimalDays:4,weekend:[6,7]};class Je{static fromOpts(de){return Je.create(de.locale,de.numberingSystem,de.outputCalendar,de.weekSettings,de.defaultToEN)}static create(de,Pe,We,st,_t=!1){const bt=de||Dt.defaultLocale,At=bt||(_t?"en-US":function ye(){return J||(J=(new Intl.DateTimeFormat).resolvedOptions().locale,J)}()),Vt=Pe||Dt.defaultNumberingSystem,Ht=We||Dt.defaultOutputCalendar,xn=Ye(st)||Dt.defaultWeekSettings;return new Je(At,Vt,Ht,xn,bt)}static resetCache(){J=null,Be={},Me={},xe={}}static fromObject({locale:de,numberingSystem:Pe,outputCalendar:We,weekSettings:st}={}){return Je.create(de,Pe,We,st)}constructor(de,Pe,We,st,_t){const[bt,At,Vt]=function et(Ae){const de=Ae.indexOf("-x-");-1!==de&&(Ae=Ae.substring(0,de));const Pe=Ae.indexOf("-u-");if(-1===Pe)return[Ae];{let We,st;try{We=we(Ae).resolvedOptions(),st=Ae}catch{const Vt=Ae.substring(0,Pe);We=we(Vt).resolvedOptions(),st=Vt}const{numberingSystem:_t,calendar:bt}=We;return[st,_t,bt]}}(de);this.locale=bt,this.numberingSystem=Pe||At||null,this.outputCalendar=We||Vt||null,this.weekSettings=st,this.intl=function Fe(Ae,de,Pe){return(Pe||de)&&(Ae.includes("-u-")||(Ae+="-u"),Pe&&(Ae+=`-ca-${Pe}`),de&&(Ae+=`-nu-${de}`)),Ae}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=_t,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Oe(Ae){return(!Ae.numberingSystem||"latn"===Ae.numberingSystem)&&("latn"===Ae.numberingSystem||!Ae.locale||Ae.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(Ae.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(de){return de&&0!==Object.getOwnPropertyNames(de).length?Je.create(de.locale||this.specifiedLocale,de.numberingSystem||this.numberingSystem,de.outputCalendar||this.outputCalendar,Ye(de.weekSettings)||this.weekSettings,de.defaultToEN||!1):this}redefaultToEN(de={}){return this.clone({...de,defaultToEN:!0})}redefaultToSystem(de={}){return this.clone({...de,defaultToEN:!1})}months(de,Pe=!1){return ve(this,de,sr,()=>{const We=Pe?{month:de,day:"numeric"}:{month:de},st=Pe?"format":"standalone";return this.monthsCache[st][de]||(this.monthsCache[st][de]=function Qe(Ae){const de=[];for(let Pe=1;Pe<=12;Pe++){const We=mn.utc(2009,Pe,1);de.push(Ae(We))}return de}(_t=>this.extract(_t,We,"month"))),this.monthsCache[st][de]})}weekdays(de,Pe=!1){return ve(this,de,Or,()=>{const We=Pe?{weekday:de,year:"numeric",month:"long",day:"numeric"}:{weekday:de},st=Pe?"format":"standalone";return this.weekdaysCache[st][de]||(this.weekdaysCache[st][de]=function Ne(Ae){const de=[];for(let Pe=1;Pe<=7;Pe++){const We=mn.utc(2016,11,13+Pe);de.push(Ae(We))}return de}(_t=>this.extract(_t,We,"weekday"))),this.weekdaysCache[st][de]})}meridiems(){return ve(this,void 0,()=>vi,()=>{if(!this.meridiemCache){const de={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[mn.utc(2016,11,13,9),mn.utc(2016,11,13,19)].map(Pe=>this.extract(Pe,de,"dayperiod"))}return this.meridiemCache})}eras(de){return ve(this,de,Ha,()=>{const Pe={era:de};return this.eraCache[de]||(this.eraCache[de]=[mn.utc(-40,1,1),mn.utc(2017,1,1)].map(We=>this.extract(We,Pe,"era"))),this.eraCache[de]})}extract(de,Pe,We){const bt=this.dtFormatter(de,Pe).formatToParts().find(At=>At.type.toLowerCase()===We);return bt?bt.value:null}numberFormatter(de={}){return new Te(this.intl,de.forceSimple||this.fastNumbers,de)}dtFormatter(de,Pe={}){return new je(de,this.intl,Pe)}relFormatter(de={}){return new $e(this.intl,this.isEnglish(),de)}listFormatter(de={}){return function De(Ae,de={}){const Pe=JSON.stringify([Ae,de]);let We=ie[Pe];return We||(We=new Intl.ListFormat(Ae,de),ie[Pe]=We),We}(this.intl,de)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:yt()?function Ve(Ae){let de=Re[Ae];if(!de){const Pe=new Intl.Locale(Ae);de="getWeekInfo"in Pe?Pe.getWeekInfo():Pe.weekInfo,Re[Ae]=de}return de}(this.locale):nt}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(de){return this.locale===de.locale&&this.numberingSystem===de.numberingSystem&&this.outputCalendar===de.outputCalendar}}let ot=null;class at extends fe{static get utcInstance(){return null===ot&&(ot=new at(0)),ot}static instance(de){return 0===de?at.utcInstance:new at(de)}static parseSpecifier(de){if(de){const Pe=de.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(Pe)return new at(Ys(Pe[1],Pe[2]))}return null}constructor(de){super(),this.fixed=de}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${hr(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${hr(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(de,Pe){return hr(this.fixed,Pe)}get isUniversal(){return!0}offset(){return this.fixed}equals(de){return"fixed"===de.type&&de.fixed===this.fixed}get isValid(){return!0}}class mt extends fe{constructor(de){super(),this.zoneName=de}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Tt(Ae,de){if(bn(Ae)||null===Ae)return de;if(Ae instanceof fe)return Ae;if(function Rt(Ae){return"string"==typeof Ae}(Ae)){const We=Ae.toLowerCase();return"default"===We?de:"local"===We||"system"===We?q.instance:"utc"===We||"gmt"===We?at.utcInstance:at.parseSpecifier(We)||be.create(Ae)}return Gr(Ae)?at.instance(Ae):"object"==typeof Ae&&"offset"in Ae&&"function"==typeof Ae.offset?Ae:new mt(Ae)}let dt,Ot=()=>Date.now(),Bt="system",Gt=null,kt=null,on=null,ft=60,Ct=null;class Dt{static get now(){return Ot}static set now(de){Ot=de}static set defaultZone(de){Bt=de}static get defaultZone(){return Tt(Bt,q.instance)}static get defaultLocale(){return Gt}static set defaultLocale(de){Gt=de}static get defaultNumberingSystem(){return kt}static set defaultNumberingSystem(de){kt=de}static get defaultOutputCalendar(){return on}static set defaultOutputCalendar(de){on=de}static get defaultWeekSettings(){return Ct}static set defaultWeekSettings(de){Ct=Ye(de)}static get twoDigitCutoffYear(){return ft}static set twoDigitCutoffYear(de){ft=de%100}static get throwOnInvalid(){return dt}static set throwOnInvalid(de){dt=de}static resetCaches(){Je.resetCache(),be.resetCache()}}class xt{constructor(de,Pe){this.reason=de,this.explanation=Pe}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const nn=[0,31,59,90,120,151,181,212,243,273,304,334],Yt=[0,31,60,91,121,152,182,213,244,274,305,335];function rn(Ae,de){return new xt("unit out of range",`you specified ${de} (of type ${typeof de}) as a ${Ae}, which is invalid`)}function gn(Ae,de,Pe){const We=new Date(Date.UTC(Ae,de-1,Pe));Ae<100&&Ae>=0&&We.setUTCFullYear(We.getUTCFullYear()-1900);const st=We.getUTCDay();return 0===st?7:st}function yn(Ae,de,Pe){return Pe+(Zn(Ae)?Yt:nn)[de-1]}function Mn(Ae,de){const Pe=Zn(Ae)?Yt:nn,We=Pe.findIndex(_t=>_t<de);return{month:We+1,day:de-Pe[We]}}function lr(Ae,de){return(Ae-de+7)%7+1}function On(Ae,de=4,Pe=1){const{year:We,month:st,day:_t}=Ae,bt=yn(We,st,_t),At=lr(gn(We,st,_t),Pe);let Ht,Vt=Math.floor((bt-At+14-de)/7);return Vt<1?(Ht=We-1,Vt=Lr(Ht,de,Pe)):Vt>Lr(We,de,Pe)?(Ht=We+1,Vt=1):Ht=We,{weekYear:Ht,weekNumber:Vt,weekday:At,...Ss(Ae)}}function zn(Ae,de=4,Pe=1){const{weekYear:We,weekNumber:st,weekday:_t}=Ae,bt=lr(gn(We,1,de),Pe),At=br(We);let Ht,Vt=7*st+_t-bt-7+de;Vt<1?(Ht=We-1,Vt+=br(Ht)):Vt>At?(Ht=We+1,Vt-=br(We)):Ht=We;const{month:xn,day:ir}=Mn(Ht,Vt);return{year:Ht,month:xn,day:ir,...Ss(Ae)}}function Ut(Ae){const{year:de,month:Pe,day:We}=Ae;return{year:de,ordinal:yn(de,Pe,We),...Ss(Ae)}}function Xt(Ae){const{year:de,ordinal:Pe}=Ae,{month:We,day:st}=Mn(de,Pe);return{year:de,month:We,day:st,...Ss(Ae)}}function Gn(Ae,de){if(bn(Ae.localWeekday)&&bn(Ae.localWeekNumber)&&bn(Ae.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!bn(Ae.weekday)||!bn(Ae.weekNumber)||!bn(Ae.weekYear))throw new P("Cannot mix locale-based week fields with ISO-based week fields");return bn(Ae.localWeekday)||(Ae.weekday=Ae.localWeekday),bn(Ae.localWeekNumber)||(Ae.weekNumber=Ae.localWeekNumber),bn(Ae.localWeekYear)||(Ae.weekYear=Ae.localWeekYear),delete Ae.localWeekday,delete Ae.localWeekNumber,delete Ae.localWeekYear,{minDaysInFirstWeek:de.getMinDaysInFirstWeek(),startOfWeek:de.getStartOfWeek()}}function vs(Ae){const de=qe(Ae.year),Pe=it(Ae.month,1,12),We=it(Ae.day,1,Rr(Ae.year,Ae.month));return de?Pe?!We&&rn("day",Ae.day):rn("month",Ae.month):rn("year",Ae.year)}function ns(Ae){const{hour:de,minute:Pe,second:We,millisecond:st}=Ae,_t=it(de,0,23)||24===de&&0===Pe&&0===We&&0===st,bt=it(Pe,0,59),At=it(We,0,59),Vt=it(st,0,999);return _t?bt?At?!Vt&&rn("millisecond",st):rn("second",We):rn("minute",Pe):rn("hour",de)}function bn(Ae){return typeof Ae>"u"}function Gr(Ae){return"number"==typeof Ae}function qe(Ae){return"number"==typeof Ae&&Ae%1==0}function Ge(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function yt(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function _e(Ae,de,Pe){if(0!==Ae.length)return Ae.reduce((We,st)=>{const _t=[de(st),st];return We&&Pe(We[0],_t[0])===We[0]?We:_t},null)[1]}function ut(Ae,de){return Object.prototype.hasOwnProperty.call(Ae,de)}function Ye(Ae){if(null==Ae)return null;if("object"!=typeof Ae)throw new B("Week settings must be an object");if(!it(Ae.firstDay,1,7)||!it(Ae.minimalDays,1,7)||!Array.isArray(Ae.weekend)||Ae.weekend.some(de=>!it(de,1,7)))throw new B("Invalid week settings");return{firstDay:Ae.firstDay,minimalDays:Ae.minimalDays,weekend:Array.from(Ae.weekend)}}function it(Ae,de,Pe){return qe(Ae)&&Ae>=de&&Ae<=Pe}function Lt(Ae,de=2){let We;return We=Ae<0?"-"+(""+-Ae).padStart(de,"0"):(""+Ae).padStart(de,"0"),We}function Kt(Ae){if(!bn(Ae)&&null!==Ae&&""!==Ae)return parseInt(Ae,10)}function Jt(Ae){if(!bn(Ae)&&null!==Ae&&""!==Ae)return parseFloat(Ae)}function $n(Ae){if(!bn(Ae)&&null!==Ae&&""!==Ae){const de=1e3*parseFloat("0."+Ae);return Math.floor(de)}}function Rn(Ae,de,Pe=!1){const We=10**de;return(Pe?Math.trunc:Math.round)(Ae*We)/We}function Zn(Ae){return Ae%4==0&&(Ae%100!=0||Ae%400==0)}function br(Ae){return Zn(Ae)?366:365}function Rr(Ae,de){const Pe=function gt(Ae,de){return Ae-de*Math.floor(Ae/de)}(de-1,12)+1;return 2===Pe?Zn(Ae+(de-Pe)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Pe-1]}function Hr(Ae){let de=Date.UTC(Ae.year,Ae.month-1,Ae.day,Ae.hour,Ae.minute,Ae.second,Ae.millisecond);return Ae.year<100&&Ae.year>=0&&(de=new Date(de),de.setUTCFullYear(Ae.year,Ae.month-1,Ae.day)),+de}function Ds(Ae,de,Pe){return-lr(gn(Ae,1,de),Pe)+de-1}function Lr(Ae,de=4,Pe=1){const We=Ds(Ae,de,Pe),st=Ds(Ae+1,de,Pe);return(br(Ae)-We+st)/7}function Bo(Ae){return Ae>99?Ae:Ae>Dt.twoDigitCutoffYear?1900+Ae:2e3+Ae}function Fo(Ae,de,Pe,We=null){const st=new Date(Ae),_t={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};We&&(_t.timeZone=We);const bt={timeZoneName:de,..._t},At=new Intl.DateTimeFormat(Pe,bt).formatToParts(st).find(Vt=>"timezonename"===Vt.type.toLowerCase());return At?At.value:null}function Ys(Ae,de){let Pe=parseInt(Ae,10);Number.isNaN(Pe)&&(Pe=0);const We=parseInt(de,10)||0;return 60*Pe+(Pe<0||Object.is(Pe,-0)?-We:We)}function gi(Ae){const de=Number(Ae);if("boolean"==typeof Ae||""===Ae||Number.isNaN(de))throw new B(`Invalid unit value ${Ae}`);return de}function It(Ae,de){const Pe={};for(const We in Ae)if(ut(Ae,We)){const st=Ae[We];if(null==st)continue;Pe[de(We)]=gi(st)}return Pe}function hr(Ae,de){const Pe=Math.trunc(Math.abs(Ae/60)),We=Math.trunc(Math.abs(Ae%60)),st=Ae>=0?"+":"-";switch(de){case"short":return`${st}${Lt(Pe,2)}:${Lt(We,2)}`;case"narrow":return`${st}${Pe}${We>0?`:${We}`:""}`;case"techie":return`${st}${Lt(Pe,2)}${Lt(We,2)}`;default:throw new RangeError(`Value format ${de} is out of range for property format`)}}function Ss(Ae){return function ht(Ae,de){return de.reduce((Pe,We)=>(Pe[We]=Ae[We],Pe),{})}(Ae,["hour","minute","second","millisecond"])}const Do=["January","February","March","April","May","June","July","August","September","October","November","December"],pn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ri=["J","F","M","A","M","J","J","A","S","O","N","D"];function sr(Ae){switch(Ae){case"narrow":return[...ri];case"short":return[...pn];case"long":return[...Do];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const si=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ki=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Zs=["M","T","W","T","F","S","S"];function Or(Ae){switch(Ae){case"narrow":return[...Zs];case"short":return[...ki];case"long":return[...si];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const vi=["AM","PM"],In=["Before Christ","Anno Domini"],_i=["BC","AD"],Kl=["B","A"];function Ha(Ae){switch(Ae){case"narrow":return[...Kl];case"short":return[..._i];case"long":return[...In];default:return null}}function Qn(Ae,de){let Pe="";for(const We of Ae)Pe+=We.literal?We.val:de(We.val);return Pe}const Zu={D:Z,DD:I,DDD:W,DDDD:A,t:S,tt:N,ttt:L,tttt:O,T:$,TT:K,TTT:U,TTTT:X,f:Y,ff:ne,fff:k,ffff:Q,F:oe,FF:se,FFF:re,FFFF:pe};class _n{static create(de,Pe={}){return new _n(de,Pe)}static parseFormat(de){let Pe=null,We="",st=!1;const _t=[];for(let bt=0;bt<de.length;bt++){const At=de.charAt(bt);"'"===At?(We.length>0&&_t.push({literal:st||/^\s+$/.test(We),val:We}),Pe=null,We="",st=!st):st||At===Pe?We+=At:(We.length>0&&_t.push({literal:/^\s+$/.test(We),val:We}),We=At,Pe=At)}return We.length>0&&_t.push({literal:st||/^\s+$/.test(We),val:We}),_t}static macroTokenToFormatOpts(de){return Zu[de]}constructor(de,Pe){this.opts=Pe,this.loc=de,this.systemLoc=null}formatWithSystemDefault(de,Pe){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(de,{...this.opts,...Pe}).format()}dtFormatter(de,Pe={}){return this.loc.dtFormatter(de,{...this.opts,...Pe})}formatDateTime(de,Pe){return this.dtFormatter(de,Pe).format()}formatDateTimeParts(de,Pe){return this.dtFormatter(de,Pe).formatToParts()}formatInterval(de,Pe){return this.dtFormatter(de.start,Pe).dtf.formatRange(de.start.toJSDate(),de.end.toJSDate())}resolvedOptions(de,Pe){return this.dtFormatter(de,Pe).resolvedOptions()}num(de,Pe=0){if(this.opts.forceSimple)return Lt(de,Pe);const We={...this.opts};return Pe>0&&(We.padTo=Pe),this.loc.numberFormatter(We).format(de)}formatDateTimeFromString(de,Pe){const We="en"===this.loc.listingMode(),st=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,_t=(Bn,ws)=>this.loc.extract(de,Bn,ws),bt=Bn=>de.isOffsetFixed&&0===de.offset&&Bn.allowZ?"Z":de.isValid?de.zone.formatOffset(de.ts,Bn.format):"",Vt=(Bn,ws)=>We?function xs(Ae,de){return sr(de)[Ae.month-1]}(de,Bn):_t(ws?{month:Bn}:{month:Bn,day:"numeric"},"month"),Ht=(Bn,ws)=>We?function Ma(Ae,de){return Or(de)[Ae.weekday-1]}(de,Bn):_t(ws?{weekday:Bn}:{weekday:Bn,month:"long",day:"numeric"},"weekday"),xn=Bn=>{const ws=_n.macroTokenToFormatOpts(Bn);return ws?this.formatWithSystemDefault(de,ws):Bn},ir=Bn=>We?function Ki(Ae,de){return Ha(de)[Ae.year<0?0:1]}(de,Bn):_t({era:Bn},"era");return Qn(_n.parseFormat(Pe),Bn=>{switch(Bn){case"S":return this.num(de.millisecond);case"u":case"SSS":return this.num(de.millisecond,3);case"s":return this.num(de.second);case"ss":return this.num(de.second,2);case"uu":return this.num(Math.floor(de.millisecond/10),2);case"uuu":return this.num(Math.floor(de.millisecond/100));case"m":return this.num(de.minute);case"mm":return this.num(de.minute,2);case"h":return this.num(de.hour%12==0?12:de.hour%12);case"hh":return this.num(de.hour%12==0?12:de.hour%12,2);case"H":return this.num(de.hour);case"HH":return this.num(de.hour,2);case"Z":return bt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return bt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return bt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return de.zone.offsetName(de.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return de.zone.offsetName(de.ts,{format:"long",locale:this.loc.locale});case"z":return de.zoneName;case"a":return We?function Ja(Ae){return vi[Ae.hour<12?0:1]}(de):_t({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return st?_t({day:"numeric"},"day"):this.num(de.day);case"dd":return st?_t({day:"2-digit"},"day"):this.num(de.day,2);case"c":case"E":return this.num(de.weekday);case"ccc":return Ht("short",!0);case"cccc":return Ht("long",!0);case"ccccc":return Ht("narrow",!0);case"EEE":return Ht("short",!1);case"EEEE":return Ht("long",!1);case"EEEEE":return Ht("narrow",!1);case"L":return st?_t({month:"numeric",day:"numeric"},"month"):this.num(de.month);case"LL":return st?_t({month:"2-digit",day:"numeric"},"month"):this.num(de.month,2);case"LLL":return Vt("short",!0);case"LLLL":return Vt("long",!0);case"LLLLL":return Vt("narrow",!0);case"M":return st?_t({month:"numeric"},"month"):this.num(de.month);case"MM":return st?_t({month:"2-digit"},"month"):this.num(de.month,2);case"MMM":return Vt("short",!1);case"MMMM":return Vt("long",!1);case"MMMMM":return Vt("narrow",!1);case"y":return st?_t({year:"numeric"},"year"):this.num(de.year);case"yy":return st?_t({year:"2-digit"},"year"):this.num(de.year.toString().slice(-2),2);case"yyyy":return st?_t({year:"numeric"},"year"):this.num(de.year,4);case"yyyyyy":return st?_t({year:"numeric"},"year"):this.num(de.year,6);case"G":return ir("short");case"GG":return ir("long");case"GGGGG":return ir("narrow");case"kk":return this.num(de.weekYear.toString().slice(-2),2);case"kkkk":return this.num(de.weekYear,4);case"W":return this.num(de.weekNumber);case"WW":return this.num(de.weekNumber,2);case"n":return this.num(de.localWeekNumber);case"nn":return this.num(de.localWeekNumber,2);case"ii":return this.num(de.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(de.localWeekYear,4);case"o":return this.num(de.ordinal);case"ooo":return this.num(de.ordinal,3);case"q":return this.num(de.quarter);case"qq":return this.num(de.quarter,2);case"X":return this.num(Math.floor(de.ts/1e3));case"x":return this.num(de.ts);default:return xn(Bn)}})}formatDurationFromString(de,Pe){const We=Vt=>{switch(Vt[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},_t=_n.parseFormat(Pe),bt=_t.reduce((Vt,{literal:Ht,val:xn})=>Ht?Vt:Vt.concat(xn),[]);return Qn(_t,(Vt=>Ht=>{const xn=We(Ht);return xn?this.num(Vt.get(xn),Ht.length):Ht})(de.shiftTo(...bt.map(We).filter(Vt=>Vt))))}}const zl=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function us(...Ae){const de=Ae.reduce((Pe,We)=>Pe+We.source,"");return RegExp(`^${de}$`)}function oi(...Ae){return de=>Ae.reduce(([Pe,We,st],_t)=>{const[bt,At,Vt]=_t(de,st);return[{...Pe,...bt},At||We,Vt]},[{},null,1]).slice(0,2)}function jr(Ae,...de){if(null==Ae)return[null,null];for(const[Pe,We]of de){const st=Pe.exec(Ae);if(st)return We(st)}return[null,null]}function Qa(...Ae){return(de,Pe)=>{const We={};let st;for(st=0;st<Ae.length;st++)We[Ae[st]]=Kt(de[Pe+st]);return[We,null,Pe+st]}}const ii=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Wt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Qt=RegExp(`${Wt.source}(?:${ii.source}?(?:\\[(${zl.source})\\])?)?`),Ln=RegExp(`(?:T${Qt.source})?`),Ei=Qa("weekYear","weekNumber","weekDay"),_s=Qa("year","ordinal"),ke=RegExp(`${Wt.source} ?(?:${ii.source}|(${zl.source}))?`),tt=RegExp(`(?: ${ke.source})?`);function lt(Ae,de,Pe){const We=Ae[de];return bn(We)?Pe:Kt(We)}function vt(Ae,de){return[{hours:lt(Ae,de,0),minutes:lt(Ae,de+1,0),seconds:lt(Ae,de+2,0),milliseconds:$n(Ae[de+3])},null,de+4]}function St(Ae,de){const Pe=!Ae[de]&&!Ae[de+1],We=Ys(Ae[de+1],Ae[de+2]);return[{},Pe?null:at.instance(We),de+3]}function Nt(Ae,de){return[{},Ae[de]?be.create(Ae[de]):null,de+1]}const wt=RegExp(`^T?${Wt.source}$`),$t=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function tn(Ae){const[de,Pe,We,st,_t,bt,At,Vt,Ht]=Ae,xn="-"===de[0],ir=Vt&&"-"===Vt[0],Yr=(Bn,ws=!1)=>void 0!==Bn&&(ws||Bn&&xn)?-Bn:Bn;return[{years:Yr(Jt(Pe)),months:Yr(Jt(We)),weeks:Yr(Jt(st)),days:Yr(Jt(_t)),hours:Yr(Jt(bt)),minutes:Yr(Jt(At)),seconds:Yr(Jt(Vt),"-0"===Vt),milliseconds:Yr($n(Ht),ir)}]}const En={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function jn(Ae,de,Pe,We,st,_t,bt){const At={year:2===de.length?Bo(Kt(de)):Kt(de),month:pn.indexOf(Pe)+1,day:Kt(We),hour:Kt(st),minute:Kt(_t)};return bt&&(At.second=Kt(bt)),Ae&&(At.weekday=Ae.length>3?si.indexOf(Ae)+1:ki.indexOf(Ae)+1),At}const Jr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ks(Ae){const[,de,Pe,We,st,_t,bt,At,Vt,Ht,xn,ir]=Ae,Yr=jn(de,st,We,Pe,_t,bt,At);let Bn;return Bn=Vt?En[Vt]:Ht?0:Ys(xn,ir),[Yr,new at(Bn)]}const Wo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ds=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Gl=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function bi(Ae){const[,de,Pe,We,st,_t,bt,At]=Ae;return[jn(de,st,We,Pe,_t,bt,At),at.utcInstance]}function en(Ae){const[,de,Pe,We,st,_t,bt,At]=Ae;return[jn(de,At,Pe,We,st,_t,bt),at.utcInstance]}const Xa=us(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ln),Hl=us(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ln),$d=us(/(\d{4})-?(\d{3})/,Ln),Zd=us(Qt),kd=oi(function Et(Ae,de){return[{year:lt(Ae,de),month:lt(Ae,de+1,1),day:lt(Ae,de+2,1)},null,de+3]},vt,St,Nt),Ci=oi(Ei,vt,St,Nt),Jl=oi(_s,vt,St,Nt),hf=oi(vt,St,Nt),qy=oi(vt),eg=us(/(\d{4})-(\d\d)-(\d\d)/,tt),Kd=us(ke),uo=oi(vt,St,Nt),pf="Invalid Duration",tg={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},zi={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...tg},Vo=365.2425,Yl=30.436875,lC={years:{quarters:4,months:12,weeks:Vo/7,days:Vo,hours:24*Vo,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Vo/28,days:Vo/4,hours:24*Vo/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Yl/7,days:Yl,hours:24*Yl,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...tg},qa=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ng=qa.slice(0).reverse();function Da(Ae,de,Pe=!1){const We={values:Pe?de.values:{...Ae.values,...de.values||{}},loc:Ae.loc.clone(de.loc),conversionAccuracy:de.conversionAccuracy||Ae.conversionAccuracy,matrix:de.matrix||Ae.matrix};return new dn(We)}function ff(Ae,de){let Pe=de.milliseconds??0;for(const We of ng.slice(1))de[We]&&(Pe+=de[We]*Ae[We].milliseconds);return Pe}function rg(Ae,de){const Pe=ff(Ae,de)<0?-1:1;qa.reduceRight((We,st)=>{if(bn(de[st]))return We;if(We){const bt=Ae[st][We],At=Math.floor(de[We]*Pe/bt);de[st]+=At*Pe,de[We]-=At*bt*Pe}return st},null),qa.reduce((We,st)=>{if(bn(de[st]))return We;if(We){const _t=de[We]%1;de[We]-=_t,de[st]+=_t*Ae[We][st]}return st},null)}class dn{constructor(de){const Pe="longterm"===de.conversionAccuracy||!1;let We=Pe?lC:zi;de.matrix&&(We=de.matrix),this.values=de.values,this.loc=de.loc||Je.create(),this.conversionAccuracy=Pe?"longterm":"casual",this.invalid=de.invalid||null,this.matrix=We,this.isLuxonDuration=!0}static fromMillis(de,Pe){return dn.fromObject({milliseconds:de},Pe)}static fromObject(de,Pe={}){if(null==de||"object"!=typeof de)throw new B("Duration.fromObject: argument expected to be an object, got "+(null===de?"null":typeof de));return new dn({values:It(de,dn.normalizeUnit),loc:Je.fromObject(Pe),conversionAccuracy:Pe.conversionAccuracy,matrix:Pe.matrix})}static fromDurationLike(de){if(Gr(de))return dn.fromMillis(de);if(dn.isDuration(de))return de;if("object"==typeof de)return dn.fromObject(de);throw new B(`Unknown duration argument ${de} of type ${typeof de}`)}static fromISO(de,Pe){const[We]=function Xy(Ae){return jr(Ae,[$t,tn])}(de);return We?dn.fromObject(We,Pe):dn.invalid("unparsable",`the input "${de}" can't be parsed as ISO 8601`)}static fromISOTime(de,Pe){const[We]=function iC(Ae){return jr(Ae,[wt,qy])}(de);return We?dn.fromObject(We,Pe):dn.invalid("unparsable",`the input "${de}" can't be parsed as ISO 8601`)}static invalid(de,Pe=null){if(!de)throw new B("need to specify a reason the Duration is invalid");const We=de instanceof xt?de:new xt(de,Pe);if(Dt.throwOnInvalid)throw new x(We);return new dn({invalid:We})}static normalizeUnit(de){const Pe={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[de&&de.toLowerCase()];if(!Pe)throw new H(de);return Pe}static isDuration(de){return de&&de.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(de,Pe={}){const We={...Pe,floor:!1!==Pe.round&&!1!==Pe.floor};return this.isValid?_n.create(this.loc,We).formatDurationFromString(this,de):pf}toHuman(de={}){if(!this.isValid)return pf;const Pe=qa.map(We=>{const st=this.values[We];return bn(st)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...de,unit:We.slice(0,-1)}).format(st)}).filter(We=>We);return this.loc.listFormatter({type:"conjunction",style:de.listStyle||"narrow",...de}).format(Pe)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let de="P";return 0!==this.years&&(de+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(de+=this.months+3*this.quarters+"M"),0!==this.weeks&&(de+=this.weeks+"W"),0!==this.days&&(de+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(de+="T"),0!==this.hours&&(de+=this.hours+"H"),0!==this.minutes&&(de+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(de+=Rn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===de&&(de+="T0S"),de}toISOTime(de={}){if(!this.isValid)return null;const Pe=this.toMillis();return Pe<0||Pe>=864e5?null:(de={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...de,includeOffset:!1},mn.fromMillis(Pe,{zone:"UTC"}).toISOTime(de))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ff(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(de){if(!this.isValid)return this;const Pe=dn.fromDurationLike(de),We={};for(const st of qa)(ut(Pe.values,st)||ut(this.values,st))&&(We[st]=Pe.get(st)+this.get(st));return Da(this,{values:We},!0)}minus(de){if(!this.isValid)return this;const Pe=dn.fromDurationLike(de);return this.plus(Pe.negate())}mapUnits(de){if(!this.isValid)return this;const Pe={};for(const We of Object.keys(this.values))Pe[We]=gi(de(this.values[We],We));return Da(this,{values:Pe},!0)}get(de){return this[dn.normalizeUnit(de)]}set(de){return this.isValid?Da(this,{values:{...this.values,...It(de,dn.normalizeUnit)}}):this}reconfigure({locale:de,numberingSystem:Pe,conversionAccuracy:We,matrix:st}={}){return Da(this,{loc:this.loc.clone({locale:de,numberingSystem:Pe}),matrix:st,conversionAccuracy:We})}as(de){return this.isValid?this.shiftTo(de).get(de):NaN}normalize(){if(!this.isValid)return this;const de=this.toObject();return rg(this.matrix,de),Da(this,{values:de},!0)}rescale(){return this.isValid?Da(this,{values:function Qs(Ae){const de={};for(const[Pe,We]of Object.entries(Ae))0!==We&&(de[Pe]=We);return de}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...de){if(!this.isValid)return this;if(0===de.length)return this;de=de.map(bt=>dn.normalizeUnit(bt));const Pe={},We={},st=this.toObject();let _t;for(const bt of qa)if(de.indexOf(bt)>=0){_t=bt;let At=0;for(const Ht in We)At+=this.matrix[Ht][bt]*We[Ht],We[Ht]=0;Gr(st[bt])&&(At+=st[bt]);const Vt=Math.trunc(At);Pe[bt]=Vt,We[bt]=(1e3*At-1e3*Vt)/1e3}else Gr(st[bt])&&(We[bt]=st[bt]);for(const bt in We)0!==We[bt]&&(Pe[_t]+=bt===_t?We[bt]:We[bt]/this.matrix[_t][bt]);return rg(this.matrix,Pe),Da(this,{values:Pe},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const de={};for(const Pe of Object.keys(this.values))de[Pe]=0===this.values[Pe]?0:-this.values[Pe];return Da(this,{values:de},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(de){if(!this.isValid||!de.isValid||!this.loc.equals(de.loc))return!1;function Pe(We,st){return void 0===We||0===We?void 0===st||0===st:We===st}for(const We of qa)if(!Pe(this.values[We],de.values[We]))return!1;return!0}}const Ql="Invalid Interval";class rs{constructor(de){this.s=de.start,this.e=de.end,this.invalid=de.invalid||null,this.isLuxonInterval=!0}static invalid(de,Pe=null){if(!de)throw new B("need to specify a reason the Interval is invalid");const We=de instanceof xt?de:new xt(de,Pe);if(Dt.throwOnInvalid)throw new V(We);return new rs({invalid:We})}static fromDateTimes(de,Pe){const We=ol(de),st=ol(Pe),_t=function uC(Ae,de){return Ae&&Ae.isValid?de&&de.isValid?de<Ae?rs.invalid("end before start",`The end of an interval must be after its start, but you had start=${Ae.toISO()} and end=${de.toISO()}`):null:rs.invalid("missing or invalid end"):rs.invalid("missing or invalid start")}(We,st);return _t??new rs({start:We,end:st})}static after(de,Pe){const We=dn.fromDurationLike(Pe),st=ol(de);return rs.fromDateTimes(st,st.plus(We))}static before(de,Pe){const We=dn.fromDurationLike(Pe),st=ol(de);return rs.fromDateTimes(st.minus(We),st)}static fromISO(de,Pe){const[We,st]=(de||"").split("/",2);if(We&&st){let _t,bt,At,Vt;try{_t=mn.fromISO(We,Pe),bt=_t.isValid}catch{bt=!1}try{At=mn.fromISO(st,Pe),Vt=At.isValid}catch{Vt=!1}if(bt&&Vt)return rs.fromDateTimes(_t,At);if(bt){const Ht=dn.fromISO(st,Pe);if(Ht.isValid)return rs.after(_t,Ht)}else if(Vt){const Ht=dn.fromISO(We,Pe);if(Ht.isValid)return rs.before(At,Ht)}}return rs.invalid("unparsable",`the input "${de}" can't be parsed as ISO 8601`)}static isInterval(de){return de&&de.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(de="milliseconds"){return this.isValid?this.toDuration(de).get(de):NaN}count(de="milliseconds",Pe){if(!this.isValid)return NaN;const We=this.start.startOf(de,Pe);let st;return st=Pe?.useLocaleWeeks?this.end.reconfigure({locale:We.locale}):this.end,st=st.startOf(de,Pe),Math.floor(st.diff(We,de).get(de))+(st.valueOf()!==this.end.valueOf())}hasSame(de){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,de))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(de){return!!this.isValid&&this.s>de}isBefore(de){return!!this.isValid&&this.e<=de}contains(de){return!!this.isValid&&this.s<=de&&this.e>de}set({start:de,end:Pe}={}){return this.isValid?rs.fromDateTimes(de||this.s,Pe||this.e):this}splitAt(...de){if(!this.isValid)return[];const Pe=de.map(ol).filter(bt=>this.contains(bt)).sort((bt,At)=>bt.toMillis()-At.toMillis()),We=[];let{s:st}=this,_t=0;for(;st<this.e;){const bt=Pe[_t]||this.e,At=+bt>+this.e?this.e:bt;We.push(rs.fromDateTimes(st,At)),st=At,_t+=1}return We}splitBy(de){const Pe=dn.fromDurationLike(de);if(!this.isValid||!Pe.isValid||0===Pe.as("milliseconds"))return[];let _t,{s:We}=this,st=1;const bt=[];for(;We<this.e;){const At=this.start.plus(Pe.mapUnits(Vt=>Vt*st));_t=+At>+this.e?this.e:At,bt.push(rs.fromDateTimes(We,_t)),We=_t,st+=1}return bt}divideEqually(de){return this.isValid?this.splitBy(this.length()/de).slice(0,de):[]}overlaps(de){return this.e>de.s&&this.s<de.e}abutsStart(de){return!!this.isValid&&+this.e==+de.s}abutsEnd(de){return!!this.isValid&&+de.e==+this.s}engulfs(de){return!!this.isValid&&this.s<=de.s&&this.e>=de.e}equals(de){return!(!this.isValid||!de.isValid)&&this.s.equals(de.s)&&this.e.equals(de.e)}intersection(de){if(!this.isValid)return this;const Pe=this.s>de.s?this.s:de.s,We=this.e<de.e?this.e:de.e;return Pe>=We?null:rs.fromDateTimes(Pe,We)}union(de){return this.isValid?rs.fromDateTimes(this.s<de.s?this.s:de.s,this.e>de.e?this.e:de.e):this}static merge(de){const[Pe,We]=de.sort((st,_t)=>st.s-_t.s).reduce(([st,_t],bt)=>_t?_t.overlaps(bt)||_t.abutsStart(bt)?[st,_t.union(bt)]:[st.concat([_t]),bt]:[st,bt],[[],null]);return We&&Pe.push(We),Pe}static xor(de){let Pe=null,We=0;const st=[],_t=de.map(Vt=>[{time:Vt.s,type:"s"},{time:Vt.e,type:"e"}]),At=Array.prototype.concat(..._t).sort((Vt,Ht)=>Vt.time-Ht.time);for(const Vt of At)We+="s"===Vt.type?1:-1,1===We?Pe=Vt.time:(Pe&&+Pe!=+Vt.time&&st.push(rs.fromDateTimes(Pe,Vt.time)),Pe=null);return rs.merge(st)}difference(...de){return rs.xor([this].concat(de)).map(Pe=>this.intersection(Pe)).filter(Pe=>Pe&&!Pe.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Ql}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(de=Z,Pe={}){return this.isValid?_n.create(this.s.loc.clone(Pe),de).formatInterval(this):Ql}toISO(de){return this.isValid?`${this.s.toISO(de)}/${this.e.toISO(de)}`:Ql}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ql}toISOTime(de){return this.isValid?`${this.s.toISOTime(de)}/${this.e.toISOTime(de)}`:Ql}toFormat(de,{separator:Pe=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(de)}${Pe}${this.e.toFormat(de)}`:Ql}toDuration(de,Pe){return this.isValid?this.e.diff(this.s,de,Pe):dn.invalid(this.invalidReason)}mapEndpoints(de){return rs.fromDateTimes(de(this.s),de(this.e))}}class zd{static hasDST(de=Dt.defaultZone){const Pe=mn.now().setZone(de).set({month:12});return!de.isUniversal&&Pe.offset!==Pe.set({month:6}).offset}static isValidIANAZone(de){return be.isValidZone(de)}static normalizeZone(de){return Tt(de,Dt.defaultZone)}static getStartOfWeek({locale:de=null,locObj:Pe=null}={}){return(Pe||Je.create(de)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:de=null,locObj:Pe=null}={}){return(Pe||Je.create(de)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:de=null,locObj:Pe=null}={}){return(Pe||Je.create(de)).getWeekendDays().slice()}static months(de="long",{locale:Pe=null,numberingSystem:We=null,locObj:st=null,outputCalendar:_t="gregory"}={}){return(st||Je.create(Pe,We,_t)).months(de)}static monthsFormat(de="long",{locale:Pe=null,numberingSystem:We=null,locObj:st=null,outputCalendar:_t="gregory"}={}){return(st||Je.create(Pe,We,_t)).months(de,!0)}static weekdays(de="long",{locale:Pe=null,numberingSystem:We=null,locObj:st=null}={}){return(st||Je.create(Pe,We,null)).weekdays(de)}static weekdaysFormat(de="long",{locale:Pe=null,numberingSystem:We=null,locObj:st=null}={}){return(st||Je.create(Pe,We,null)).weekdays(de,!0)}static meridiems({locale:de=null}={}){return Je.create(de).meridiems()}static eras(de="short",{locale:Pe=null}={}){return Je.create(Pe,null,"gregory").eras(de)}static features(){return{relative:Ge(),localeWeek:yt()}}}function An(Ae,de){const Pe=st=>st.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),We=Pe(de)-Pe(Ae);return Math.floor(dn.fromMillis(We).as("days"))}const el={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},mf={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yf=el.hanidec.replace(/[\[|\]]/g,"").split("");function Xs({numberingSystem:Ae},de=""){return new RegExp(`${el[Ae||"latn"]}${de}`)}function gr(Ae,de=(Pe=>Pe)){return{regex:Ae,deser:([Pe])=>de(function sg(Ae){let de=parseInt(Ae,10);if(isNaN(de)){de="";for(let Pe=0;Pe<Ae.length;Pe++){const We=Ae.charCodeAt(Pe);if(-1!==Ae[Pe].search(el.hanidec))de+=yf.indexOf(Ae[Pe]);else for(const st in mf){const[_t,bt]=mf[st];We>=_t&&We<=bt&&(de+=We-_t)}}return parseInt(de,10)}return de}(Pe))}}const gf=`[ ${String.fromCharCode(160)}]`,or=new RegExp(gf,"g");function Gd(Ae){return Ae.replace(/\./g,"\\.?").replace(or,gf)}function Hd(Ae){return Ae.replace(/\./g,"").replace(or," ").toLowerCase()}function Fr(Ae,de){return null===Ae?null:{regex:RegExp(Ae.map(Gd).join("|")),deser:([Pe])=>Ae.findIndex(We=>Hd(Pe)===Hd(We))+de}}function Jd(Ae,de){return{regex:Ae,deser:([,Pe,We])=>Ys(Pe,We),groups:de}}function Yd(Ae){return{regex:Ae,deser:([de])=>de}}function Ir(Ae){return Ae.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const hC={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Xl=null;function ag(Ae,de){return Array.prototype.concat(...Ae.map(Pe=>function qd(Ae,de){if(Ae.literal)return Ae;const We=ug(_n.macroTokenToFormatOpts(Ae.val),de);return null==We||We.includes(void 0)?Ae:We}(Pe,de)))}function lg(Ae,de,Pe){const We=ag(_n.parseFormat(Pe),Ae),st=We.map(bt=>function dC(Ae,de){const Pe=Xs(de),We=Xs(de,"{2}"),st=Xs(de,"{3}"),_t=Xs(de,"{4}"),bt=Xs(de,"{6}"),At=Xs(de,"{1,2}"),Vt=Xs(de,"{1,3}"),Ht=Xs(de,"{1,6}"),xn=Xs(de,"{1,9}"),ir=Xs(de,"{2,4}"),Yr=Xs(de,"{4,6}"),Bn=Zo=>({regex:RegExp(Ir(Zo.val)),deser:([al])=>al,literal:!0}),il=(Zo=>{if(Ae.literal)return Bn(Zo);switch(Zo.val){case"G":return Fr(de.eras("short"),0);case"GG":return Fr(de.eras("long"),0);case"y":return gr(Ht);case"yy":case"kk":return gr(ir,Bo);case"yyyy":case"kkkk":return gr(_t);case"yyyyy":return gr(Yr);case"yyyyyy":return gr(bt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return gr(At);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return gr(We);case"MMM":return Fr(de.months("short",!0),1);case"MMMM":return Fr(de.months("long",!0),1);case"LLL":return Fr(de.months("short",!1),1);case"LLLL":return Fr(de.months("long",!1),1);case"o":case"S":return gr(Vt);case"ooo":case"SSS":return gr(st);case"u":return Yd(xn);case"uu":return Yd(At);case"uuu":case"E":case"c":return gr(Pe);case"a":return Fr(de.meridiems(),0);case"EEE":return Fr(de.weekdays("short",!1),1);case"EEEE":return Fr(de.weekdays("long",!1),1);case"ccc":return Fr(de.weekdays("short",!0),1);case"cccc":return Fr(de.weekdays("long",!0),1);case"Z":case"ZZ":return Jd(new RegExp(`([+-]${At.source})(?::(${We.source}))?`),2);case"ZZZ":return Jd(new RegExp(`([+-]${At.source})(${We.source})?`),2);case"z":return Yd(/[a-z_+-/]{1,256}?/i);case" ":return Yd(/[^\S\n\r]/);default:return Bn(Zo)}})(Ae)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return il.token=Ae,il}(bt,Ae)),_t=st.find(bt=>bt.invalidReason);if(_t)return{input:de,tokens:We,invalidReason:_t.invalidReason};{const[bt,At]=function Qd(Ae){return[`^${Ae.map(Pe=>Pe.regex).reduce((Pe,We)=>`${Pe}(${We.source})`,"")}$`,Ae]}(st),Vt=RegExp(bt,"i"),[Ht,xn]=function Xd(Ae,de,Pe){const We=Ae.match(de);if(We){const st={};let _t=1;for(const bt in Pe)if(ut(Pe,bt)){const At=Pe[bt],Vt=At.groups?At.groups+1:1;!At.literal&&At.token&&(st[At.token.val[0]]=At.deser(We.slice(_t,_t+Vt))),_t+=Vt}return[We,st]}return[We,{}]}(de,Vt,At),[ir,Yr,Bn]=xn?function vf(Ae){let We,Pe=null;return bn(Ae.z)||(Pe=be.create(Ae.z)),bn(Ae.Z)||(Pe||(Pe=new at(Ae.Z)),We=Ae.Z),bn(Ae.q)||(Ae.M=3*(Ae.q-1)+1),bn(Ae.h)||(Ae.h<12&&1===Ae.a?Ae.h+=12:12===Ae.h&&0===Ae.a&&(Ae.h=0)),0===Ae.G&&Ae.y&&(Ae.y=-Ae.y),bn(Ae.u)||(Ae.S=$n(Ae.u)),[Object.keys(Ae).reduce((_t,bt)=>{const At=(_t=>{switch(_t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(bt);return At&&(_t[At]=Ae[bt]),_t},{}),Pe,We]}(xn):[null,null,void 0];if(ut(xn,"a")&&ut(xn,"H"))throw new P("Can't include meridiem when specifying 24-hour format");return{input:de,tokens:We,regex:Vt,rawMatches:Ht,matches:xn,result:ir,zone:Yr,specificOffset:Bn}}}function ug(Ae,de){if(!Ae)return null;const We=_n.create(de,Ae).dtFormatter(function ig(){return Xl||(Xl=mn.fromMillis(1555555555555)),Xl}()),st=We.formatToParts(),_t=We.resolvedOptions();return st.map(bt=>function Dn(Ae,de,Pe){const{type:We,value:st}=Ae;if("literal"===We){const Vt=/^\s+$/.test(st);return{literal:!Vt,val:Vt?" ":st}}let bt=We;"hour"===We&&(bt=null!=de.hour12?de.hour12?"hour12":"hour24":null!=de.hourCycle?"h11"===de.hourCycle||"h12"===de.hourCycle?"hour12":"hour24":Pe.hour12?"hour12":"hour24");let At=hC[bt];if("object"==typeof At&&(At=At[de[We]]),At)return{literal:!1,val:At}}(bt,Ae,_t))}const _f="Invalid DateTime",tl=864e13;function nl(Ae){return new xt("unsupported zone",`the zone "${Ae.name}" is not supported`)}function rl(Ae){return null===Ae.weekData&&(Ae.weekData=On(Ae.c)),Ae.weekData}function eh(Ae){return null===Ae.localWeekData&&(Ae.localWeekData=On(Ae.c,Ae.loc.getMinDaysInFirstWeek(),Ae.loc.getStartOfWeek())),Ae.localWeekData}function Sa(Ae,de){const Pe={ts:Ae.ts,zone:Ae.zone,c:Ae.c,o:Ae.o,loc:Ae.loc,invalid:Ae.invalid};return new mn({...Pe,...de,old:Pe})}function Ef(Ae,de,Pe){let We=Ae-60*de*1e3;const st=Pe.offset(We);if(de===st)return[We,de];We-=60*(st-de)*1e3;const _t=Pe.offset(We);return st===_t?[We,st]:[Ae-60*Math.min(st,_t)*1e3,Math.max(st,_t)]}function ql(Ae,de){const Pe=new Date(Ae+=60*de*1e3);return{year:Pe.getUTCFullYear(),month:Pe.getUTCMonth()+1,day:Pe.getUTCDate(),hour:Pe.getUTCHours(),minute:Pe.getUTCMinutes(),second:Pe.getUTCSeconds(),millisecond:Pe.getUTCMilliseconds()}}function Mi(Ae,de,Pe){return Ef(Hr(Ae),de,Pe)}function bf(Ae,de){const Pe=Ae.o,We=Ae.c.year+Math.trunc(de.years),st=Ae.c.month+Math.trunc(de.months)+3*Math.trunc(de.quarters),_t={...Ae.c,year:We,month:st,day:Math.min(Ae.c.day,Rr(We,st))+Math.trunc(de.days)+7*Math.trunc(de.weeks)},bt=dn.fromObject({years:de.years-Math.trunc(de.years),quarters:de.quarters-Math.trunc(de.quarters),months:de.months-Math.trunc(de.months),weeks:de.weeks-Math.trunc(de.weeks),days:de.days-Math.trunc(de.days),hours:de.hours,minutes:de.minutes,seconds:de.seconds,milliseconds:de.milliseconds}).as("milliseconds"),At=Hr(_t);let[Vt,Ht]=Ef(At,Pe,Ae.zone);return 0!==bt&&(Vt+=bt,Ht=Ae.zone.offset(Vt)),{ts:Vt,o:Ht}}function So(Ae,de,Pe,We,st,_t){const{setZone:bt,zone:At}=Pe;if(Ae&&0!==Object.keys(Ae).length||de){const Vt=de||At,Ht=mn.fromObject(Ae,{...Pe,zone:Vt,specificOffset:_t});return bt?Ht:Ht.setZone(At)}return mn.invalid(new xt("unparsable",`the input "${st}" can't be parsed as ${We}`))}function zu(Ae,de,Pe=!0){return Ae.isValid?_n.create(Je.create("en-US"),{allowZ:Pe,forceSimple:!0}).formatDateTimeFromString(Ae,de):null}function Xn(Ae,de){const Pe=Ae.c.year>9999||Ae.c.year<0;let We="";return Pe&&Ae.c.year>=0&&(We+="+"),We+=Lt(Ae.c.year,Pe?6:4),de?(We+="-",We+=Lt(Ae.c.month),We+="-",We+=Lt(Ae.c.day)):(We+=Lt(Ae.c.month),We+=Lt(Ae.c.day)),We}function th(Ae,de,Pe,We,st,_t){let bt=Lt(Ae.c.hour);return de?(bt+=":",bt+=Lt(Ae.c.minute),(0!==Ae.c.millisecond||0!==Ae.c.second||!Pe)&&(bt+=":")):bt+=Lt(Ae.c.minute),(0!==Ae.c.millisecond||0!==Ae.c.second||!Pe)&&(bt+=Lt(Ae.c.second),(0!==Ae.c.millisecond||!We)&&(bt+=".",bt+=Lt(Ae.c.millisecond,3))),st&&(Ae.isOffsetFixed&&0===Ae.offset&&!_t?bt+="Z":Ae.o<0?(bt+="-",bt+=Lt(Math.trunc(-Ae.o/60)),bt+=":",bt+=Lt(Math.trunc(-Ae.o%60))):(bt+="+",bt+=Lt(Math.trunc(Ae.o/60)),bt+=":",bt+=Lt(Math.trunc(Ae.o%60)))),_t&&(bt+="["+Ae.zone.ianaName+"]"),bt}const fn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Gu={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},nh={ordinal:1,hour:0,minute:0,second:0,millisecond:0},sl=["year","month","day","hour","minute","second","millisecond"],cg=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],dg=["year","ordinal","hour","minute","second","millisecond"];function ai(Ae){switch(Ae.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function hg(Ae){const de={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[Ae.toLowerCase()];if(!de)throw new H(Ae);return de}(Ae)}}function eu(Ae,de){const Pe=Tt(de.zone,Dt.defaultZone),We=Je.fromObject(de),st=Dt.now();let _t,bt;if(bn(Ae.year))_t=st;else{for(const Ht of sl)bn(Ae[Ht])&&(Ae[Ht]=fn[Ht]);const At=vs(Ae)||ns(Ae);if(At)return mn.invalid(At);const Vt=Pe.offset(st);[_t,bt]=Mi(Ae,Vt,Pe)}return new mn({ts:_t,zone:Pe,loc:We,o:bt})}function wo(Ae,de,Pe){const We=!!bn(Pe.round)||Pe.round,st=(bt,At)=>(bt=Rn(bt,We||Pe.calendary?0:2,!0),de.loc.clone(Pe).relFormatter(Pe).format(bt,At)),_t=bt=>Pe.calendary?de.hasSame(Ae,bt)?0:de.startOf(bt).diff(Ae.startOf(bt),bt).get(bt):de.diff(Ae,bt).get(bt);if(Pe.unit)return st(_t(Pe.unit),Pe.unit);for(const bt of Pe.units){const At=_t(bt);if(Math.abs(At)>=1)return st(At,bt)}return st(Ae>de?-0:0,Pe.units[Pe.units.length-1])}function $o(Ae){let Pe,de={};return Ae.length>0&&"object"==typeof Ae[Ae.length-1]?(de=Ae[Ae.length-1],Pe=Array.from(Ae).slice(0,Ae.length-1)):Pe=Array.from(Ae),[de,Pe]}class mn{constructor(de){const Pe=de.zone||Dt.defaultZone;let We=de.invalid||(Number.isNaN(de.ts)?new xt("invalid input"):null)||(Pe.isValid?null:nl(Pe));this.ts=bn(de.ts)?Dt.now():de.ts;let st=null,_t=null;if(!We)if(de.old&&de.old.ts===this.ts&&de.old.zone.equals(Pe))[st,_t]=[de.old.c,de.old.o];else{const At=Pe.offset(this.ts);st=ql(this.ts,At),We=Number.isNaN(st.year)?new xt("invalid input"):null,st=We?null:st,_t=We?null:At}this._zone=Pe,this.loc=de.loc||Je.create(),this.invalid=We,this.weekData=null,this.localWeekData=null,this.c=st,this.o=_t,this.isLuxonDateTime=!0}static now(){return new mn({})}static local(){const[de,Pe]=$o(arguments),[We,st,_t,bt,At,Vt,Ht]=Pe;return eu({year:We,month:st,day:_t,hour:bt,minute:At,second:Vt,millisecond:Ht},de)}static utc(){const[de,Pe]=$o(arguments),[We,st,_t,bt,At,Vt,Ht]=Pe;return de.zone=at.utcInstance,eu({year:We,month:st,day:_t,hour:bt,minute:At,second:Vt,millisecond:Ht},de)}static fromJSDate(de,Pe={}){const We=function ze(Ae){return"[object Date]"===Object.prototype.toString.call(Ae)}(de)?de.valueOf():NaN;if(Number.isNaN(We))return mn.invalid("invalid input");const st=Tt(Pe.zone,Dt.defaultZone);return st.isValid?new mn({ts:We,zone:st,loc:Je.fromObject(Pe)}):mn.invalid(nl(st))}static fromMillis(de,Pe={}){if(Gr(de))return de<-tl||de>tl?mn.invalid("Timestamp out of range"):new mn({ts:de,zone:Tt(Pe.zone,Dt.defaultZone),loc:Je.fromObject(Pe)});throw new B(`fromMillis requires a numerical input, but received a ${typeof de} with value ${de}`)}static fromSeconds(de,Pe={}){if(Gr(de))return new mn({ts:1e3*de,zone:Tt(Pe.zone,Dt.defaultZone),loc:Je.fromObject(Pe)});throw new B("fromSeconds requires a numerical input")}static fromObject(de,Pe={}){de=de||{};const We=Tt(Pe.zone,Dt.defaultZone);if(!We.isValid)return mn.invalid(nl(We));const st=Je.fromObject(Pe),_t=It(de,ai),{minDaysInFirstWeek:bt,startOfWeek:At}=Gn(_t,st),Vt=Dt.now(),Ht=bn(Pe.specificOffset)?We.offset(Vt):Pe.specificOffset,xn=!bn(_t.ordinal),ir=!bn(_t.year),Yr=!bn(_t.month)||!bn(_t.day),Bn=ir||Yr,ws=_t.weekYear||_t.weekNumber;if((Bn||xn)&&ws)throw new P("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Yr&&xn)throw new P("Can't mix ordinal dates with month/day");const il=ws||_t.weekday&&!Bn;let Zo,al,tu=ql(Vt,Ht);il?(Zo=cg,al=Gu,tu=On(tu,bt,At)):xn?(Zo=dg,al=nh,tu=Ut(tu)):(Zo=sl,al=fn);let Mf=!1;for(const Ts of Zo)bn(_t[Ts])?_t[Ts]=Mf?al[Ts]:tu[Ts]:Mf=!0;const rh=il?function qr(Ae,de=4,Pe=1){const We=qe(Ae.weekYear),st=it(Ae.weekNumber,1,Lr(Ae.weekYear,de,Pe)),_t=it(Ae.weekday,1,7);return We?st?!_t&&rn("weekday",Ae.weekday):rn("week",Ae.weekNumber):rn("weekYear",Ae.weekYear)}(_t,bt,At):xn?function yr(Ae){const de=qe(Ae.year),Pe=it(Ae.ordinal,1,br(Ae.year));return de?!Pe&&rn("ordinal",Ae.ordinal):rn("year",Ae.year)}(_t):vs(_t),Df=rh||ns(_t);if(Df)return mn.invalid(Df);const pg=il?zn(_t,bt,At):xn?Xt(_t):_t,[sh,Sf]=Mi(pg,Ht,We),Rs=new mn({ts:sh,zone:We,o:Sf,loc:st});return _t.weekday&&Bn&&de.weekday!==Rs.weekday?mn.invalid("mismatched weekday",`you can't specify both a weekday of ${_t.weekday} and a date of ${Rs.toISO()}`):Rs}static fromISO(de,Pe={}){const[We,st]=function Kn(Ae){return jr(Ae,[Xa,kd],[Hl,Ci],[$d,Jl],[Zd,hf])}(de);return So(We,st,Pe,"ISO 8601",de)}static fromRFC2822(de,Pe={}){const[We,st]=function Er(Ae){return jr(function Cn(Ae){return Ae.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(Ae),[Jr,ks])}(de);return So(We,st,Pe,"RFC 2822",de)}static fromHTTP(de,Pe={}){const[We,st]=function oC(Ae){return jr(Ae,[Wo,bi],[ds,bi],[Gl,en])}(de);return So(We,st,Pe,"HTTP",Pe)}static fromFormat(de,Pe,We={}){if(bn(de)||bn(Pe))throw new B("fromFormat requires an input string and a format");const{locale:st=null,numberingSystem:_t=null}=We,bt=Je.fromOpts({locale:st,numberingSystem:_t,defaultToEN:!0}),[At,Vt,Ht,xn]=function pC(Ae,de,Pe){const{result:We,zone:st,specificOffset:_t,invalidReason:bt}=lg(Ae,de,Pe);return[We,st,_t,bt]}(bt,de,Pe);return xn?mn.invalid(xn):So(At,Vt,We,`format ${Pe}`,de,Ht)}static fromString(de,Pe,We={}){return mn.fromFormat(de,Pe,We)}static fromSQL(de,Pe={}){const[We,st]=function aC(Ae){return jr(Ae,[eg,kd],[Kd,uo])}(de);return So(We,st,Pe,"SQL",de)}static invalid(de,Pe=null){if(!de)throw new B("need to specify a reason the DateTime is invalid");const We=de instanceof xt?de:new xt(de,Pe);if(Dt.throwOnInvalid)throw new M(We);return new mn({invalid:We})}static isDateTime(de){return de&&de.isLuxonDateTime||!1}static parseFormatForOpts(de,Pe={}){const We=ug(de,Je.fromObject(Pe));return We?We.map(st=>st?st.val:null).join(""):null}static expandFormat(de,Pe={}){return ag(_n.parseFormat(de),Je.fromObject(Pe)).map(st=>st.val).join("")}get(de){return this[de]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?rl(this).weekYear:NaN}get weekNumber(){return this.isValid?rl(this).weekNumber:NaN}get weekday(){return this.isValid?rl(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?eh(this).weekday:NaN}get localWeekNumber(){return this.isValid?eh(this).weekNumber:NaN}get localWeekYear(){return this.isValid?eh(this).weekYear:NaN}get ordinal(){return this.isValid?Ut(this.c).ordinal:NaN}get monthShort(){return this.isValid?zd.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?zd.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?zd.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?zd.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const Pe=6e4,We=Hr(this.c),st=this.zone.offset(We-864e5),_t=this.zone.offset(We+864e5),bt=this.zone.offset(We-st*Pe),At=this.zone.offset(We-_t*Pe);if(bt===At)return[this];const Vt=We-bt*Pe,Ht=We-At*Pe,xn=ql(Vt,bt),ir=ql(Ht,At);return xn.hour===ir.hour&&xn.minute===ir.minute&&xn.second===ir.second&&xn.millisecond===ir.millisecond?[Sa(this,{ts:Vt}),Sa(this,{ts:Ht})]:[this]}get isInLeapYear(){return Zn(this.year)}get daysInMonth(){return Rr(this.year,this.month)}get daysInYear(){return this.isValid?br(this.year):NaN}get weeksInWeekYear(){return this.isValid?Lr(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Lr(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(de={}){const{locale:Pe,numberingSystem:We,calendar:st}=_n.create(this.loc.clone(de),de).resolvedOptions(this);return{locale:Pe,numberingSystem:We,outputCalendar:st}}toUTC(de=0,Pe={}){return this.setZone(at.instance(de),Pe)}toLocal(){return this.setZone(Dt.defaultZone)}setZone(de,{keepLocalTime:Pe=!1,keepCalendarTime:We=!1}={}){if((de=Tt(de,Dt.defaultZone)).equals(this.zone))return this;if(de.isValid){let st=this.ts;if(Pe||We){const _t=de.offset(this.ts),bt=this.toObject();[st]=Mi(bt,_t,de)}return Sa(this,{ts:st,zone:de})}return mn.invalid(nl(de))}reconfigure({locale:de,numberingSystem:Pe,outputCalendar:We}={}){return Sa(this,{loc:this.loc.clone({locale:de,numberingSystem:Pe,outputCalendar:We})})}setLocale(de){return this.reconfigure({locale:de})}set(de){if(!this.isValid)return this;const Pe=It(de,ai),{minDaysInFirstWeek:We,startOfWeek:st}=Gn(Pe,this.loc),_t=!bn(Pe.weekYear)||!bn(Pe.weekNumber)||!bn(Pe.weekday),bt=!bn(Pe.ordinal),At=!bn(Pe.year),Vt=!bn(Pe.month)||!bn(Pe.day);if((At||Vt||bt)&&(Pe.weekYear||Pe.weekNumber))throw new P("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Vt&&bt)throw new P("Can't mix ordinal dates with month/day");let ir;_t?ir=zn({...On(this.c,We,st),...Pe},We,st):bn(Pe.ordinal)?(ir={...this.toObject(),...Pe},bn(Pe.day)&&(ir.day=Math.min(Rr(ir.year,ir.month),ir.day))):ir=Xt({...Ut(this.c),...Pe});const[Yr,Bn]=Mi(ir,this.o,this.zone);return Sa(this,{ts:Yr,o:Bn})}plus(de){return this.isValid?Sa(this,bf(this,dn.fromDurationLike(de))):this}minus(de){return this.isValid?Sa(this,bf(this,dn.fromDurationLike(de).negate())):this}startOf(de,{useLocaleWeeks:Pe=!1}={}){if(!this.isValid)return this;const We={},st=dn.normalizeUnit(de);switch(st){case"years":We.month=1;case"quarters":case"months":We.day=1;case"weeks":case"days":We.hour=0;case"hours":We.minute=0;case"minutes":We.second=0;case"seconds":We.millisecond=0}if("weeks"===st)if(Pe){const _t=this.loc.getStartOfWeek(),{weekday:bt}=this;bt<_t&&(We.weekNumber=this.weekNumber-1),We.weekday=_t}else We.weekday=1;if("quarters"===st){const _t=Math.ceil(this.month/3);We.month=3*(_t-1)+1}return this.set(We)}endOf(de,Pe){return this.isValid?this.plus({[de]:1}).startOf(de,Pe).minus(1):this}toFormat(de,Pe={}){return this.isValid?_n.create(this.loc.redefaultToEN(Pe)).formatDateTimeFromString(this,de):_f}toLocaleString(de=Z,Pe={}){return this.isValid?_n.create(this.loc.clone(Pe),de).formatDateTime(this):_f}toLocaleParts(de={}){return this.isValid?_n.create(this.loc.clone(de),de).formatDateTimeParts(this):[]}toISO({format:de="extended",suppressSeconds:Pe=!1,suppressMilliseconds:We=!1,includeOffset:st=!0,extendedZone:_t=!1}={}){if(!this.isValid)return null;const bt="extended"===de;let At=Xn(this,bt);return At+="T",At+=th(this,bt,Pe,We,st,_t),At}toISODate({format:de="extended"}={}){return this.isValid?Xn(this,"extended"===de):null}toISOWeekDate(){return zu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:de=!1,suppressSeconds:Pe=!1,includeOffset:We=!0,includePrefix:st=!1,extendedZone:_t=!1,format:bt="extended"}={}){return this.isValid?(st?"T":"")+th(this,"extended"===bt,Pe,de,We,_t):null}toRFC2822(){return zu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return zu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Xn(this,!0):null}toSQLTime({includeOffset:de=!0,includeZone:Pe=!1,includeOffsetSpace:We=!0}={}){let st="HH:mm:ss.SSS";return(Pe||de)&&(We&&(st+=" "),Pe?st+="z":de&&(st+="ZZ")),zu(this,st,!0)}toSQL(de={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(de)}`:null}toString(){return this.isValid?this.toISO():_f}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(de={}){if(!this.isValid)return{};const Pe={...this.c};return de.includeConfig&&(Pe.outputCalendar=this.outputCalendar,Pe.numberingSystem=this.loc.numberingSystem,Pe.locale=this.loc.locale),Pe}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(de,Pe="milliseconds",We={}){if(!this.isValid||!de.isValid)return dn.invalid("created by diffing an invalid DateTime");const st={locale:this.locale,numberingSystem:this.numberingSystem,...We},_t=function Pt(Ae){return Array.isArray(Ae)?Ae:[Ae]}(Pe).map(dn.normalizeUnit),bt=de.valueOf()>this.valueOf(),Ht=function ku(Ae,de,Pe,We){let[st,_t,bt,At]=function cC(Ae,de,Pe){const We=[["years",(Vt,Ht)=>Ht.year-Vt.year],["quarters",(Vt,Ht)=>Ht.quarter-Vt.quarter+4*(Ht.year-Vt.year)],["months",(Vt,Ht)=>Ht.month-Vt.month+12*(Ht.year-Vt.year)],["weeks",(Vt,Ht)=>{const xn=An(Vt,Ht);return(xn-xn%7)/7}],["days",An]],st={},_t=Ae;let bt,At;for(const[Vt,Ht]of We)Pe.indexOf(Vt)>=0&&(bt=Vt,st[Vt]=Ht(Ae,de),At=_t.plus(st),At>de?(st[Vt]--,(Ae=_t.plus(st))>de&&(At=Ae,st[Vt]--,Ae=_t.plus(st))):Ae=At);return[Ae,st,At,bt]}(Ae,de,Pe);const Vt=de-st,Ht=Pe.filter(ir=>["hours","minutes","seconds","milliseconds"].indexOf(ir)>=0);0===Ht.length&&(bt<de&&(bt=st.plus({[At]:1})),bt!==st&&(_t[At]=(_t[At]||0)+Vt/(bt-st)));const xn=dn.fromObject(_t,We);return Ht.length>0?dn.fromMillis(Vt,We).shiftTo(...Ht).plus(xn):xn}(bt?this:de,bt?de:this,_t,st);return bt?Ht.negate():Ht}diffNow(de="milliseconds",Pe={}){return this.diff(mn.now(),de,Pe)}until(de){return this.isValid?rs.fromDateTimes(this,de):this}hasSame(de,Pe,We){if(!this.isValid)return!1;const st=de.valueOf(),_t=this.setZone(de.zone,{keepLocalTime:!0});return _t.startOf(Pe,We)<=st&&st<=_t.endOf(Pe,We)}equals(de){return this.isValid&&de.isValid&&this.valueOf()===de.valueOf()&&this.zone.equals(de.zone)&&this.loc.equals(de.loc)}toRelative(de={}){if(!this.isValid)return null;const Pe=de.base||mn.fromObject({},{zone:this.zone}),We=de.padding?this<Pe?-de.padding:de.padding:0;let st=["years","months","days","hours","minutes","seconds"],_t=de.unit;return Array.isArray(de.unit)&&(st=de.unit,_t=void 0),wo(Pe,this.plus(We),{...de,numeric:"always",units:st,unit:_t})}toRelativeCalendar(de={}){return this.isValid?wo(de.base||mn.fromObject({},{zone:this.zone}),this,{...de,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...de){if(!de.every(mn.isDateTime))throw new B("min requires all arguments be DateTimes");return _e(de,Pe=>Pe.valueOf(),Math.min)}static max(...de){if(!de.every(mn.isDateTime))throw new B("max requires all arguments be DateTimes");return _e(de,Pe=>Pe.valueOf(),Math.max)}static fromFormatExplain(de,Pe,We={}){const{locale:st=null,numberingSystem:_t=null}=We;return lg(Je.fromOpts({locale:st,numberingSystem:_t,defaultToEN:!0}),de,Pe)}static fromStringExplain(de,Pe,We={}){return mn.fromFormatExplain(de,Pe,We)}static get DATE_SHORT(){return Z}static get DATE_MED(){return I}static get DATE_MED_WITH_WEEKDAY(){return G}static get DATE_FULL(){return W}static get DATE_HUGE(){return A}static get TIME_SIMPLE(){return S}static get TIME_WITH_SECONDS(){return N}static get TIME_WITH_SHORT_OFFSET(){return L}static get TIME_WITH_LONG_OFFSET(){return O}static get TIME_24_SIMPLE(){return $}static get TIME_24_WITH_SECONDS(){return K}static get TIME_24_WITH_SHORT_OFFSET(){return U}static get TIME_24_WITH_LONG_OFFSET(){return X}static get DATETIME_SHORT(){return Y}static get DATETIME_SHORT_WITH_SECONDS(){return oe}static get DATETIME_MED(){return ne}static get DATETIME_MED_WITH_SECONDS(){return se}static get DATETIME_MED_WITH_WEEKDAY(){return te}static get DATETIME_FULL(){return k}static get DATETIME_FULL_WITH_SECONDS(){return re}static get DATETIME_HUGE(){return Q}static get DATETIME_HUGE_WITH_SECONDS(){return pe}}function ol(Ae){if(mn.isDateTime(Ae))return Ae;if(Ae&&Ae.valueOf&&Gr(Ae.valueOf()))return mn.fromJSDate(Ae);if(Ae&&"object"==typeof Ae)return mn.fromObject(Ae);throw new B(`Unknown datetime argument: ${Ae}, of type ${typeof Ae}`)}},15861:(Ze,me,_)=>{"use strict";function E(V,x,P,H,B,F,T){try{var w=V[F](T),j=w.value}catch(Z){return void P(Z)}w.done?x(j):Promise.resolve(j).then(H,B)}function M(V){return function(){var x=this,P=arguments;return new Promise(function(H,B){var F=V.apply(x,P);function T(j){E(F,H,B,T,w,"next",j)}function w(j){E(F,H,B,T,w,"throw",j)}T(void 0)})}}_.d(me,{Z:()=>M})}},Ze=>{Ze(Ze.s=86404)}]);