"use strict";(self.webpackChunkangular_17_test=self.webpackChunkangular_17_test||[]).push([[3800],{40485:(ce,se,D)=>{D.d(se,{Z:()=>X});var z,N,J=D(14007),ne=D(51479);(N=z||(z={}))[N.varint=0]="varint",N[N.fixed64=1]="fixed64",N[N.delimited=2]="delimited",N[N.fixed32=5]="fixed32",N[N.unknown=99]="unknown";const W=4294967296,Y=new TextDecoder("utf-8"),K=(0,J.Z)("safari")||(0,J.Z)("ios")?6:(0,J.Z)("ff")?12:32;class X{constructor(y,T,F=0,M=(y?y.byteLength:0)){this._tag=0,this._dataType=z.unknown,this._init(y,T,F,M)}_init(y,T,F,M){this._data=y,this._dataView=T,this._pos=F,this._end=M}asUnsafe(){return this}clone(){return new X(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(y){this._pos=y}nextTag(y){for(;;){if(this._pos===this._end)return!1;const T=this._decodeVarint();if(this._tag=T>>3,this._dataType=7&T,!y||y===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const y=this._decodeVarint();return this._tag=y>>3,this._dataType=7&y,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let y=4294967295;return y=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?y:(y=(y|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?y:(y=(y|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?y:(y=(y|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?y:(y=(y|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?y:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const y=this.getUInt32();if(void 0!==y)return y>>>1^-(1&y)|0}getSInt64(){return this._decodeSVarint()}getBool(){const y=0!==this._data[this._pos];return this._skip(1),y}getEnum(){return this._decodeVarint()}getFixed64(){const y=this._dataView,T=this._pos,F=y.getUint32(T,!0)+y.getUint32(T+4,!0)*W;return this._skip(8),F}getSFixed64(){const y=this._dataView,T=this._pos,F=y.getUint32(T,!0)+y.getInt32(T+4,!0)*W;return this._skip(8),F}getDouble(){const y=this._dataView.getFloat64(this._pos,!0);return this._skip(8),y}getFixed32(){const y=this._dataView.getUint32(this._pos,!0);return this._skip(4),y}getSFixed32(){const y=this._dataView.getInt32(this._pos,!0);return this._skip(4),y}getFloat(){const y=this._dataView.getFloat32(this._pos,!0);return this._skip(4),y}getString(){const y=this._getLength(),T=this._pos,F=this._toString(this._data,T,T+y);return this._skip(y),F}getBytes(){const y=this._getLength(),T=this._pos,F=this._toBytes(this._data,T,T+y);return this._skip(y),F}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(y,T,F,M){const U=this.getMessage(),ee=y(U,T,F,M);return U.release(),ee}processMessage(y){const T=this.getMessage(),F=y(T);return T.release(),F}getMessage(){const y=this._getLength(),T=X.pool.acquire();return T._init(this._data,this._dataView,this._pos,this._pos+y),this._skip(y),T}release(){X.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case z.varint:this._decodeVarint();break;case z.fixed64:this._skip(8);break;case z.delimited:this._skip(this._getLength());break;case z.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(y){this._skip(y)}_skip(y){if(this._pos+y>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=y}_decodeVarint(){const y=this._data;let T=this._pos,F=0,M=0;if(this._end-T>=10)do{if(M=y[T++],F|=127&M,0==(128&M)||(M=y[T++],F|=(127&M)<<7,0==(128&M))||(M=y[T++],F|=(127&M)<<14,0==(128&M))||(M=y[T++],F|=(127&M)<<21,0==(128&M))||(M=y[T++],F+=268435456*(127&M),0==(128&M))||(M=y[T++],F+=34359738368*(127&M),0==(128&M))||(M=y[T++],F+=4398046511104*(127&M),0==(128&M))||(M=y[T++],F+=562949953421312*(127&M),0==(128&M))||(M=y[T++],F+=72057594037927940*(127&M),0==(128&M))||(M=y[T++],F+=0x8000000000000000*(127&M),0==(128&M)))break;throw new Error("Varint too long!")}while(0);else{let U=1;for(;T!==this._end&&(M=y[T],0!=(128&M));)++T,F+=(127&M)*U,U*=128;if(T===this._end)throw new Error("Varint overrun!");++T,F+=M*U}return this._pos=T,F}_decodeSVarint(){const y=this._data;let T,F=0,M=0;const U=1&y[this._pos];if(M=y[this._pos++],F|=127&M,0==(128&M)||(M=y[this._pos++],F|=(127&M)<<7,0==(128&M))||(M=y[this._pos++],F|=(127&M)<<14,0==(128&M))||(M=y[this._pos++],F|=(127&M)<<21,0==(128&M))||(M=y[this._pos++],F+=268435456*(127&M),0==(128&M))||(M=y[this._pos++],F+=34359738368*(127&M),0==(128&M))||(M=y[this._pos++],F+=4398046511104*(127&M),0==(128&M)))return U?-(F+1)/2:F/2;if(T=BigInt(F),M=y[this._pos++],T+=0x2000000000000n*BigInt(127&M),0==(128&M)||(M=y[this._pos++],T+=0x100000000000000n*BigInt(127&M),0==(128&M))||(M=y[this._pos++],T+=0x8000000000000000n*BigInt(127&M),0==(128&M)))return Number(U?-(T+1n)/2n:T/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==z.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(y,T,F){if((F=Math.min(this._end,F))-T>K){const ee=y.subarray(T,F);return Y.decode(ee)}let M="",U="";for(let ee=T;ee<F;++ee){const $=y[ee];128&$?U+="%"+$.toString(16):(M+=decodeURIComponent(U)+String.fromCharCode($),U="")}return U.length&&(M+=decodeURIComponent(U)),M}_toBytes(y,T,F){return F=Math.min(this._end,F),new Uint8Array(y.buffer,T,F-T)}}X.pool=new ne.Z(X,void 0,N=>{N._data=null,N._dataView=null})},66398:(ce,se,D)=>{D.d(se,{G6:()=>he,Ie:()=>j,J9:()=>q,RF:()=>O,U1:()=>ae,vY:()=>K,ym:()=>E});var J=D(40637);const z=(_,g,x)=>[g,x],W=(_,g,x)=>[g,x,_[2]],Y=(_,g,x)=>[g,x,_[2],_[3]];function K(_){return _?{originPosition:"upper-left"===_.originPosition?"upperLeft":"lower-left"===_.originPosition?"lowerLeft":_.originPosition,scale:_.tolerance?[_.tolerance,_.tolerance]:[1,1],translate:null!=_.extent?[_.extent.xmin,_.extent.ymax]:[0,0]}:null}function N({scale:_,translate:g},x){return Math.round((x-g[0])/_[0])}function y({scale:_,translate:g},x){return Math.round((g[1]-x)/_[1])}function T(_,g,x){const I=[];let P,G,B,V;for(let H=0;H<x.length;H++){const f=x[H];H>0?(B=N(_,f[0]),V=y(_,f[1]),B===P&&V===G||(I.push(g(f,B-P,V-G)),P=B,G=V)):(P=N(_,f[0]),G=y(_,f[1]),I.push(g(f,P,G)))}return I.length>0?I:null}function $({scale:_,translate:g},x){return x*_[0]+g[0]}function re({scale:_,translate:g},x){return g[1]-x*_[1]}function ie(_,g,x){const I=new Array(x.length);if(!x.length)return I;const[P,G]=_.scale;let B=$(_,x[0][0]),V=re(_,x[0][1]);I[0]=g(x[0],B,V);for(let H=1;H<x.length;H++){const f=x[H];B+=f[0]*P,V-=f[1]*G,I[H]=g(f,B,V)}return I}function oe(_,g,x){const I=new Array(x.length);for(let P=0;P<x.length;P++)I[P]=ie(_,g,x[P]);return I}function O(_,g,x,I,P){return g.x=N(_,x.x),g.y=y(_,x.y),g!==x&&(I&&(g.z=x.z),P&&(g.m=x.m)),g}function E(_,g){return _&&g?(0,J.wp)(g)?O(_,{},g,!1,!1):(0,J.l9)(g)?function v(_,g,x,I,P){const G=function ee(_,g,x,I){const P=[],G=x?I?Y:W:I?W:z;for(let B=0;B<g.length;B++){const V=T(_,G,g[B]);V&&V.length>=2&&P.push(V)}return P.length?P:null}(_,x.paths,I,P);return G?(g.paths=G,g):null}(_,{},g,!1,!1):(0,J.oU)(g)?function w(_,g,x,I,P){const G=function U(_,g,x,I){const P=[],G=x?I?Y:W:I?W:z;for(let B=0;B<g.length;B++){const V=T(_,G,g[B]);V&&V.length>=3&&P.push(V)}return P.length?P:null}(_,x.rings,I,P);return G?(g.rings=G,g):null}(_,{},g,!1,!1):(0,J.aW)(g)?function A(_,g,x,I,P){return g.points=function M(_,g,x,I){return T(_,x?I?Y:W:I?W:z,g)}(_,x.points,I,P)??[],g}(_,{},g,!1,!1):(0,J.YX)(g)?function S(_,g,x,I,P){return g.xmin=N(_,x.xmin),g.ymin=y(_,x.ymin),g.xmax=N(_,x.xmax),g.ymax=y(_,x.ymax),g!==x&&(I&&(g.zmin=x.zmin,g.zmax=x.zmax),P&&(g.mmin=x.mmin,g.mmax=x.mmax)),g}(_,{},g,!1,!1):null:null}function q(_,g,x,I,P){return null!=x&&(g.points=function pe(_,g,x,I){return ie(_,x?I?Y:W:I?W:z,g)}(_,x.points,I,P)),g}function ae(_,g,x,I,P){return null==x||(g.x=$(_,x.x),g.y=re(_,x.y),g!==x&&(I&&(g.z=x.z),P&&(g.m=x.m))),g}function j(_,g,x,I,P){return null!=x&&(g.rings=function ge(_,g,x,I){return oe(_,x?I?Y:W:I?W:z,g)}(_,x.rings,I,P)),g}function he(_,g,x,I,P){return null!=x&&(g.paths=function le(_,g,x,I){return oe(_,x?I?Y:W:I?W:z,g)}(_,x.paths,I,P)),g}},89625:(ce,se,D)=>{D.d(se,{G$:()=>le,K9:()=>me,wn:()=>re});var J=D(57964),ne=D(40485),z=D(62209),W=D(53341);const Y=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeBigInteger","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],K=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],X=["upperLeft","lowerLeft"];function N(R){return R>=Y.length?null:Y[R]}function y(R){return R>=K.length?null:K[R]}function T(R){return R>=X.length?null:X[R]}function F(R,S){return S>=R.geometryTypes.length?null:R.geometryTypes[S]}function M(R,S,A){const w=R.asUnsafe(),v=S.createPointGeometry(A);for(;w.next();)switch(w.tag()){case 3:{const E=w.getUInt32(),Z=w.pos()+E;let q=0;for(;w.pos()<Z;)S.addCoordinatePoint(v,w.getSInt64(),q++);break}default:w.skip()}return v}function U(R,S,A){const v=R.asUnsafe(),E=S.createGeometry(A),Z=2+(A.hasZ?1:0)+(A.hasM?1:0);for(;v.next();)switch(v.tag()){case 2:{const q=v.getUInt32(),ae=v.pos()+q;let j=0;for(;v.pos()<ae;)S.addLength(E,v.getUInt32(),j++);break}case 3:{const q=v.getUInt32(),ae=v.pos()+q;let j=0;for(S.allocateCoordinates(E);v.pos()<ae;)S.addCoordinate(E,v.getSInt64(),j),j++,j===Z&&(j=0);break}default:v.skip()}return E}function ee(R){const w=R.asUnsafe(),v=new z.Z;let E="esriGeometryPoint";for(;w.next();)switch(w.tag()){case 2:{const Z=w.getUInt32(),q=w.pos()+Z;for(;w.pos()<q;)v.lengths.push(w.getUInt32());break}case 3:{const Z=w.getUInt32(),q=w.pos()+Z;for(;w.pos()<q;)v.coords.push(w.getSInt64());break}case 1:E=W.S[w.getEnum()];break;default:w.skip()}return{queryGeometry:v,queryGeometryType:E}}function $(R){const j=R.asUnsafe();for(;j.next();)switch(j.tag()){case 1:return j.getString();case 2:return j.getFloat();case 3:return j.getDouble();case 4:return j.getSInt32();case 5:return j.getUInt32();case 6:return j.getInt64();case 7:return j.getUInt64();case 8:return j.getSInt64();case 9:return j.getBool();default:return j.skip(),null}return null}function re(R){const Z=R.asUnsafe(),q={type:N(0)};for(;Z.next();)switch(Z.tag()){case 1:q.name=Z.getString();break;case 2:q.type=N(Z.getEnum());break;case 3:q.alias=Z.getString();break;case 4:q.sqlType=y(Z.getEnum());break;case 5:default:Z.skip();break;case 6:q.defaultValue=Z.getString()}return q}function ie(R){const O={},w=R.asUnsafe();for(;w.next();)switch(w.tag()){case 1:O.name=w.getString();break;case 2:O.isSystemMaintained=w.getBool();break;default:w.skip()}return O}function oe(R,S,A,O){const Z=S.createFeature(A);let q=0;for(;R.next();)switch(R.tag()){case 1:{const ae=O[q++].name;Z.attributes[ae]=R.processMessage($);break}case 2:Z.geometry=R.processMessageWithArgs(U,S,A);break;case 4:Z.centroid=R.processMessageWithArgs(M,S,A);break;default:R.skip()}return Z}function fe(R){const v=[1,1,1,1],E=R.asUnsafe();for(;E.next();)switch(E.tag()){case 1:v[0]=E.getDouble();break;case 2:v[1]=E.getDouble();break;case 4:v[2]=E.getDouble();break;case 3:v[3]=E.getDouble();break;default:E.skip()}return v}function pe(R){const v=[0,0,0,0],E=R.asUnsafe();for(;E.next();)switch(E.tag()){case 1:v[0]=E.getDouble();break;case 2:v[1]=E.getDouble();break;case 4:v[2]=E.getDouble();break;case 3:v[3]=E.getDouble();break;default:E.skip()}return v}function le(R){const w={originPosition:T(0)},v=R.asUnsafe();for(;v.next();)switch(v.tag()){case 1:w.originPosition=T(v.getEnum());break;case 2:w.scale=v.processMessage(fe);break;case 3:w.translate=v.processMessage(pe);break;default:v.skip()}return w}function ge(R){const w={},v=R.asUnsafe();for(;v.next();)switch(v.tag()){case 1:w.shapeAreaFieldName=v.getString();break;case 2:w.shapeLengthFieldName=v.getString();break;case 3:w.units=v.getString();break;default:v.skip()}return w}function ue(R,S){const Z=S.createSpatialReference();for(;R.next();)switch(R.tag()){case 1:Z.wkid=R.getUInt32();break;case 5:Z.wkt=R.getString();break;case 2:Z.latestWkid=R.getUInt32();break;case 3:Z.vcsWkid=R.getUInt32();break;case 4:Z.latestVcsWkid=R.getUInt32();break;default:R.skip()}return Z}function de(R,S){const I=S.createFeatureResult(),P=R.asUnsafe();I.geometryType=F(S,0);let G=!1;for(;P.next();)switch(P.tag()){case 1:I.objectIdFieldName=P.getString();break;case 3:I.globalIdFieldName=P.getString();break;case 4:I.geohashFieldName=P.getString();break;case 5:I.geometryProperties=P.processMessage(ge);break;case 7:I.geometryType=F(S,P.getEnum());break;case 8:I.spatialReference=P.processMessageWithArgs(ue,S);break;case 10:I.hasZ=P.getBool();break;case 11:I.hasM=P.getBool();break;case 12:I.transform=P.processMessage(le);break;case 9:I.exceededTransferLimit=P.getBool();break;case 13:S.addField(I,P.processMessage(re));break;case 15:G||(S.prepareFeatures(I),G=!0),S.addFeature(I,P.processMessageWithArgs(oe,S,I,I.fields));break;case 2:I.uniqueIdField=P.processMessage(ie);break;default:P.skip()}return S.finishFeatureResult(I),I}function ye(R,S){const w={};let v=null;for(;R.next();)switch(R.tag()){case 4:v=R.processMessageWithArgs(ee);break;case 1:w.featureResult=R.processMessageWithArgs(de,S);break;default:R.skip()}return null!=v&&w.featureResult&&S.addQueryGeometry(w,v),w}function me(R,S){try{const O=new ne.Z(new Uint8Array(R),new DataView(R)),w={};for(;O.next();)2===O.tag()?w.queryResult=O.processMessageWithArgs(ye,S):O.skip();return w}catch(A){throw new J.Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:A})}}},53341:(ce,se,D)=>{D.d(se,{J:()=>X,S:()=>K});var J=D(49602),ne=D(33721),z=D(83502),W=D(40620),Y=D(62209);const K=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class X{constructor(y){this._options=y,this.geometryTypes=K,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new W.Z}prepareFeatures(y){this._vertexDimension=2,y.hasZ&&this._vertexDimension++,y.hasM&&this._vertexDimension++}finishFeatureResult(y){if(!y?.features||!y.hasZ||!this._options.sourceSpatialReference||!y.spatialReference||(0,ne.fS)(y.spatialReference,this._options.sourceSpatialReference)||y.spatialReference.vcsWkid)return;const T=(0,J._R)(this._options.sourceSpatialReference)/(0,J._R)(y.spatialReference);if(1!==T)for(const F of y.features){if(!(0,z.S6)(F))continue;const M=F.geometry.coords;for(let U=2;U<M.length;U+=3)M[U]*=T}}addFeature(y,T){y.features.push(T)}createFeature(){return new z.u_}createSpatialReference(){return{wkid:0}}createGeometry(){return new Y.Z}addField(y,T){y.fields.push(T)}allocateCoordinates(y){y.coords.length=y.lengths.reduce((T,F)=>T+F,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(y,T){y.coords[this._coordinatePtr++]=T}addCoordinatePoint(y,T){y.coords.push(T)}addLength(y,T){y.lengths.push(T)}addQueryGeometry(y,T){y.queryGeometry=T.queryGeometry,y.queryGeometryType=T.queryGeometryType}createPointGeometry(){return new Y.Z}}},44834:(ce,se,D)=>{D.d(se,{C:()=>ne});var J=D(89625);function ne(z,W){const Y=(0,J.K9)(z,W),K=Y.queryResult.featureResult,X=Y.queryResult.queryGeometry,N=Y.queryResult.queryGeometryType;if(K&&K.features&&K.features.length&&K.objectIdFieldName){const y=K.objectIdFieldName;for(const T of K.features)T.attributes&&(T.objectId=T.attributes[y])}return K&&(K.queryGeometry=X,K.queryGeometryType=N),K}},23800:(ce,se,D)=>{D.r(se),D.d(se,{default:()=>H});var J=D(480),ne=D(68160),z=D(43814),W=D(53456),F=(D(14007),D(40271),D(27048),D(45425),D(66398),D(31709),D(81247));D(33721);class ue{constructor(d,b,k){this.uid=d,this.geometry=b,this.attributes=k,this.visible=!0,this.objectId=null,this.centroid=null}}class ye{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}var ae=D(10842);function j(f,d){return d}function he(f,d,b,k){switch(b){case 0:return I(f,d+k,0);case 1:return"lowerLeft"===f.originPosition?I(f,d+k,1):function P({translate:f,scale:d},b,k){return f[k]-b*d[k]}(f,d+k,1)}}function _(f,d,b,k){return 2===b?I(f,d,2):he(f,d,b,k)}function g(f,d,b,k){return 2===b?I(f,d,3):he(f,d,b,k)}function x(f,d,b,k){return 3===b?I(f,d,3):_(f,d,b,k)}function I({translate:f,scale:d},b,k){return f[k]+b*d[k]}class G{constructor(d){this._options=d,this.geometryTypes=["point","multipoint","polyline","polygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=j,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return new ye}finishFeatureResult(d){if(this._options.applyTransform&&(d.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!d.hasZ)return;const b=(0,W.k)(d.geometryType,this._options.sourceSpatialReference,d.spatialReference);if(null!=b)for(const k of d.features)b(k.geometry)}createSpatialReference(){return new z.Z}addField(d,b){d.fields.push(F.Z.fromJSON(b));const k=d.fields.map(C=>C.name);this._attributesConstructor=function(){for(const C of k)this[C]=null}}addFeature(d,b){const k=this._options.maxStringAttributeLength??0;if(k>0)for(const C in b.attributes){const Q=b.attributes[C];"string"==typeof Q&&Q.length>k&&(b.attributes[C]="")}d.features.push(b)}addQueryGeometry(d,b){const{queryGeometry:k,queryGeometryType:C}=b,Q=(0,ae.$g)(k.clone(),k,!1,!1,this._transform),te=(0,ae.di)(Q,C,!1,!1);let L=null;switch(C){case"esriGeometryPoint":L="point";break;case"esriGeometryPolygon":L="polygon";break;case"esriGeometryPolyline":L="polyline";break;case"esriGeometryMultipoint":L="multipoint"}te.type=L,d.queryGeometryType=C,d.queryGeometry=te}prepareFeatures(d){switch(this._transform=d.transform??null,this._options.applyTransform&&d.transform&&(this._applyTransform=this._deriveApplyTransform(d)),this._vertexDimension=2,d.hasZ&&this._vertexDimension++,d.hasM&&this._vertexDimension++,d.geometryType){case"point":this.addCoordinate=(b,k,C)=>this.addCoordinatePoint(b,k,C),this.createGeometry=b=>this.createPointGeometry(b);break;case"polygon":this.addCoordinate=(b,k,C)=>this._addCoordinatePolygon(b,k,C),this.createGeometry=b=>this._createPolygonGeometry(b);break;case"polyline":this.addCoordinate=(b,k,C)=>this._addCoordinatePolyline(b,k,C),this.createGeometry=b=>this._createPolylineGeometry(b);break;case"multipoint":this.addCoordinate=(b,k,C)=>this._addCoordinateMultipoint(b,k,C),this.createGeometry=b=>this._createMultipointGeometry(b);break;case"mesh":case"extent":break;default:(0,J.Bg)(d.geometryType)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,new ue((0,ne.D)(),null,new this._attributesConstructor)}allocateCoordinates(){const d=this._lengths.reduce((b,k)=>b+k,0);this._coordinateBuffer=new Float64Array(d*this._vertexDimension),this._coordinateBufferPtr=0}addLength(d,b){0===this._lengths.length&&(this._toAddInCurrentPath=b),this._lengths.push(b)}createPointGeometry(d){const b={type:"point",x:0,y:0,spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM};return b.hasZ&&(b.z=0),b.hasM&&(b.m=0),b}addCoordinatePoint(d,b,k){const C=this._transform?this._applyTransform(this._transform,b,k,0):b;if(null!=C)switch(k){case 0:d.x=C;break;case 1:d.y=C;break;case 2:d.hasZ?d.z=C:d.m=C;break;case 3:d.m=C}}_transformPathLikeValue(d,b){let k=0;return b<=1&&(k=this._previousCoordinate[b],this._previousCoordinate[b]+=d),this._transform?this._applyTransform(this._transform,d,b,k):d}_addCoordinatePolyline(d,b,k){this._dehydratedAddPointsCoordinate(d.paths,b,k)}_addCoordinatePolygon(d,b,k){this._dehydratedAddPointsCoordinate(d.rings,b,k)}_addCoordinateMultipoint(d,b,k){0===k&&d.points.push([]);const C=this._transformPathLikeValue(b,k);d.points[d.points.length-1].push(C)}_createPolygonGeometry(d){return{type:"polygon",rings:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_createPolylineGeometry(d){return{type:"polyline",paths:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_createMultipointGeometry(d){return{type:"multipoint",points:[],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_dehydratedAddPointsCoordinate(d,b,k){0===k&&0==this._toAddInCurrentPath--&&(d.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const C=this._transformPathLikeValue(b,k),te=this._coordinateBuffer;if(te){if(0===k){const L=this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT;d[d.length-1].push(new Float64Array(te.buffer,L,this._vertexDimension))}te[this._coordinateBufferPtr++]=C}}_deriveApplyTransform(d){const{hasZ:b,hasM:k}=d;return b&&k?x:b?_:k?g:he}}var B=D(44834);class V{_parseFeatureQuery(d){const b=(0,B.C)(d.buffer,new G(d.options)),k={...b,spatialReference:b.spatialReference?.toJSON(),fields:b.fields?b.fields.map(C=>C.toJSON()):void 0};return Promise.resolve(k)}}function H(){return new V}}}]);