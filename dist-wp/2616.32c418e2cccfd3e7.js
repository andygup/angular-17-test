"use strict";(self.webpackChunkangular_17_test=self.webpackChunkangular_17_test||[]).push([[2616],{25896:(ct,Z,C)=>{function L(a){return"function"==typeof a}function S(a,b,I,p){return L(a)?a(b,I,p):a}function O(a){return[a.r,a.g,a.b,a.a]}C.d(Z,{$Z:()=>U,BX:()=>w,Cc:()=>i,E_:()=>v,F:()=>A,FG:()=>ut,H1:()=>D,JW:()=>st,NA:()=>N,NO:()=>R,On:()=>h,QI:()=>Y,Qf:()=>ot,Qs:()=>z,RI:()=>y,TB:()=>ft,TT:()=>B,W7:()=>E,X_:()=>tt,be:()=>F,cO:()=>l,gJ:()=>J,hf:()=>S,nn:()=>O,pJ:()=>f,wO:()=>L,wi:()=>d,yL:()=>W,zL:()=>V});const q=" /-,\n";function x(a){let b=a.length;for(;b--;)if(!q.includes(a.charAt(b)))return!1;return!0}function D(a,b){const I=[];let p=0,g=-1;do{if(g=a.indexOf("[",p),g>=p){if(g>p){const k=a.substr(p,g-p);I.push([k,null,x(k)])}if(p=g+1,g=a.indexOf("]",p),g>=p){if(g>p){const k=b[a.substr(p,g-p)];k&&I.push([null,k,!1])}p=g+1}}}while(-1!==g);if(p<a.length-1){const k=a.substr(p);I.push([k,null,x(k)])}return I}function v(a,b,I){let p="",g=null;for(const k of b){const[H,K,Q]=k;if(H)Q?g=H:(g&&(p+=g,g=null),p+=H);else{const et=a.attributes[K];et&&(g&&(p+=g,g=null),p+=et)}}return Y(p,I)}function z(a,b,I){const p=D(b,a);return g=>v(g,p,I)}function Y(a,b){switch("string"!=typeof a&&(a=String(a)),b){case"LowerCase":return a.toLowerCase();case"Allcaps":return a.toUpperCase();default:return a}}function B(a,b,I,p,g,k,H=!0){const K=b/g,Q=I/k,et=Math.ceil(K/2),rt=Math.ceil(Q/2);for(let c=0;c<k;c++)for(let u=0;u<g;u++){const m=4*(u+(H?k-c-1:c)*g);let M=0,P=0,_=0,j=0,X=0,T=0,lt=0;const yt=(c+.5)*Q;for(let it=Math.floor(c*Q);it<(c+1)*Q;it++){const mt=Math.abs(yt-(it+.5))/rt,Mt=(u+.5)*K,ht=mt*mt;for(let at=Math.floor(u*K);at<(u+1)*K;at++){let G=Math.abs(Mt-(at+.5))/et;const $=Math.sqrt(ht+G*G);$>=-1&&$<=1&&(M=2*$*$*$-3*$*$+1,M>0&&(G=4*(at+it*b),lt+=M*a[G+3],_+=M,a[G+3]<255&&(M=M*a[G+3]/250),j+=M*a[G],X+=M*a[G+1],T+=M*a[G+2],P+=M))}}p[m]=j/P,p[m+1]=X/P,p[m+2]=T/P,p[m+3]=lt/_}}function R(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}}function F(a){return a.data?.symbol??null}function V(a){return"CIMVectorMarker"===a.type||"CIMPictureMarker"===a.type||"CIMBarChartMarker"===a.type||"CIMCharacterMarker"===a.type||"CIMPieChartMarker"===a.type||"CIMStackedBarChartMarker"===a.type}function W(a){return"CIMGradientStroke"===a.type||"CIMPictureStroke"===a.type||"CIMSolidStroke"===a.type}function J(a){return null!=a&&("CIMMarkerPlacementAlongLineRandomSize"===a.type||"CIMMarkerPlacementAlongLineSameSize"===a.type||"CIMMarkerPlacementAlongLineVariableSize"===a.type||"CIMMarkerPlacementAtExtremities"===a.type||"CIMMarkerPlacementAtMeasuredUnits"===a.type||"CIMMarkerPlacementAtRatioPositions"===a.type||"CIMMarkerPlacementOnLine"===a.type||"CIMMarkerPlacementOnVertices"===a.type)}const N=(a,b=0)=>null==a||isNaN(a)?b:a,l=a=>a.tintColor?R(a.tintColor):{r:255,g:255,b:255,a:1},i=a=>{if(!a)return!1;for(const b of a)switch(b.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function y(){return Promise.all([C.e(9465),C.e(8592),C.e(7545)]).then(C.bind(C,49574))}function f(a){if(!a)return"normal";switch(a.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function h(a){if(!a)return"normal";switch(a.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function d(a){let b="normal",I="normal";if(a){const p=a.toLowerCase();p.includes("italic")?b="italic":p.includes("oblique")&&(b="oblique"),p.includes("bold")?I="bold":p.includes("light")&&(I="lighter")}return{style:b,weight:I}}function w(a){return a.underline?"underline":a.strikethrough?"line-through":"none"}function E(a){if(!a)return null;switch(a.type){case"CIMPolygonSymbol":if(a.symbolLayers)for(const b of a.symbolLayers){const I=E(b);if(null!=I)return I}break;case"CIMTextSymbol":return E(a.symbol);case"CIMSolidFill":return a.color}}function U(a){if(a)switch(a.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const b=a.symbolLayers;if(b)for(const I of b){const p=U(I);if(null!=p)return p}break}case"CIMTextSymbol":return U(a.symbol);case"CIMSolidStroke":return a.color}}function A(a){if(a)switch(a.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(a.symbolLayers)for(const b of a.symbolLayers){const I=A(b);if(void 0!==I)return I}break;case"CIMTextSymbol":return A(a.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return a.width}}function tt(a){switch(a){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function ut(a){switch(a){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function ot(a){return(a?Object.keys(a):[]).map(b=>({name:b,alias:b,type:"string"==typeof a[b]?"esriFieldTypeString":"esriFieldTypeDouble"}))}const ft=a=>a.includes("data:image/svg+xml");function st(a){if(!a)return null;switch(a.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}},52830:(ct,Z,C)=>{C.d(Z,{FW:()=>v,iW:()=>B});var L=C(66599),S=C(25896);function D(l,i,y,f){if(l)if("CIMTextSymbol"!==l.type){if(y&&l.effects)for(const h of l.effects)Y(h,i);if(l.symbolLayers)for(const h of l.symbolLayers)switch(h.type){case"CIMPictureMarker":case"CIMVectorMarker":v(h,i,f);break;case"CIMPictureStroke":case"CIMSolidStroke":!f?.preserveOutlineWidth&&h.width&&(h.width*=i);break;case"CIMPictureFill":h.height&&(h.height*=i),h.offsetX&&(h.offsetX*=i),h.offsetY&&(h.offsetY*=i);break;case"CIMHatchFill":D(h.lineSymbol,i,!0,{...f,preserveOutlineWidth:!1}),h.offsetX&&(h.offsetX*=i),h.offsetY&&(h.offsetY*=i),h.separation&&(h.separation*=i)}}else null!=l.height&&(l.height*=i)}function v(l,i,y){if(l&&(l.markerPlacement&&function z(l,i){switch((0,S.gJ)(l)&&l.offset&&(l.offset*=i),l.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(l.customEndingOffset&&(l.customEndingOffset*=i),l.offsetAlongLine&&(l.offsetAlongLine*=i),l.placementTemplate&&l.placementTemplate.length){const y=l.placementTemplate.map(f=>f*i);l.placementTemplate=y}break;case"CIMMarkerPlacementAlongLineVariableSize":if(l.maxRandomOffset&&(l.maxRandomOffset*=i),l.placementTemplate&&l.placementTemplate.length){const y=l.placementTemplate.map(f=>f*i);l.placementTemplate=y}break;case"CIMMarkerPlacementOnLine":l.startPointOffset&&(l.startPointOffset*=i);break;case"CIMMarkerPlacementAtExtremities":l.offsetAlongLine&&(l.offsetAlongLine*=i);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":l.beginPosition&&(l.beginPosition*=i),l.endPosition&&(l.endPosition*=i);break;case"CIMMarkerPlacementPolygonCenter":l.offsetX&&(l.offsetX*=i),l.offsetY&&(l.offsetY*=i);break;case"CIMMarkerPlacementInsidePolygon":l.offsetX&&(l.offsetX*=i),l.offsetY&&(l.offsetY*=i),l.stepX&&(l.stepX*=i),l.stepY&&(l.stepY*=i)}}(l.markerPlacement,i),l.offsetX&&(l.offsetX*=i),l.offsetY&&(l.offsetY*=i),l.anchorPoint&&"Absolute"===l.anchorPointUnits&&(l.anchorPoint={x:l.anchorPoint.x*i,y:l.anchorPoint.y*i}),l.size=null!=l.size?l.size*i:0,"CIMVectorMarker"===l.type&&l.markerGraphics))for(const f of l.markerGraphics)l.scaleSymbolsProportionally||D(f.symbol,i,!0,y)}function Y(l,i){switch(l.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":l.width&&(l.width*=i);break;case"CIMGeometricEffectBuffer":l.size&&(l.size*=i);break;case"CIMGeometricEffectCut":l.beginCut&&(l.beginCut*=i),l.endCut&&(l.endCut*=i),l.middleCut&&(l.middleCut*=i);break;case"CIMGeometricEffectDashes":if(l.customEndingOffset&&(l.customEndingOffset*=i),l.offsetAlongLine&&(l.offsetAlongLine*=i),l.dashTemplate&&l.dashTemplate.length){const y=l.dashTemplate.map(f=>f*i);l.dashTemplate=y}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":l.length&&(l.length*=i);break;case"CIMGeometricEffectMove":l.offsetX&&(l.offsetX*=i),l.offsetY&&(l.offsetY*=i);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":l.offset&&(l.offset*=i);break;case"CIMGeometricEffectRegularPolygon":l.radius&&(l.radius*=i);break;case"CIMGeometricEffectTaperedPolygon":l.fromWidth&&(l.fromWidth*=i),l.length&&(l.length*=i),l.toWidth&&(l.toWidth*=i);break;case"CIMGeometricEffectWave":l.amplitude&&(l.amplitude*=i),l.period&&(l.period*=i)}}function B(l){const i=[];return R((0,S.be)(l),i),i.length?new L.Z((0,S.NO)(i[0])):null}function R(l,i){if(!l)return;let y;y="CIMTextSymbol"===l.type?l.symbol:l;const f="CIMPolygonSymbol"===l.type;if(y?.symbolLayers)for(const h of y.symbolLayers)if(!(h.colorLocked||f&&((0,S.yL)(h)||(0,S.zL)(h)&&h.markerPlacement&&(0,S.gJ)(h.markerPlacement))))switch(h.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":h.tintColor&&F(i,h.tintColor);break;case"CIMVectorMarker":h.markerGraphics?.forEach(d=>{R(d.symbol,i)});break;case"CIMSolidStroke":case"CIMSolidFill":F(i,h.color);break;case"CIMHatchFill":R(h.lineSymbol,i)}}function F(l,i){for(const y of l)if(y.join(".")===i.join("."))return;l.push(i)}},1010:(ct,Z,C)=>{C.d(Z,{Ne:()=>l,Od:()=>nt,Sp:()=>N,_M:()=>W,mx:()=>J});var L=C(98930),S=C(66599),O=C(66476),q=C(52540),x=C(55768),D=C(52830);const v="picture-fill",z="simple-fill",Y="simple-line",B="simple-marker",R="text",F="cim",V=new q.z(1e3);function W(i){const y=i.style;let f=null;if(i)switch(i.type){case B:"cross"!==y&&"x"!==y&&(f=i.color);break;case z:"solid"===y?f=i.color:"none"!==y&&(f={type:"pattern",x:0,y:0,src:(0,L.V)(`esri/symbols/patterns/${y}.png`),width:5,height:5});break;case v:f={type:"pattern",src:i.url,width:(0,x.F2)(i.width)*i.xscale,height:(0,x.F2)(i.height)*i.yscale,x:(0,x.F2)(i.xoffset),y:(0,x.F2)(i.yoffset)};break;case R:f=i.color;break;case F:f=(0,D.iW)(i)}return f}function nt(i,y){const f=i+"-"+y;return void 0!==V.get(f)?Promise.resolve(V.get(f)):(0,O.Z)(i,{responseType:"image"}).then(h=>{const d=h.data,w=d.naturalWidth,E=d.naturalHeight,U=document.createElement("canvas");U.width=w,U.height=E;const A=U.getContext("2d");A.fillStyle=y,A.fillRect(0,0,w,E),A.globalCompositeOperation="destination-in",A.drawImage(d,0,0);const tt=U.toDataURL();return V.put(f,tt),tt})}function J(i){if(!i)return null;let y=null;switch(i.type){case z:case v:case B:y=J(i.outline);break;case Y:{const f=(0,x.F2)(i.width);null!=i.style&&"none"!==i.style&&0!==f&&(y={color:i.color,style:N(i.style),width:f,cap:i.cap,join:"miter"===i.join?(0,x.F2)(i.miterLimit):i.join});break}default:y=null}return y}const N=(()=>{const i={};return y=>{if(i[y])return i[y];const f=y.replaceAll("-","");return i[y]=f,f}})(),l=new S.Z([128,128,128])},62616:(ct,Z,C)=>{C.d(Z,{BR:()=>H,Q8:()=>et,YW:()=>W,_h:()=>J,e3:()=>g,nf:()=>nt,tb:()=>f,wJ:()=>K});var L=C(15861),S=C(66599),O=C(71950),q=C(37636),D=(C(14007),C(8554)),v=C(53984),z=C(52830),B=(C(1010),C(41647));const R=new S.Z("white");function W(c){if(null==c||!("symbolLayers"in c)||null==c.symbolLayers)return!1;switch(c.type){case"point-3d":return c.symbolLayers.some(u=>"object"===u.type);case"line-3d":return c.symbolLayers.some(u=>"path"===u.type);case"polygon-3d":return c.symbolLayers.some(u=>"object"===u.type||"extrude"===u.type);default:return!1}}function nt(c){return c.resource?.href??""}function J(c,u){if(!c)return null;let m=null;return(0,O.dU)(c)?m=function N(c){const u=c.symbolLayers;if(!u)return null;let m=null;return u.forEach(M=>{"object"===M.type&&M.resource?.href||(m="water"===M.type?M.color:M.material?M.material.color:null)}),m?new S.Z(m):null}(c):(0,O.cT)(c)&&(m="cim"===c.type?(0,z.iW)(c):c.color?new S.Z(c.color):null),m?l(m,u):null}function l(c,u){if(null==u||null==c)return c;const m=c.toRgba();return m[3]=m[3]*u,new S.Z(m)}function f(c,u,m){c&&(u||null!=m)&&(u&&(u=new S.Z(u)),(0,O.dU)(c)?function i(c,u,m){const M=c.symbolLayers;if(!M)return;const P=_=>l(u=u??_??(null!=m?R:null),m);M.forEach(_=>{if("object"!==_.type||!_.resource?.href||u)if("water"===_.type)_.color=P(_.color);else{const X=P(null!=_.material?_.material.color:null);null==_.material?_.material=new B.b({color:X}):_.material.color=X,null!=m&&"outline"in _&&null!=_.outline?.color&&(_.outline.color=l(_.outline.color,m))}})}(c,u,m):(0,O.cT)(c)&&function y(c,u,m){(u=u??c.color)&&(c.color=l(u,m)),null!=m&&"outline"in c&&c.outline?.color&&(c.outline.color=l(c.outline.color,m))}(c,u,m))}function d(){return d=(0,L.Z)(function*(c,u){const m=c.symbolLayers;m&&(yield(0,q.Ed)(m,function(){var M=(0,L.Z)(function*(P){return function w(c,u){return E.apply(this,arguments)}(P,u)});return function(P){return M.apply(this,arguments)}}()))}),d.apply(this,arguments)}function E(){return E=(0,L.Z)(function*(c,u){switch(c.type){case"extrude":!function tt(c,u){c.size="number"==typeof u[2]?u[2]:0}(c,u);break;case"icon":case"line":case"text":!function U(c,u){const m=A(u);null!=m&&(c.size=m)}(c,u);break;case"path":!function ft(c,u){const m=st(u,D.O,[c.width,void 0,c.height]);c.width=I(u[0],c.width,1,m),c.height=I(u[2],c.height,1,m)}(c,u);break;case"object":yield function ut(c,u){return ot.apply(this,arguments)}(c,u)}}),E.apply(this,arguments)}function A(c){for(const u of c)if("number"==typeof u)return u;return null}function ot(){return ot=(0,L.Z)(function*(c,u){const{resourceSize:m,symbolSize:M}=yield function a(c){return b.apply(this,arguments)}(c),P=st(u,m,M);c.width=I(u[0],M[0],m[0],P),c.depth=I(u[1],M[1],m[1],P),c.height=I(u[2],M[2],m[2],P)}),ot.apply(this,arguments)}function st(c,u,m){for(let M=0;M<3;M++){const P=c[M];switch(P){case"symbol-value":{const _=m[M];return null!=_?_/u[M]:1}case"proportional":break;default:if(P&&u[M])return P/u[M]}}return 1}function b(){return(b=(0,L.Z)(function*(c){const{computeObjectLayerResourceSize:u}=yield C.e(6207).then(C.bind(C,36207)),m=yield u(c,10),{width:M,height:P,depth:_}=c,j=[M,_,P];let X=1;for(let T=0;T<3;T++){const lt=j[T];if(null!=lt){X=lt/m[T];break}}for(let T=0;T<3;T++)null==j[T]&&(j[T]=m[T]*X);return{resourceSize:m,symbolSize:j}})).apply(this,arguments)}function I(c,u,m,M){switch(c){case"proportional":return m*M;case"symbol-value":return u??m;default:return c}}function g(c,u){return k.apply(this,arguments)}function k(){return k=(0,L.Z)(function*(c,u){if(c&&u)return(0,O.dU)(c)?function h(c,u){return d.apply(this,arguments)}(c,u):void((0,O.cT)(c)&&function p(c,u){const m=A(u);if(null!=m)switch(c.type){case"simple-marker":c.size=m;break;case"picture-marker":{const M=c.width/c.height;M>1?(c.width=m,c.height=m*M):(c.width=m*M,c.height=m);break}case"simple-line":c.width=m;break;case"text":c.font.size=m}}(c,u))}),k.apply(this,arguments)}function H(c,u,m){if(c&&null!=u)if((0,O.dU)(c)){const M=c.symbolLayers;M&&M.forEach(P=>{if(P&&"object"===P.type)switch(m){case"tilt":P.tilt=u;break;case"roll":P.roll=u;break;default:P.heading=u}})}else(0,O.cT)(c)&&("simple-marker"!==c.type&&"picture-marker"!==c.type&&"text"!==c.type||(c.angle=u))}function K(c){if(!c)return null;const u=c.effects.filter(m=>"bloom"!==m.type).map(m=>m.toJSON());return(0,v.rM)(u)}function et(c,u){return rt.apply(this,arguments)}function rt(){return(rt=(0,L.Z)(function*(c,u){return(yield c.fetchSymbol(u))||c.fetchCIMSymbol(u)})).apply(this,arguments)}}}]);