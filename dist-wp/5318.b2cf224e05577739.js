"use strict";(self.webpackChunkangular_17_test=self.webpackChunkangular_17_test||[]).push([[5318],{9142:(de,te,e)=>{e.d(te,{Z:()=>Z});var m,u=e(50484),B=e(89317),k=e(34222),C=e(80543),Y=e(1535),re=e(10141);let N=m=class extends B.wq{constructor(O){super(O),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new m({variableName:this.variableName,dimensionName:this.dimensionName,values:(0,k.d9)(this.values),isSlice:this.isSlice})}};(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],N.prototype,"variableName",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],N.prototype,"dimensionName",void 0),(0,u._)([(0,C.Cb)({type:Y.V5.array(Y.V5.oneOf([Y.V5.native(Number),Y.V5.array(Y.V5.native(Number))])),json:{write:!0}})],N.prototype,"values",void 0),(0,u._)([(0,C.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"isSlice",void 0),N=m=(0,u._)([(0,re.j)("esri.layers.support.DimensionalDefinition")],N);const Z=N},62165:(de,te,e)=>{e.d(te,{Z:()=>d});var _,u=e(50484),B=e(93300),k=e(84303),C=e(89317),Y=e(34222),re=e(4703),m=e(80543),N=e(73018),Z=e(62185),O=e(10141),K=e(7547),G=e(1535),V=e(85039),F=e(9142),W=e(46955);const E=(0,k.w)()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),v=(0,k.w)()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"});let n=_=class extends C.wq{constructor(s){super(s),this.ascending=!0,this.itemRasterFunction=null,this.lockRasterIds=null,this.method=null,this.multidimensionalDefinition=null,this.objectIds=null,this.operation=null,this.sortField=null,this.sortValue=null,this.viewpoint=null,this.where=null}readAscending(s,o){return null!=o.ascending?o.ascending:null==o.sortAscending||o.sortAscending}get itemRenderingRule(){return(0,B.Mr)(re.Z.getLogger(this),"itemRenderingRule",{replacement:"itemRasterFunction",version:"4.27",warnOnce:!0}),this._get("itemRasterFunction")}set itemRenderingRule(s){(0,B.Mr)(re.Z.getLogger(this),"itemRenderingRule",{replacement:"itemRasterFunction",version:"4.27",warnOnce:!0}),this._set("itemRasterFunction",s)}readMethod(s,o){return function R(s){let o;switch(s?s.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":o="esriMosaicAttribute";break;case"lockraster":o="esriMosaicLockRaster";break;case"center":o="esriMosaicCenter";break;case"northwest":o="esriMosaicNorthwest";break;case"nadir":o="esriMosaicNadir";break;case"viewpoint":o="esriMosaicViewpoint";break;case"seamline":o="esriMosaicSeamline";break;default:o="esriMosaicNone"}return v.fromJSON(o)}(o.mosaicMethod||o.defaultMosaicMethod)}writeMultidimensionalDefinition(s,o,y){null!=s&&(s=s.filter(({variableName:I,dimensionName:A})=>I&&"*"!==I||A)).length&&(o[y]=s.map(I=>I.toJSON()))}readOperation(s,o){const y=o.mosaicOperation,I=o.mosaicOperator?.toLowerCase(),A=y||(I?E.toJSON(I):null);return E.fromJSON(A)||"first"}castSortValue(s){return null==s||"string"==typeof s||"number"==typeof s?s:`${s}`}clone(){return new _({ascending:this.ascending,itemRasterFunction:(0,Y.d9)(this.itemRasterFunction),lockRasterIds:(0,Y.d9)(this.lockRasterIds),method:this.method,multidimensionalDefinition:(0,Y.d9)(this.multidimensionalDefinition),objectIds:(0,Y.d9)(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:(0,Y.d9)(this.viewpoint),where:this.where})}};(0,u._)([(0,m.Cb)({type:Boolean,json:{write:!0}})],n.prototype,"ascending",void 0),(0,u._)([(0,Z.r)("ascending",["ascending","sortAscending"])],n.prototype,"readAscending",null),(0,u._)([(0,m.Cb)({type:W.Z,json:{name:"itemRenderingRule",write:!0}})],n.prototype,"itemRasterFunction",void 0),(0,u._)([(0,m.Cb)({type:W.Z})],n.prototype,"itemRenderingRule",null),(0,u._)([(0,m.Cb)({type:[G.z8],json:{write:{overridePolicy(){return{enabled:"lock-raster"===this.method}}}}})],n.prototype,"lockRasterIds",void 0),(0,u._)([(0,m.Cb)({type:String,json:{type:v.jsonValues,write:{target:"mosaicMethod",writer:v.write}}})],n.prototype,"method",void 0),(0,u._)([(0,Z.r)("method",["mosaicMethod","defaultMosaicMethod"])],n.prototype,"readMethod",null),(0,u._)([(0,m.Cb)({type:[F.Z],json:{write:!0}})],n.prototype,"multidimensionalDefinition",void 0),(0,u._)([(0,K.c)("multidimensionalDefinition")],n.prototype,"writeMultidimensionalDefinition",null),(0,u._)([(0,m.Cb)({type:[G.z8],json:{name:"fids",write:!0}})],n.prototype,"objectIds",void 0),(0,u._)([(0,m.Cb)({json:{type:E.jsonValues,read:{reader:E.read},write:{target:"mosaicOperation",writer:E.write}}})],n.prototype,"operation",void 0),(0,u._)([(0,Z.r)("operation",["mosaicOperation","mosaicOperator"])],n.prototype,"readOperation",null),(0,u._)([(0,m.Cb)({type:String,json:{write:{overridePolicy(){return{enabled:"attribute"===this.method}}}}})],n.prototype,"sortField",void 0),(0,u._)([(0,m.Cb)({type:[String,Number],json:{write:{allowNull:!0,overridePolicy(){return{enabled:"attribute"===this.method,allowNull:!0}}}}})],n.prototype,"sortValue",void 0),(0,u._)([(0,N.p)("sortValue")],n.prototype,"castSortValue",null),(0,u._)([(0,m.Cb)({type:V.Z,json:{write:!0}})],n.prototype,"viewpoint",void 0),(0,u._)([(0,m.Cb)({type:String,json:{write:!0}})],n.prototype,"where",void 0),n=_=(0,u._)([(0,O.j)("esri.layers.support.MosaicRule")],n);const d=n},3149:(de,te,e)=>{e.d(te,{Z:()=>E});var F,u=e(50484),k=(e(2189),e(89317)),C=e(80543),N=(e(1535),e(57678),e(14007),e(10141)),Z=e(26894),O=e(5391),K=e(40637),G=e(9142);const W={base:e(32184).Z,key:"type",typeMap:{extent:Z.Z,polygon:O.Z}};let _=F=class extends k.wq{constructor(v){super(v),this.areaOfInterest=null,this.subsetDefinitions=null}get dimensions(){const{subsetDefinitions:v}=this;if(null==v||0===v.length)return[];const R=new Map;v.forEach(d=>{if(!d.dimensionName)return;let s,o;if(Array.isArray(d.values[0])){const y=d.values;s=y[0][0],o=y[d.values.length-1][1]}else{const y=d.values;s=y[0],o=y[d.values.length-1]}if(R.has(d.dimensionName)){const y=R.get(d.dimensionName);y[0]=Math.min(s,y[0]),y[1]=Math.max(o,y[1])}else R.set(d.dimensionName,[s,o])});const n=[];for(const d of R)n.push({name:d[0],extent:d[1]});return n}get variables(){const{subsetDefinitions:v}=this;if(null==v||0===v.length)return[];const R=new Set;return v.forEach(n=>{n.variableName&&R.add(n.variableName)}),[...R]}clone(){const v=this.subsetDefinitions?.map(n=>n.clone()),R=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new F({areaOfInterest:R,subsetDefinitions:v})}};(0,u._)([(0,C.Cb)({types:W,json:{read:K.im,write:!0}})],_.prototype,"areaOfInterest",void 0),(0,u._)([(0,C.Cb)({readOnly:!0})],_.prototype,"dimensions",null),(0,u._)([(0,C.Cb)({readOnly:!0})],_.prototype,"variables",null),(0,u._)([(0,C.Cb)({type:[G.Z],json:{write:!0}})],_.prototype,"subsetDefinitions",void 0),_=F=(0,u._)([(0,N.j)("esri.layers.support.MultidimensionalSubset")],_);const E=_},46955:(de,te,e)=>{e.d(te,{Z:()=>H});var u=e(50484),B=e(89317),k=e(34222),C=e(80543),Y=e(1535),re=e(21070),m=e(62185),N=e(10141),Z=e(7547),O=e(84303),V=(e(57678),e(14007),e(28937));let F=class extends B.wq{constructor(){super(...arguments),this.pixelType="unknown"}};(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],F.prototype,"name",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],F.prototype,"description",void 0),(0,u._)([(0,C.Cb)({type:Y.z8,json:{type:Y.z8,write:!0,name:"_object_id"}})],F.prototype,"id",void 0),(0,u._)([(0,C.Cb)({type:String,json:{type:V.sM.jsonValues,read:V.sM.read,write:V.sM.write}})],F.prototype,"pixelType",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],F.prototype,"type",void 0),F=(0,u._)([(0,N.j)("esri.layers.support.RasterFunctionInfo")],F);const W=F;let _=class extends B.wq{constructor(){super(...arguments),this.isDataset=!1,this.isPublic=!1,this.type="RasterFunctionVariable"}};(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],_.prototype,"name",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{type:Y.z8,write:!0,name:"_object_id"}})],_.prototype,"id",void 0),(0,u._)([(0,C.Cb)({type:Boolean,json:{write:!0}})],_.prototype,"isDataset",void 0),(0,u._)([(0,C.Cb)({type:Boolean,json:{write:!0}})],_.prototype,"isPublic",void 0),(0,u._)([(0,C.Cb)({json:{write:!0}})],_.prototype,"value",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],_.prototype,"type",void 0),_=(0,u._)([(0,N.j)("esri.layers.support.RasterFunctionVariable")],_);const v={key:"type",base:null,typeMap:{RasterFunctionVariable:_}};let R=class extends B.wq{};(0,u._)([(0,C.Cb)({types:v,json:{types:v,name:"MatchVariable"}})],R.prototype,"matchVariable",void 0),(0,u._)([(0,C.Cb)({types:v,json:{types:v,name:"UnionDimension"}})],R.prototype,"unionDimension",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{type:Y.z8,write:!0,name:"_object_id"}})],R.prototype,"id",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],R.prototype,"type",void 0),R=(0,u._)([(0,N.j)("esri.layers.support.RasterFunctionProperties")],R);const n=R,d=new O.X({0:"mosaic",1:"item",2:"item-group"},{useNumericKeys:!0});let s=class extends B.wq{constructor(){super(...arguments),this.functionType="mosaic",this.type="RasterFunctionTemplate"}};(0,u._)([(0,C.Cb)({type:[String],json:{write:!0}})],s.prototype,"aliases",void 0),(0,u._)([(0,C.Cb)({type:Object,json:{write:!0}})],s.prototype,"arguments",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],s.prototype,"description",void 0),(0,u._)([(0,C.Cb)({type:W,json:{write:!0,name:"function"}})],s.prototype,"functionInfo",void 0),(0,u._)([(0,C.Cb)({type:d.apiValues,json:{type:[0,1,2],read:d.read,write:d.write}})],s.prototype,"functionType",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],s.prototype,"group",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],s.prototype,"help",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{type:Y.z8,write:!0,name:"_object_id"}})],s.prototype,"id",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],s.prototype,"name",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0,name:"definition"}})],s.prototype,"queryDefinition",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],s.prototype,"tag",void 0),(0,u._)([(0,C.Cb)({type:n,json:{write:!0}})],s.prototype,"properties",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],s.prototype,"thumbnail",void 0),(0,u._)([(0,C.Cb)({type:String,json:{write:!0}})],s.prototype,"thumbnailEx",void 0),(0,u._)([(0,C.Cb)({json:{type:["RasterFunctionTemplate"],write:!0}})],s.prototype,"type",void 0),s=(0,u._)([(0,N.j)("esri.layers.support.RasterFunctionTemplate")],s);const o=s;var y;const I=new Set(["raster","raster2","dem","fillraster"]),A=new Set(["rasters"]),S=D=>D?.rasterFunction?ae.fromJSON(D):D,j=D=>D&&D instanceof ae?D.toJSON():D,g=D=>D?.functionName&&!D.declaredClass,P=D=>g(D)?new ae(D):D,ee={types:{key:"type",base:null,typeMap:{RasterFunctionTemplate:o}},json:{write:!0,name:"rasterFunctionDefinition"}};let ae=y=class extends B.wq{constructor(D){super(D),this.functionName=null,this.outputPixelType="unknown",this.variableName=null,this.functionDefinition=null}set functionArguments(D){if(D){const Q=Object.keys(D);if(Q.some(J=>I.has(J.toLowerCase())&&g(D[J]))||Q.some(J=>A.has(J.toLowerCase())&&Array.isArray(D[J])&&D[J].some(ne=>g(ne)))){D=(0,k.d9)(D);for(const J of Q)I.has(J.toLowerCase())?D[J]=P(D[J]):A.has(J.toLowerCase())&&Array.isArray(D[J])&&(D[J]=D[J].map(ne=>P(ne)))}}this._set("functionArguments",D)}readFunctionArguments(D){return(D=>{if(null==D)return null;D=(0,k.d9)(D);const Q={};for(const J of Object.keys(D))Q[J]=I.has(J.toLowerCase())?S(D[J]):A.has(J.toLowerCase())&&Array.isArray(D[J])?D[J].map(S):D[J];return Q})(D)}writeFunctionArguments(D,Q,J){const ne={};for(const se of Object.keys(D))ne[se]=I.has(se.toLowerCase())?j(D[se]):A.has(se.toLowerCase())&&Array.isArray(D[se])?D[se].map(j):j(D[se]);Q[J]=ne}readFunctionName(D,Q){const J=Q.rasterFunctionInfos;return Q.name||(J?.length&&"None"!==J[0].name?J[0].name:Q.rasterFunctionDefinition?Q.rasterFunctionDefinition.name:Q.rasterFunction)}get rasterFunctionDefinition(){return this.functionDefinition?.toJSON()}set rasterFunctionDefinition(D){this.functionDefinition=D?o.fromJSON(D):null}clone(){return new y({functionName:this.functionName,functionArguments:(0,k.d9)(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:(0,k.d9)(this.rasterFunctionDefinition)})}};(0,u._)([(0,C.Cb)({json:{type:Object,name:"rasterFunctionArguments"}})],ae.prototype,"functionArguments",null),(0,u._)([(0,m.r)("functionArguments")],ae.prototype,"readFunctionArguments",null),(0,u._)([(0,Z.c)("functionArguments")],ae.prototype,"writeFunctionArguments",null),(0,u._)([(0,C.Cb)({json:{type:String,write:{target:"rasterFunction"}}})],ae.prototype,"functionName",void 0),(0,u._)([(0,m.r)("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],ae.prototype,"readFunctionName",null),(0,u._)([(0,re.J)({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),(0,C.Cb)({json:{default:"unknown"}})],ae.prototype,"outputPixelType",void 0),(0,u._)([(0,C.Cb)({type:String,json:{read:!0,write:!0}})],ae.prototype,"variableName",void 0),(0,u._)([(0,C.Cb)()],ae.prototype,"rasterFunctionDefinition",null),(0,u._)([(0,C.Cb)(ee)],ae.prototype,"functionDefinition",void 0),ae=y=(0,u._)([(0,N.j)("esri.layers.support.RasterFunction")],ae);const H=ae},7395:(de,te,e)=>{e.d(te,{Z:()=>Y});var u=e(15861),B=e(57964),k=e(36885),C=e(8868);class Y{constructor(){this._workerThread=null,this._destroyed=!1}initialize(){var m=this;return(0,u.Z)(function*(){const N=yield(0,k.bA)("RasterWorker");m._destroyed?N.close():m._workerThread=N})()}destroy(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}convertVectorFieldData(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");const O=yield Z._workerThread.invoke("convertVectorFieldData",{pixelBlock:m.pixelBlock.toJSON(),type:m.dataType},N);return O?new C.Z(O):null})()}computeStatisticsHistograms(m,N){if(!this._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");return this._workerThread.invoke("computeStatisticsHistograms",{pixelBlock:m.pixelBlock.toJSON()},N)}decode(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");const O=yield Z._workerThread.invoke("decode",m,N);return O?new C.Z(O):null})()}symbolize(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");const O={extent:m.extent?.toJSON(),pixelBlock:m.pixelBlock?.toJSON(),simpleStretchParams:m.simpleStretchParams,bandIds:m.bandIds},K=yield Z._workerThread.invoke("symbolize",O,N);return K?new C.Z(K):null})()}updateSymbolizer(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");const O=m?.rendererJSON?.histograms;yield Promise.all(Z._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:m.toJSON(),histograms:O},N))})()}updateRasterFunction(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");yield Promise.all(Z._workerThread.broadcast("updateRasterFunction",{rasterFunctionJSON:m.toJSON()},N))})()}process(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");const O=yield Z._workerThread.invoke("process",{extent:m.extent?.toJSON(),primaryPixelSizes:m.primaryPixelSizes?.map(K=>null!=K?K.toJSON():null),primaryPixelBlocks:m.primaryPixelBlocks.map(K=>null!=K?K.toJSON():null),primaryRasterIds:m.primaryRasterIds},N);return O?new C.Z(O):null})()}stretch(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");if(!m?.pixelBlock)return null;const O={srcPixelBlock:m.pixelBlock.toJSON(),stretchParams:m.stretchParams},K=yield Z._workerThread.invoke("stretch",O,N);return K?new C.Z(K):null})()}split(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");if(!m?.pixelBlock)return null;const O={srcPixelBlock:m.pixelBlock.toJSON(),tileSize:m.tileSize,maximumPyramidLevel:m.maximumPyramidLevel},K=yield Z._workerThread.invoke("split",O,N);return K&&K.forEach((G,V)=>{K.set(V,G?C.Z.fromJSON(G):null)}),K})()}estimateStatisticsHistograms(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");if(!m?.pixelBlock)return null;const O={srcPixelBlock:m.pixelBlock.toJSON()};return yield Z._workerThread.invoke("estimateStatisticsHistograms",O,N)})()}mosaicAndTransform(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");if(!m?.srcPixelBlocks?.length)return{pixelBlock:null};const O={...m,srcPixelBlocks:m.srcPixelBlocks.map(G=>null!=G?G.toJSON():null)},K=yield Z._workerThread.invoke("mosaicAndTransform",O,N);return{pixelBlock:K.pixelBlock?new C.Z(K.pixelBlock):null,localNorthDirections:K.localNorthDirections}})()}createFlowMesh(m,N){var Z=this;return(0,u.Z)(function*(){if(!Z._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");const O={buffer:m.flowData.data.buffer,maskBuffer:m.flowData.mask.buffer,width:m.flowData.width,height:m.flowData.height},{meshType:K,simulationSettings:G}=m,V=yield Z._workerThread.invoke("createFlowMesh",{meshType:K,flowData:O,simulationSettings:G},{...N,transferList:[O.buffer,O.maskBuffer]});return{vertexData:new Float32Array(V.vertexBuffer),indexData:new Uint32Array(V.indexBuffer)}})()}getProjectionOffsetGrid(m,N){if(!this._workerThread)throw new B.Z("raster-jobhandler:no-connection","no available worker connection");const Z=null!=m.datumTransformation?m.datumTransformation.steps.map(G=>({wkid:G.wkid,wkt:G.wkt,isInverse:G.isInverse})):null,O=null!=m.rasterTransform?m.rasterTransform.toJSON():null,K={projectedExtent:m.projectedExtent.toJSON(),srcBufferExtent:m.srcBufferExtent.toJSON(),pixelSize:m.pixelSize,hasWrapAround:m.hasWrapAround,spacing:m.spacing,datumTransformationSteps:Z,rasterTransform:O,isAdaptive:m.isAdaptive,includeGCSGrid:m.includeGCSGrid};return this._workerThread.invoke("getProjectionOffsetGrid",K,N)}}},98042:(de,te,e)=>{e.d(te,{MO:()=>C,Tj:()=>F,Ur:()=>Y,W2:()=>K,WU:()=>W,WY:()=>V,gk:()=>R,jj:()=>_,nb:()=>O});var u=e(57678),B=e(9142);function k(n,d,s){const o=d.shift();0===s.length&&s.push({sliceId:-1,multidimensionalDefinition:[]});const y=s.length;for(let I=0;I<y;I++){const A=s.shift().multidimensionalDefinition;o.values?.forEach(S=>{s.push({sliceId:-1,multidimensionalDefinition:[...A,{variableName:n,dimensionName:o.name,values:[S]}]})})}d.length&&k(n,d,s)}function C(n,d){const s=[];let o=0;return(d?n.variables.filter(y=>y.name.toLowerCase()===d.toLowerCase()):[...n.variables].sort((y,I)=>y.name>I.name?1:-1)).forEach(y=>{const I=[],A=[...y.dimensions].sort((S,j)=>S.name>j.name?-1:1);k(y.name,A,I),I.forEach(S=>{s.push({...S,sliceId:o++})})}),s}function Y(n,d,s){let o=n;if(d&&(d=[...d].sort((y,I)=>y.dimensionName<I.dimensionName?-1:1)).forEach(({dimensionName:y,values:I,isSlice:A})=>{I.length&&(o=o.filter(S=>{const j=S.multidimensionalDefinition.find(P=>P.dimensionName===y);if(null==j)return!1;const g=j.values[0];return"number"==typeof g?"number"==typeof I[0]?I.includes(g):I.some(P=>P[0]<=g&&P[1]>=g):I.some("number"==typeof I[0]?P=>g[0]<=P&&g[1]>=P:A?P=>P[0]===g[0]&&P[0]===g[1]:P=>P[0]>=g[0]&&P[0]<=g[1]||P[1]>=g[0]&&P[1]<=g[1]||P[0]<g[0]&&P[1]>g[1])}))}),o.length&&null!=s?.start&&null!=s.end){const y=s.start.getTime(),I=s.end.getTime(),A=o[0].multidimensionalDefinition.findIndex(S=>"StdTime"===S.dimensionName);A>-1&&(o=o.filter(S=>{const j=S.multidimensionalDefinition[A].values[0];return y<=j&&I>=j}))}return o.map(y=>y.sliceId)}function re(n,d){return Array.isArray(n)?d[0]===d[1]?n[0]===d[0]||n[1]===d[0]:n[0]>=d[0]&&n[0]<=d[1]&&n[1]>=d[0]&&n[1]<=d[1]:n>=d[0]&&n<=d[1]}function m(n,d){return n[0]<=d[0]&&n[1]>=d[0]||n[0]<=d[1]&&n[1]>=d[1]||n[0]>=d[0]&&n[1]<=d[1]}function N(n){return 1===n.length?[n[0],n[0]]:[n[0],n[n.length-1]]}function Z(n,d,s){if(!d?.subsetDefinitions?.length)return n;let o;if(s){const{variables:A}=d;if(A.length&&!A.includes(s))return null;const S=d.subsetDefinitions.find(j=>j.dimensionName===n.name&&j.variableName===s);if(!S?.values?.length)return n;o=N(S.values)}else o=d.dimensions.find(({name:S})=>S===n.name)?.extent;const y=o;if(!y?.length)return n;const I=n.values.filter(A=>re(A,y));return{...n,extent:[...y],values:I}}function O(n,d,s){if(!d?.subsetDefinitions?.length)return!1;const{variables:o}=d;if(o.length&&n.some(({variableName:y})=>y&&!o.includes(y)))return!0;for(let y=0;y<n.length;y++){const I=n[y],A=d.subsetDefinitions.find(S=>(""===I.variableName||S.variableName===I.variableName)&&S.dimensionName===I.dimensionName);if(A?.values.length){const S=N(A.values);if(I.isSlice||2!==I.values.length||Array.isArray(I.values[0])||I.values[0]===I.values[1]||!s){if(I.values.some(j=>!re(j,S)))return!0}else if(!m(I.values,S))return!0}}return!1}function K(n,d){if(null==n)return{isOutside:!1};const{geometry:s,timeExtent:o,multidimensionalDefinition:y}=d;let I=null;if(null!=o&&(I=function G(n,d){const s=n.dimensions.find(({name:A})=>"StdTime"===A);if(null==s||null==d.start&&null==d.end)return d;d=d.clone();const{start:o,end:y}=d.toJSON(),I=o===y?[o]:null!=o&&null!=y?[o,y]:[o??y];return 2===I.length&&s?.extent.length&&(I[0]=Math.max(I[0],s.extent[0]),I[1]=Math.min(I[1],s.extent[1]??s.extent[0]),I[1]<I[0])||O([new B.Z({variableName:"",dimensionName:"StdTime",isSlice:1===I.length,values:I})],n,!0)?null:(d.start=new Date(I[0]),d.end=new Date(I[1]??I[0]),d)}(n,o),null==I))return{isOutside:!0};const{areaOfInterest:A}=n;if(A&&s){const S="point"===s.type?s:"extent"===s.type?s.center:"polygon"===s.type?s.centroid:null;if(S&&!A.contains(S))return{isOutside:!0}}return null!=y&&y.length&&O(y,n,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:s,timeExtent:I,multidimensionalDefinition:y}}}function V(n,d={}){const{multidimensionalInfo:s,keyProperties:o}=n;if(null==s)return null;const{variableName:y,multidimensionalSubset:I,multidimensionalDefinition:A}=d,j=y||(null!=A?A[0]?.variableName:null)||o?.DefaultVariable;let{variables:g}=s;return I?.variables?.length&&(g=g.filter(({name:P})=>I.variables.includes(P))),j?g.find(({name:P})=>P===j)??g[0]:g[0]}function F(n,d={}){const s=V(n,d);if(!s)return null;const o=[],{dimensions:y,name:I}=s;if(0===y.length)return[new B.Z({variableName:I,dimensionName:"",values:[],isSlice:!0})];for(let A=0;A<y.length;A++){const S=Z(y[A],d.multidimensionalSubset,I);if(!S)return null;const{values:j,extent:g}=S;let P=j?.[0]??g[0];"stdz"===S.name.toLowerCase()&&!S.hasRanges&&Math.abs(g[1])<=Math.abs(g[0])&&(P=j?.length?j[j.length-1]:g[1]),o.push(new B.Z({variableName:I,dimensionName:S.name,values:[P],isSlice:!d.useRangeForRangedDimensionInfo||!!S.hasRanges}))}return o}function W(n){return!!n?.length&&n.some(d=>{if(null==d.values)return!0;const s=d.values.length;return 0===s||s>1||!d.isSlice&&Array.isArray(d.values[0])})}function _(n,d){if(null==d||null==n)return null;let s=d.variables.map(o=>({...o}));return n?.variables?.length&&(s=s.filter(({name:o})=>n.variables.includes(o)),s.forEach(o=>{o.dimensions=o.dimensions.map(y=>Z(y,n,o.name)).filter(u.pC)})),s}function E(n,d){const{values:s}=d;if(s?.length){const S=Array.isArray(s[0]),j=Array.isArray(n);return S!==j?-1:S&&j?s.findIndex(g=>g[0]===n[0]&&g[1]===n[1]):s.indexOf(n)}const{extent:o}=d;if(Array.isArray(n)||n<o[0]||n>o[1])return-1;const y=d.interval||1;if("ISO8601"!==d.unit)return Math.round((n-o[0])/y);const I=o[0];let A=-1;switch(d.intervalUnit?.toLowerCase()||"seconds"){case"seconds":A=Math.round((n-I)/1e3/y);break;case"minutes":A=Math.round((n-I)/6e4/y);break;case"hours":A=Math.round((n-I)/36e5/y);break;case"days":A=Math.round((n-I)/864e5/y);break;case"months":{const S=new Date(n).getUTCFullYear()-new Date(I).getUTCFullYear(),j=new Date(I).getUTCMonth(),g=new Date(n).getUTCMonth();A=0===S?g-j:g+11-j+12*(S-1)}break;case"years":A=Math.round((new Date(n).getUTCFullYear()-new Date(I).getUTCFullYear())/y);break;case"decades":A=Math.round((new Date(n).getUTCFullYear()-new Date(I).getUTCFullYear())/10/y)}return A}function v(n){let d=n.values?.length;if(d)return d;const{extent:s,unit:o}=n,y=n.interval||1,I=s?s[1]-s[0]:0;if("ISO8601"!==o)return Math.round(I/y);switch(n.intervalUnit?.toLowerCase()??"seconds"){case"seconds":d=Math.round(I/1e3/y);break;case"minutes":d=Math.round(I/6e4/y);break;case"hours":d=Math.round(I/36e5/y);break;case"days":d=Math.round(I/864e5/y);break;case"months":{const A=new Date(s[1]).getUTCFullYear()-new Date(s[0]).getUTCFullYear(),S=new Date(s[0]).getUTCMonth(),j=new Date(s[1]).getUTCMonth();d=0===A?j-S+1:j+11-S+12*(A-1)+1}break;case"years":d=Math.round((new Date(s[1]).getUTCFullYear()-new Date(s[0]).getUTCFullYear())/y);break;case"decades":d=Math.round((new Date(s[1]).getUTCFullYear()-new Date(s[0]).getUTCFullYear())/10/y);break;default:d=0}return d}function R(n,d){let s=0;const o=n[0].variableName,y=[...d.variables].sort((I,A)=>I.name>A.name?1:-1);for(let I=0;I<y.length;I++){const A=y[I],S=[...A.dimensions].sort((P,q)=>P.name>q.name?-1:1);if(A.name!==o){s+=S.map(P=>v(P)).reduce((P,q)=>P*q);continue}const j=S.map(P=>v(P)),g=S.length;for(let P=0;P<g;P++){const q=n.find(ae=>ae.dimensionName===S[P].name);if(null==q)return null;const ee=E(q.values[0],S[P]);if(-1===ee)return null;j.shift(),s+=P===g-1?ee:ee*j.reduce((ae,H)=>ae*H)}break}return s}},28937:(de,te,e)=>{e.d(te,{cl:()=>B,kQ:()=>k,sM:()=>C});var u=e(84303);const B=(0,u.w)()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),k=(0,u.w)()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),C=(0,u.w)()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"})},64154:(de,te,e)=>{e.d(te,{FK:()=>O,dr:()=>Z,ij:()=>V});var u=e(23206),B=e(36699),k=e(61555),C=e(46922),Y=e(84429),re=e(44620),m=e(42212),N=e(13754);const Z={key:"type",base:null,typeMap:{"unique-value":m.Z,"class-breaks":B.Z,"raster-colormap":C.Z,"raster-stretch":re.Z,"vector-field":N.Z,"raster-shaded-relief":Y.Z,flow:k.Z}},O={...Z,typeMap:{...Z.typeMap}};delete O.typeMap["vector-field"],delete O.typeMap.flow;const K={uniqueValue:m.Z,classBreaks:B.Z,rasterStretch:re.Z,rasterColormap:C.Z,vectorField:N.Z,rasterShadedRelief:Y.Z,flowRenderer:k.Z};function V(W,_){if(!W)return null;if("classBreaks"===W.type&&W.classificationMethod){const v=W.authoringInfo||{classificationMethod:""};v.classificationMethod=W.classificationMethod,W.authoringInfo=v}"vectorField"===W.type&&W.visualVariables&&!Array.isArray(W.visualVariables)&&(W.visualVariables=[W.visualVariables]);const E=function G(W){return W&&K[W.type]||null}(W);if(E){const v=new E;return v.read(W,_),v}return _?.messages&&W&&_.messages.push(new u.Z("renderer:unsupported","Renderers of type '"+(W.type||"unknown")+"' are not supported",{definition:W,context:_})),null}},61555:(de,te,e)=>{e.d(te,{Z:()=>R});var _,u=e(15861),B=e(50484),k=e(66599),C=e(84303),Y=e(89317),re=e(55768),m=e(80543),K=(e(1535),e(57678),e(14007),e(21070)),G=e(10141),V=e(47305),F=e(62501),W=e(37764);const E=new C.X({flow_from:"flow-from",flow_to:"flow-to"});let v=_=class extends((0,V.W)(Y.wq)){constructor(n){super(n),this.density=.8,this.color=new k.Z([255,255,255,1]),this.maxPathLength=200,this.trailWidth=1.5,this.flowSpeed=10,this.trailLength=100,this.smoothing=0,this.flowRepresentation="flow-from",this.type="flow",this.authoringInfo=null,this.legendOptions=null,this.trailCap="butt",this.background="none"}clone(){const{density:n,maxPathLength:d,trailWidth:s,flowSpeed:o,trailLength:y,smoothing:I,flowRepresentation:A,trailCap:S,background:j}=this,g=this.color.clone(),P=(this.visualVariables||[]).map(ae=>ae.clone()),q=this.authoringInfo?.clone(),ee=this.legendOptions?.clone();return new _({density:n,color:g,maxPathLength:d,trailWidth:s,flowSpeed:o,trailLength:y,trailCap:S,background:j,smoothing:I,flowRepresentation:A,visualVariables:P,authoringInfo:q,legendOptions:ee})}getSymbol(n,d){}getSymbolAsync(n,d){return(0,u.Z)(function*(){})()}getSymbols(){return[]}};(0,B._)([(0,m.Cb)({type:Number,json:{write:!0}})],v.prototype,"density",void 0),(0,B._)([(0,m.Cb)({type:k.Z,json:{write:{allowNull:!0}}})],v.prototype,"color",void 0),(0,B._)([(0,m.Cb)({type:Number,cast:re.t_,json:{write:!0}})],v.prototype,"maxPathLength",void 0),(0,B._)([(0,m.Cb)({type:Number,cast:re.t_,json:{write:!0}})],v.prototype,"trailWidth",void 0),(0,B._)([(0,m.Cb)({type:Number,json:{write:!0}})],v.prototype,"flowSpeed",void 0),(0,B._)([(0,m.Cb)({type:Number,json:{write:!0}})],v.prototype,"trailLength",void 0),(0,B._)([(0,m.Cb)({type:Number,cast:re.t_,json:{write:!1}})],v.prototype,"smoothing",void 0),(0,B._)([(0,m.Cb)({type:E.apiValues,json:{type:E.jsonValues,read:{reader:E.read},write:{writer:E.write}}})],v.prototype,"flowRepresentation",void 0),(0,B._)([(0,K.J)({flowRenderer:"flow"})],v.prototype,"type",void 0),(0,B._)([(0,m.Cb)({type:F.Z,json:{write:!0}})],v.prototype,"authoringInfo",void 0),(0,B._)([(0,m.Cb)({type:W.I,json:{write:!0}})],v.prototype,"legendOptions",void 0),(0,B._)([(0,m.Cb)({type:String,json:{write:!0}})],v.prototype,"trailCap",void 0),(0,B._)([(0,m.Cb)({type:String,json:{write:!0}})],v.prototype,"background",void 0),v=_=(0,B._)([(0,G.j)("esri.renderers.FlowRenderer")],v);const R=v},46922:(de,te,e)=>{e.d(te,{Z:()=>W});var u=e(50484),B=e(89317),k=e(80543),C=e(1535),m=(e(57678),e(14007),e(21070)),N=e(10141),Z=e(66599);let O=class extends B.wq{constructor(){super(...arguments),this.value=null,this.label=null,this.color=null}};(0,u._)([(0,k.Cb)({type:Number,json:{write:!0}})],O.prototype,"value",void 0),(0,u._)([(0,k.Cb)({type:String,json:{write:!0}})],O.prototype,"label",void 0),(0,u._)([(0,k.Cb)({type:Z.Z,json:{type:[C.z8],write:!0}})],O.prototype,"color",void 0),O=(0,u._)([(0,N.j)("esri.renderers.support.ColormapInfo")],O);const K=O;var V,G=e(92865);let F=V=class extends B.wq{constructor(_){super(_),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(_,E){if(!_)return null;const v=5===_[0].length,R=[..._].sort((n,d)=>n[0]-d[0]).map(n=>K.fromJSON({value:n[0],color:v?n.slice(1,5):n.slice(1,4).concat([255]),label:E?E[n[0]]??"":n[0]}));return new V({colormapInfos:R})}static createFromColorramp(_){const E=(0,G.Jw)(_);return V.createFromColormap(E)}clone(){return new V({colormapInfos:this.colormapInfos.map(_=>_.toJSON())})}extractColormap(){return this.colormapInfos.map(({value:_,color:E})=>[_,E.r,E.g,E.b,E.a>1?E.a:255*E.a&255]).sort((_,E)=>_[0]-E[0])}};(0,u._)([(0,k.Cb)({type:[K],json:{write:!0}})],F.prototype,"colormapInfos",void 0),(0,u._)([(0,m.J)({rasterColormap:"raster-colormap"})],F.prototype,"type",void 0),F=V=(0,u._)([(0,N.j)("esri.renderers.RasterColormapRenderer")],F);const W=F},84429:(de,te,e)=>{e.d(te,{Z:()=>G});var O,u=e(50484),B=e(89317),k=e(34222),C=e(80543),re=(e(1535),e(21070)),m=e(62185),N=e(10141),Z=e(46143);let K=O=class extends B.wq{constructor(V){super(V),this.altitude=45,this.azimuth=315,this.colorRamp=null,this.hillshadeType="traditional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.scalingType="none",this.type="raster-shaded-relief",this.zFactor=1}readColorRamp(V){return(0,Z.i)(V)}clone(){return new O({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:(0,k.d9)(this.colorRamp)})}};(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],K.prototype,"altitude",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],K.prototype,"azimuth",void 0),(0,u._)([(0,C.Cb)({types:Z.V,json:{write:!0}})],K.prototype,"colorRamp",void 0),(0,u._)([(0,m.r)("colorRamp")],K.prototype,"readColorRamp",null),(0,u._)([(0,C.Cb)({type:["traditional","multi-directional"],json:{write:!0}})],K.prototype,"hillshadeType",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],K.prototype,"pixelSizePower",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],K.prototype,"pixelSizeFactor",void 0),(0,u._)([(0,C.Cb)({type:["none","adjusted"],json:{write:!0}})],K.prototype,"scalingType",void 0),(0,u._)([(0,re.J)({rasterShadedRelief:"raster-shaded-relief"})],K.prototype,"type",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],K.prototype,"zFactor",void 0),K=O=(0,u._)([(0,N.j)("esri.renderers.RasterShadedReliefRenderer")],K);const G=K},44620:(de,te,e)=>{e.d(te,{Z:()=>F});var G,u=e(50484),B=e(89317),k=e(34222),C=e(80543),re=(e(1535),e(21070)),m=e(62185),N=e(10141),Z=e(7547),O=e(11856),K=e(46143);let V=G=class extends B.wq{constructor(W){super(W),this.colorRamp=null,this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.maxPercent=null,this.minPercent=null,this.numberOfStandardDeviations=null,this.outputMax=null,this.outputMin=null,this.sigmoidStrengthLevel=null,this.statistics=[],this.histograms=null,this.useGamma=!1,this.stretchType="none",this.type="raster-stretch"}readColorRamp(W){if(W)return(0,K.i)(W)}writeStatistics(W,_,E){W?.length&&(Array.isArray(W[0])||(W=W.map(v=>[v.min,v.max,v.avg,v.stddev])),_[E]=W)}readStretchType(W,_){let E=_.stretchType;return"number"==typeof E&&(E=O.J[E]),O.v.read(E)}clone(){return new G({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:(0,k.d9)(this.statistics),gamma:(0,k.d9)(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:(0,k.d9)(this.colorRamp),histograms:(0,k.d9)(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})}};(0,u._)([(0,C.Cb)({types:K.V,json:{write:!0}})],V.prototype,"colorRamp",void 0),(0,u._)([(0,m.r)("colorRamp")],V.prototype,"readColorRamp",null),(0,u._)([(0,C.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"computeGamma",void 0),(0,u._)([(0,C.Cb)({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],V.prototype,"dynamicRangeAdjustment",void 0),(0,u._)([(0,C.Cb)({type:[Number],json:{write:!0}})],V.prototype,"gamma",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],V.prototype,"maxPercent",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],V.prototype,"minPercent",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],V.prototype,"numberOfStandardDeviations",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],V.prototype,"outputMax",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],V.prototype,"outputMin",void 0),(0,u._)([(0,C.Cb)({type:Number,json:{write:!0}})],V.prototype,"sigmoidStrengthLevel",void 0),(0,u._)([(0,C.Cb)({json:{type:[[Number]],write:!0}})],V.prototype,"statistics",void 0),(0,u._)([(0,C.Cb)()],V.prototype,"histograms",void 0),(0,u._)([(0,Z.c)("statistics")],V.prototype,"writeStatistics",null),(0,u._)([(0,C.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"useGamma",void 0),(0,u._)([(0,C.Cb)({type:O.v.apiValues,json:{type:O.v.jsonValues,write:O.v.write}})],V.prototype,"stretchType",void 0),(0,u._)([(0,m.r)("stretchType",["stretchType"])],V.prototype,"readStretchType",null),(0,u._)([(0,re.J)({rasterStretch:"raster-stretch"})],V.prototype,"type",void 0),V=G=(0,u._)([(0,N.j)("esri.renderers.RasterStretchRenderer")],V);const F=V},13754:(de,te,e)=>{e.d(te,{Z:()=>ae});var j,u=e(15861),B=e(50484),k=e(66599),Y=(e(2189),e(35458)),m=(e(71950),e(84303)),N=e(89317),Z=e(34222),O=e(80543),G=(e(1535),e(21070)),V=e(62185),F=e(10141),W=e(93566),_=e(89479),E=e(36699),v=e(47305),R=e(87617),n=e(15242),d=e(39639),s=e(37157),o=e(66637),y=e(35451),I=e(62616),A=e(85039),S=e(41391);const g=new Set(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),P=new m.X({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-barb"}),q=new m.X({flow_from:"flow-from",flow_to:"flow-to"});let ee=j=class extends((0,v.W)(N.wq)){constructor(H){super(H),this.attributeField="Magnitude",this.flowRepresentation="flow-from",this.rotationType="arithmetic",this.style="single-arrow",this.symbolTileSize=50,this.type="vector-field"}readInputUnit(H,D){return g.has(H)?_.NL.fromJSON(H):null}readOutputUnit(H,D){return g.has(H)?_.NL.fromJSON(H):null}get styleRenderer(){const D=this.attributeField,Q=this._createStyleRenderer(this.style);return Q.field=D,Q}get sizeVariables(){const H=[];if(this.visualVariables)for(const D of this.visualVariables)"size"===D.type&&H.push(D);if(0===H.length){const D=new d.Z({field:"Magnitude",minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize});this.visualVariables?this.visualVariables.push(D):this._set("visualVariables",[D]),H.push(D)}return H}get rotationVariables(){const H=[];if(this.visualVariables)for(const D of this.visualVariables)"rotation"===D.type&&H.push(D);if(0===H.length){const D=new n.Z({field:"Direction",rotationType:this.rotationType});this.visualVariables?this.visualVariables.push(D):this._set("visualVariables",[D]),H.push(D)}return H}clone(){return new j({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,symbolTileSize:this.symbolTileSize,style:this.style,visualVariables:(0,Z.d9)(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})}getGraphicsFromPixelData(H,D=!1,Q=[]){var J=this;return(0,u.Z)(function*(){const ne=new Array,se=(0,_.Yx)(J.inputUnit,J.outputUnit),le=D?(0,_.KC)(H.pixelBlock,"vector-uv",J.rotationVariables[0]?.rotationType||J.rotationType,se):(0,_.QI)(H.pixelBlock,"vector-magdir",se);if(null==le)return ne;const _e=H.extent,Ae=null!=le.mask&&le.mask.length>0;let Ie=0;const Ee=(_e.xmax-_e.xmin)/le.width,he=(_e.ymax-_e.ymin)/le.height;for(let M=0;M<le.height;M++)for(let L=0;L<le.width;L++,Ie++){let U=new A.Z({x:_e.xmin+L*Ee+Ee/2,y:_e.ymax-M*he-he/2,spatialReference:_e.spatialReference});U=(yield(0,W.aX)(U))[0];const T=Q.some(z=>z.intersects(U));if((!Ae||le.mask[Ie])&&!T){const X=new Y.Z({geometry:{type:"point",x:U.x,y:U.y,spatialReference:_e.spatialReference},attributes:{Magnitude:le.pixels[0][Ie],Direction:le.pixels[1][Ie]}});X.symbol=J._getVisualVariablesAppliedSymbol(X),ne.push(X)}}return ne})()}getSymbol(H,D){}getSymbolAsync(H,D){return(0,u.Z)(function*(){})()}getSymbols(){return[]}getClassBreakInfos(){return this.styleRenderer?.classBreakInfos}getDefaultSymbol(){return this.styleRenderer?.defaultSymbol}_getDefaultSymbol(H){return new y.Z({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",outline:new o.Z({width:0}),size:20,color:H||new k.Z([0,92,230])})}_getVisualVariablesAppliedSymbol(H){if(!H)return;const D=this.styleRenderer?.getSymbol(H)?.clone(),Q=this.sizeVariables,J=this.rotationVariables;return Q&&Q.length&&this.sizeVariables.forEach(ne=>(0,I.e3)(D,(0,s.getAllSizes)([ne],H))),J&&J.length&&(H.attributes.Direction=H.attributes.Direction+("flow-to"===this.flowRepresentation==("ocean-current-kn"===this.style||"ocean-current-m"===this.style)?0:180),this.rotationVariables.forEach(se=>(0,I.BR)(D,(0,s.getRotationAngle)(se,H),se.axis))),D}_createStyleRenderer(H){let D={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(H){case"single-arrow":D=this._createSingleArrowRenderer();break;case"beaufort-kn":D=this._createBeaufortKnotsRenderer();break;case"beaufort-m":D=this._createBeaufortMeterRenderer();break;case"beaufort-ft":D=this._createBeaufortFeetRenderer();break;case"beaufort-mi":D=this._createBeaufortMilesRenderer();break;case"beaufort-km":D=this._createBeaufortKilometersRenderer();break;case"ocean-current-m":D=this._createCurrentMeterRenderer();break;case"ocean-current-kn":D=this._createCurrentKnotsRenderer();break;case"simple-scalar":D=this._createSimpleScalarRenderer();break;case"wind-barb":D=this._createWindBarbsRenderer();break;case"classified-arrow":D=this._createClassifiedArrowRenderer()}return new E.Z(D)}_createSingleArrowRenderer(){return{defaultSymbol:this._getDefaultSymbol()}}_createBeaufortKnotsRenderer(){return{defaultSymbol:this._getDefaultSymbol(new k.Z([214,47,39])),classBreakInfos:this._getClassBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]])}}_createBeaufortMeterRenderer(){return{defaultSymbol:this._getDefaultSymbol(new k.Z([214,47,39])),classBreakInfos:this._getClassBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortFeetRenderer(){const H=this._getDefaultSymbol(new k.Z([214,47,39]));let D=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return D=D.map(ne=>3.28084*ne),{defaultSymbol:H,classBreakInfos:this._getClassBreaks(D,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortMilesRenderer(){const H=this._getDefaultSymbol(new k.Z([214,47,39]));let D=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return D=D.map(ne=>2.23694*ne),{defaultSymbol:H,classBreakInfos:this._getClassBreaks(D,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortKilometersRenderer(){const H=this._getDefaultSymbol(new k.Z([214,47,39]));let D=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return D=D.map(ne=>3.6*ne),{defaultSymbol:H,classBreakInfos:this._getClassBreaks(D,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createCurrentMeterRenderer(){return{defaultSymbol:this._getDefaultSymbol(new k.Z([177,177,177])),classBreakInfos:this._getClassBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])}}_createCurrentKnotsRenderer(){return{defaultSymbol:this._getDefaultSymbol(new k.Z([177,177,177])),classBreakInfos:this._getClassBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])}}_createClassifiedArrowRenderer(){const H=this._getDefaultSymbol(new k.Z([56,168,0]));let D=[0,1e-6,3.5,7,10.5,14];if(this.sizeVariables?.length){const J=this.sizeVariables[0].minDataValue,ne=this.sizeVariables[0].maxDataValue;if(J&&ne){const se=(ne-J)/5;D=Array.from(Array(6).keys()).map(me=>J+se*me)}}return{defaultSymbol:H,classBreakInfos:this._getClassBreaks(D,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])}}_createSimpleScalarRenderer(){return{defaultSymbol:S.Z.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=",height:20,width:20,type:"esriPMS",angle:0})}}_createWindBarbsRenderer(){const H=Array.from(Array(31).keys()).map(ne=>5*ne),D=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"90-95",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="}],Q=S.Z.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",height:20,width:20,type:"esriPMS",angle:0}),J=H.map((ne,se)=>{let me;if(se!==H.length-1)if(0===se)me={minValue:ne,maxValue:H[se+1],symbol:Q};else{const le=S.Z.fromJSON({type:"esriPMS",imageData:D[se].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0});me={minValue:ne,maxValue:H[se+1],symbol:le}}return new R.Z(me)});return{defaultSymbol:Q,classBreakInfos:J}}_getClassBreaks(H,D){return D.map((Q,J)=>new R.Z({minValue:H[J],maxValue:H[J+1],symbol:this._getDefaultSymbol(new k.Z(Q))}))}};(0,B._)([(0,O.Cb)({type:String,json:{write:!0}})],ee.prototype,"attributeField",void 0),(0,B._)([(0,O.Cb)({type:q.apiValues,json:{type:q.jsonValues,read:{reader:q.read},write:{writer:q.write}}})],ee.prototype,"flowRepresentation",void 0),(0,B._)([(0,O.Cb)({type:["geographic","arithmetic"],json:{write:!0}})],ee.prototype,"rotationType",void 0),(0,B._)([(0,O.Cb)({type:P.apiValues,json:{type:P.jsonValues,read:{reader:P.read},write:{writer:P.write}}})],ee.prototype,"style",void 0),(0,B._)([(0,O.Cb)({json:{write:!0}})],ee.prototype,"symbolTileSize",void 0),(0,B._)([(0,O.Cb)({type:_.NL.apiValues,json:{type:_.NL.jsonValues,write:{writer:_.NL.write}}})],ee.prototype,"inputUnit",void 0),(0,B._)([(0,V.r)("inputUnit")],ee.prototype,"readInputUnit",null),(0,B._)([(0,O.Cb)({type:_.NL.apiValues,json:{type:_.NL.jsonValues,read:{reader:_.NL.read},write:{writer:_.NL.write}}})],ee.prototype,"outputUnit",void 0),(0,B._)([(0,V.r)("outputUnit")],ee.prototype,"readOutputUnit",null),(0,B._)([(0,G.J)({vectorField:"vector-field"})],ee.prototype,"type",void 0),(0,B._)([(0,O.Cb)({type:E.Z})],ee.prototype,"styleRenderer",null),(0,B._)([(0,O.Cb)({type:d.Z})],ee.prototype,"sizeVariables",null),(0,B._)([(0,O.Cb)({type:n.Z})],ee.prototype,"rotationVariables",null),ee=j=(0,B._)([(0,F.j)("esri.renderers.VectorFieldRenderer")],ee);const ae=ee},41794:(de,te,e)=>{e.d(te,{FI:()=>j,In:()=>A,Ob:()=>y,U0:()=>I,YD:()=>g,ol:()=>Ie});var u=e(66599),C=(e(64154),e(49602),e(81247)),re=(e(61555),e(62501)),N=(e(87617),e(92865)),Z=e(83071),O=e(24147),V=(e(97922),e(93332),e(68020)),F=e(44620),W=e(42212),_=e(46922),R=(e(84429),e(36699),e(13754));const n=.25,d=V.Z.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),s=V.Z.fromJSON(N.xK[0]),o=new Set(["scientific","standard-time","vector-uv","vector-magdir","vector-u","vector-v","vector-magnitude","vector-direction"]);function y(M,L){const{attributeTable:U,colormap:T}=M;if((0,Z.LV)(M)){const z=function _e(M){if(!(0,Z.LV)(M))return null;let L;if(null!=M.statistics&&M.statistics.length&&("vector-magdir"===M.dataType||"vector-uv"===M.dataType)){const{minMagnitude:z,maxMagnitude:X}=function he(M,L){let U,T;if("vector-magdir"===M)U=L[0].min,T=L[0].max;else{const X=L[0].max,$=L[1].min,oe=L[1].max;U=0,T=Math.max(Math.abs(L[0].min),Math.abs($),Math.abs(X),Math.abs(oe))}return{minMagnitude:U,maxMagnitude:T}}(M.dataType,M.statistics);L=[{type:"size",field:"Magnitude",minSize:10,maxSize:40,minDataValue:z,maxDataValue:X}]}const U=null!=M.multidimensionalInfo?le.get(M.multidimensionalInfo.variables[0].unit):null,T=new R.Z({visualVariables:L,inputUnit:U,rotationType:"geographic"});return T.visualVariables=[...T.sizeVariables,...T.rotationVariables],T}(M);if(null!=z)return z}if(null!=T){const z=function J(M){if(!(0,Z.mO)(M))return null;let L;const{attributeTable:U,colormap:T}=M;if(null!=U){const z=Q(U,"value"),X=H(U,null,!0);"string"===X.type&&(L={},U.features.forEach($=>{const oe=$.attributes;L[oe[z.name]]=X?oe[X.name]:oe[z.name]}))}return _.Z.createFromColormap(T,L)}(M);if(null!=z)return z}if(null!=U){const z=function ae(M,L,U,T){if(!(0,Z.MG)(M,L))return null;const{attributeTable:z,statistics:X}=M,$=H(z,L),oe=Q(z,"red"),ge=Q(z,"green"),ye=Q(z,"blue"),Me=new re.Z,ce=[],Ce=new Set,we=!!(oe&&ge&&ye);if(null!=z)z.features.forEach(ie=>{const pe=ie.attributes[$.name];if(!Ce.has(ie.attributes[$.name])&&null!=pe){Ce.add(pe);const je=!we||"single"!==oe.type&&"double"!==oe.type||"single"!==ge.type&&"double"!==ge.type||"single"!==ye.type&&"double"!==ye.type||z.features.some(ue=>ue.attributes[oe.name]>1||ue.attributes[ge.name]>1||ue.attributes[ye.name]>1)?1:255;ce.push(new O.Z({value:ie.attributes[$.name],label:ie.attributes[$.name]+"",symbol:{type:"simple-fill",style:"solid",outline:null,color:new u.Z(we?[ie.attributes[oe.name]*je,ie.attributes[ge.name]*je,ie.attributes[ye.name]*je,1]:[0,0,0,0])}}))}});else if(X?.[0])for(let ie=X[0].min;ie<=X[0].max;ie++)ce.push(new O.Z({value:ie,label:ie.toString(),symbol:{type:"simple-fill",style:"solid",outline:null,color:new u.Z([0,0,0,0])}}));if(ce.sort((ie,pe)=>ie.value&&"string"==typeof ie.value.valueOf()?0:ie.value>pe.value?1:-1),!we){const ie=(0,N.Jw)(s,{numColors:ce.length});ce.forEach((pe,De)=>pe.symbol.color=new u.Z(ie[De].slice(1,4))),Me.colorRamp=s}if(U||T){const ie=U||(0,N.Jw)(T,{numColors:ce.length}).map(pe=>pe.slice(1));ce.forEach((pe,De)=>pe.symbol.color=new u.Z(ie[De])),Me.colorRamp=T}return new W.Z({field:$.name,uniqueValueInfos:ce,authoringInfo:Me})}(M);if(null!=z)return z}return function S(M,L){M=j(M,L?.variableName);const{bandCount:U}=M;let{bandIds:T,stretchType:z}=L||{};T?.some(ce=>ce>=U)&&(T=null);let X=M.statistics,$=M.histograms;U>1?(T=T?.length?T:g(M),X=null==X?null:T?.map(ce=>X[ce]),$=null==$?null:T?.map(ce=>$[ce])):T=[0],null==z&&(z=function ee(M){let L="percent-clip";const{pixelType:U,dataType:T,histograms:z,statistics:X,multidimensionalInfo:$}=M,oe=o.has(T)||"generic"===T&&null!=$;return"u8"!==U||"processed"!==T&&null!=z&&null!=X?"u8"===U||"elevation"===T||oe?L="min-max":null!=z?L="percent-clip":null!=X&&(L="min-max"):L="none",L}(M));let oe=!1;switch(z){case"none":oe=!1;break;case"percent-clip":oe=!$?.length;break;default:oe=!X?.length}const{dataType:ge}=M,ye=1===T?.length&&o.has(ge)?d:null,Me=new F.Z({stretchType:z,dynamicRangeAdjustment:oe,colorRamp:ye,outputMin:0,outputMax:255,gamma:1===T?.length?[1]:[1,1,1],useGamma:!1});return"percent-clip"===z?Me.maxPercent=Me.minPercent=n:"standard-deviation"===z&&(Me.numberOfStandardDeviations=2),oe||null==M.multidimensionalInfo&&!L?.includeStatisticsInStretch||("percent-clip"===z?Me.histograms=$:"min-max"!==z&&"standard-deviation"!==z||(Me.statistics=X)),Me}(M,L)}function I(M,L=!1){const U=["raster-stretch"];return(0,Z.mO)(M,L)&&U.push("raster-colormap"),(0,Z.MG)(M)&&U.push("unique-value"),(0,Z.fI)(M,L)&&U.push("class-breaks"),(0,Z.jX)(M)&&U.push("raster-shaded-relief"),(0,Z.LV)(M)&&U.push("vector-field"),(0,Z.aG)(M)&&U.push("flow"),U}function A(M,L,U){const T=["nearest","bilinear","cubic","majority"].find(z=>z===U?.toLowerCase());return"Map"===L?T??"bilinear":"standard-time"===M.dataType?T??"nearest":"thematic"===M.dataType||M.attributeTable||M.colormap?"nearest"===T||"majority"===T?T:"nearest":T??"bilinear"}function j(M,L){const{multidimensionalInfo:U}=M;if(!L||!U)return M;const T=U.variables.find(z=>z.name===L);if(!T)return M;if(M=M.clone(),T){const{statistics:z,histograms:X}=T;z?.length&&(M.statistics=z.map($=>({min:$.min,max:$.max,avg:$.avg,stddev:$.stddev}))),X?.length&&(M.histograms=X)}return M}function g(M){const L=M.bandCount;if(1===L)return null;if(2===L)return[0];const{bandInfos:U}=M;let T;if(U.length===L){const{red:z,green:X,blue:$,nir:oe}=function q(M){const L={};for(let U=0;U<M.length;U++){const T=M[U],z=T.name.toLowerCase();if("red"===z)L.red=U;else if("green"===z)L.green=U;else if("blue"===z)L.blue=U;else if("nearinfrared"===z||"nearinfrared_1"===z||"nir"===z)L.nir=U;else if(T.maxWavelength&&T.minWavelength){const X=T.minWavelength,$=T.maxWavelength;null==L.blue&&X>=410&&X<=480&&$>=480&&$<=540?L.blue=U:null==L.green&&X>=490&&X<=560&&$>=560&&$<=610?L.green=U:null==L.red&&X>=595&&X<=670&&$>=660&&$<=730?L.red=U:null==L.nir&&X>=700&&X<=860&&$>=800&&$<=950&&(L.nir=U)}}return L}(U);null!=z&&null!=X&&null!=$?T=[z,X,$]:null!=oe&&null!=z&&null!=X&&(T=[oe,z,X])}return!T&&L>=3&&(T=[0,1,2]),T}function H(M,L,U){let T;return null!=M?(T=L?M.fields.find(z=>L.toLowerCase()===z.name.toLowerCase()):function D(M){let L;for(let U=0;U<M.length;U++){const T=M[U].name.toLowerCase();if("string"===M[U].type){if(T.startsWith("class")){L=M[U];break}null==L&&(T.endsWith("name")||T.endsWith("type"))&&(L=M[U])}}return L}(M.fields),T||(U||(T=M.fields.find(z=>"string"===z.type)),T||(T=Q(M,"value")))):T=new C.Z({name:"value"}),T}function Q(M,L){return null==M?null:M.fields.find(U=>U.name.toLowerCase()===L)}const le=new Map([["m/s","meter-per-second"],["km/h","kilometer-per-hour"],["knots","knots"],["ft/s","feet-per-second"],["mph","mile-per-hour"]]);function Ae(M){return{color:M.symbolLayers[0].material?.color,type:"esriSFS",style:"esriSFSSolid"}}function Ie(M){if("uniqueValue"===M.type){const L=M.uniqueValueInfos;return L?.[0].symbol?.symbolLayers?.length&&(M.uniqueValueInfos=L?.map(T=>({value:T.value,label:T.label,symbol:T.symbol?Ae(T.symbol):null}))),M}if("classBreaks"===M.type){const L=M.classBreakInfos;return L[0].symbol?.symbolLayers?.length&&(M.classBreakInfos=L.map(T=>({classMinValue:T.classMinValue,classMaxValue:T.classMaxValue,label:T.label,symbol:T.symbol?Ae(T.symbol):null}))),M}return M}},12841:(de,te,e)=>{e.d(te,{Nb:()=>G,gh:()=>K,n$:()=>V});var u=e(15861),B=e(66476),k=e(26894),C=e(85039),Y=e(43814),re=e(65665),m=e(15462),N=e(93792);function Z(F,W,_){return O.apply(this,arguments)}function O(){return(O=(0,u.Z)(function*(F,W,_){const E=(0,m.en)(F),{rasterFunction:v,sourceJSON:R}=W||{},n=v?JSON.stringify(v.rasterFunctionDefinition||v):null,d=(0,m.cv)({...E.query,renderingRule:n,f:"json"}),s=(0,m.lA)(d,_);F=E.path;const o=R||(yield(0,B.Z)(F,s).then(M=>M.data)),y=o.hasRasterAttributeTable?(0,B.Z)(`${F}/rasterAttributeTable`,s):null,I=o.hasColormap?(0,B.Z)(`${F}/colormap`,s):null,A=o.hasHistograms?(0,B.Z)(`${F}/histograms`,s):null,S=o.currentVersion>=10.3?(0,B.Z)(`${F}/keyProperties`,s):null,j=o.hasMultidimensions?(0,B.Z)(`${F}/multidimensionalInfo`,s):null,g=yield Promise.allSettled([y,I,A,S,j]);let P=null;if(o.minValues&&o.minValues.length===o.bandCount){P=[];for(let M=0;M<o.minValues.length;M++)P.push({min:o.minValues[M],max:o.maxValues[M],avg:o.meanValues[M],stddev:o.stdvValues[M]})}const q=k.Z.fromJSON(o.extent),ee=Math.ceil(q.width/o.pixelSizeX-.1),ae=Math.ceil(q.height/o.pixelSizeY-.1),H=Y.Z.fromJSON(o.spatialReference||o.extent.spatialReference),D="fulfilled"===g[0].status?g[0].value?.data:null,Q=D?.features?.length?N.Z.fromJSON(D):null,J="fulfilled"===g[1].status?g[1].value?.data.colormap:null,ne=J?.length?J:null,se="fulfilled"===g[2].status?g[2].value?.data.histograms:null,me=se?.[0]?.counts?.length?se:null,le="fulfilled"===g[3].status?g[3].value?.data??{}:{},_e="fulfilled"===g[4].status?g[4].value?.data.multidimensionalInfo:null,Ae=_e?.variables?.length?_e:null;Ae&&Ae.variables.forEach(M=>{M.statistics?.length&&M.statistics.forEach(L=>{L.avg=L.mean,L.stddev=L.standardDeviation})});const{defaultVariable:Ie,serviceDataType:Ee}=o;Ie&&Ie!==le.DefaultVariable&&(le.DefaultVariable=Ie),Ee?.includes("esriImageServiceDataTypeVector")&&!Ee.includes(le.DataType)&&(le.DataType=Ee.replace("esriImageServiceDataType",""));let he=o.noDataValue;return o.noDataValues?.length&&o.noDataValues.some(M=>M!==he)&&(he=o.noDataValues),new re.Z({width:ee,height:ae,bandCount:o.bandCount,extent:k.Z.fromJSON(o.extent),spatialReference:H,pixelSize:new C.Z({x:o.pixelSizeX,y:o.pixelSizeY,spatialReference:H}),pixelType:o.pixelType.toLowerCase(),statistics:P,attributeTable:Q,colormap:ne,histograms:me,keyProperties:le,noDataValue:he,multidimensionalInfo:Ae})})).apply(this,arguments)}function K(F,W,_){return Z(F,{sourceJSON:W},_)}function G(F,W,_){return Z(F,{rasterFunction:W},_)}function V(F,W){F.attributeTable||(W.hasRasterAttributeTable=!1),F.histograms||(W.hasHistograms=!1),F.colormap||(W.hasColormap=!1),F.multidimensionalInfo||(W.hasMultidimensions=!1)}},97922:(de,te,e)=>{e.d(te,{Z:()=>V});var u=e(50484),B=e(84303),k=e(89317),C=e(80543),N=(e(1535),e(57678),e(14007),e(21070)),Z=e(10141);const O=new B.X({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),K=new B.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let G=class extends k.wq{constructor(F){super(F),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(F){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",F)}set definedInterval(F){"defined-interval"===this.classificationMethod&&this._set("definedInterval",F)}};(0,u._)([(0,N.J)({classBreaksDef:"class-breaks-definition"})],G.prototype,"type",void 0),(0,u._)([(0,C.Cb)({json:{write:!0}})],G.prototype,"breakCount",void 0),(0,u._)([(0,C.Cb)({json:{write:!0}})],G.prototype,"classificationField",void 0),(0,u._)([(0,C.Cb)({type:String,json:{read:O.read,write:O.write}})],G.prototype,"classificationMethod",void 0),(0,u._)([(0,C.Cb)({json:{write:!0}})],G.prototype,"normalizationField",void 0),(0,u._)([(0,C.Cb)({json:{read:K.read,write:K.write}})],G.prototype,"normalizationType",void 0),(0,u._)([(0,C.Cb)({value:null,json:{write:!0}})],G.prototype,"standardDeviationInterval",null),(0,u._)([(0,C.Cb)({value:null,json:{write:!0}})],G.prototype,"definedInterval",null),G=(0,u._)([(0,Z.j)("esri.rest.support.ClassBreaksDefinition")],G);const V=G},30230:(de,te,e)=>{e.d(te,{Z:()=>v});var _,u=e(50484),B=e(2189),k=e(34411),C=e(93300),Y=e(89317),re=e(34222),m=e(4703),N=e(80543),O=(e(1535),e(10141)),K=e(7547),G=e(40637),V=e(62165),F=e(46955),W=e(85039);let E=_=class extends Y.wq{constructor(){super(...arguments),this.geometry=null,this.mosaicRule=null,this.rasterFunction=null,this.pixelSize=null,this.raster=void 0,this.timeExtent=null}writeGeometry(R,n,d){null!=R&&(n.geometryType=(0,G.Ji)(R),n[d]=R.toJSON())}get renderingRule(){return(0,C.Mr)(m.Z.getLogger(this),"renderingRule",{replacement:"rasterFunction",version:"4.27",warnOnce:!0}),this._get("rasterFunction")}set renderingRule(R){(0,C.Mr)(m.Z.getLogger(this),"renderingRule",{replacement:"rasterFunction",version:"4.27",warnOnce:!0}),this._set("rasterFunction",R)}clone(){return new _((0,re.d9)({geometry:this.geometry,mosaicRule:this.mosaicRule,rasterFunction:this.rasterFunction,pixelSize:this.pixelSize,raster:this.raster,timeExtent:this.timeExtent}))}};(0,u._)([(0,N.Cb)({types:B.qM,json:{read:G.im}})],E.prototype,"geometry",void 0),(0,u._)([(0,K.c)("geometry")],E.prototype,"writeGeometry",null),(0,u._)([(0,N.Cb)({type:V.Z,json:{write:!0}})],E.prototype,"mosaicRule",void 0),(0,u._)([(0,N.Cb)({type:F.Z})],E.prototype,"renderingRule",null),(0,u._)([(0,N.Cb)({type:F.Z,json:{write:!0,name:"renderingRule"}})],E.prototype,"rasterFunction",void 0),(0,u._)([(0,N.Cb)({type:W.Z,json:{write:!0}})],E.prototype,"pixelSize",void 0),(0,u._)([(0,N.Cb)({json:{write:!0}})],E.prototype,"raster",void 0),(0,u._)([(0,N.Cb)({type:k.Z,json:{read:{source:"time"},write:{target:"time"}}})],E.prototype,"timeExtent",void 0),E=_=(0,u._)([(0,O.j)("esri.rest.support.ImageHistogramParameters")],E);const v=E},93332:(de,te,e)=>{e.d(te,{k:()=>Y});const B=e(4703).Z.getLogger("esri.rest.support.generateRendererUtils");function k(_,E){return Number(_.toFixed(E))}function Y(_){const{normalizationTotal:E}=_;return{classBreaks:re(_),normalizationTotal:E}}function re(_){const E=_.definition,{classificationMethod:v,normalizationType:R,definedInterval:n}=E,d=E.breakCount??1,s=[];let o=_.values;if(0===o.length)return[];o=o.sort((A,S)=>A-S);const y=o[0],I=o[o.length-1];if("equal-interval"===v)if(o.length>=d){const A=(I-y)/d;let S=y;for(let j=1;j<d;j++){const g=k(y+j*A,6);s.push({minValue:S,maxValue:g,label:m(S,g,R)}),S=g}s.push({minValue:S,maxValue:I,label:m(S,I,R)})}else o.forEach(A=>{s.push({minValue:A,maxValue:A,label:m(A,A,R)})});else if("natural-breaks"===v){const A=function N(_){const E=[],v=[];let R=Number.MIN_VALUE,n=1,d=-1;for(let s=0;s<_.length;s++){const o=_[s];o===R?(n++,v[d]=n):null!==o&&(E.push(o),R=o,n=1,v.push(n),d++)}return{uniqueValues:E,valueFrequency:v}}(o),j=function Z(_,E,v){const R=_.length,n=[];v>R&&(v=R);for(let s=0;s<v;s++)n.push(Math.round(s*R/v-1));n.push(R-1);let d=O(n,_,E,v);return function K(_,E,v,R,n,d){let s=0,o=0,y=0,I=0,A=!0;for(let S=0;S<2&&A;S++){0===S&&(A=!1);for(let j=0;j<d-1;j++)for(;v[j+1]+1!==v[j+2];){v[j+1]=v[j+1]+1;const g=W(j,v,R,n);y=g.sbMean,s=g.sbSdcm;const P=W(j+1,v,R,n);if(I=P.sbMean,o=P.sbSdcm,!(s+o<E[j]+E[j+1])){v[j+1]=v[j+1]-1;break}E[j]=s,E[j+1]=o,_[j]=y,_[j+1]=I,A=!0}for(let j=d-1;j>0;j--)for(;v[j]!==v[j-1]+1;){v[j]=v[j]-1;const g=W(j-1,v,R,n);y=g.sbMean,s=g.sbSdcm;const P=W(j,v,R,n);if(I=P.sbMean,o=P.sbSdcm,!(s+o<E[j-1]+E[j])){v[j]=v[j]+1;break}E[j-1]=s,E[j]=o,_[j-1]=y,_[j]=I,A=!0}}return A}(d.mean,d.sdcm,n,_,E,v)&&(d=O(n,_,E,v)),n}(A.uniqueValues,_.valueFrequency||A.valueFrequency,d);let g=y;for(let P=1;P<d;P++)if(A.uniqueValues.length>P){const q=k(A.uniqueValues[j[P]],6);s.push({minValue:g,maxValue:q,label:m(g,q,R)}),g=q}s.push({minValue:g,maxValue:I,label:m(g,I,R)})}else if("quantile"===v)if(o.length>=d&&y!==I){let A=y,S=Math.ceil(o.length/d),j=0;for(let g=1;g<d;g++){let P=S+j-1;P>o.length&&(P=o.length-1),P<0&&(P=0),s.push({minValue:A,maxValue:o[P],label:m(A,o[P],R)}),A=o[P],j+=S,S=Math.ceil((o.length-j)/(d-g))}s.push({minValue:A,maxValue:I,label:m(A,I,R)})}else{let A=-1;for(let S=0;S<o.length;S++){const j=o[S];j!==A&&(A=j,s.push({minValue:A,maxValue:j,label:m(A,j,R)}),A=j)}}else if("standard-deviation"===v){const A=function V(_){let E=0;for(let v=0;v<_.length;v++)E+=_[v];return E/=_.length,E}(o),S=function F(_,E){let v=0;for(let R=0;R<_.length;R++){const n=_[R];v+=(n-E)*(n-E)}return v/=_.length,Math.sqrt(v)}(o,A);if(0===S)s.push({minValue:o[0],maxValue:o[0],label:m(o[0],o[0],R)});else{const j=function G(_,E,v,R,n){let d=Math.max(R-_,E-R)/n/v;return d=d>=1?1:d>=.5?.5:.25,d}(y,I,d,A,S)*S;let g=0,P=y;for(let ee=d;ee>=1;ee--){const ae=k(A-(ee-.5)*j,6);s.push({minValue:P,maxValue:ae,label:m(P,ae,R)}),P=ae,g++}let q=k(A+.5*j,6);s.push({minValue:P,maxValue:q,label:m(P,q,R)}),P=q,g++;for(let ee=1;ee<=d;ee++)q=g===2*d?I:k(A+(ee+.5)*j,6),s.push({minValue:P,maxValue:q,label:m(P,q,R)}),P=q,g++}}else if("defined-interval"===v){if(!n)return s;const A=o[0],S=o[o.length-1],j=Math.ceil((S-A)/n);let g=A;for(let P=1;P<j;P++){const q=k(A+P*n,6);s.push({minValue:g,maxValue:q,label:m(g,q,R)}),g=q}s.push({minValue:g,maxValue:S,label:m(g,S,R)})}return s}function m(_,E,v){let R=null;return R=_===E?v&&"percent-of-total"===v?_+"%":_.toString():v&&"percent-of-total"===v?_+"% - "+E+"%":_+" - "+E,R}function O(_,E,v,R){let n=[],d=[],s=[],o=0;const y=[],I=[];for(let g=0;g<R;g++){const P=W(g,_,E,v);y.push(P.sbMean),I.push(P.sbSdcm),o+=I[g]}let A,S=o,j=!0;for(;j||o<S;){j=!1,n=[];for(let g=0;g<R;g++)n.push(_[g]);for(let g=0;g<R;g++)for(let P=_[g]+1;P<=_[g+1];P++)if(A=E[P],g>0&&P!==_[g+1]&&Math.abs(A-y[g])>Math.abs(A-y[g-1]))_[g]=P;else if(g<R-1&&_[g]!==P-1&&Math.abs(A-y[g])>Math.abs(A-y[g+1])){_[g+1]=P-1;break}S=o,o=0,d=[],s=[];for(let g=0;g<R;g++){d.push(y[g]),s.push(I[g]);const P=W(g,_,E,v);y[g]=P.sbMean,I[g]=P.sbSdcm,o+=I[g]}}if(o>S){for(let g=0;g<R;g++)_[g]=n[g],y[g]=d[g],I[g]=s[g];o=S}return{mean:y,sdcm:I}}function W(_,E,v,R){let n=0,d=0;for(let y=E[_]+1;y<=E[_+1];y++){const I=R[y];n+=v[y]*I,d+=I}d<=0&&B.warn("Exception in Natural Breaks calculation");const s=n/d;let o=0;for(let y=E[_]+1;y<=E[_+1];y++)o+=R[y]*(v[y]-s)**2;return{sbMean:s,sbSdcm:o}}}}]);