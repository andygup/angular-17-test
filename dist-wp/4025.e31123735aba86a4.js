"use strict";(self.webpackChunkangular_17_test=self.webpackChunkangular_17_test||[]).push([[4025],{31816:(Re,ye,B)=>{B.d(ye,{P:()=>U});class U{constructor(E){this.source=E}}},66224:(Re,ye,B)=>{B.d(ye,{s:()=>U});class U{constructor(E,Z){this._moduleSingletons=E,this._syntaxModules=Z}loadLibrary(E){if(null==this._syntaxModules)return null;const Z=this._syntaxModules[E.toLowerCase()];return Z?{syntax:Z.script,uri:Z.uri}:null}}},97478:(Re,ye,B)=>{B.d(ye,{Z:()=>P});var U=B(70430);class P extends U.Z{constructor(Z){super(),this.declaredClass="esri.arcade.Portal",this.immutable=!1,this.setField("url",Z),this.immutable=!0}}},97973:(Re,ye,B)=>{B.d(ye,{Z:()=>P});var U=B(70430);class P extends U.Z{constructor(Z,g,u,Q,k,c,$){super(),this.attachmentUrl=k,this.declaredClass="esri.arcade.Attachment",this.immutable=!1,this.setField("id",Z),this.setField("name",g),this.setField("contenttype",u),this.setField("size",Q),this.setField("exifinfo",c),this.setField("keywords",$),this.immutable=!0}deepClone(){return new P(this.field("id"),this.field("name"),this.field("contenttype"),this.field("size"),this.attachmentUrl,this.field("exifinfo")?.deepClone()??null,this.field("keywords"))}}},70430:(Re,ye,B)=>{B.d(ye,{Z:()=>c});var U=B(15861),P=B(93630),E=B(5137),Z=B(53570),g=B(29066),u=B(89018),Q=B(32184);function k($,Y,L=!1,q=!1){if(null==$)return null;if((0,u.b)($))return(0,u.g)($);if((0,u.a)($))return(0,u.h)($);if((0,u.c)($))return(0,u.j)($);if((0,u.k)($))return(0,u.l)($,Y);if((0,u.m)($)||(0,u.n)($))return $;if((0,u.o)($)){const G=[];for(const N of $)G.push(k(N,Y,L,q));return G}if(q&&(0,u.p)($))return $;const ae=new c;ae.immutable=!1;for(const G of Object.keys($)){const N=$[G];void 0!==N&&ae.setField(G,k(N,Y,L,q))}return ae.immutable=L,ae}class c{constructor(Y){this.declaredClass="esri.arcade.Dictionary",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=Y instanceof c?Y.attributes:Y??{}}field(Y){const L=Y.toLowerCase(),q=this.attributes[Y];if(void 0!==q)return q;for(const ae in this.attributes)if(ae.toLowerCase()===L)return this.attributes[ae];throw new Z.aV(null,Z.rH.FieldNotFound,null,{key:Y})}setField(Y,L){if(this.immutable)throw new Z.aV(null,Z.rH.Immutable,null);if((0,u.i)(L))throw new Z.aV(null,Z.rH.NoFunctionInDictionary,null);const q=Y.toLowerCase();if(L instanceof Date&&(L=P.iG.dateJSToArcadeDate(L)),void 0===this.attributes[Y]){for(const ae in this.attributes)if(ae.toLowerCase()===q)return void(this.attributes[ae]=L);this.attributes[Y]=L}else this.attributes[Y]=L}hasField(Y){const L=Y.toLowerCase();if(void 0!==this.attributes[Y])return!0;for(const q in this.attributes)if(q.toLowerCase()===L)return!0;return!1}keys(){let Y=[];for(const L in this.attributes)Y.push(L);return Y=Y.sort(),Y}castToText(Y=!1){let L="";for(const q in this.attributes){""!==L&&(L+=",");const ae=this.attributes[q];null==ae?L+=JSON.stringify(q)+":null":(0,u.a)(ae)||(0,u.b)(ae)||(0,u.c)(ae)?L+=JSON.stringify(q)+":"+JSON.stringify(ae):ae instanceof Q.Z?L+=JSON.stringify(q)+":"+(0,u.t)(ae):ae instanceof g.Z||ae instanceof Array?L+=JSON.stringify(q)+":"+(0,u.t)(ae,null,Y):ae instanceof P.iG?L+=Y?JSON.stringify(q)+":"+JSON.stringify(ae.getTime()):JSON.stringify(q)+":"+ae.stringify():null!==ae&&"object"==typeof ae&&void 0!==ae.castToText&&(L+=JSON.stringify(q)+":"+ae.castToText(Y))}return"{"+L+"}"}static convertObjectToArcadeDictionary(Y,L,q=!0,ae=!1){const G=new c;G.immutable=!1;for(const N in Y){const I=Y[N];void 0!==I&&G.setField(N.toString(),k(I,L,q,ae))}return G.immutable=q,G}static convertJsonToArcade(Y,L,q=!1){return k(Y,L,q)}castAsJson(Y=null){const L={};for(let q in this.attributes){const ae=this.attributes[q];void 0!==ae&&(Y?.keyTranslate&&(q=Y.keyTranslate(q)),L[q]=(0,u.d)(ae,Y))}return L}castDictionaryValueAsJsonAsync(Y,L,q,ae=null,G){return(0,U.Z)(function*(){const N=yield(0,u.e)(q,ae,G);return Y[L]=N,N})()}castAsJsonAsync(Y=null,L=null){var q=this;return(0,U.Z)(function*(){const ae={},G=[];for(let N in q.attributes){const I=q.attributes[N];L?.keyTranslate&&(N=L.keyTranslate(N)),void 0!==I&&((0,u.f)(I)||I instanceof Q.Z||I instanceof P.iG?ae[N]=(0,u.d)(I,L):G.push(q.castDictionaryValueAsJsonAsync(ae,N,I,Y,L)))}return G.length>0&&(yield Promise.all(G)),ae})()}deepClone(){const Y=new c;Y.immutable=!1;for(const L of this.keys())Y.setField(L,(0,E.I)(this.field(L)));return Y}}},860:(Re,ye,B)=>{B.d(ye,{Z:()=>G});var U=B(15861),P=B(93630),E=B(5137),Z=B(70430),g=B(53570),u=B(29066),Q=B(89018),k=B(88781),c=B(81429),$=B(32184),Y=B(85039),L=B(40637),q=B(10842),ae=B(40100);class G{constructor(){this.arcadeDeclaredClass="esri.arcade.Feature",this._optimizedGeomDefinition=null,this._geometry=null,this.attributes=null,this._layer=null,this._fieldTypesFixed=!0,this.fieldsIndex=null,this.contextTimeZone=null,this.immutable=!0,this._fieldsToFixDataTypes=null,this.immutable=!0}static createFromGraphic(I,m){const h=new G;return h.contextTimeZone=m??null,h._geometry=null!=I.geometry?I.geometry:null,h.attributes=null==I.attributes?{}:I.attributes,I._sourceLayer?(h._layer=I._sourceLayer,h._fieldTypesFixed=!1):I._layer?(h._layer=I._layer,h._fieldTypesFixed=!1):I.layer&&"fields"in I.layer?(h._layer=I.layer,h._fieldTypesFixed=!1):I.sourceLayer&&"fields"in I.sourceLayer&&(h._layer=I.sourceLayer,h._fieldTypesFixed=!1),h._layer&&!h._fieldTypesFixed&&(h.fieldsIndex=this.hydrateFieldsIndex(h._layer)),h}static createFromArcadeFeature(I){if(I instanceof G){const h=new G;return h._fieldTypesFixed=I._fieldTypesFixed,h.attributes=I.attributes,h._geometry=I._geometry,h._optimizedGeomDefinition=I._optimizedGeomDefinition,I._layer&&(h._layer=I._layer),h.fieldsIndex=I.fieldsIndex,h.contextTimeZone=I.contextTimeZone,h}const m={};for(const h of I.keys())m[h]=I.field(h);return G.createFromGraphicLikeObject(I.geometry(),m,I.fullSchema(),I.contextTimeZone)}static createFromOptimisedFeature(I,m,h){const C=new G;return C._geometry=I.geometry?{geometry:I.geometry}:null,C._optimizedGeomDefinition=h,C.attributes=I.attributes||{},C._layer=m,C._fieldTypesFixed=!1,C}static createFromArcadeDictionary(I){const m=new G;return m.attributes=I.field("attributes"),null!==m.attributes&&m.attributes instanceof Z.Z?(m.attributes=m.attributes.attributes,null===m.attributes&&(m.attributes={})):m.attributes={},m._geometry=I.field("geometry"),null!==m._geometry&&(m._geometry instanceof Z.Z?m._geometry=G.parseGeometryFromDictionary(m._geometry):m._geometry instanceof $.Z||(m._geometry=null)),m}static createFromGraphicLikeObject(I,m,h=null,C){const _=new G;return _.contextTimeZone=C??null,null===m&&(m={}),_.attributes=m,_._geometry=I??null,_._layer=h,_._layer&&(_._fieldTypesFixed=!1,_.fieldsIndex=this.hydrateFieldsIndex(_._layer)),_}static hydrateFieldsIndex(I){return null===I?null:(0,Q.u)(I)?I.getFieldsIndex():I.fieldsIndex?I.fieldsIndex:ae.Z.fromLayerJSON({datesInUnknownTimezone:I.datesInUnknownTimezone,fields:I.fields,timeInfo:I.timeInfo,editFieldsInfo:I.editFieldsInfo,dateFieldsTimeReference:I.dateFieldsTimeReference??{timeZone:"UTC",respectsDaylightSaving:!1}})}repurposeFromGraphicLikeObject(I,m,h=null){null===m&&(m={}),this.attributes=m,this._geometry=I??null,this._layer=h,this._fieldTypesFixed=!this._layer}castToText(I=!1){let m="";!1===this._fieldTypesFixed&&this._fixFieldTypes();for(const h in this.attributes){""!==m&&(m+=",");const C=this.attributes[h];null==C?m+=JSON.stringify(h)+":null":(0,Q.a)(C)||(0,Q.b)(C)||(0,Q.c)(C)?m+=JSON.stringify(h)+":"+JSON.stringify(C):C instanceof $.Z?m+=JSON.stringify(h)+":"+(0,Q.t)(C):C instanceof c.n||C instanceof k.u?m+=`${JSON.stringify(h)}:${JSON.stringify(C.toString())}`:C instanceof u.Z||C instanceof Array?m+=JSON.stringify(h)+":"+(0,Q.t)(C,null,I):C instanceof P.iG?m+=I?JSON.stringify(h)+":"+JSON.stringify(C.getTime()):JSON.stringify(h)+":"+C.stringify():null!==C&&"object"==typeof C&&void 0!==C.castToText&&(m+=JSON.stringify(h)+":"+C.castToText(I))}return'{"geometry":'+(null===this.geometry()?"null":(0,Q.t)(this.geometry()))+',"attributes":{'+m+"}}"}_fixFieldTypes(){if(this._fieldsToFixDataTypes&&this._fieldsToFixDataTypes?.length>0)return this._fixAllFields(this._fieldsToFixDataTypes),void(this._fieldTypesFixed=!0);const I=[],m=this._layer.fields;for(let h=0;h<m.length;h++){const C=m[h],{name:_,type:l}=C;switch(l){case"date":case"esriFieldTypeDate":I.push({field:_,dataType:"date"});break;case"date-only":case"esriFieldTypeDateOnly":I.push({field:_,dataType:"date-only"});break;case"time-only":case"esriFieldTypeTimeOnly":I.push({field:_,dataType:"time-only"});break;case"timestamp-offset":case"esriFieldTypeTimestampOffset":I.push({field:_,dataType:"timestamp-offset"})}}this._fieldsToFixDataTypes=I,I.length>0&&this._fixAllFields(I),this._fieldTypesFixed=!0}isUnknownDateTimeField(I){return"unknown"===this.fieldsIndex?.getTimeZone(I)}_fixAllFields(I){this.attributes={...this.attributes};const m=this.contextTimeZone??"system";for(let h=0;h<I.length;h++){const C=I[h].field,_=I[h].dataType;let l=this.attributes[C];if(void 0===l){for(const D in this.attributes)if(D.toLowerCase()===C.toLowerCase()){if(l=this.attributes[D],null!==l){if("time-only"===_){(0,Q.n)(l)||(this.attributes[D]=c.n.fromReader(l.toString()));break}if("date-only"===_){(0,Q.m)(l)||(this.attributes[D]=k.u.fromReader(l.toString()));break}if("timestamp-offset"===_){(0,Q.k)(l)||(this.attributes[D]=P.iG.fromReaderAsTimeStampOffset(l.toString()));break}const V=this.isUnknownDateTimeField(D);l instanceof Date?this.attributes[D]=V?P.iG.unknownDateJSToArcadeDate(l):P.iG.dateJSAndZoneToArcadeDate(l,m):(0,Q.k)(l)||(this.attributes[D]=V?P.iG.unknownEpochToArcadeDate(l):P.iG.epochToArcadeDate(l,m))}break}}else if(null!==l){if("time-only"===_){this.attributes[C]=(0,Q.n)(l)?l:c.n.fromReader(l.toString());continue}if("date-only"===_){this.attributes[C]=(0,Q.m)(l)?l:k.u.fromReader(l.toString());continue}if("timestamp-offset"===_){this.attributes[C]=(0,Q.k)(l)?l:P.iG.fromReaderAsTimeStampOffset(l.toString());continue}const D=this.isUnknownDateTimeField(C);this.attributes[C]=(0,Q.k)(l)?l:l instanceof Date?D?P.iG.unknownDateJSToArcadeDate(l):P.iG.dateJSAndZoneToArcadeDate(l,m):D?P.iG.unknownEpochToArcadeDate(l):P.iG.epochToArcadeDate(l,m)}}}geometry(){return null===this._geometry||this._geometry instanceof $.Z||(this._optimizedGeomDefinition?(this._geometry=(0,L.im)((0,q.di)(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM)),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=(0,L.im)(this._geometry)),this._geometry}field(I){this._fieldTypesFixed||this._fixFieldTypes();const m=this.attributes[I];if(void 0!==m)return m;const h=I.toLowerCase();for(const C in this.attributes)if(C.toLowerCase()===h)return this.attributes[C];if(this._hasFieldDefinition(h))return null;throw new g.aV(null,g.rH.FieldNotFound,null,{key:I})}_hasFieldDefinition(I){if(null===this._layer)return!1;for(let m=0;m<this._layer.fields.length;m++)if(this._layer.fields[m].name.toLowerCase()===I)return!0;return!1}setField(I,m){if(this.immutable)throw new g.aV(null,g.rH.Immutable,null);if(m instanceof Date&&(m=this.isUnknownDateTimeField(I)?P.iG.unknownDateJSToArcadeDate(m):P.iG.dateJSToArcadeDate(m)),!1===(0,Q.f)(m))throw new g.aV(null,g.rH.TypeNotAllowedInFeature,null);const h=I.toLowerCase();if(void 0===this.attributes[I]){for(const C in this.attributes)if(C.toLowerCase()===h)return void(this.attributes[C]=m);this.attributes[I]=m}else this.attributes[I]=m}hasField(I){const m=I.toLowerCase();if(void 0!==this.attributes[I])return!0;for(const h in this.attributes)if(h.toLowerCase()===m)return!0;return!!this._hasFieldDefinition(m)}keys(){let I=[];const m={};for(const h in this.attributes)I.push(h),m[h.toLowerCase()]=1;if(null!==this._layer)for(let h=0;h<this._layer.fields.length;h++){const C=this._layer.fields[h];1!==m[C.name.toLowerCase()]&&I.push(C.name)}return I=I.sort(),I}static parseGeometryFromDictionary(I){const m=G._convertDictionaryToJson(I,!0);return void 0!==m.hasm&&(m.hasM=m.hasm,delete m.hasm),void 0!==m.hasz&&(m.hasZ=m.hasz,delete m.hasz),void 0!==m.spatialreference&&(m.spatialReference=m.spatialreference,delete m.spatialreference),void 0!==m.rings&&(m.rings=this._fixPathArrays(m.rings,!0===m.hasZ,!0===m.hasZ)),void 0!==m.paths&&(m.paths=this._fixPathArrays(m.paths,!0===m.hasZ,!0===m.hasM)),void 0!==m.points&&(m.points=this._fixPointArrays(m.points,!0===m.hasZ,!0===m.hasM)),(0,L.im)(m)}static _fixPathArrays(I,m,h){const C=[];if(I instanceof Array)for(let _=0;_<I.length;_++)C.push(this._fixPointArrays(I[_],m,h));else if(I instanceof u.Z)for(let _=0;_<I.length();_++)C.push(this._fixPointArrays(I.get(_),m,h));return C}static _fixPointArrays(I,m,h){const C=[];if(I instanceof Array)for(let _=0;_<I.length;_++){const l=I[_];C.push(l instanceof Y.Z?m&&h?[l.x,l.y,l.z,l.m]:m?[l.x,l.y,l.z]:h?[l.x,l.y,l.m]:[l.x,l.y]:l instanceof u.Z?l.toArray():l)}else if(I instanceof u.Z)for(let _=0;_<I.length();_++){const l=I.get(_);C.push(l instanceof Y.Z?m&&h?[l.x,l.y,l.z,l.m]:m?[l.x,l.y,l.z]:h?[l.x,l.y,l.m]:[l.x,l.y]:l instanceof u.Z?l.toArray():l)}return C}static _convertDictionaryToJson(I,m=!1){const h={};for(const C in I.attributes){let _=I.attributes[C];_ instanceof Z.Z&&(_=G._convertDictionaryToJson(_)),m?h[C.toLowerCase()]=_:h[C]=_}return h}static parseAttributesFromDictionary(I){const m={};for(const h in I.attributes){const C=I.attributes[h];if(!(0,Q.f)(C))throw new g.aV(null,g.rH.InvalidParameter,null);m[h]=C}return m}static fromJson(I,m){let h=null;null!=I.geometry&&(h=(0,L.im)(I.geometry));const C={};if(null!=I.attributes)for(const _ in I.attributes){const l=I.attributes[_];if(null===l)C[_]=l;else{if(!((0,Q.c)(l)||(0,Q.b)(l)||(0,Q.a)(l)||(0,Q.k)(l)||(0,Q.n)(l)||(0,Q.m)(l)))throw new g.aV(null,g.rH.InvalidParameter,null);C[_]=l}}return G.createFromGraphicLikeObject(h,C,null,m??null)}fullSchema(){return this._layer}gdbVersion(){if(null===this._layer)return"";const I=this._layer.gdbVersion;return void 0===I?"":""===I&&this._layer.capabilities?.isVersioned?"SDE.DEFAULT":I}castAsJson(I){const m={attributes:{},geometry:!0===I?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null};for(const h in this.attributes){const C=this.attributes[h];void 0!==C&&(m.attributes[h]=(0,Q.d)(C,I))}return m}castAsJsonAsync(I=null,m){var h=this;return(0,U.Z)(function*(){return h.castAsJson(m)})()}}(0,E.T)(G)},59243:(Re,ye,B)=>{B.d(ye,{Bx:()=>Z,Rm:()=>P,Vg:()=>g,aq:()=>E});var U=B(79412);class P{constructor(){}}function E(u,Q,k){if(u instanceof P&&!(u instanceof g)){const c=new g;return c.fn=u,c.parameterEvaluator=k,c.context=Q,c}return u}class Z extends P{constructor(Q){super(),this.fn=Q}createFunction(Q){return(...k)=>this.fn(Q,{preparsed:!0,arguments:k})}call(Q,k){return this.fn(Q,k)}marshalledCall(Q,k,c,$){return $(Q,k,(Y,L,q)=>{q=q.map(G=>G instanceof P&&!(G instanceof g)?E(G,Q,$):G);const ae=this.call(c,{args:q});return(0,U.y8)(ae)?ae.then(G=>E(G,c,$)):ae})}}class g extends P{constructor(){super(...arguments),this.fn=null,this.context=null}createFunction(Q){return this.fn.createFunction(this.context)}call(Q,k){return this.fn.marshalledCall(Q,k,this.context,this.parameterEvaluator)}marshalledCall(Q,k,c){return this.fn.marshalledCall(Q,k,this.context,this.parameterEvaluator)}}},29066:(Re,ye,B)=>{B.d(ye,{Z:()=>U});class U{constructor(E=[]){this._elements=E}length(){return this._elements.length}get(E){return this._elements[E]}toArray(){const E=[];for(let Z=0;Z<this.length();Z++)E.push(this.get(Z));return E}}},69103:(Re,ye,B)=>{B.d(ye,{Z:()=>E});var U=B(29066),P=B(85833);class E extends U.Z{constructor(g,u,Q,k,c){super(g),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=Q,this._hasM=k,this._spRef=u,this._cacheId=c}get(g){if(void 0===this._lazyPath[g]){const u=this._elements[g];if(void 0===u)return;this._lazyPath[g]=new P.Z(u,this._spRef,this._hasZ,this._hasM,this._cacheId,g)}return this._lazyPath[g]}equalityTest(g){return g===this||null!==g&&g instanceof E&&g.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},85833:(Re,ye,B)=>{B.d(ye,{Z:()=>E});var U=B(29066),P=B(85039);class E extends U.Z{constructor(g,u,Q,k,c,$){super(g),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=u,this._hasZ=Q,this._hasM=k,this._cacheId=c,this._partId=$}get(g){if(void 0===this._lazyPt[g]){const u=this._elements[g];if(void 0===u)return;const Q=this._hasZ,k=this._hasM;let c=null;c=Q&&!k?new P.Z(u[0],u[1],u[2],void 0,this._spRef):k&&!Q?new P.Z(u[0],u[1],void 0,u[2],this._spRef):Q&&k?new P.Z(u[0],u[1],u[2],u[3],this._spRef):new P.Z(u[0],u[1],this._spRef),c.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+g.toString(),this._lazyPt[g]=c}return this._lazyPt[g]}equalityTest(g){return g===this||null!==g&&g instanceof E&&g.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},5137:(Re,ye,B)=>{B.d(ye,{I:()=>g,T:()=>E});var U=B(31816),P=B(89018);function E(u){Z=u}let Z;function g(u){return null===u?null:(0,P.k)(u)?u.clone():(0,P.f)(u)?u:(0,P.p)(u)?u.clone():(0,P.q)(u)?u.toArray().map(Q=>g(Q)):(0,P.o)(u)?u.map(Q=>g(Q)):(0,P.r)(u)?Z.createFromArcadeFeature(u):(0,P.s)(u)||(0,P.u)(u)?u:(0,P.v)(u)||"esri.arcade.Attachment"===u?.declaredClass?u.deepClone():("esri.arcade.Portal"===u?.declaredClass||u instanceof U.P||(0,P.i)(u),u)}},53570:(Re,ye,B)=>{B.d(ye,{OF:()=>k,TD:()=>Y,Tu:()=>q,VO:()=>$,aV:()=>u,kq:()=>c,rH:()=>P});var P,G,U=B(72578);(G=P||(P={})).AsyncNotEnabled="AsyncNotEnabled",G.ModulesNotSupported="ModulesNotSupported",G.CircularModules="CircularModules",G.CannotCompareDateAndTime="CannotCompareDateAndTime",G.NeverReach="NeverReach",G.UnsupportedHashType="UnsupportedHashType",G.InvalidParameter="InvalidParameter",G.UnexpectedToken="UnexpectedToken",G.Unrecognized="Unrecognized",G.UnrecognizedType="UnrecognizedType",G.MaximumCallDepth="MaximumCallDepth",G.BooleanConditionRequired="BooleanConditionRequired",G.TypeNotAllowedInFeature="TypeNotAllowedInFeature",G.KeyMustBeString="KeyMustBeString",G.WrongNumberOfParameters="WrongNumberOfParameters",G.CallNonFunction="CallNonFunction",G.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",G.NoFunctionInDictionary="NoFunctionInDictionary",G.NoFunctionInArray="NoFunctionInArray",G.AssignModuleFunction="AssignModuleFunction",G.LogicExpressionOrAnd="LogicExpressionOrAnd",G.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",G.FunctionNotFound="FunctionNotFound",G.InvalidMemberAccessKey="InvalidMemberAccessKey",G.UnsupportedUnaryOperator="UnsupportUnaryOperator",G.InvalidIdentifier="InvalidIdentifier",G.MemberOfNull="MemberOfNull",G.UnsupportedOperator="UnsupportedOperator",G.Cancelled="Cancelled",G.ModuleAccessorMustBeString="ModuleAccessorMustBeString",G.ModuleExportNotFound="ModuleExportNotFound",G.Immutable="Immutable",G.OutOfBounds="OutOfBounds",G.IllegalResult="IllegalResult",G.FieldNotFound="FieldNotFound",G.PortalRequired="PortalRequired",G.LogicError="LogicError",G.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",G.KeyAccessorMustBeString="KeyAccessorMustBeString",G.WrongSpatialReference="WrongSpatialReference",G.CannotChangeTimeZoneTime="CannotChangeTimeZoneTime",G.CannotChangeTimeZoneDateOnly="CannotChangeTimeZoneDateOnly";const E={[P.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[P.LogicError]:"Logic error - {reason}",[P.CannotCompareDateAndTime]:"Cannot compare date or dateonly with timeonly types",[P.NeverReach]:"Encountered unreachable logic",[P.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[P.ModuleAccessorMustBeString]:"Module accessor must be a string",[P.ModuleExportNotFound]:"Module has no export with provided identifier",[P.ModulesNotSupported]:"Current profile does not support modules",[P.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[P.FunctionNotFound]:"Function not found",[P.FieldNotFound]:"Key not found - {key}",[P.CircularModules]:"Circular module dependencies are not allowed",[P.Cancelled]:"Execution cancelled",[P.UnsupportedHashType]:"Type not supported in hash function",[P.IllegalResult]:"Value is not a supported return type",[P.PortalRequired]:"Portal is required",[P.InvalidParameter]:"Invalid parameter",[P.WrongNumberOfParameters]:"Call with wrong number of parameters",[P.Unrecognized]:"Unrecognized code structure",[P.UnrecognizedType]:"Unrecognized type",[P.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[P.BooleanConditionRequired]:"Conditions must use booleans",[P.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[P.NoFunctionInArray]:"Arrays cannot contain functions.",[P.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[P.KeyAccessorMustBeString]:"Accessor must be a string",[P.KeyMustBeString]:"Object keys must be a string",[P.Immutable]:"Object is immutable",[P.UnexpectedToken]:"Unexpected token",[P.MemberOfNull]:"Cannot access property of null object",[P.MaximumCallDepth]:"Exceeded maximum function depth",[P.OutOfBounds]:"Out of bounds",[P.InvalidIdentifier]:"Identifier not recognized",[P.CallNonFunction]:"Expression is not a function",[P.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[P.AssignModuleFunction]:"Cannot assign function to module variable",[P.UnsupportedUnaryOperator]:"Unsupported unary operator",[P.UnsupportedOperator]:"Unsupported operator",[P.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[P.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&",[P.CannotChangeTimeZoneTime]:"Cannot change the timezone of a Time",[P.CannotChangeTimeZoneDateOnly]:"Cannot change the timezone of a DateOnly"};class Z extends Error{constructor(...N){super(...N)}}class g extends Z{constructor(N,I){super(Q(I)+N.message,{cause:N}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,g),I?.loc&&(this.loc=I.loc)}}class u extends Error{constructor(N,I,m,h){super("Execution error - "+Q(m)+(0,U.gx)(E[I],h)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,u),m?.loc&&(this.loc=m.loc)}}function Q(G){return G&&G.loc?`Line : ${G.loc.start?.line}, ${G.loc.start?.column}: `:""}class k extends Error{constructor(N,I,m,h){super("Compilation error - "+Q(m)+(0,U.gx)(E[I],h)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,k),m?.loc&&(this.loc=m.loc)}}class c extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,c)}}function $(G,N,I){return"esri.arcade.arcadeexecutionerror"===I.declaredRootClass||"esri.arcade.arcadecompilationerror"===I.declaredRootClass?null===I.loc&&N?.loc?new g(I,{cause:I}):I:N?.loc?new g(I,{cause:I}):I}var Y;!function(G){G.UnrecognizedUri="UnrecognizedUri",G.UnsupportedUriProtocol="UnsupportedUriProtocol"}(Y||(Y={}));const L={[Y.UnrecognizedUri]:"Unrecognized uri - {uri}",[Y.UnsupportedUriProtocol]:"Unrecognized uri protocol"};class q extends Error{constructor(N,I){super((0,U.gx)(L[N],I)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,q)}}},76961:(Re,ye,B)=>{B.d(ye,{$A:()=>m,Bj:()=>Q,EI:()=>l,HD:()=>Y,JW:()=>c,J_:()=>G,Lz:()=>V,NP:()=>I,Qk:()=>z,SV:()=>D,Sh:()=>$,T4:()=>N,US:()=>xe,_U:()=>h,dj:()=>k,hd:()=>be,hj:()=>q,q2:()=>ne,tI:()=>y,tt:()=>C,yE:()=>de});var Q,k,J,U=B(93630),P=B(88781),E=B(81429),Z=B(26894),g=B(81247),u=B(25037);function c(J){return g.Z.fromJSON(J.toJSON())}function $(J){return J.toJSON?J.toJSON():J}function Y(J){return"string"==typeof J||J instanceof String}function q(J){return"number"==typeof J}function G(J){return J instanceof Date}function N(J){return J instanceof u.ou}function I(J){return J instanceof U.iG}function m(J){return J instanceof P.u}function h(J){return J instanceof E.n}function C(J,X){return J===X||!(!G(J)&&!I(J)||!G(X)&&!I(X))&&J.getTime()===X.getTime()}function l(J){if(null==J)return null;if("number"==typeof J)return J;switch(J.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109439;case"kilometers":case"kilometer":case"km":return 109414}return null}function D(J){if(null==J)return null;switch(J.type){case"polygon":case"multipoint":case"polyline":return J.extent;case"point":return new Z.Z({xmin:J.x,ymin:J.y,xmax:J.x,ymax:J.y,spatialReference:J.spatialReference});case"extent":return J}return null}function V(J){if(null==J)return null;if("number"==typeof J||"number"==typeof J)return J;switch(J.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9093;case"kilometers":case"kilometer":case"km":return 9036}return null}(J=Q||(Q={}))[J.Standardised=0]="Standardised",J[J.StandardisedNoInterval=1]="StandardisedNoInterval",J[J.SqlServer=2]="SqlServer",J[J.Oracle=3]="Oracle",J[J.Postgres=4]="Postgres",J[J.PGDB=5]="PGDB",J[J.FILEGDB=6]="FILEGDB",J[J.NotEvaluated=7]="NotEvaluated",function(J){J[J.InFeatureSet=0]="InFeatureSet",J[J.NotInFeatureSet=1]="NotInFeatureSet",J[J.Unknown=2]="Unknown"}(k||(k={}));const y=1e3,z={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},ne={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},de={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate","date-only":"esriFieldTypeDateOnly","time-only":"esriFieldTypeTimeOnly","timestamp-offset":"esriFieldTypeTimestampOffset",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"esriFieldTypeXML","big-integer":"esriFieldTypeBigInteger",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeDateOnly:"esriFieldTypeDateOnly",esriFieldTypeTimeOnly:"esriFieldTypeTimeOnly",esriFieldTypeTimestampOffset:"esriFieldTypeTimestampOffset",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"esriFieldTypeXML",esriFieldTypeBigInteger:"esriFieldTypeBigInteger"};function xe(J){return void 0===J?"":J=(J=(J=J.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function be(J,X){X||(X={}),"function"==typeof X&&(X={cmp:X});const he="boolean"==typeof X.cycles&&X.cycles,ue=X.cmp&&(_e=X.cmp,function(Ye){return function(Ie,Se){return _e({key:Ie,value:Ye[Ie]},{key:Se,value:Ye[Se]})}});var _e;const Te=[];return function Ye(Ie){if(Ie?.toJSON&&"function"==typeof Ie.toJSON&&(Ie=Ie.toJSON()),void 0===Ie)return;if("number"==typeof Ie)return isFinite(Ie)?""+Ie:"null";if("object"!=typeof Ie)return JSON.stringify(Ie);let Se,Me;if(Array.isArray(Ie)){for(Me="[",Se=0;Se<Ie.length;Se++)Se&&(Me+=","),Me+=Ye(Ie[Se])||"null";return Me+"]"}if(null===Ie)return"null";if(Te.includes(Ie)){if(he)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const it=Te.push(Ie)-1,Le=Object.keys(Ie).sort(ue?.(Ie));for(Me="",Se=0;Se<Le.length;Se++){const et=Le[Se],Be=Ye(Ie[et]);Be&&(Me&&(Me+=","),Me+=JSON.stringify(et)+":"+Be)}return Te.splice(it,1),"{"+Me+"}"}(J)}},29673:(Re,ye,B)=>{B.d(ye,{AW:()=>Z,Ay:()=>ae,B9:()=>C,Es:()=>D,RI:()=>h,_R:()=>Q,nB:()=>j,s9:()=>q,ws:()=>l});var U=B(55117),P=B(85039),E=B(26230);function Z(y,T,H){return Math.sqrt((y[0]-T[0])**2+(y[1]-T[1])**2+(void 0!==y[2]&&void 0!==T[2]?(y[2]*H-T[2]*H)**2:0))}const g=[];for(const y of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const T=y[0];for(let H=1;H<y.length;H++)g[y[H]]=T}const u=[];function Q(y){return y.vcsWkid&&void 0!==g[y.vcsWkid]?u[g[y.vcsWkid]]:y.latestVcsWkid&&void 0!==g[y.latestVcsWkid]?u[g[y.latestVcsWkid]]:1}function k(y,T,H){const z={x:0,y:0};T&&(z.z=0),H&&(z.m=0);let ne=0,de=y[0];for(let ge=0;ge<y.length;ge++){const xe=y[ge];if(!1===L(xe,de)){const be=Y(de,xe,T),J=c(de,xe,T,H);J.x*=be,J.y*=be,z.x+=J.x,z.y+=J.y,T&&(J.z*=be,z.z+=J.z),H&&(J.m*=be,z.m+=J.m),ne+=be,de=xe}}return ne>0?(z.x/=ne,z.y/=ne,T&&(z.z/=ne),H&&(z.m/=ne)):(z.x=y[0][0],z.y=y[0][1],T&&(z.z=y[0][2]),H&&T?z.m=y[0][3]:H&&(z.m=y[0][2])),z}function c(y,T,H,z){const ne={x:(y[0]+T[0])/2,y:(y[1]+T[1])/2};return H&&(ne.z=(y[2]+T[2])/2),H&&z?ne.m=(y[3]+T[3])/2:z&&(ne.m=(y[2]+T[2])/2),ne}function $(y,T){if(y.length<=1)return 0;let H=0;for(let z=1;z<y.length;z++)H+=Y(y[z-1],y[z],T);return H}function Y(y,T,H){const z=T[0]-y[0],ne=T[1]-y[1];if(H){const de=T[2]-T[2];return Math.sqrt(z*z+ne*ne+de*de)}return Math.sqrt(z*z+ne*ne)}function L(y,T){if(y.length!==T.length)return!1;for(let H=0;H<y.length;H++)if(y[H]!==T[H])return!1;return!0}function q(y){const T={x:0,y:0,spatialReference:y.spatialReference.toJSON()},H={x:0,y:0,spatialReference:y.spatialReference.toJSON()};let z=0,ne=0;for(let de=0;de<y.paths.length;de++){if(0===y.paths[de].length)continue;const ge=$(y.paths[de],!0===y.hasZ);if(0===ge){const xe=k(y.paths[de],!0===y.hasZ,!0===y.hasM);T.x+=xe.x,T.y+=xe.y,!0===y.hasZ&&(T.z+=xe.z),!0===y.hasM&&(T.m+=xe.m),++z}else{const xe=k(y.paths[de],!0===y.hasZ,!0===y.hasM);H.x+=xe.x*ge,H.y+=xe.y*ge,!0===y.hasZ&&(H.z+=xe.z*ge),!0===y.hasM&&(H.m+=xe.m*ge),ne+=ge}}return ne>0?(H.x/=ne,H.y/=ne,!0===y.hasZ&&(H.z/=ne),!0===y.hasM&&(H.m/=ne),new P.Z(H)):z>0?(T.x/=z,T.y/=z,!0===y.hasZ&&(H.z/=z),!0===y.hasM&&(T.m/=z),new P.Z(T)):null}function ae(y){if(0===y.points.length)return null;let T=0,H=0,z=0,ne=0;for(let ge=0;ge<y.points.length;ge++){const xe=y.getPoint(ge);!0===xe.hasZ&&(z+=xe.z),!0===xe.hasM&&(ne+=xe.m),T+=xe.x,H+=xe.y,ne+=xe.m}const de={x:T/y.points.length,y:H/y.points.length,spatialReference:null};return de.spatialReference=y.spatialReference.toJSON(),!0===y.hasZ&&(de.z=z/y.points.length),!0===y.hasM&&(de.m=ne/y.points.length),new P.Z(de)}function I(y,T,H=0){for(;y<H;)y+=T;const z=H+T;for(;y>=z;)y-=T;return y}function m(y,T){return Math.atan2(T.y-y.y,T.x-y.x)}function h(y,T){return I(m(y,T),2*Math.PI)*(180/Math.PI)}function C(y,T){return I(Math.PI/2-m(y,T),2*Math.PI)*(180/Math.PI)}function _(y,T,H){const z={x:y.x-T.x,y:y.y-T.y},ne={x:H.x-T.x,y:H.y-T.y};return Math.atan2(function N(y,T){return y.x*T.y-T.x*y.y}(z,ne),function G(y,T){return y.x*T.x+y.y*T.y}(z,ne))}function l(y,T,H){return(0,U.BV)(I(_(y,T,H),2*Math.PI))}function D(y,T,H){return(0,U.BV)(I(-1*_(y,T,H),2*Math.PI))}u[9002]=.3048,u[9003]=.3048006096012192,u[9095]=.3048007491;const V=[0,0];function j(y){for(let T=0;T<y.length;T++){const H=y[T];for(let ne=0;ne<H.length-1;ne++){const de=H[ne],ge=H[ne+1];for(let xe=T+1;xe<y.length;xe++)for(let be=0;be<y[xe].length-1;be++){const J=y[xe][be],X=y[xe][be+1];if((0,E.UT)(de,ge,J,X,V)&&!(V[0]===de[0]&&V[1]===de[1]||V[0]===J[0]&&V[1]===J[1]||V[0]===ge[0]&&V[1]===ge[1]||V[0]===X[0]&&V[1]===X[1]))return!0}}const z=H.length;if(!(z<3))for(let ne=0;ne<=z-2;ne++){const de=H[ne],ge=H[ne+1];for(let xe=ne+2;xe<=z-2;xe++){const be=H[xe],J=H[xe+1];if((0,E.UT)(de,ge,be,J,V)&&!(V[0]===de[0]&&V[1]===de[1]||V[0]===be[0]&&V[1]===be[1]||V[0]===ge[0]&&V[1]===ge[1]||V[0]===J[0]&&V[1]===J[1]))return!0}}}return!1}},26484:(Re,ye,B)=>{B.d(ye,{r:()=>G});var U=B(93630),P=B(53570),E=B(89018),Z=B(88781),g=B(81429),u=B(55829),Q=B(25037);const $=[0,31,59,90,120,151,181,212,243,273,304,334],Y=[0,31,60,91,121,152,182,213,244,274,305,335];function L(N){return null===N?N:!1===N.isValid?null:N}function q(N,I){return""===N||"default"===N.toLowerCase().trim()?(0,E.L)(I):"z"===N||"Z"===N?"UTC":N}function ae(N,I){return(0,E.m)(N)?N.toArcadeDate():(0,E.l)(N,(0,E.L)(I))}function G(N,I){N.today=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,0,0,m,h);const D=new Date;return D.setHours(0,0,0,0),U.iG.dateJSAndZoneToArcadeDate(D,(0,E.L)(m))})},N.time=function(m,h){return I(m,h,(C,_,l)=>{switch((0,E.E)(l,0,4,m,h),l.length){case 0:{const D=U.iG.nowToArcadeDate((0,E.L)(m));return new g.n(D.hour,D.minute,D.second,D.millisecond)}case 1:{if((0,E.n)(l[0]))return l[0].clone();if((0,E.k)(l[0]))return new g.n(l[0].hour,l[0].minute,l[0].second,l[0].millisecond);if((0,E.m)(l[0]))return new g.n(0,0,0,0);if((0,E.c)(l[0]))return g.n.fromString(l[0]);const D=(0,E.g)(l[0]);return!1===isNaN(D)?g.n.fromMilliseconds(D):null}case 2:return(0,E.c)(l[0])&&(0,E.c)(l[1])?g.n.fromString(l[0],l[1]):g.n.fromParts((0,E.g)(l[0]),(0,E.g)(l[1]),0,0);case 3:return g.n.fromParts((0,E.g)(l[0]),(0,E.g)(l[1]),(0,E.g)(l[2]),0);case 4:return g.n.fromParts((0,E.g)(l[0]),(0,E.g)(l[1]),(0,E.g)(l[2]),(0,E.g)(l[3]))}throw new P.aV(m,P.rH.InvalidParameter,h)})},N.dateonly=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,0,3,m,h),3===l.length)return Z.u.fromParts((0,E.g)(l[0]),(0,E.g)(l[1])+1,(0,E.g)(l[2]));if(2===l.length){const D=(0,E.j)(l[1]);return""===D?null:"X"===D?Z.u.fromSeconds((0,E.g)(l[0])):"x"===D?Z.u.fromMilliseconds((0,E.g)(l[0])):Z.u.fromString((0,E.j)(l[0]),D)}if(1===l.length){if((0,E.c)(l[0])){if(""===l[0].replaceAll(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(l[0]))return Z.u.fromString(l[0]+"-01-01")}if((0,E.m)(l[0]))return l[0].clone();if((0,E.k)(l[0]))return Z.u.fromParts(l[0].year,l[0].monthJS+1,l[0].day);const D=(0,E.g)(l[0]);return!1===isNaN(D)?Z.u.fromMilliseconds(D):(0,E.c)(l[0])?Z.u.fromString(l[0]):null}if(0===l.length){const D=U.iG.nowToArcadeDate((0,E.L)(m));return!1===D.isValid?null:Z.u.fromParts(D.year,D.monthJS+1,D.day)}return null})},N.changetimezone=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,2,2,m,h),null===l[0])return null;if((0,E.m)(l[0]))throw new P.aV(m,P.rH.CannotChangeTimeZoneDateOnly,h);if((0,E.m)(l[0]))throw new P.aV(m,P.rH.CannotChangeTimeZoneTime,h);const D=(0,E.l)(l[0],(0,E.L)(m));if(null===D)throw new P.aV(m,P.rH.InvalidParameter,h);const V=(0,U.Qn)(q((0,E.j)(l[1]),m),!1);if(null===V)return null;const j=U.iG.arcadeDateAndZoneToArcadeDate(D,V);return!1===j.isValid?null:j})},N.timezone=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,1,2,m,h),(0,E.n)(l[0])||(0,E.m)(l[0]))return"Unknown";const D=(0,E.l)(l[0],(0,E.L)(m));if(null===D)return null;const V=D.timeZone;return"system"===V?U.iG.systemTimeZoneCanonicalName:"utc"===V.toLowerCase()?"UTC":"unknown"===V.toLowerCase()?"Unknown":V})},N.timezoneoffset=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=(0,E.l)(l[0],(0,E.L)(m));return null===D?null:60*D.timeZoneOffset*1e3})},N.now=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,0,0,m,h);const D=U.iG.nowToArcadeDate((0,E.L)(m));return!1===D.isValid?null:D})},N.timestamp=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,0,0,m,h);const D=U.iG.nowUTCToArcadeDate();return!1===D.isValid?null:D})},N.toutc=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=(0,E.l)(l[0],(0,E.L)(m));return null===D?null:D.toUTC()})},N.tolocal=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=(0,E.l)(l[0],(0,E.L)(m));return null===D?null:D.toLocal()})},N.day=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=ae(l[0],(0,E.L)(m));return null===D?NaN:D.day})},N.month=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=ae(l[0],(0,E.L)(m));return null===D?NaN:D.monthJS})},N.year=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=ae(l[0],(0,E.L)(m));return null===D?NaN:D.year})},N.hour=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,1,1,m,h),(0,E.n)(l[0]))return l[0].hour;const D=(0,E.l)(l[0],(0,E.L)(m));return null===D?NaN:D.hour})},N.second=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,1,1,m,h),(0,E.n)(l[0]))return l[0].second;const D=(0,E.l)(l[0],(0,E.L)(m));return null===D?NaN:D.second})},N.millisecond=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,1,1,m,h),(0,E.n)(l[0]))return l[0].millisecond;const D=(0,E.l)(l[0],(0,E.L)(m));return null===D?NaN:D.millisecond})},N.minute=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,1,1,m,h),(0,E.n)(l[0]))return l[0].minute;const D=(0,E.l)(l[0],(0,E.L)(m));return null===D?NaN:D.minute})},N.week=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,2,m,h);const D=ae(l[0],(0,E.L)(m));if(null===D)return NaN;const V=(0,E.g)((0,E.H)(l[1],0));if(V<0||V>6)throw new P.aV(m,P.rH.InvalidParameter,h);const H=D.dayOfWeekJS,z=function k(N,I,m){return N+(function c(N){return N%4==0&&(N%100!=0||N%400==0)}(m)?Y:$)[I]}(D.day,D.monthJS,D.year)-1,ne=Math.floor(z/7);return H-V+(H-V<0?7:0)<z-7*ne?ne+1:ne})},N.weekday=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=ae(l[0],(0,E.L)(m));return null===D?NaN:D.dayOfWeekJS})},N.isoweekday=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=ae(l[0],(0,E.L)(m));return null===D?NaN:D.dayOfWeekISO})},N.isomonth=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=ae(l[0],(0,E.L)(m));return null===D?NaN:D.monthISO})},N.isoweek=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=ae(l[0],(0,E.L)(m));return null===D?NaN:D.weekISO})},N.isoyear=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,1,1,m,h);const D=ae(l[0],(0,E.L)(m));return null===D?NaN:D.yearISO})},N.date=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,0,8,m,h),3===l.length){if((0,E.m)(l[0])&&(0,E.n)(l[1])&&(0,E.c)(l[2])){const D=(0,U.Qn)(q((0,E.j)(l[2])??"unknown",m),!1);return null===D?null:L(U.iG.fromParts(l[0].year,l[0].month,l[0].day,l[1].hour,l[1].minute,l[1].second,l[1].millisecond,D))}return L(U.iG.fromParts((0,E.g)(l[0]),(0,E.g)(l[1])+1,(0,E.g)(l[2]),0,0,0,0,(0,E.L)(m)))}if(4===l.length)return L(U.iG.fromParts((0,E.g)(l[0]),(0,E.g)(l[1])+1,(0,E.g)(l[2]),(0,E.g)(l[3]),0,0,0,(0,E.L)(m)));if(5===l.length)return L(U.iG.fromParts((0,E.g)(l[0]),(0,E.g)(l[1])+1,(0,E.g)(l[2]),(0,E.g)(l[3]),(0,E.g)(l[4]),0,0,(0,E.L)(m)));if(6===l.length)return L(U.iG.fromParts((0,E.g)(l[0]),(0,E.g)(l[1])+1,(0,E.g)(l[2]),(0,E.g)(l[3]),(0,E.g)(l[4]),(0,E.g)(l[5]),0,(0,E.L)(m)));if(7===l.length)return L(U.iG.fromParts((0,E.g)(l[0]),(0,E.g)(l[1])+1,(0,E.g)(l[2]),(0,E.g)(l[3]),(0,E.g)(l[4]),(0,E.g)(l[5]),(0,E.g)(l[6]),(0,E.L)(m)));if(8===l.length){const D=(0,U.Qn)(q((0,E.j)(l[7])??"unknown",m),!1);return null===D?null:L(U.iG.fromParts((0,E.g)(l[0]),(0,E.g)(l[1])+1,(0,E.g)(l[2]),(0,E.g)(l[3]),(0,E.g)(l[4]),(0,E.g)(l[5]),(0,E.g)(l[6]),D))}if(2===l.length){if((0,E.m)(l[0])&&(0,E.c)(l[1])){const j=(0,U.Qn)(q((0,E.j)(l[1])??"unknown",m),!1);return null===j?null:L(U.iG.fromParts(l[0].year,l[0].month,l[0].day,0,0,0,0,j))}if((0,E.m)(l[0])&&(0,E.n)(l[1]))return L(U.iG.fromParts(l[0].year,l[0].month,l[0].day,l[1].hour,l[1].minute,l[1].second,l[1].millisecond,"unknown"));let D,V=(0,E.j)(l[1]);return""===V?null:(V=(0,E.O)(V,!0),D="X"===V?Q.ou.fromSeconds((0,E.g)(l[0])):"x"===V?Q.ou.fromMillis((0,E.g)(l[0])):Q.ou.fromFormat((0,E.j)(l[0]),V,{locale:(0,u.Kd)(),numberingSystem:"latn"}),D.isValid?U.iG.dateTimeToArcadeDate(D):null)}if(1===l.length){if((0,E.m)(l[0]))return L(U.iG.fromParts(l[0].year,l[0].month,l[0].day,0,0,0,0,"unknown"));if((0,E.c)(l[0])){if(""===l[0].replaceAll(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(l[0]))return(0,E.l)(l[0]+"-01-01",(0,E.L)(m))}const D=(0,E.g)(l[0]);if(!1===isNaN(D)){const V=Q.ou.fromMillis(D);return V.isValid?U.iG.dateTimeAndZoneToArcadeDate(V,(0,E.L)(m)):null}return(0,E.l)(l[0],(0,E.L)(m))}return 0===l.length?U.iG.nowToArcadeDate((0,E.L)(m)):null})},N.datediff=function(m,h){return I(m,h,(C,_,l)=>{if((0,E.E)(l,2,4,m,h),(0,E.n)(l[0]))return(0,E.n)(l[1])?l[0].difference(l[1],(0,E.j)(l[2])):NaN;if((0,E.n)(l[1]))return NaN;if((0,E.m)(l[0]))return(0,E.m)(l[1])?l[0].difference(l[1],(0,E.j)(l[2])):NaN;if((0,E.m)(l[1]))return NaN;let D=(0,E.l)(l[0],(0,E.L)(m)),V=(0,E.l)(l[1],(0,E.L)(m));if(null===D||null===V)return NaN;let j=(0,E.H)(l[3],"");switch(""!==j&&null!==j?(j=q((0,E.j)(j),m),D=U.iG.arcadeDateAndZoneToArcadeDate(D,j),V=U.iG.arcadeDateAndZoneToArcadeDate(V,j)):D.timeZone!==V.timeZone&&(D.isUnknownTimeZone?D=U.iG.arcadeDateAndZoneToArcadeDate(D,V.timeZone):V=U.iG.arcadeDateAndZoneToArcadeDate(V,D.timeZone)),(0,E.j)(l[2]).toLowerCase()){case"days":case"day":case"d":return D.diff(V,"days");case"months":case"month":return D.diff(V,"months");case"minutes":case"minute":case"m":return D.diff(V,"M"===l[2]?"months":"minutes");case"seconds":case"second":case"s":return D.diff(V,"seconds");case"milliseconds":case"millisecond":case"ms":default:return D.diff(V);case"hours":case"hour":case"h":return D.diff(V,"hours");case"years":case"year":case"y":return D.diff(V,"years")}})},N.dateadd=function(m,h){return I(m,h,(C,_,l)=>{(0,E.E)(l,2,3,m,h);let D=(0,E.g)(l[1]);if(isNaN(D)||D===1/0||D===-1/0)return(0,E.n)(l[0])||(0,E.m)(l[0])?l[0].clone():(0,E.l)(l[0],(0,E.L)(m));let V="milliseconds";switch((0,E.j)(l[2]).toLowerCase()){case"days":case"day":case"d":V="days",D=(0,E.m)(l[0])?D:(0,E.P)(D);break;case"months":case"month":V="months",D=(0,E.m)(l[0])?D:(0,E.P)(D);break;case"minutes":case"minute":case"m":V="M"===l[2]?"months":"minutes";break;case"seconds":case"second":case"s":V="seconds";break;case"milliseconds":case"millisecond":case"ms":V="milliseconds";break;case"hours":case"hour":case"h":V="hours";break;case"years":case"year":case"y":V="years"}if((0,E.n)(l[0])||(0,E.m)(l[0]))return l[0].plus(V,D);const j=(0,E.l)(l[0],(0,E.L)(m));return null===j?null:j.plus({[V]:D})})}}},10115:(Re,ye,B)=>{B.d(ye,{t:()=>Q});var U=B(89018);function P(k){let c=0;for(let $=0;$<k.length;$++)c+=k[$];return c/k.length}function E(k){const c=P(k);let $=0;for(let Y=0;Y<k.length;Y++)$+=(c-k[Y])**2;return $/k.length}function Q(k,c,$=1e3){switch(k.toLowerCase()){case"distinct":return function g(k,c){const $=[],Y={},L=[];for(let q=0;q<k.length;q++){if(null!=k[q]&&k[q]!==U.x){const ae=k[q];if((0,U.b)(ae)||(0,U.c)(ae))void 0===Y[ae]&&($.push(ae),Y[ae]=1);else{let G=!1;for(let N=0;N<L.length;N++)!0===(0,U.C)(L[N],ae)&&(G=!0);!1===G&&(L.push(ae),$.push(ae))}}if($.length>=c&&-1!==c)return $}return $}(c,$);case"avg":case"mean":return P((0,U._)(c));case"min":return Math.min.apply(Math,(0,U._)(c));case"sum":return function Z(k){let c=0;for(let $=0;$<k.length;$++)c+=k[$];return c}((0,U._)(c));case"max":return Math.max.apply(Math,(0,U._)(c));case"stdev":case"stddev":return Math.sqrt(E((0,U._)(c)));case"var":case"variance":return E((0,U._)(c));case"count":return c.length}return 0}},96479:(Re,ye,B)=>{B.d(ye,{Z:()=>h,r:()=>I});var U=B(70430),P=B(53570),E=B(860),Z=B(69103),g=B(85833),u=B(89018),Q=B(29673),k=B(26894),c=B(32184),$=B(12628),Y=B(85039),L=B(5391),q=B(64222),ae=B(54746),G=B(40637);function N(C){return C&&"esri.arcade.Feature"===C.arcadeDeclaredClass}function I(C,_){C.ringisclockwise=function(l,D){return _(l,D,(V,j,y)=>{(0,u.E)(y,1,1,l,D);let T=[];if(null===y[0])return!1;if((0,u.o)(y[0]))for(const H of y[0]){if(!(H instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D);T.push(H.hasZ?H.hasM?[H.x,H.y,H.z,H.m]:[H.x,H.y,H.z]:[H.x,H.y])}else if(y[0]instanceof g.Z)T=y[0]._elements;else{if(!(0,u.q)(y[0]))throw new P.aV(l,P.rH.InvalidParameter,D);for(const H of y[0].toArray()){if(!(H instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D);T.push(H.hasZ?H.hasM?[H.x,H.y,H.z,H.m]:[H.x,H.y,H.z]:[H.x,H.y])}}return!(T.length<3)&&(0,ae.bu)(T)})},C.polygon=function(l,D){return _(l,D,(V,j,y)=>{(0,u.E)(y,1,1,l,D);let T=null;if(y[0]instanceof U.Z){if(T=(0,u.A)(E.Z.parseGeometryFromDictionary(y[0]),l.spatialReference),!(T instanceof L.Z))throw new P.aV(l,P.rH.InvalidParameter,D)}else T=y[0]instanceof L.Z?(0,G.im)(y[0].toJSON()):(0,u.A)(new L.Z(JSON.parse(y[0])),l.spatialReference);if(null!==T&&!1===T.spatialReference.equals(l.spatialReference))throw new P.aV(l,P.rH.WrongSpatialReference,D);return(0,u.Q)(T)})},C.polyline=function(l,D){return _(l,D,(V,j,y)=>{(0,u.E)(y,1,1,l,D);let T=null;if(y[0]instanceof U.Z){if(T=(0,u.A)(E.Z.parseGeometryFromDictionary(y[0]),l.spatialReference),!(T instanceof q.Z))throw new P.aV(l,P.rH.InvalidParameter,D)}else T=y[0]instanceof q.Z?(0,G.im)(y[0].toJSON()):(0,u.A)(new q.Z(JSON.parse(y[0])),l.spatialReference);if(null!==T&&!1===T.spatialReference.equals(l.spatialReference))throw new P.aV(l,P.rH.WrongSpatialReference,D);return(0,u.Q)(T)})},C.point=function(l,D){return _(l,D,(V,j,y)=>{(0,u.E)(y,1,1,l,D);let T=null;if(y[0]instanceof U.Z){if(T=(0,u.A)(E.Z.parseGeometryFromDictionary(y[0]),l.spatialReference),!(T instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D)}else T=y[0]instanceof Y.Z?(0,G.im)(y[0].toJSON()):(0,u.A)(new Y.Z(JSON.parse(y[0])),l.spatialReference);if(null!==T&&!1===T.spatialReference.equals(l.spatialReference))throw new P.aV(l,P.rH.WrongSpatialReference,D);return(0,u.Q)(T)})},C.multipoint=function(l,D){return _(l,D,(V,j,y)=>{(0,u.E)(y,1,1,l,D);let T=null;if(y[0]instanceof U.Z){if(T=(0,u.A)(E.Z.parseGeometryFromDictionary(y[0]),l.spatialReference),!(T instanceof $.Z))throw new P.aV(l,P.rH.InvalidParameter,D)}else T=y[0]instanceof $.Z?(0,G.im)(y[0].toJSON()):(0,u.A)(new $.Z(JSON.parse(y[0])),l.spatialReference);if(null!==T&&!1===T.spatialReference.equals(l.spatialReference))throw new P.aV(l,P.rH.WrongSpatialReference,D);return(0,u.Q)(T)})},C.extent=function(l,D){return _(l,D,(V,j,y)=>{y=(0,u.F)(y),(0,u.E)(y,1,1,l,D);let T=null;if(y[0]instanceof U.Z)T=(0,u.A)(E.Z.parseGeometryFromDictionary(y[0]),l.spatialReference);else if(y[0]instanceof Y.Z){const H={xmin:y[0].x,ymin:y[0].y,xmax:y[0].x,ymax:y[0].y,spatialReference:y[0].spatialReference.toJSON()},z=y[0];z.hasZ?(H.zmin=z.z,H.zmax=z.z):z.hasM&&(H.mmin=z.m,H.mmax=z.m),T=(0,G.im)(H)}else T=y[0]instanceof L.Z||y[0]instanceof q.Z||y[0]instanceof $.Z?(0,G.im)(y[0].extent?.toJSON()):y[0]instanceof k.Z?(0,G.im)(y[0].toJSON()):(0,u.A)(new k.Z(JSON.parse(y[0])),l.spatialReference);if(null!==T&&!1===T.spatialReference.equals(l.spatialReference))throw new P.aV(l,P.rH.WrongSpatialReference,D);return(0,u.Q)(T)})},C.geometry=function(l,D){return _(l,D,(V,j,y)=>{(0,u.E)(y,1,1,l,D);let T=null;if(null===y[0])return null;if(T=N(y[0])?(0,u.A)(y[0].geometry(),l.spatialReference):(0,u.A)(y[0]instanceof U.Z?E.Z.parseGeometryFromDictionary(y[0]):(0,G.im)(JSON.parse(y[0])),l.spatialReference),null!==T&&!1===T.spatialReference.equals(l.spatialReference))throw new P.aV(l,P.rH.WrongSpatialReference,D);return(0,u.Q)(T)})},C.setgeometry=function(l,D){return _(l,D,(V,j,y)=>{if((0,u.E)(y,2,2,l,D),!N(y[0]))throw new P.aV(l,P.rH.InvalidParameter,D);if(!0===y[0].immutable)throw new P.aV(l,P.rH.Immutable,D);if(!(y[1]instanceof c.Z||null===y[1]))throw new P.aV(l,P.rH.InvalidParameter,D);return y[0]._geometry=y[1],u.x})},C.feature=function(l,D){return _(l,D,(V,j,y)=>{if(0===y.length)throw new P.aV(l,P.rH.WrongNumberOfParameters,D);let T=null;if(1===y.length)if((0,u.c)(y[0]))T=E.Z.fromJson(JSON.parse(y[0]),l.timeZone);else if(N(y[0]))T=E.Z.createFromArcadeFeature(y[0]);else if(y[0]instanceof c.Z)T=E.Z.createFromGraphicLikeObject(y[0],null,null,l.timeZone);else{if(!(y[0]instanceof U.Z))throw new P.aV(l,P.rH.InvalidParameter,D);{let H=y[0].hasField("geometry")?y[0].field("geometry"):null,z=y[0].hasField("attributes")?y[0].field("attributes"):null;null!==H&&H instanceof U.Z&&(H=E.Z.parseGeometryFromDictionary(H)),null!==z&&(z=E.Z.parseAttributesFromDictionary(z)),T=E.Z.createFromGraphicLikeObject(H,z,null,l.timeZone)}}else if(2===y.length){let H=null,z=null;if(null!==y[0])if(y[0]instanceof c.Z)H=y[0];else{if(!(H instanceof U.Z))throw new P.aV(l,P.rH.InvalidParameter,D);H=E.Z.parseGeometryFromDictionary(y[0])}if(null!==y[1]){if(!(y[1]instanceof U.Z))throw new P.aV(l,P.rH.InvalidParameter,D);z=E.Z.parseAttributesFromDictionary(y[1])}T=E.Z.createFromGraphicLikeObject(H,z,null,l.timeZone)}else{let H=null;const z={};if(null!==y[0])if(y[0]instanceof c.Z)H=y[0];else{if(!(H instanceof U.Z))throw new P.aV(l,P.rH.InvalidParameter,D);H=E.Z.parseGeometryFromDictionary(y[0])}for(let ne=1;ne<y.length;ne+=2){const de=(0,u.j)(y[ne]),ge=y[ne+1];if(!(null==ge||(0,u.c)(ge)||isNaN(ge)||(0,u.k)(ge)||(0,u.b)(ge)||(0,u.n)(ge)||(0,u.m)(ge)||(0,u.a)(ge)))throw new P.aV(l,P.rH.InvalidParameter,D);if((0,u.i)(ge)||!1===(0,u.f)(ge))throw new P.aV(l,P.rH.InvalidParameter,D);z[de]=ge===u.x?null:ge}T=E.Z.createFromGraphicLikeObject(H,z,null,l.timeZone)}return T._geometry=(0,u.A)(T.geometry(),l.spatialReference),T.immutable=!1,T})},C.dictionary=function(l,D){return _(l,D,(V,j,y)=>{if(0===y.length||1===y.length&&null===y[0]){const z=new U.Z;return z.immutable=!1,z}if(1===y.length&&(0,u.c)(y[0]))try{const z=JSON.parse(y[0]),ne=U.Z.convertObjectToArcadeDictionary(z,(0,u.L)(l),!1);return ne.immutable=!1,ne}catch{throw new P.aV(l,P.rH.InvalidParameter,D)}if(1===y.length&&y[0]instanceof c.Z)try{const z=y[0].toJSON();z.hasZ=!0===y[0].hasZ,z.hasM=!0===y[0].hasM;const ne=U.Z.convertObjectToArcadeDictionary(z,(0,u.L)(l),!1);return ne.immutable=!1,ne}catch{throw new P.aV(l,P.rH.InvalidParameter,D)}if(1===y.length&&(0,u.r)(y[0]))try{const z=new U.Z;z.immutable=!1,z.setField("geometry",y[0].geometry());const ne=new U.Z;ne.immutable=!1,z.setField("attributes",ne);for(const de of y[0].keys())ne.setField(de,y[0].field(de));return z}catch{throw new P.aV(l,P.rH.InvalidParameter,D)}if(1===y.length&&y[0]instanceof U.Z)try{const z=new U.Z;z.immutable=!1;for(const ne of y[0].keys())z.setField(ne,y[0].field(ne));return z}catch{throw new P.aV(l,P.rH.InvalidParameter,D)}if(2===y.length&&y[0]instanceof U.Z&&(0,u.a)(y[1]))try{if(!0!==y[1]){const z=new U.Z;z.immutable=!1;for(const ne of y[0].keys())z.setField(ne,y[0].field(ne));return z}return y[0].deepClone()}catch{throw new P.aV(l,P.rH.InvalidParameter,D)}if(y.length%2!=0)throw new P.aV(l,P.rH.WrongNumberOfParameters,D);const T={};for(let z=0;z<y.length;z+=2){const ne=(0,u.j)(y[z]),de=y[z+1];if(!(null==de||(0,u.c)(de)||isNaN(de)||(0,u.k)(de)||(0,u.b)(de)||(0,u.a)(de)||(0,u.m)(de)||(0,u.n)(de)||(0,u.o)(de)||(0,u.q)(de)))throw new P.aV(l,P.rH.InvalidParameter,D);if((0,u.i)(de))throw new P.aV(l,P.rH.InvalidParameter,D);T[ne]=de===u.x?null:de}const H=new U.Z(T);return H.immutable=!1,H})},C.haskey=function(l,D){return _(l,D,(V,j,y)=>{(0,u.E)(y,2,2,l,D);const T=(0,u.j)(y[1]);if(N(y[0])||y[0]instanceof U.Z)return y[0].hasField(T);if(y[0]instanceof c.Z){const H=h(y[0],T,null,null,2);return!H||"notfound"!==H.keystate}throw new P.aV(l,P.rH.InvalidParameter,D)})},C.hasvalue=function(l,D){return _(l,D,(V,j,y)=>{if((0,u.E)(y,2,2,l,D),null===y[0]||null===y[1])return!1;const T=(0,u.j)(y[1]);return(0,u.r)(y[0])||y[0]instanceof U.Z?!!y[0].hasField(T)&&null!==y[0].field(T):y[0]instanceof c.Z&&null!==h(y[0],T,null,null,0)})},C.indexof=function(l,D){return _(l,D,(V,j,y)=>{(0,u.E)(y,2,2,l,D);const T=y[1];if((0,u.o)(y[0])){for(let H=0;H<y[0].length;H++)if((0,u.C)(T,y[0][H]))return H;return-1}if((0,u.q)(y[0])){const H=y[0].length();for(let z=0;z<H;z++)if((0,u.C)(T,y[0].get(z)))return z;return-1}throw new P.aV(l,P.rH.InvalidParameter,D)})},C.angle=function(l,D){return _(l,D,(V,j,y)=>{if(y=(0,u.F)(y),(0,u.E)(y,2,3,l,D),!(y[0]instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D);if(!(y[1]instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D);if(y.length>2&&!(y[2]instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D);return 2===y.length?(0,Q.RI)(y[0],y[1]):(0,Q.ws)(y[0],y[1],y[2])})},C.bearing=function(l,D){return _(l,D,(V,j,y)=>{if(y=(0,u.F)(y),(0,u.E)(y,2,3,l,D),!(y[0]instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D);if(!(y[1]instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D);if(y.length>2&&!(y[2]instanceof Y.Z))throw new P.aV(l,P.rH.InvalidParameter,D);return 2===y.length?(0,Q.B9)(y[0],y[1]):(0,Q.Es)(y[0],y[1],y[2])})},C.isselfintersecting=function(l,D){return _(l,D,(V,j,y)=>{y=(0,u.F)(y),(0,u.E)(y,1,1,l,D);let T=y[0];if(T instanceof L.Z)return T.isSelfIntersecting;if(T instanceof q.Z)return T=T.paths,(0,Q.nB)(T);if(T instanceof $.Z){const H=T.points;for(let z=0;z<H.length;z++)for(let ne=0;ne<H.length;ne++)if(ne!==z){let de=!0;for(let ge=0;ge<H[z].length;ge++)if(H[z][ge]!==H[ne][ge]){de=!1;break}if(!0===de)return!0}}return!(!(0,u.o)(T)&&!(0,u.q)(T))&&(T=(0,u.J)(T,l.spatialReference),null!==T&&(T=T.paths),(0,Q.nB)(T))})}}let m=0;function h(C,_,l,D,V=1){let j;switch(_=_.toLowerCase()){case"hasz":{const y=C.hasZ;return void 0!==y&&y}case"hasm":{const y=C.hasM;return void 0!==y&&y}case"spatialreference":{let y=C.spatialReference._arcadeCacheId;if(void 0===y){let H=!0;Object.freeze&&Object.isFrozen(C.spatialReference)&&(H=!1),H&&(m++,C.spatialReference._arcadeCacheId=m,y=m)}const T=new U.Z({wkt:C.spatialReference.wkt,wkid:C.spatialReference.wkid});return void 0!==y&&(T._arcadeCacheId="SPREF"+y.toString()),T}}switch(C.type){case"extent":switch(_){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const y=C[_];return void 0!==y?y:null}case"type":return"Extent"}break;case"polygon":switch(_){case"rings":return j=C.cache._arcadeCacheId,void 0===j&&(m++,j=m,C.cache._arcadeCacheId=j),new Z.Z(C.rings,C.spatialReference,!0===C.hasZ,!0===C.hasM,j);case"type":return"Polygon"}break;case"point":switch(_){case"x":case"y":case"z":case"m":return void 0!==C[_]?C[_]:null;case"type":return"Point"}break;case"polyline":switch(_){case"paths":return j=C.cache._arcadeCacheId,void 0===j&&(m++,j=m,C.cache._arcadeCacheId=j),new Z.Z(C.paths,C.spatialReference,!0===C.hasZ,!0===C.hasM,j);case"type":return"Polyline"}break;case"multipoint":switch(_){case"points":return j=C.cache._arcadeCacheId,void 0===j&&(m++,j=m,C.cache._arcadeCacheId=j),new g.Z(C.points,C.spatialReference,!0===C.hasZ,!0===C.hasM,j,1);case"type":return"Multipoint"}}if(1===V)throw new P.aV(l,P.rH.InvalidIdentifier,D);return 2===V?{keystate:"notfound"}:null}},89325:(Re,ye,B)=>{B.d(ye,{r:()=>Z});var U=B(89018),P=B(51937);function E(g,u,Q){return void 0===Q||0==+Q?Math[g](u):(u=+u,Q=+Q,isNaN(u)||"number"!=typeof Q||Q%1!=0?NaN:(u=u.toString().split("e"),+((u=(u=Math[g](+(u[0]+"e"+(u[1]?+u[1]-Q:-Q)))).toString().split("e"))[0]+"e"+(u[1]?+u[1]+Q:Q))))}function Z(g,u){function Q(k,c,$){const Y=(0,U.g)(k);return isNaN(Y)?Y:isNaN(c)||isNaN($)||c>$?NaN:Y<c?c:Y>$?$:Y}g.number=function(k,c){return u(k,c,($,Y,L)=>{(0,U.E)(L,1,2,k,c);const q=L[0];if((0,U.b)(q))return q;if(null===q)return 0;if((0,U.k)(q)||(0,U.n)(q)||(0,U.m)(q))return q.toNumber();if((0,U.a)(q))return Number(q);if((0,U.o)(q))return NaN;if(""===q||void 0===q)return Number(q);if((0,U.c)(q)){if(void 0!==L[1]){let ae=(0,U.S)(L[1],"\u2030","");return ae=(0,U.S)(ae,"\xa4",""),(0,P.Qc)(q,{pattern:ae})}return Number(q.trim())}return Number(q)})},g.abs=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.abs((0,U.g)(L[0]))))},g.acos=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.acos((0,U.g)(L[0]))))},g.asin=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.asin((0,U.g)(L[0]))))},g.atan=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.atan((0,U.g)(L[0]))))},g.atan2=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,2,2,k,c),Math.atan2((0,U.g)(L[0]),(0,U.g)(L[1]))))},g.ceil=function(k,c){return u(k,c,($,Y,L)=>{if((0,U.E)(L,1,2,k,c),2===L.length){let q=(0,U.g)(L[1]);return isNaN(q)&&(q=0),E("ceil",(0,U.g)(L[0]),-1*q)}return Math.ceil((0,U.g)(L[0]))})},g.round=function(k,c){return u(k,c,($,Y,L)=>{if((0,U.E)(L,1,2,k,c),2===L.length){let q=(0,U.g)(L[1]);return isNaN(q)&&(q=0),E("round",(0,U.g)(L[0]),-1*q)}return Math.round((0,U.g)(L[0]))})},g.floor=function(k,c){return u(k,c,($,Y,L)=>{if((0,U.E)(L,1,2,k,c),2===L.length){let q=(0,U.g)(L[1]);return isNaN(q)&&(q=0),E("floor",(0,U.g)(L[0]),-1*q)}return Math.floor((0,U.g)(L[0]))})},g.cos=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.cos((0,U.g)(L[0]))))},g.isnan=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),"number"==typeof L[0]&&isNaN(L[0])))},g.exp=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.exp((0,U.g)(L[0]))))},g.log=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.log((0,U.g)(L[0]))))},g.pow=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,2,2,k,c),(0,U.g)(L[0])**(0,U.g)(L[1])))},g.random=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,0,0,k,c),Math.random()))},g.sin=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.sin((0,U.g)(L[0]))))},g.sqrt=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.sqrt((0,U.g)(L[0]))))},g.tan=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),Math.tan((0,U.g)(L[0]))))},g.defaultvalue=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,2,2,k,c),null===L[0]||""===L[0]||void 0===L[0]?L[1]:L[0]))},g.isempty=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),null===L[0]||""===L[0]||void 0===L[0]))},g.boolean=function(k,c){return u(k,c,($,Y,L)=>((0,U.E)(L,1,1,k,c),(0,U.h)(L[0])))},g.constrain=function(k,c){return u(k,c,($,Y,L)=>{(0,U.E)(L,3,3,k,c);const q=(0,U.g)(L[1]),ae=(0,U.g)(L[2]);if((0,U.o)(L[0])){const G=[];for(const N of L[0])G.push(Q(N,q,ae));return G}if((0,U.q)(L[0])){const G=[];for(let N=0;N<L[0].length();N++)G.push(Q(L[0].get(N),q,ae));return G}return Q(L[0],q,ae)})}}},18780:(Re,ye,B)=>{B.d(ye,{r:()=>g});var U=B(53570),P=B(89018),E=B(10115);function Z(u,Q,k,c){if(1===c.length){if((0,P.o)(c[0]))return(0,E.t)(u,c[0],-1);if((0,P.q)(c[0]))return(0,E.t)(u,c[0].toArray(),-1)}return(0,E.t)(u,c,-1)}function g(u,Q){u.stdev=function(k,c){return Q(k,c,($,Y,L)=>Z("stdev",0,0,L))},u.variance=function(k,c){return Q(k,c,($,Y,L)=>Z("variance",0,0,L))},u.average=function(k,c){return Q(k,c,($,Y,L)=>Z("mean",0,0,L))},u.mean=function(k,c){return Q(k,c,($,Y,L)=>Z("mean",0,0,L))},u.sum=function(k,c){return Q(k,c,($,Y,L)=>Z("sum",0,0,L))},u.min=function(k,c){return Q(k,c,($,Y,L)=>Z("min",0,0,L))},u.max=function(k,c){return Q(k,c,($,Y,L)=>Z("max",0,0,L))},u.distinct=function(k,c){return Q(k,c,($,Y,L)=>Z("distinct",0,0,L))},u.count=function(k,c){return Q(k,c,($,Y,L)=>{if((0,P.E)(L,1,1,k,c),(0,P.o)(L[0])||(0,P.c)(L[0]))return L[0].length;if((0,P.q)(L[0]))return L[0].length();throw new U.aV(k,U.rH.InvalidParameter,c)})}}},40801:(Re,ye,B)=>{B.d(ye,{r:()=>Ft});var U=B(97478),P=B(97973),E=B(70430),Z=B(53570),g=B(89018),u=B(76961),Q=B(51172);const k=b=>(F,w,A)=>(A=A||14,+b(F,w).toFixed(A)),c=(b,F)=>b+F,Y=(b,F)=>b*F,L=(b,F)=>b/F,q=(b,F,w)=>k(c)(b,F,w),G=(b,F,w)=>k(Y)(b,F,w),N=(b,F,w)=>k(L)(b,F,w),I=360,m=400,h=2*Math.PI,C=3600,l=60,D=60,V=180*C/Math.PI,j=I*l*D,y=90*C,T=180*C,z=String.fromCharCode(7501),ne="\xb0";function de(b){if(!1===(0,g.c)(b))throw new Z.aV(null,Z.rH.InvalidParameter,null);return b}function ge(b,F){const w=10**F;return Math.round(b*w)/w}function be(b){const F=parseFloat(b.toString().replace(Math.trunc(b).toString(),"0"))*Math.sign(b);return b<0?{fraction:F,integer:Math.ceil(b)}:{fraction:F,integer:Math.floor(b)}}var J,X,he,ue,b;function _e(b,F){switch(b){case J.north:return"SHORT"===F?"N":"North";case J.east:return"SHORT"===F?"E":"East";case J.south:return"SHORT"===F?"S":"South";case J.west:return"SHORT"===F?"W":"West"}}function Te(b,F){return b-Math.floor(b/F)*F}function Ye(b){switch(b){case X.truncated_degrees:case X.decimal_degrees:return I;case X.radians:return h;case X.gradians:return m;case X.seconds:return j;case X.fractional_degree_minutes:return l;case X.fractional_minute_seconds:return D;default:throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unsupported evaluations"})}}function Ie(b){switch(b.toUpperCase().trim()){case"NORTH":case"NORTHAZIMUTH":case"NORTH AZIMUTH":return he.north_azimuth;case"POLAR":return he.polar;case"QUADRANT":return he.quadrant;case"SOUTH":case"SOUTHAZIMUTH":case"SOUTH AZIMUTH":return he.south_azimuth}throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unsupported directionType"})}function Se(b){switch(b.toUpperCase().trim()){case"D":case"DD":case"DECIMALDEGREE":case"DECIMAL DEGREE":case"DEGREE":case"DECIMALDEGREES":case"DECIMAL DEGREES":case"DEGREES":return X.decimal_degrees;case"DMS":case"DEGREESMINUTESSECONDS":case"DEGREES MINUTES SECONDS":return X.degrees_minutes_seconds;case"R":case"RAD":case"RADS":case"RADIAN":case"RADIANS":return X.radians;case"G":case"GON":case"GONS":case"GRAD":case"GRADS":case"GRADIAN":case"GRADIANS":return X.gradians}throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unsupported units"})}(b=J||(J={}))[b.north=0]="north",b[b.east=1]="east",b[b.south=2]="south",b[b.west=3]="west",function(b){b[b.decimal_degrees=1]="decimal_degrees",b[b.seconds=2]="seconds",b[b.degrees_minutes_seconds=3]="degrees_minutes_seconds",b[b.radians=4]="radians",b[b.gradians=5]="gradians",b[b.truncated_degrees=6]="truncated_degrees",b[b.fractional_degree_minutes=7]="fractional_degree_minutes",b[b.fractional_minute_seconds=8]="fractional_minute_seconds"}(X||(X={})),function(b){b[b.north_azimuth=1]="north_azimuth",b[b.polar=2]="polar",b[b.quadrant=3]="quadrant",b[b.south_azimuth=4]="south_azimuth"}(he||(he={})),function(b){b[b.meridian=0]="meridian",b[b.direction=1]="direction"}(ue||(ue={}));class Me{constructor(F,w,A){this.m_degrees=F,this.m_minutes=w,this.m_seconds=A}getField(F){switch(F){case X.decimal_degrees:case X.truncated_degrees:return this.m_degrees;case X.fractional_degree_minutes:return this.m_minutes;case X.seconds:case X.fractional_minute_seconds:return this.m_seconds;default:throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unexpected evaluation"})}}static secondsToDMS(F){const w=be(F).fraction;let A=be(F).integer;const S=Math.floor(A/C);A-=S*C;const ee=Math.floor(A/D);return A-=ee*D,new Me(S,ee,A+w)}static numberToDms(F){const w=be(F).fraction,A=be(F).integer,S=G(be(100*w).fraction,100),ee=be(100*w).integer;return new Me(A,ee,S)}format(F,w){let A=ge(this.m_seconds,w),S=this.m_minutes,ee=this.m_degrees;if(F===X.seconds||F===X.fractional_minute_seconds)D<=A&&(A-=D,++S),l<=S&&(S=0,++ee),I<=ee&&(ee=0);else if(F===X.fractional_degree_minutes)A=0,S=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,ee=this.m_degrees,l<=S&&(S=0,++ee),I<=ee&&(ee=0);else if(F===X.decimal_degrees||F===X.truncated_degrees){const O=N(this.m_seconds,C),K=N(this.m_minutes,l);ee=Math.round(this.m_degrees+K+O),S=0,A=0}return new Me(ee,S,A)}static dmsToSeconds(F,w,A){return F*C+w*D+A}}class it{constructor(F,w,A){this.meridian=F,this.angle=w,this.direction=A}fetchAzimuth(F){return F===ue.meridian?this.meridian:this.direction}}class Le{constructor(F){this._angle=F}static createFromAngleAndDirection(F,w){return new Le(new Be(Le._convertDirectionFormat(F.extractAngularUnits(X.seconds),w,he.north_azimuth)))}getAngle(F){const w=this._angle.extractAngularUnits(X.seconds);switch(F){case he.north_azimuth:case he.south_azimuth:case he.polar:return new Be(Le._convertDirectionFormat(w,he.north_azimuth,F));case he.quadrant:{const A=Le.secondsNorthAzimuthToQuadrant(w);return new Be(A.angle)}}}getMeridian(F){const w=this._angle.extractAngularUnits(X.seconds);switch(F){case he.north_azimuth:return J.north;case he.south_azimuth:return J.south;case he.polar:return J.east;case he.quadrant:return Le.secondsNorthAzimuthToQuadrant(w).meridian}}getDirection(F){const w=this._angle.extractAngularUnits(X.seconds);switch(F){case he.north_azimuth:return J.east;case he.south_azimuth:return J.west;case he.polar:return J.north;case he.quadrant:return Le.secondsNorthAzimuthToQuadrant(w).direction}}static secondsNorthAzimuthToQuadrant(F){const w=F<=y||F>=972e3?J.north:J.south,A=w===J.north?Math.min(j-F,F):Math.abs(F-T);return new it(w,A,F>T?J.west:J.east)}static createFromAngleMeridianAndDirection(F,w,A){return new Le(new Be(Le.secondsQuadrantToNorthAzimuth(F.extractAngularUnits(X.seconds),w,A)))}static secondsQuadrantToNorthAzimuth(F,w,A){return w===J.north?A===J.east?F:j-F:A===J.east?T-F:T+F}static _convertDirectionFormat(F,w,A){let S=0;switch(w){case he.north_azimuth:S=F;break;case he.polar:S=y-F;break;case he.quadrant:throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unexpected evaluation"});case he.south_azimuth:S=F+T}let ee=0;switch(A){case he.north_azimuth:ee=S;break;case he.polar:ee=y-S;break;case he.quadrant:throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unexpected evaluation"});case he.south_azimuth:ee=S-T}return ee=function xe(b,F){return b%F}(ee,j),ee<0?j+ee:ee}}function et(b,F,w){let A=null;switch(F){case X.decimal_degrees:A=G(b,C);break;case X.seconds:A=b;break;case X.gradians:A=G(b,3240);break;case X.radians:A=G(b,V);break;default:throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unexpected evaluation"})}switch(w){case X.decimal_degrees:return N(A,C);case X.seconds:return A;case X.gradians:return N(A,3240);case X.radians:return A/V;default:throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unexpected evaluation"})}}class Be{constructor(F){this._seconds=F}static createFromAngleAndUnits(F,w){return new Be(et(F,w,X.seconds))}extractAngularUnits(F){return et(this._seconds,X.seconds,ve(F))}static createFromDegreesMinutesSeconds(F,w,A){return new Be(q(q(G(F,C),G(w,D)),A))}}function ve(b){switch((0,Q.O3)(b),b){case X.decimal_degrees:case X.truncated_degrees:case X.degrees_minutes_seconds:return X.decimal_degrees;case X.gradians:return X.gradians;case X.fractional_degree_minutes:return X.fractional_degree_minutes;case X.radians:return X.radians;case X.seconds:case X.fractional_minute_seconds:return X.seconds}}class Oe{constructor(F,w,A,S){this.view=F,this.angle=w,this.merdian=A,this.direction=S,this._dms=null,this._formattedDms=null}static createFromStringAndBearing(F,w,A){return new Oe(F,w.getAngle(A),w.getMeridian(A),w.getDirection(A))}fetchAngle(){return this.angle}fetchMeridian(){return this.merdian}fetchDirection(){return this.direction}fetchView(){return this.view}fetchDms(){return null===this._dms&&this._calculateDms(),this._dms}fetchFormattedDms(){return null===this._formattedDms&&this._calculateDms(),this._formattedDms}_calculateDms(){let F=null,w=X.truncated_degrees,A=0;for(let S=0;S<this.view.length;S++){const ee=this.view[S];switch(ee){case"m":F=dt(this.view,S,ee),w=w===X.truncated_degrees?X.fractional_degree_minutes:w,S=F.newpos;continue;case"s":F=dt(this.view,S,ee),w=X.fractional_minute_seconds,A=A<F.rounding?F.rounding:A,S=F.newpos;continue;default:continue}}this._dms=Me.secondsToDMS(this.angle.extractAngularUnits(X.seconds)),this._formattedDms=Me.secondsToDMS(this.angle.extractAngularUnits(X.seconds)).format(w,A)}}function He(b,F,w,A,S){let ee=null;switch(F){case X.decimal_degrees:case X.radians:case X.gradians:return ee=Te(ge(b.extractAngularUnits(F),A),Ye(F)),ee.toFixed(A).padStart(w+A+(A>0?1:0),"0");case X.truncated_degrees:case X.fractional_degree_minutes:return ee=Te(S.fetchFormattedDms().getField(F),Ye(F)),ee.toFixed(A).padStart(w+A+(A>0?1:0),"0");case X.fractional_minute_seconds:return ee=Te(ge(S.fetchDms().getField(F),A),Ye(F)),ee.toFixed(A).padStart(w+A+(A>0?1:0),"0");default:throw new Z.aV(null,Z.rH.LogicError,null,{reason:"unexpected evaluation"})}}function wt(b){switch(b.toUpperCase().trim()){case"N":case"NORTH":return J.north;case"E":case"EAST":return J.east;case"S":case"SOUTH":return J.south;case"W":case"WEST":return J.west}return null}function at(b){const F=parseFloat(b);if((0,g.b)(F)){if(isNaN(F))throw new Z.aV(null,Z.rH.LogicError,null,{reason:"invalid conversion"});return F}throw new Z.aV(null,Z.rH.LogicError,null,{reason:"invalid conversion"})}function gt(b,F,w){const A=w===he.quadrant;let S=null,ee=null,O=0,K=0,re=0;if(A){if(b.length<2)throw new Z.aV(null,Z.rH.LogicError,null,{reason:"conversion error"});re=1;const ce=function Ve(b){switch((0,g.g)(b)){case 1:return{first:J.north,second:J.east};case 2:return{first:J.south,second:J.east};case 3:return{first:J.south,second:J.west};case 4:return{first:J.north,second:J.west}}return null}((0,g.j)(b[b.length-1]));if(ce?(S=ce.first,ee=ce.second):(O=1,S=wt((0,g.j)(b[0])),ee=wt((0,g.j)(b[b.length-1]))),null===S||null===ee)throw new Z.aV(null,Z.rH.LogicError,null,{reason:"invalid conversion"})}switch(F){case X.decimal_degrees:case X.radians:case X.gradians:if(0===b.length)throw new Z.aV(null,Z.rH.LogicError,null,{reason:"invalid conversion"});return A?Le.createFromAngleMeridianAndDirection(Be.createFromAngleAndUnits(at(b[O]),ve(F)),S,ee):Le.createFromAngleAndDirection(Be.createFromAngleAndUnits(at(b[O]),ve(F)),w);case X.degrees_minutes_seconds:if(K=b.length-re-O,3===K){const ce=Be.createFromDegreesMinutesSeconds(at(b[O]),at(b[O+1]),at(b[O+2]));return A?Le.createFromAngleMeridianAndDirection(ce,S,ee):Le.createFromAngleAndDirection(ce,w)}if(1===K){const ce=at(b[O]),ke=Me.numberToDms(ce),oe=Be.createFromDegreesMinutesSeconds(ke.m_degrees,ke.m_minutes,ke.m_seconds);return A?Le.createFromAngleMeridianAndDirection(oe,S,ee):Le.createFromAngleAndDirection(oe,w)}}throw new Z.aV(null,Z.rH.LogicError,null,{reason:"invalid conversion"})}function dt(b,F,w){const A={padding:0,rounding:0,newpos:F};let S=!1;for(;F<b.length;){const ee=b[F];if(ee===w)S?A.rounding++:A.padding++,F++;else{if("."!==ee)break;S=!0,F++}}return A.newpos=F-1,A}function Qe(b,F,w){const A={escaped:"",newpos:F};for(F++;F<b.length;){const S=b[F];if(F++,"]"===S)break;A.escaped+=S}return A.newpos=F-1,A}function ft(b,F,w){if(!(F instanceof E.Z))throw new Z.aV(null,Z.rH.InvalidParameter,null);if(!1===F.hasField("directionType"))throw new Z.aV(null,Z.rH.LogicError,null,{reason:"missing directionType"});if(!1===F.hasField("angleType"))throw new Z.aV(null,Z.rH.LogicError,null,{reason:"missing angleType"});const A=Ie(de(F.field("directiontype"))),S=function Dt(b,F,w){if((0,g.b)(b))return function At(b,F,w){if(w===he.quadrant)throw new Z.aV(null,Z.rH.LogicError,null,{reason:"conversion error"});if(F===X.degrees_minutes_seconds){const A=Me.numberToDms(b);return Le.createFromAngleAndDirection(Be.createFromDegreesMinutesSeconds(A.m_degrees,A.m_minutes,A.m_seconds),w)}return Le.createFromAngleAndDirection(Be.createFromAngleAndUnits(b,ve(F)),w)}((0,g.g)(b),F,w);if((0,g.c)(b))return gt(function vt(b){const F=new Set([" ","-","/","'",'"',"\\","^",ne,z,"\t","\r","\n","*"]);let w="";for(let A=0;A<b.length;A++){const S=b.charAt(A);F.has(S)?w+="RRSPLITRRSPLITRR":w+=S}return w.split("RRSPLITRRSPLITRR").filter(A=>""!==A)}(b),F,w);if((0,g.o)(b))return gt(b,F,w);if((0,g.q)(b))return gt(b.toArray(),F,w);throw new Z.aV(null,Z.rH.LogicError,null,{reason:"conversion error"})}(b,Se(de(F.field("angletype"))),A);if(!(w instanceof E.Z))throw new Z.aV(null,Z.rH.InvalidParameter,null);if(!1===w.hasField("directionType"))throw new Z.aV(null,Z.rH.LogicError,null,{reason:"missing directionType"});if(!1===w.hasField("outputType"))throw new Z.aV(null,Z.rH.LogicError,null,{reason:"missing angleType"});const ee=Ie(de(w.field("directiontype"))),O=w.hasField("angleType")?Se(de(w.field("angletype"))):null,K=de(w.field("outputType")).toUpperCase().trim();if(!ee||!K)throw new Z.aV(null,Z.rH.LogicError,null,{reason:"conversion error"});if(!(O||"TEXT"===K&&w.hasField("format")))throw new Z.aV(null,Z.rH.LogicError,null,{reason:"invalid unit"});switch(K){case"VALUE":return ee===he.quadrant||O===X.degrees_minutes_seconds?function pe(b,F,w){const A=b.getAngle(F);if(F===he.quadrant&&w===X.degrees_minutes_seconds){const S=Me.secondsToDMS(A.extractAngularUnits(X.seconds));return[_e(b.getMeridian(F),"SHORT"),S.m_degrees,S.m_minutes,S.m_seconds,_e(b.getDirection(F),"SHORT")]}if(w===X.degrees_minutes_seconds){const S=Me.secondsToDMS(A.extractAngularUnits(X.seconds));return[S.m_degrees,S.m_minutes,S.m_seconds]}return F===he.quadrant?[_e(b.getMeridian(F),"SHORT"),A.extractAngularUnits(w),_e(b.getDirection(F),"SHORT")]:[A.extractAngularUnits(w)]}(S,ee,O):function bt(b,F,w){const A=ve(w);if(A&&w!==X.degrees_minutes_seconds)return b.getAngle(F).extractAngularUnits(A);throw new Z.aV(null,Z.rH.LogicError,null,{reason:"conversion error"})}(S,ee,O);case"TEXT":{let re="";return w.hasField("format")&&(re=(0,g.j)(w.field("format"))),null!==re&&""!==re||(re=function It(b,F){let w="";switch(b){case X.decimal_degrees:w=F===he.quadrant?"DD.DD"+ne:"DDD.DD"+ne;break;case X.degrees_minutes_seconds:w=F===he.quadrant?"dd"+ne+" mm' ss\"":"ddd"+ne+" mm' ss.ss\"";break;case X.radians:w="R.RR";break;case X.gradians:w="GGG.GG"+z;break;default:throw new Z.aV(null,Z.rH.LogicError,null,{reason:"conversion error"})}return F===he.quadrant&&(w="p "+w+" b"),w}(O,ee)),function Tt(b,F,w){let A="",S=null,ee=null;const O=Oe.createFromStringAndBearing(F,b,w),K={D:X.decimal_degrees,d:X.truncated_degrees,m:X.fractional_degree_minutes,s:X.fractional_minute_seconds,R:X.radians,G:X.gradians};for(let re=0;re<F.length;re++){const ce=F[re];switch(ce){case"[":S=Qe(F,re),A+=S.escaped,re=S.newpos;continue;case"D":case"d":case"m":case"s":case"R":case"G":S=dt(F,re,ce),ee=b.getAngle(w),A+=He(ee,K[ce],S.padding,S.rounding,O),re=S.newpos;continue;case"P":case"p":A+=_e(O.fetchMeridian(),"p"===ce?"SHORT":"LONG");continue;case"B":case"b":A+=_e(O.fetchDirection(),"b"===ce?"SHORT":"LONG");continue;default:A+=ce}}return A}(S,re,ee)}default:throw new Z.aV(null,Z.rH.InvalidParameter,null)}}const Xe=2654435761,Fe=2246822519,Pe=3266489917,je=668265263,ze=374761393;function tt(b){const F=[];for(let w=0,A=b.length;w<A;w++){let S=b.charCodeAt(w);S<128?F.push(S):S<2048?F.push(192|S>>6,128|63&S):S<55296||S>=57344?F.push(224|S>>12,128|S>>6&63,128|63&S):(w++,S=65536+((1023&S)<<10|1023&b.charCodeAt(w)),F.push(240|S>>18,128|S>>12&63,128|S>>6&63,128|63&S))}return new Uint8Array(F)}class yt{constructor(F){this._seed=F,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(F){const w=[];for(const A of F)isNaN(A)?w.push("NaN"):w.push(A===1/0?"Infinity":A===-1/0?"-Infinity":0===A?"0":A.toString(16));this.update(tt(w.join("")))}updateIntArray(F){const w=Int32Array.from(F);this.update(new Uint8Array(w.buffer))}updateUint8Array(F){this.update(Uint8Array.from(F))}updateWithString(F){return this.update(tt(F))}update(F){return this._bufs.push(F),this._totallen+=F.length,this}digest(){const F=new Uint8Array(this._totallen);let w=0;for(const A of this._bufs)F.set(A,w),w+=A.length;return this.init(),this._xxHash32(F,this._seed)}_xxHash32(F,w=0){const A=F;let S=w+ze&4294967295,ee=0;if(A.length>=16){const K=[w+Xe+Fe&4294967295,w+Fe&4294967295,w+0&4294967295,w-Xe&4294967295],re=F,ce=re.length-16;let ke=0;for(ee=0;(4294967280&ee)<=ce;ee+=4){let Ke=K[ke]+((re[ee]+(re[ee+1]<<8))*Fe+((re[ee+2]+(re[ee+3]<<8))*Fe<<16))&4294967295;Ke=Ke<<13|Ke>>>19,K[ke]=(65535&Ke)*Xe+((Ke>>>16)*Xe<<16)&4294967295,ke=ke+1&3}S=(K[0]<<1|K[0]>>>31)+(K[1]<<7|K[1]>>>25)+(K[2]<<12|K[2]>>>20)+(K[3]<<18|K[3]>>>14)&4294967295}S=S+F.length&4294967295;const O=F.length-4;for(;ee<=O;ee+=4)S=S+((A[ee]+(A[ee+1]<<8))*Pe+((A[ee+2]+(A[ee+3]<<8))*Pe<<16))&4294967295,S=S<<17|S>>>15,S=(65535&S)*je+((S>>>16)*je<<16)&4294967295;for(;ee<A.length;++ee)S+=A[ee]*ze,S=S<<11|S>>>21,S=(65535&S)*Xe+((S>>>16)*Xe<<16)&4294967295;return S^=S>>>15,S=((65535&S)*Fe&4294967295)+((S>>>16)*Fe<<16),S^=S>>>13,S=((65535&S)*Pe&4294967295)+((S>>>16)*Pe<<16),S^=S>>>16,S<0?S+4294967296:S}}var ht=B(6785),xt=B(26894),st=B(12628),kt=B(85039),qe=B(5391),Lt=B(64222),ut=B(43814),Et=B(61018);function Ct(b,F){if(!b||!F)return b===F;if(b.x===F.x&&b.y===F.y){if(b.hasZ){if(b.z!==F.z)return!1}else if(F.hasZ)return!1;if(b.hasM){if(b.m!==F.m)return!1}else if(F.hasM)return!1;return!0}return!1}function Ge(b,F,w){if(null!==b)if((0,g.o)(b)){if(F.updateUint8Array([61]),w.map.has(b)){const A=w.map.get(b);F.updateIntArray([61237541^A])}else{w.map.set(b,w.currentLength++);for(const A of b)Ge(A,F,w);w.map.delete(b),w.currentLength--}F.updateUint8Array([199])}else if((0,g.q)(b)){if(F.updateUint8Array([61]),w.map.has(b)){const A=w.map.get(b);F.updateIntArray([61237541^A])}else{w.map.set(b,w.currentLength++);for(const A of b.toArray())Ge(A,F,w);w.map.delete(b),w.currentLength--}F.updateUint8Array([199])}else{if((0,g.k)(b))return F.updateIntArray([b.toNumber()]),void F.updateUint8Array([241]);if((0,g.m)(b))return F.updateIntArray([b.toNumber()]),void F.updateIntArray([257]);if((0,g.n)(b))return F.updateIntArray([b.toNumber()]),void F.updateIntArray([263]);if((0,g.c)(b))return F.updateIntArray([b.length]),F.updateWithString(b),void F.updateUint8Array([41]);if((0,g.a)(b))F.updateUint8Array([!0===b?1:0,113]);else{if((0,g.b)(b))return F.updateFloatArray([b]),void F.updateUint8Array([173]);if(b instanceof P.Z)throw new Z.aV(w.context,Z.rH.UnsupportedHashType,w.node);if(b instanceof U.Z)throw new Z.aV(w.context,Z.rH.UnsupportedHashType,w.node);if(!(b instanceof E.Z)){if((0,g.r)(b))throw new Z.aV(w.context,Z.rH.UnsupportedHashType,w.node);if(b instanceof kt.Z)return F.updateIntArray([3833836621]),F.updateIntArray([0]),F.updateFloatArray([b.x]),F.updateIntArray([1]),F.updateFloatArray([b.y]),b.hasZ&&(F.updateIntArray([2]),F.updateFloatArray([b.z])),b.hasM&&(F.updateIntArray([3]),F.updateFloatArray([b.m])),F.updateIntArray([3765347959]),void Ge(b.spatialReference.wkid,F,w);if(b instanceof qe.Z){F.updateIntArray([1266616829]);for(let A=0;A<b.rings.length;A++){const S=b.rings[A],ee=[];let O=null,K=null;for(let re=0;re<S.length;re++){const ce=b.getPoint(A,re);if(0===re)O=ce;else if(Ct(K,ce))continue;K=ce,re===S.length-1&&Ct(O,ce)||ee.push(ce)}F.updateIntArray([1397116793,ee.length]);for(let re=0;re<ee.length;re++){const ce=ee[re];F.updateIntArray([3962308117,re]),Ge(ce,F,w),F.updateIntArray([2716288009])}F.updateIntArray([2278822459])}return F.updateIntArray([3878477243]),void Ge(b.spatialReference.wkid,F,w)}if(b instanceof Lt.Z){F.updateIntArray([4106883559]);for(let A=0;A<b.paths.length;A++){const S=b.paths[A];F.updateIntArray([1397116793,S.length]);for(let ee=0;ee<S.length;ee++)F.updateIntArray([3962308117,ee]),Ge(b.getPoint(A,ee),F,w),F.updateIntArray([2716288009]);F.updateIntArray([2278822459])}return F.updateIntArray([2568784753]),void Ge(b.spatialReference.wkid,F,w)}if(b instanceof st.Z){F.updateIntArray([588535921,b.points.length]);for(let A=0;A<b.points.length;A++){const S=b.getPoint(A);F.updateIntArray([A]),Ge(S,F,w)}return F.updateIntArray([1700171621]),void Ge(b.spatialReference.wkid,F,w)}if(b instanceof xt.Z)return F.updateIntArray([3483648373]),F.updateIntArray([0]),F.updateFloatArray([b.xmax]),F.updateIntArray([1]),F.updateFloatArray([b.xmin]),F.updateIntArray([2]),F.updateFloatArray([b.ymax]),F.updateIntArray([3]),F.updateFloatArray([b.ymin]),b.hasZ&&(F.updateIntArray([4]),F.updateFloatArray([b.zmax]),F.updateIntArray([5]),F.updateFloatArray([b.zmin])),b.hasM&&(F.updateIntArray([6]),F.updateFloatArray([b.mmax]),F.updateIntArray([7]),F.updateFloatArray([b.mmin])),F.updateIntArray([3622027469]),void Ge(b.spatialReference.wkid,F,w);if(b instanceof ut.Z)return F.updateIntArray([14]),null!=b.wkid&&F.updateIntArray([b.wkid]),b.wkt&&F.updateWithString(b.wkt),void(b.wkt2&&F.updateWithString(b.wkt2));throw(0,g.i)(b)||(0,g.u)(b)||(0,g.s)(b),new Z.aV(w.context,Z.rH.UnsupportedHashType,w.node)}if(F.updateUint8Array([223]),w.map.has(b)){const A=w.map.get(b);F.updateIntArray([61237541^A])}else{w.map.set(b,w.currentLength++);for(const A of b.keys())F.updateIntArray([A.length]),F.updateWithString(A),F.updateUint8Array([251]),Ge(b.field(A),F,w),F.updateUint8Array([239]);w.map.delete(b),w.currentLength--}F.updateUint8Array([73])}}else F.updateUint8Array([0,139])}function Ft(b,F){b.portal=function(w,A){return F(w,A,(S,ee,O)=>((0,g.E)(O,1,1,w,A),new U.Z((0,g.j)(O[0]))))},b.typeof=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,1,1,w,A);const K=(0,g.N)(O[0]);if("Unrecognized Type"===K)throw new Z.aV(w,Z.rH.UnrecognizedType,A);return K})},b.trim=function(w,A){return F(w,A,(S,ee,O)=>((0,g.E)(O,1,1,w,A),(0,g.j)(O[0]).trim()))},b.tohex=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,1,1,w,A);const K=(0,g.g)(O[0]);return isNaN(K)?K:K.toString(16)})},b.upper=function(w,A){return F(w,A,(S,ee,O)=>((0,g.E)(O,1,1,w,A),(0,g.j)(O[0]).toUpperCase()))},b.proper=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,1,2,w,A);let K=1;2===O.length&&"firstword"===(0,g.j)(O[1]).toLowerCase()&&(K=2);const re=/\s/,ce=(0,g.j)(O[0]);let ke="",oe=!0;for(let lt=0;lt<ce.length;lt++){let le=ce[lt];re.test(le)?1===K&&(oe=!0):le.toUpperCase()!==le.toLowerCase()&&(oe?(le=le.toUpperCase(),oe=!1):le=le.toLowerCase()),ke+=le}return ke})},b.lower=function(w,A){return F(w,A,(S,ee,O)=>((0,g.E)(O,1,1,w,A),(0,g.j)(O[0]).toLowerCase()))},b.guid=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,0,1,w,A),O.length>0)switch((0,g.j)(O[0]).toLowerCase()){case"digits":return(0,g.T)().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return(0,g.T)();case"digits-hyphen-braces":return"{"+(0,g.T)()+"}";case"digits-hyphen-parentheses":return"("+(0,g.T)()+")"}return"{"+(0,g.T)()+"}"})},b.standardizeguid=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,2,2,w,A);let K=(0,g.j)(O[0]);if(""===K||null===K)return"";const re=/^(\{|\()?(?<partA>[0-9a-z]{8})(\-?)(?<partB>[0-9a-z]{4})(\-?)(?<partC>[0-9a-z]{4})(\-?)(?<partD>[0-9a-z]{4})(\-?)(?<partE>[0-9a-z]{12})(\}|\))?$/gim.exec(K);if(!re)return"";const ce=re.groups;switch(K=ce.partA+"-"+ce.partB+"-"+ce.partC+"-"+ce.partD+"-"+ce.partE,(0,g.j)(O[1]).toLowerCase()){case"digits":return K.replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return K;case"digits-hyphen-braces":return"{"+K+"}";case"digits-hyphen-parentheses":return"("+K+")"}return"{"+K+"}"})},b.console=function(w,A){return F(w,A,(S,ee,O)=>(0===O.length||w.console((0,g.j)(1===O.length?O[0]:O)),g.x))},b.mid=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,2,3,w,A);let K=(0,g.g)(O[1]);if(isNaN(K))return"";if(K<0&&(K=0),2===O.length)return(0,g.j)(O[0]).substr(K);let re=(0,g.g)(O[2]);return isNaN(re)?"":(re<0&&(re=0),(0,g.j)(O[0]).substr(K,re))})},b.find=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,2,3,w,A);let K=0;if(O.length>2){if(K=(0,g.g)((0,g.H)(O[2],0)),isNaN(K))return-1;K<0&&(K=0)}return(0,g.j)(O[1]).indexOf((0,g.j)(O[0]),K)})},b.left=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,2,2,w,A);let K=(0,g.g)(O[1]);return isNaN(K)?"":(K<0&&(K=0),(0,g.j)(O[0]).substr(0,K))})},b.right=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,2,2,w,A);let K=(0,g.g)(O[1]);return isNaN(K)?"":(K<0&&(K=0),(0,g.j)(O[0]).substr(-1*K,K))})},b.split=function(w,A){return F(w,A,(S,ee,O)=>{let K;(0,g.E)(O,2,4,w,A);let re=(0,g.g)((0,g.H)(O[2],-1));const ce=(0,g.h)((0,g.H)(O[3],!1));if(-1===re||null===re||!0===ce?K=(0,g.j)(O[0]).split((0,g.j)(O[1])):(isNaN(re)&&(re=-1),re<-1&&(re=-1),K=(0,g.j)(O[0]).split((0,g.j)(O[1]),re)),!1===ce)return K;const ke=[];for(let oe=0;oe<K.length&&!(-1!==re&&ke.length>=re);oe++)""!==K[oe]&&void 0!==K[oe]&&ke.push(K[oe]);return ke})},b.text=function(w,A){return F(w,A,(S,ee,O)=>((0,g.E)(O,1,2,w,A),(0,g.t)(O[0],O[1])))},b.concatenate=function(w,A){return F(w,A,(S,ee,O)=>{const K=[];if(O.length<1)return"";if((0,g.o)(O[0])){const re=(0,g.H)(O[2],"");for(let ce=0;ce<O[0].length;ce++)K[ce]=(0,g.t)(O[0][ce],re);return K.join(O.length>1?O[1]:"")}if((0,g.q)(O[0])){const re=(0,g.H)(O[2],"");for(let ce=0;ce<O[0].length();ce++)K[ce]=(0,g.t)(O[0].get(ce),re);return K.join(O.length>1?O[1]:"")}for(let re=0;re<O.length;re++)K[re]=(0,g.t)(O[re]);return K.join("")})},b.reverse=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,1,1,w,A),(0,g.o)(O[0])){const K=O[0].slice(0);return K.reverse(),K}if((0,g.q)(O[0])){const K=O[0].toArray().slice(0);return K.reverse(),K}throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.replace=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,3,4,w,A);const K=(0,g.j)(O[0]),re=(0,g.j)(O[1]),ce=(0,g.j)(O[2]);return 4!==O.length||(0,g.h)(O[3])?(0,g.S)(K,re,ce):K.replace(re,ce)})},b.schema=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.r)(O[0])){const K=(0,g.U)(O[0]);return K?E.Z.convertObjectToArcadeDictionary(K,(0,g.L)(w)):null}throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.subtypes=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,1,1,w,A),(0,g.r)(O[0])){const K=(0,g.V)(O[0]);return K?E.Z.convertObjectToArcadeDictionary(K,(0,g.L)(w)):null}throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.subtypecode=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,1,1,w,A),(0,g.r)(O[0])){const K=(0,g.V)(O[0]);if(!K)return null;if(K.subtypeField&&O[0].hasField(K.subtypeField)){const re=O[0].field(K.subtypeField);for(const ce of K.subtypes)if(ce.code===re)return ce.code;return null}return null}throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.subtypename=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,1,1,w,A),(0,g.r)(O[0])){const K=(0,g.V)(O[0]);if(!K)return"";if(K.subtypeField&&O[0].hasField(K.subtypeField)){const re=O[0].field(K.subtypeField);for(const ce of K.subtypes)if(ce.code===re)return ce.name;return""}return""}throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.gdbversion=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,1,1,w,A),(0,g.r)(O[0]))return O[0].gdbVersion();throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.domain=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,2,3,w,A),(0,g.r)(O[0])){const K=(0,g.W)(O[0],(0,g.j)(O[1]),void 0===O[2]?void 0:O[2]);return K&&K.domain?E.Z.convertObjectToArcadeDictionary("coded-value"===K.domain.type||"codedValue"===K.domain.type?{type:"codedValue",name:K.domain.name,dataType:u.yE[K.field.type],codedValues:K.domain.codedValues.map(re=>({name:re.name,code:re.code}))}:{type:"range",name:K.domain.name,dataType:u.yE[K.field.type],min:K.domain.min,max:K.domain.max},(0,g.L)(w)):null}throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.domainname=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,2,4,w,A),(0,g.r)(O[0]))return(0,g.X)(O[0],(0,g.j)(O[1]),O[2],void 0===O[3]?void 0:O[3]);throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.domaincode=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,2,4,w,A),(0,g.r)(O[0]))return(0,g.Y)(O[0],(0,g.j)(O[1]),O[2],void 0===O[3]?void 0:O[3]);throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.urlencode=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,1,1,w,A),null===O[0])return"";if(O[0]instanceof E.Z){let K="";for(const re of O[0].keys()){const ce=O[0].field(re);""!==K&&(K+="&"),K+=null===ce?encodeURIComponent(re)+"=":encodeURIComponent(re)+"="+encodeURIComponent(ce)}return K}return encodeURIComponent((0,g.j)(O[0]))})},b.hash=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,1,1,w,A);const K=new yt(0);return Ge(O[0],K,{context:w,node:A,map:new Map,currentLength:0}),K.digest()})},b.convertdirection=function(w,A){return F(w,A,(S,ee,O)=>((0,g.E)(O,3,3,w,A),ft(O[0],O[1],O[2])))},b.fromjson=function(w,A){return F(w,A,(S,ee,O)=>{if((0,g.E)(O,1,1,w,A),!1===(0,g.c)(O[0]))throw new Z.aV(w,Z.rH.InvalidParameter,A);return E.Z.convertJsonToArcade(JSON.parse((0,g.j)(O[0])),(0,g.L)(w))})},b.expects=function(w,A){return F(w,A,(S,ee,O)=>{if(O.length<1)throw new Z.aV(w,Z.rH.WrongNumberOfParameters,A);return g.x})},b.tocharcode=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,1,2,w,A);const K=(0,g.g)((0,g.H)(O[1],0)),re=(0,g.j)(O[0]);if(0===re.length&&1===O.length)return null;if(re.length<=K||K<0)throw new Z.aV(w,Z.rH.OutOfBounds,A);return re.charCodeAt(K)})},b.tocodepoint=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,1,2,w,A);const K=(0,g.g)((0,g.H)(O[1],0)),re=(0,g.j)(O[0]);if(0===re.length&&1===O.length)return null;if(re.length<=K||K<0)throw new Z.aV(w,Z.rH.OutOfBounds,A);return re.codePointAt(K)})},b.fromcharcode=function(w,A){return F(w,A,(S,ee,O)=>{if(O.length<1)throw new Z.aV(w,Z.rH.WrongNumberOfParameters,A);const K=O.map(re=>Math.trunc((0,g.g)(re))).filter(re=>re>=0&&re<=65535);return 0===K.length?null:String.fromCharCode.apply(null,K)})},b.fromcodepoint=function(w,A){return F(w,A,(S,ee,O)=>{if(O.length<1)throw new Z.aV(w,Z.rH.WrongNumberOfParameters,A);let K;try{K=O.map(re=>Math.trunc((0,g.g)(re))).filter(re=>re<=1114111&&re>>>0===re)}catch{return null}return 0===K.length?null:String.fromCodePoint.apply(null,K)})},b.getuser=function(w,A){return F(w,A,(S,ee,O)=>{(0,g.E)(O,0,2,w,A);let K=(0,g.H)(O[1],"");if(K=!0===K||!1===K?"":(0,g.j)(K),null!==K&&""!==K)return null;if(0===O.length||O[0]instanceof U.Z){let re=null;if(re=w.services?.portal?w.services.portal:Et.Z.getDefault(),O.length>0&&!function mt(b,F){return!!b&&(0,ht.tm)(b,F?.restUrl||"")}(O[0].field("url"),re)||!re)return null;if(""===K){const ce=function St(b){return"loaded"===b.loadStatus&&b.user?.sourceJSON?b.user.sourceJSON:null}(re);if(ce){const ke=JSON.parse(JSON.stringify(ce));for(const oe of["lastLogin","created","modified"])null!=ke[oe]&&(ke[oe]=new Date(ke[oe]));return E.Z.convertObjectToArcadeDictionary(ke,(0,g.L)(w))}}return null}throw new Z.aV(w,Z.rH.InvalidParameter,A)})},b.getenvironment=function(w,A){return F(w,A,(S,ee,O)=>((0,g.E)(O,0,0,w,A),E.Z.convertObjectToArcadeDictionary((0,g.Z)((0,g.L)(w),w.spatialReference),(0,g.L)(w),!0)))}}},42442:(Re,ye,B)=>{B.d(ye,{Kq:()=>ae,Vf:()=>N,bV:()=>$,dN:()=>I,gW:()=>Q,mb:()=>q,w8:()=>L,x5:()=>Y});const U={all:{min:2,max:2},time:{min:0,max:4},dateonly:{min:0,max:3},getenvironment:{min:0,max:0},none:{min:2,max:2},any:{min:2,max:2},reduce:{min:2,max:3},map:{min:2,max:2},filter:{min:2,max:2},fromcodepoint:{min:1,max:-1},fromcharcode:{min:1,max:-1},tocodepoint:{min:1,max:2},tocharcode:{min:1,max:2},concatenate:{min:0,max:-1},expects:{min:1,max:-1},getfeatureset:{min:1,max:2},week:{min:1,max:2},fromjson:{min:1,max:1},length3d:{min:1,max:2},tohex:{min:1,max:1},hash:{min:1,max:1},timezone:{min:1,max:1},timezoneoffset:{min:1,max:1},changetimezone:{min:2,max:2},isoweek:{min:1,max:1},isoweekday:{min:1,max:1},hasvalue:{min:2,max:2},isomonth:{min:1,max:1},isoyear:{min:1,max:1},resize:{min:2,max:3},slice:{min:0,max:-1},splice:{min:0,max:-1},push:{min:2,max:2},pop:{min:1,max:1},includes:{min:2,max:2},array:{min:0,max:2},front:{min:1,max:1},back:{min:1,max:1},insert:{min:3,max:3},erase:{min:2,max:2},split:{min:2,max:4},guid:{min:0,max:1},standardizeguid:{min:2,max:2},today:{min:0,max:0},angle:{min:2,max:3},bearing:{min:2,max:3},urlencode:{min:1,max:1},now:{min:0,max:0},timestamp:{min:0,max:0},day:{min:1,max:1},month:{min:1,max:1},year:{min:1,max:1},hour:{min:1,max:1},second:{min:1,max:1},millisecond:{min:1,max:1},minute:{min:1,max:1},weekday:{min:1,max:1},toutc:{min:1,max:1},tolocal:{min:1,max:1},date:{min:0,max:8},datediff:{min:2,max:4},dateadd:{min:2,max:3},trim:{min:1,max:1},text:{min:1,max:2},left:{min:2,max:2},right:{min:2,max:2},mid:{min:2,max:3},upper:{min:1,max:1},proper:{min:1,max:2},lower:{min:1,max:1},find:{min:2,max:3},iif:{min:3,max:3},decode:{min:2,max:-1},when:{min:2,max:-1},defaultvalue:{min:2,max:2},isempty:{min:1,max:1},domaincode:{min:2,max:4},domainname:{min:2,max:4},polygon:{min:1,max:1},point:{min:1,max:1},polyline:{min:1,max:1},extent:{min:1,max:1},multipoint:{min:1,max:1},ringisclockwise:{min:1,max:1},geometry:{min:1,max:1},count:{min:0,max:-1},number:{min:1,max:2},acos:{min:1,max:1},asin:{min:1,max:1},atan:{min:1,max:1},atan2:{min:2,max:2},ceil:{min:1,max:2},floor:{min:1,max:2},round:{min:1,max:2},cos:{min:1,max:1},exp:{min:1,max:1},log:{min:1,max:1},min:{min:0,max:-1},constrain:{min:3,max:3},console:{min:0,max:-1},max:{min:0,max:-1},pow:{min:2,max:2},random:{min:0,max:0},sqrt:{min:1,max:1},sin:{min:1,max:1},tan:{min:1,max:1},abs:{min:1,max:1},isnan:{min:1,max:1},stdev:{min:0,max:-1},average:{min:0,max:-1},mean:{min:0,max:-1},sum:{min:0,max:-1},variance:{min:0,max:-1},distinct:{min:0,max:-1},first:{min:1,max:1},top:{min:2,max:2},boolean:{min:1,max:1},dictionary:{min:0,max:-1},typeof:{min:1,max:1},reverse:{min:1,max:1},replace:{min:3,max:4},sort:{min:1,max:2},feature:{min:1,max:-1},haskey:{min:2,max:2},indexof:{min:2,max:2},disjoint:{min:2,max:2},intersects:{min:2,max:2},touches:{min:2,max:2},crosses:{min:2,max:2},within:{min:2,max:2},contains:{min:2,max:2},overlaps:{min:2,max:2},equals:{min:2,max:2},relate:{min:3,max:3},intersection:{min:2,max:2},union:{min:1,max:2},difference:{min:2,max:2},symmetricdifference:{min:2,max:2},clip:{min:2,max:2},cut:{min:2,max:2},area:{min:1,max:2},areageodetic:{min:1,max:2},length:{min:1,max:2},lengthgeodetic:{min:1,max:2},distancegeodetic:{min:2,max:3},distance:{min:2,max:3},densify:{min:2,max:3},densifygeodetic:{min:2,max:3},generalize:{min:2,max:4},buffer:{min:2,max:3},buffergeodetic:{min:2,max:3},offset:{min:2,max:6},rotate:{min:2,max:3},issimple:{min:1,max:1},simplify:{min:1,max:1},convexhull:{min:1,max:1},centroid:{min:1,max:1},nearestcoordinate:{min:2,max:2},nearestvertex:{min:2,max:2},isselfintersecting:{min:1,max:1},multiparttosinglepart:{min:1,max:1},setgeometry:{min:2,max:2},portal:{min:1,max:1},getuser:{min:0,max:2},subtypes:{min:1,max:1},subtypecode:{min:1,max:1},subtypename:{min:1,max:1},domain:{min:2,max:3},convertdirection:{min:3,max:3},sqltimestamp:{min:1,max:3},schema:{min:1,max:1}},P={functionDefinitions:new Map,constantDefinitions:new Map},E={functionDefinitions:new Map,constantDefinitions:new Map};for(const h of["pi","infinity"])E.constantDefinitions.set(h,{type:"constant"}),P.constantDefinitions.set(h,{type:"constant"});E.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"newline",type:"constant"}]}),P.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"newline",type:"constant"}]});for(const h in U){const C=U[h];E.functionDefinitions.set(h,{overloads:[{type:"function",parametersInfo:{min:C.min,max:C.max}}]}),P.functionDefinitions.set(h,{overloads:[{type:"function",parametersInfo:{min:C.min,max:C.max}}]})}const Z=new Set(["featureset","featuresetbyid","featuresetbyname","featuresetbyassociation","featuresetbyrelationshipname","featuresetbyurl","getfeatureset","getuser","attachments","featuresetbyportalitem","getfeaturesetinfo"]),g=new Set(["disjoint","intersects","touches","crosses","within","contains","overlaps","equals","relate","intersection","nearestvertex","nearestcoordinate","union","difference","symmetricdifference","clip","cut","area","areageodetic","length","length3d","lengthgeodetic","distance","distancegeodetic","densify","densifygeodetic","generalize","buffer","buffergeodetic","offset","rotate","issimple","convexhull","simplify","multiparttosinglepart"]);function u(h){return"string"==typeof h||h instanceof String}function Q(h,C){const _="sync"===C?P:E;_.functionDefinitions.has(h.name.toLowerCase())?_.functionDefinitions.get(h.name.toLowerCase())?.overloads.push({type:"function",parametersInfo:{min:h.min,max:h.max}}):_.functionDefinitions.set(h.name.toLowerCase(),{overloads:[{type:"function",parametersInfo:{min:h.min,max:h.max}}]})}function k(h,C){if(h)for(const _ of h)c(_,C)}function c(h,C){if(h&&!1!==C(h))switch(h.type){case"ImportDeclaration":k(h.specifiers,C),c(h.source,C);break;case"ExportNamedDeclaration":c(h.declaration,C);break;case"ArrayExpression":k(h.elements,C);break;case"AssignmentExpression":case"BinaryExpression":case"LogicalExpression":c(h.left,C),c(h.right,C);break;case"BlockStatement":case"Program":k(h.body,C);break;case"BreakStatement":case"ContinueStatement":case"EmptyStatement":case"Identifier":case"Literal":break;case"CallExpression":c(h.callee,C),k(h.arguments,C);break;case"ExpressionStatement":c(h.expression,C);break;case"ForInStatement":c(h.left,C),c(h.right,C),c(h.body,C);break;case"ForStatement":c(h.init,C),c(h.test,C),c(h.update,C),c(h.body,C);break;case"WhileStatement":c(h.test,C),c(h.body,C);break;case"FunctionDeclaration":c(h.id,C),k(h.params,C),c(h.body,C);break;case"IfStatement":c(h.test,C),c(h.consequent,C),c(h.alternate,C);break;case"MemberExpression":c(h.object,C),c(h.property,C);break;case"ObjectExpression":k(h.properties,C);break;case"Property":c(h.key,C),c(h.value,C);break;case"ReturnStatement":case"UnaryExpression":case"UpdateExpression":c(h.argument,C);break;case"VariableDeclaration":k(h.declarations,C);break;case"VariableDeclarator":c(h.id,C),c(h.init,C);break;case"TemplateLiteral":k(h.expressions,C),k(h.quasis,C)}}function $(h,C){let _=!1;const l=C.toLowerCase();return c(h,D=>!_&&("Identifier"===D.type&&D.name&&D.name.toLowerCase()===l&&(_=!0),!0)),_}function Y(h){const C=[];return c(h,_=>("ImportDeclaration"===_.type&&_.source&&_.source.value&&C.push({libname:_.specifiers[0].local.name.toLowerCase(),source:_.source.value}),!0)),C}function L(h,C){let _=!1;const l=C.toLowerCase();return c(h,D=>!(_||"CallExpression"===D.type&&"Identifier"===D.callee.type&&D.callee.name&&D.callee.name.toLowerCase()===l&&(_=!0,1))),_}function q(h){const C=[];return c(h,_=>"MemberExpression"!==_.type||"Identifier"!==_.object.type||(!1===_.computed&&_.object&&_.object.name&&_.property&&"Identifier"===_.property.type&&_.property.name?C.push(_.object.name.toLowerCase()+"."+_.property.name.toLowerCase()):_.object&&_.object.name&&_.property&&"Literal"===_.property.type&&"string"==typeof _.property.value&&C.push(_.object.name.toLowerCase()+"."+_.property.value?.toString().toLowerCase()),!1)),C}function ae(h){const C=[];return c(h,_=>{if("CallExpression"===_.type){if("Identifier"===_.callee.type&&"expects"===_.callee.name.toLowerCase()){let l="";for(let D=0;D<(_.arguments||[]).length;D++)0===D?"Identifier"===_.arguments[D].type&&(l=_.arguments[D].name.toLowerCase()):l&&"Literal"===_.arguments[D].type&&u(_.arguments[D].value)&&C.push(l+"."+_.arguments[D].value.toLowerCase());return!1}if("Identifier"===_.callee.type&&["domainname","domaincode","domain","haskey"].includes(_.callee.name.toLowerCase())&&_.arguments.length>=2){let l="";return"Identifier"===_.arguments[0].type&&(l=_.arguments[0].name.toLowerCase()),l&&"Literal"===_.arguments[1].type&&u(_.arguments[1].value)&&C.push(l+"."+_.arguments[1].value.toLowerCase()),!1}}return"MemberExpression"!==_.type||"Identifier"!==_.object.type||(!1===_.computed&&_.object&&_.object.name&&_.property&&"Identifier"===_.property.type&&_.property.name?C.push(_.object.name.toLowerCase()+"."+_.property.name.toLowerCase()):_.object&&_.object.name&&_.property&&"Literal"===_.property.type&&"string"==typeof _.property.value&&C.push(_.object.name.toLowerCase()+"."+_.property.value?.toString().toLowerCase()),!1)}),C}function N(h){const C=[];return c(h,_=>("CallExpression"===_.type&&"Identifier"===_.callee.type&&C.push(_.callee.name.toLowerCase()),!0)),C}function I(h,C=[]){let _=null;if(void 0===h.usesFeatureSet){null===_&&(_=N(h)),h.usesFeatureSet=!1;for(let l=0;l<_.length;l++)Z.has(_[l])&&(h.usesFeatureSet=!0,h.isAsync=!0);if(!1===h.usesFeatureSet&&C&&C.length>0)for(const l of C)if($(h,l)){h.usesFeatureSet=!0,h.isAsync=!0;break}}if(void 0===h.usesModules&&(h.usesModules=!1,Y(h).length>0&&(h.usesModules=!0)),void 0===h.usesGeometry){h.usesGeometry=!1,null===_&&(_=N(h));for(let l=0;l<_.length;l++)g.has(_[l])&&(h.usesGeometry=!0)}}},16049:(Re,ye,B)=>{B.d(ye,{A:()=>k});var U=B(15861),P=B(5137),E=B(53570),Z=B(29066),g=B(89018),u=B(79412);const k=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:function Q(c){function $(m,h,C){if(m instanceof Z.Z)return m.toArray();if((0,g.o)(m))return m;throw new E.aV(h,E.rH.InvalidParameter,C)}function Y(m,h){const C=m.length,_=Math.floor(C/2);return 0===C?[]:1===C?[m[0]]:function L(m,h,C){const _=[];for(;m.length>0||h.length>0;)if(m.length>0&&h.length>0){let l=C(m[0],h[0]);isNaN(l)&&(l=0),l<=0?(_.push(m[0]),m=m.slice(1)):(_.push(h[0]),h=h.slice(1))}else m.length>0?(_.push(m[0]),m=m.slice(1)):h.length>0&&(_.push(h[0]),h=h.slice(1));return _}(Y(m.slice(0,_),h),Y(m.slice(_,C),h),h)}function q(m,h){return ae.apply(this,arguments)}function ae(){return(ae=(0,U.Z)(function*(m,h){const C=m.length,_=Math.floor(C/2);if(0===C)return[];if(1===C)return[m[0]];const l=[yield q(m.slice(0,_),h),yield q(m.slice(_,C),h)];return G(l[0],l[1],h,[])})).apply(this,arguments)}function G(m,h,C,_){return N.apply(this,arguments)}function N(){return(N=(0,U.Z)(function*(m,h,C,_){const l=_;if(!(m.length>0||h.length>0))return _;if(m.length>0&&h.length>0){let D=yield C(m[0],h[0]);return isNaN(D)&&(D=1),D<=0?(l.push(m[0]),m=m.slice(1)):(l.push(h[0]),h=h.slice(1)),G(m,h,C,_)}return m.length>0?(l.push(m[0]),G(m=m.slice(1),h,C,_)):h.length>0?(l.push(h[0]),G(m,h=h.slice(1),C,_)):void 0})).apply(this,arguments)}function I(m,h,C,_){(0,g.E)(C,1,2,m,h);let l=C[0];if((0,g.q)(l)&&(l=l.toArray()),!1===(0,g.o)(l))throw new E.aV(m,E.rH.InvalidParameter,h);if(C.length>1){if(!1===(0,g.i)(C[1]))throw new E.aV(m,E.rH.InvalidParameter,h);let T=l;const H=C[1].createFunction(m);return _?q(T,H):(T=Y(T,(z,ne)=>H(z,ne)),T)}let D=l;if(0===D.length)return[];const V={};for(let T=0;T<D.length;T++){const H=(0,g.N)(D[T]);""!==H&&(V[H]=!0)}if(!0===V.Array||!0===V.Dictionary||!0===V.Feature||!0===V.Point||!0===V.Polygon||!0===V.Polyline||!0===V.Multipoint||!0===V.Extent||!0===V.Function)return D.slice(0);let j=0,y="";for(const T in V)j++,y=T;return D=j>1||"String"===y?Y(D,(T,H)=>{if(null==T||T===g.x)return null==H||H===g.x?0:1;if(null==H||H===g.x)return-1;const z=(0,g.j)(T),ne=(0,g.j)(H);return z<ne?-1:z===ne?0:1}):"Number"===y?Y(D,(T,H)=>T-H):"Boolean"===y?Y(D,(T,H)=>T===H?0:H?-1:1):"Date"===y?Y(D,(T,H)=>H-T):D.slice(0),D}c.functions.array=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,0,2,m,h),0===l.length)return new Array;if(1===l.length&&null===l[0])return new Array;if((0,g.o)(l[0])){if(2===l.length&&!1===(0,g.a)(l[1]))throw new E.aV(m,E.rH.InvalidParameter,h);return!0===(0,g.H)(l[1],!1)?(0,P.I)(l[0]):l[0].slice(0)}if((0,g.q)(l[0])){if(2===l.length&&!1===(0,g.a)(l[1]))throw new E.aV(m,E.rH.InvalidParameter,h);return!0===(0,g.H)(l[1],!1)?(0,P.I)(l[0]):l[0].toArray().slice(0)}const D=(0,g.g)(l[0]);if(isNaN(D)||!1===(0,g.M)(D))throw new E.aV(m,E.rH.InvalidParameter,h);const V=(0,g.H)(l[1],null),j=new Array(D);return j.fill(V),j})},c.functions.front=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,1,1,m,h),(0,g.q)(l[0])){if(l[0].length()<=0)throw new E.aV(m,E.rH.OutOfBounds,h);return l[0].get(0)}if((0,g.o)(l[0])){if(l[0].length<=0)throw new E.aV(m,E.rH.OutOfBounds,h);return l[0][0]}throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.back=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,1,1,m,h),(0,g.q)(l[0])){if(l[0].length()<=0)throw new E.aV(m,E.rH.OutOfBounds,h);return l[0].get(l[0].length()-1)}if((0,g.o)(l[0])){if(l[0].length<=0)throw new E.aV(m,E.rH.OutOfBounds,h);return l[0][l[0].length-1]}throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.push=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,1,2,m,h),(0,g.o)(l[0]))return l[0][l[0].length]=l[1],l[0].length;throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.pop=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,1,1,m,h),(0,g.o)(l[0])){if(l[0].length<=0)throw new E.aV(m,E.rH.OutOfBounds,h);const D=l[0][l[0].length-1];return l[0].length=l[0].length-1,D}throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.erase=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,2,2,m,h),(0,g.o)(l[0])){let D=(0,g.g)(l[1]);if(isNaN(D)||!1===(0,g.M)(D))throw new E.aV(m,E.rH.InvalidParameter,h);const V=l[0];if(V.length<=0)throw new E.aV(m,E.rH.OutOfBounds,h);if(D<0&&(D=V.length+D),D<0)throw new E.aV(m,E.rH.OutOfBounds,h);if(D>=V.length)throw new E.aV(m,E.rH.OutOfBounds,h);return V.splice(D,1),g.x}throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.insert=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,3,3,m,h),(0,g.o)(l[0])){const D=(0,g.g)(l[1]);if(isNaN(D)||!1===(0,g.M)(D))throw new E.aV(m,E.rH.InvalidParameter,h);const V=l[2],j=l[0];if(D>j.length)throw new E.aV(m,E.rH.OutOfBounds,h);if(D<0&&D<-1*j.length)throw new E.aV(m,E.rH.OutOfBounds,h);return D===j.length?(j[D]=V,g.x):(j.splice(D,0,V),g.x)}throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.resize=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,2,3,m,h),(0,g.o)(l[0])){const D=(0,g.g)(l[1]);if(isNaN(D)||!1===(0,g.M)(D))throw new E.aV(m,E.rH.InvalidParameter,h);if(D<0)throw new E.aV(m,E.rH.InvalidParameter,h);const V=(0,g.H)(l[2],null),j=l[0];if(j.length>=D)return j.length=D,g.x;const y=j.length;j.length=D;for(let T=y;T<j.length;T++)j[T]=V;return g.x}throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.includes=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,2,2,m,h),(0,g.o)(l[0])){const D=l[1];return l[0].findIndex(V=>(0,g.C)(V,D))>-1}if((0,g.q)(l[0])){const D=l[1];return l[0].toArray().findIndex(V=>(0,g.C)(V,D))>-1}throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.slice=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,1,3,m,h),(0,g.o)(l[0])){const D=(0,g.g)((0,g.H)(l[1],0)),V=(0,g.g)((0,g.H)(l[2],l[0].length));if(isNaN(D)||!1===(0,g.M)(D))throw new E.aV(m,E.rH.InvalidParameter,h);if(isNaN(V)||!1===(0,g.M)(V))throw new E.aV(m,E.rH.InvalidParameter,h);return l[0].slice(D,V)}if((0,g.q)(l[0])){const D=l[0],V=(0,g.g)((0,g.H)(l[1],0)),j=(0,g.g)((0,g.H)(l[2],D.length()));if(isNaN(V)||!1===(0,g.M)(V))throw new E.aV(m,E.rH.InvalidParameter,h);if(isNaN(j)||!1===(0,g.M)(j))throw new E.aV(m,E.rH.InvalidParameter,h);return D.toArray().slice(V,j)}throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.splice=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{const D=[];for(let V=0;V<l.length;V++)(0,g.o)(l[V])?D.push(...l[V]):(0,g.q)(l[V])?D.push(...l[V].toArray()):D.push(l[V]);return D})},c.functions.top=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{if((0,g.E)(l,2,2,m,h),(0,g.o)(l[0]))return(0,g.g)(l[1])>=l[0].length?l[0].slice(0):l[0].slice(0,(0,g.g)(l[1]));if((0,g.q)(l[0]))return(0,g.g)(l[1])>=l[0].length()?l[0].slice(0):l[0].slice(0,(0,g.g)(l[1]));throw new E.aV(m,E.rH.InvalidParameter,h)})},c.functions.first=function(m,h){return c.standardFunction(m,h,(C,_,l)=>((0,g.E)(l,1,1,m,h),(0,g.o)(l[0])?0===l[0].length?null:l[0][0]:(0,g.q)(l[0])?0===l[0].length()?null:l[0].get(0):null))},"sync"===c.mode&&(c.functions.sort=function(m,h){return c.standardFunction(m,h,(C,_,l)=>I(m,h,l,!1))},c.functions.any=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{(0,g.E)(l,2,2,m,h);const D=l[1].createFunction(m),V=$(l[0],m,h);for(const j of V){const y=D(j);if((0,g.a)(y)&&!0===y)return!0}return!1})},c.functions.all=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{(0,g.E)(l,2,2,m,h);const D=l[1].createFunction(m),V=$(l[0],m,h);for(const j of V)if(!0!==D(j))return!1;return!0})},c.functions.none=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{(0,g.E)(l,2,2,m,h);const D=l[1].createFunction(m),V=$(l[0],m,h);for(const j of V)if(!0===D(j))return!1;return!0})},c.functions.reduce=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{(0,g.E)(l,2,3,m,h);const D=l[1].createFunction(m),V=$(l[0],m,h);return 2===l.length?0===V.length?null:V.reduce((j,y)=>{const T=D(j,y);return void 0!==T&&T!==g.x?T:null}):V.reduce((j,y)=>{const T=D(j,y);return void 0!==T&&T!==g.x?T:null},l[2])})},c.functions.map=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{(0,g.E)(l,2,2,m,h);const D=l[1].createFunction(m),V=$(l[0],m,h),j=[];for(const y of V){const T=D(y);j.push(void 0!==T&&T!==g.x?T:null)}return j})},c.functions.filter=function(m,h){return c.standardFunction(m,h,(C,_,l)=>{(0,g.E)(l,2,2,m,h);const D=l[1].createFunction(m),V=$(l[0],m,h),j=[];for(const y of V)!0===D(y)&&j.push(y);return j})}),"async"===c.mode&&(c.functions.sort=function(m,h){return c.standardFunctionAsync(m,h,(C,_,l)=>I(m,h,l,!0))},c.functions.any=function(m,h){return c.standardFunctionAsync(m,h,function(){var C=(0,U.Z)(function*(_,l,D){(0,g.E)(D,2,2,m,h);const V=D[1].createFunction(m),j=$(D[0],m,h);for(const y of j){const T=yield V(y);let H=null;if(H=(0,u.y8)(H)?yield T:T,(0,g.a)(H)&&!0===H)return!0}return!1});return function(_,l,D){return C.apply(this,arguments)}}())},c.functions.all=function(m,h){return c.standardFunctionAsync(m,h,function(){var C=(0,U.Z)(function*(_,l,D){(0,g.E)(D,2,2,m,h);const V=D[1].createFunction(m),j=$(D[0],m,h);for(const y of j){const T=yield V(y);let H=null;if(H=(0,u.y8)(H)?yield T:T,!0!==H)return!1}return!0});return function(_,l,D){return C.apply(this,arguments)}}())},c.functions.none=function(m,h){return c.standardFunctionAsync(m,h,function(){var C=(0,U.Z)(function*(_,l,D){(0,g.E)(D,2,2,m,h);const V=D[1].createFunction(m),j=$(D[0],m,h);for(const y of j){const T=yield V(y);let H=null;if(H=(0,u.y8)(H)?yield T:T,!0===H)return!1}return!0});return function(_,l,D){return C.apply(this,arguments)}}())},c.functions.filter=function(m,h){return c.standardFunctionAsync(m,h,function(){var C=(0,U.Z)(function*(_,l,D){(0,g.E)(D,2,2,m,h);const V=D[1].createFunction(m),j=$(D[0],m,h),y=[];for(const T of j){const H=yield V(T);let z=null;z=(0,u.y8)(z)?yield H:H,!0===z&&y.push(T)}return y});return function(_,l,D){return C.apply(this,arguments)}}())},c.functions.reduce=function(m,h){return c.standardFunctionAsync(m,h,(C,_,l)=>{(0,g.E)(l,2,3,m,h);const D=l[1].createFunction(m),V=$(l[0],m,h);let j=null;if(l.length>2){const y=(0,g.H)(l[2],null);j=V.reduce(function(){var T=(0,U.Z)(function*(H,z){let ne=yield H;return void 0!==ne&&ne!==g.x||(ne=null),D(ne,z)});return function(H,z){return T.apply(this,arguments)}}(),Promise.resolve(y))}else{if(0===V.length)return null;j=V.reduce(function(){var y=(0,U.Z)(function*(T,H,z){if(z<=1)return D(T,H);let ne=yield T;return void 0!==ne&&ne!==g.x||(ne=null),D(ne,H)});return function(T,H,z){return y.apply(this,arguments)}}())}return j.then(y=>void 0!==y&&y!==g.x?y:null)})},c.functions.map=function(m,h){return c.standardFunctionAsync(m,h,function(){var C=(0,U.Z)(function*(_,l,D){(0,g.E)(D,2,2,m,h);const V=D[1].createFunction(m),j=$(D[0],m,h),y=[];for(const T of j){const H=yield V(T);let z=null;z=(0,u.y8)(z)?yield H:H,y.push(void 0!==z&&z!==g.x?z:null)}return y});return function(_,l,D){return C.apply(this,arguments)}}())})}},Symbol.toStringTag,{value:"Module"}))},89018:(Re,ye,B)=>{B.d(ye,{$:()=>re,A:()=>tt,B:()=>It,C:()=>dt,D:()=>b,E:()=>wt,F:()=>Lt,G:()=>Et,H:()=>X,I:()=>T,J:()=>St,K:()=>mt,L:()=>le,M:()=>Ye,N:()=>he,O:()=>bt,P:()=>at,Q:()=>yt,R:()=>H,S:()=>ge,T:()=>gt,U:()=>Bt,V:()=>ke,W:()=>ce,X:()=>oe,Y:()=>lt,Z:()=>Ke,_:()=>Tt,a:()=>_e,a0:()=>K,a1:()=>Ft,a2:()=>Ct,a3:()=>st,a4:()=>ht,a5:()=>xt,b:()=>Te,c:()=>ue,d:()=>F,e:()=>S,f:()=>J,g:()=>Fe,h:()=>ze,i:()=>xe,j:()=>Qe,k:()=>ve,l:()=>Pe,m:()=>Oe,n:()=>He,o:()=>Se,p:()=>Ie,q:()=>Be,r:()=>Me,s:()=>et,t:()=>ft,u:()=>it,v:()=>Le,w:()=>Zt,x:()=>z,y:()=>ne,z:()=>de});var U=B(15861),P=B(11931),E=B(26152),Z=B(93630),g=B(31816),u=B(53570),Q=B(59243),k=B(29066),c=B(69103),$=B(85833),Y=B(76961),L=B(51937),q=B(88781),ae=B(81429),G=B(26894),N=B(32184),I=B(12628),m=B(85039),h=B(5391),C=B(64222),_=B(43814),l=B(54746),D=B(55829),V=B(25037);class j{constructor(v){this.value=v}}class y{constructor(v){this.value=v}}const T=y,H=j,z={type:"VOID"},ne={type:"BREAK"},de={type:"CONTINUE"};function ge(f,v,R){return""===v||null==v||v===R||v===R?f:f=f.split(v).join(R)}function xe(f){return f instanceof Q.Rm}function be(f){return f instanceof g.P}function J(f){return!!(ue(f)||Te(f)||ve(f)||Oe(f)||He(f)||_e(f)||null===f||f===z||"number"==typeof f)}function X(f,v){return void 0===f?v:f}function he(f){return null==f?"":Se(f)||Be(f)?"Array":ve(f)?"Date":He(f)?"Time":Oe(f)?"DateOnly":ue(f)?"String":_e(f)?"Boolean":Te(f)?"Number":"esri.arcade.Attachment"===f?.declaredClass?"Attachment":"esri.arcade.Portal"===f?.declaredClass?"Portal":"esri.arcade.Dictionary"===f?.declaredClass?"Dictionary":f instanceof g.P?"Module":Me(f)?"Feature":f instanceof m.Z?"Point":f instanceof h.Z?"Polygon":f instanceof C.Z?"Polyline":f instanceof I.Z?"Multipoint":f instanceof G.Z?"Extent":xe(f)?"Function":it(f)?"FeatureSet":et(f)?"FeatureSetCollection":f===z?"":"number"==typeof f&&isNaN(f)?"Number":"Unrecognized Type"}function ue(f){return"string"==typeof f||f instanceof String}function _e(f){return"boolean"==typeof f}function Te(f){return"number"==typeof f}function Ye(f){return"number"==typeof f&&isFinite(f)&&Math.floor(f)===f}function Ie(f){return f instanceof N.Z}function Se(f){return f instanceof Array}function Me(f){return"esri.arcade.Feature"===f?.arcadeDeclaredClass}function it(f){return"esri.arcade.featureset.support.FeatureSet"===f?.declaredRootClass}function Le(f){return"esri.arcade.Dictionary"===f?.declaredClass}function et(f){return"esri.arcade.featureSetCollection"===f?.declaredRootClass}function Be(f){return f instanceof k.Z}function ve(f){return f instanceof Z.iG}function Oe(f){return f instanceof q.u}function He(f){return f instanceof ae.n}function At(f){return null!=f&&"object"==typeof f}function Ve(f){return f instanceof Date}function wt(f,v,R,se,ie){if(f.length<v||f.length>R)throw new u.aV(se,u.rH.WrongNumberOfParameters,ie)}function at(f){return f<0?-Math.round(-f):Math.round(f)}function gt(){let f=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replaceAll(/[xy]/g,v=>{const R=(f+16*Math.random())%16|0;return f=Math.floor(f/16),("x"===v?R:3&R|8).toString(16)})}function vt(f,v){return isNaN(f)||null==v||""===v?f.toString():(v=ge(v,"\u2030",""),v=ge(v,"\xa4",""),(0,L.WU)(f,{pattern:v}))}function Dt(f,v){return null==v||""===v?f.toISOString(!0):f.toFormat(bt(v),{locale:(0,D.Kd)(),numberingSystem:"latn"})}function bt(f,v=!1){f=f.replaceAll(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let R="";const se=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|Z{1,5}|.)/g;for(const ie of f.match(se)||[])switch(ie){case"D":R+="d";break;case"DD":R+="dd";break;case"DDD":R+="o";break;case"d":R+="c";break;case"ddd":R+="ccc";break;case"dddd":R+="cccc";break;case"M":R+="L";break;case"MM":R+="LL";break;case"MMM":R+="LLL";break;case"MMMM":R+="LLLL";break;case"YY":R+="yy";break;case"Y":case"YYYY":R+="yyyy";break;case"Q":R+="q";break;case"Z":R+="Z";break;case"ZZ":R+="ZZ";break;case"ZZZ":R+="ZZZ";break;case"ZZZZ":R+=v?"[ZZZZ]":"ZZZZ";break;case"ZZZZZ":R+=v?"[ZZZZZ]":"ZZZZZ";break;case"S":R+="'S'";break;case"SS":R+="'SS'";break;case"SSS":R+="u";break;case"A":case"a":R+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":R+=ie;break;default:ie.length>=2&&"["===ie.slice(0,1)&&"]"===ie.slice(-1)?R+=`'${ie.slice(1,-1)}'`:R+=`'${ie}'`}return R}function pe(f,v,R){switch(R){case">":return f>v;case"<":return f<v;case">=":return f>=v;case"<=":return f<=v}return!1}function It(f,v,R){if(null===f){if(null===v||v===z)return pe(null,null,R);if(Te(v))return pe(0,v,R);if(ue(v)||_e(v))return pe(0,Fe(v),R);if(ve(v))return pe(0,v.toNumber(),R);if(He(v)||Oe(v))return pe(f,v.toNumber(),R)}if(f===z){if(null===v||v===z)return pe(null,null,R);if(Te(v))return pe(0,v,R);if(ue(v)||_e(v))return pe(0,Fe(v),R);if(ve(v))return pe(0,v.toNumber(),R);if(He(v)||Oe(v))return pe(f,v.toNumber(),R)}else if(Te(f)){if(Te(v))return pe(f,v,R);if(_e(v))return pe(f,Fe(v),R);if(null===v||v===z)return pe(f,0,R);if(ue(v))return pe(f,Fe(v),R);if(ve(v)||He(v)||Oe(v))return pe(f,v.toNumber(),R)}else if(ue(f)){if(ue(v))return pe(Qe(f),Qe(v),R);if(ve(v)||He(v)||Oe(v))return pe(Fe(f),v.toNumber(),R);if(Te(v))return pe(Fe(f),v,R);if(null===v||v===z)return pe(Fe(f),0,R);if(_e(v))return pe(Fe(f),Fe(v),R)}else if(ve(f)){if(ve(v))return f.timeZone!==v.timeZone&&(f.isUnknownTimeZone?f=Z.iG.arcadeDateAndZoneToArcadeDate(f,v.timeZone):v.isUnknownTimeZone&&(v=Z.iG.arcadeDateAndZoneToArcadeDate(v,f.timeZone))),pe(f.toNumber(),v.toNumber(),R);if(null===v||v===z)return pe(f.toNumber(),0,R);if(Te(v))return pe(f.toNumber(),v,R);if(_e(v)||ue(v))return pe(f.toNumber(),Fe(v),R);if(He(v))throw new u.aV(null,u.rH.CannotCompareDateAndTime,null);if(Oe(v))return pe(f.toNumber(),v.toNumber(),R)}else if(_e(f)){if(_e(v))return pe(f,v,R);if(Te(v))return pe(Fe(f),Fe(v),R);if(ve(v)||He(v)||Oe(v))return pe(Fe(f),v.toNumber(),R);if(null===v||v===z)return pe(Fe(f),0,R);if(ue(v))return pe(Fe(f),Fe(v),R)}else if(Oe(f)){if(ve(v))return pe(f.toNumber(),v.toNumber(),R);if(null===v||v===z)return pe(f.toNumber(),0,R);if(Te(v))return pe(f.toNumber(),v,R);if(_e(v)||ue(v))return pe(f.toNumber(),Fe(v),R);if(He(v))throw new u.aV(null,u.rH.CannotCompareDateAndTime,null);if(Oe(v))return pe(f.toNumber(),v.toNumber(),R)}else if(He(f)){if(ve(v))throw new u.aV(null,u.rH.CannotCompareDateAndTime,null);if(null===v||v===z)return pe(f.toNumber(),0,R);if(Te(v))return pe(f.toNumber(),v,R);if(_e(v)||ue(v))return pe(f.toNumber(),Fe(v),R);if(He(v))return pe(f.toNumber(),v.toNumber(),R);if(Oe(v))throw new u.aV(null,u.rH.CannotCompareDateAndTime,null)}return!!dt(f,v)&&("<="===R||">="===R)}function dt(f,v){if(f===v||null===f&&v===z||null===v&&f===z)return!0;if(ve(f)&&ve(v)||He(f)&&He(v)||Oe(f)&&Oe(v))return f.equals(v);if(f instanceof c.Z||f instanceof $.Z)return f.equalityTest(v);if(f instanceof m.Z&&v instanceof m.Z){const R=f.cache._arcadeCacheId;if(null!=R)return R===v.cache._arcadeCacheId}return!!(At(f)&&At(v)&&(f._arcadeCacheId===v._arcadeCacheId&&null!=f._arcadeCacheId||f._underlyingGraphic===v._underlyingGraphic&&null!=f._underlyingGraphic))}function Qe(f,v){if(ue(f))return f;if(null===f)return"";if(Te(f))return vt(f,v);if(_e(f))return f.toString();if(ve(f))return Dt(f,v);if(He(f)||Oe(f))return f.toFormat(v);if(f instanceof N.Z)return JSON.stringify(f.toJSON());if(Se(f)){const R=[];for(let se=0;se<f.length;se++)R[se]=Xe(f[se]);return"["+R.join(",")+"]"}if(f instanceof k.Z){const R=[];for(let se=0;se<f.length();se++)R[se]=Xe(f.get(se));return"["+R.join(",")+"]"}return null!==f&&"object"==typeof f&&void 0!==f.castToText?f.castToText():xe(f)?"object, Function":f===z?"":be(f)?"object, Module":""}function Tt(f){const v=[];if(!Se(f))return null;if(f instanceof k.Z){for(let R=0;R<f.length();R++)v[R]=Fe(f.get(R));return v}for(let R=0;R<f.length;R++)v[R]=Fe(f[R]);return v}function ft(f,v,R=!1){if(ue(f))return f;if(null===f)return"";if(Te(f))return vt(f,v);if(_e(f))return f.toString();if(ve(f))return Dt(f,v);if(He(f)||Oe(f))return f.toFormat(v);if(f instanceof N.Z)return f instanceof G.Z?'{"xmin":'+f.xmin.toString()+',"ymin":'+f.ymin.toString()+","+(f.hasZ?'"zmin":'+f.zmin.toString()+",":"")+(f.hasM?'"mmin":'+f.mmin.toString()+",":"")+'"xmax":'+f.xmax.toString()+',"ymax":'+f.ymax.toString()+","+(f.hasZ?'"zmax":'+f.zmax.toString()+",":"")+(f.hasM?'"mmax":'+f.mmax.toString()+",":"")+'"spatialReference":'+qe(f.spatialReference)+"}":qe(f.toJSON(),(se,ie)=>se.key===ie.key?0:"spatialReference"===se.key?1:"spatialReference"===ie.key||se.key<ie.key?-1:se.key>ie.key?1:0);if(Se(f)){const se=[];for(let ie=0;ie<f.length;ie++)se[ie]=Xe(f[ie],R);return"["+se.join(",")+"]"}if(f instanceof k.Z){const se=[];for(let ie=0;ie<f.length();ie++)se[ie]=Xe(f.get(ie),R);return"["+se.join(",")+"]"}return null!==f&&"object"==typeof f&&void 0!==f.castToText?f.castToText(R):xe(f)?"object, Function":f===z?"":be(f)?"object, Module":""}function Xe(f,v=!1){if(null===f)return"null";if(_e(f)||Te(f)||ue(f))return JSON.stringify(f);if(f instanceof N.Z||f instanceof k.Z||f instanceof Array)return ft(f,null,v);if(ve(f))return JSON.stringify(v?f.getTime():Dt(f,""));if(He(f)||Oe(f))return JSON.stringify(f.toString());if(null!==f&&"object"==typeof f){if(void 0!==f.castToText)return f.castToText(v)}else if(f===z)return"null";return"null"}function Fe(f,v){return Te(f)?f:null===f||""===f?0:ve(f)||Oe(f)||He(f)?NaN:_e(f)?f?1:0:Se(f)||""===f||void 0===f?NaN:void 0!==v&&ue(f)?(v=ge(v,"\u2030",""),v=ge(v,"\xa4",""),(0,L.Qc)(f,{pattern:v})):f===z?0:Number(f)}function Pe(f,v){if(ve(f))return f;if(ue(f)){const R=function je(f,v){const R=/ (\d\d)/,se=(0,Z.Qn)(v);let ie=V.ou.fromISO(f,{zone:se});return ie.isValid||R.test(f)&&(f=f.replace(R,"T$1"),ie=V.ou.fromISO(f,{zone:v}),ie.isValid)?ie:null}(f,v);if(R)return Z.iG.dateTimeToArcadeDate(R)}return null}function ze(f){return _e(f)?f:ue(f)?"true"===(f=f.toLowerCase()):!!Te(f)&&0!==f&&!isNaN(f)}function tt(f,v){return null==f?null:(null!=f.spatialReference||(f.spatialReference=v),f)}function yt(f){if(null===f)return null;if(f instanceof m.Z)return"NaN"===f.x||null===f.x||isNaN(f.x)?null:f;if(f instanceof h.Z){if(0===f.rings.length)return null;for(const v of f.rings)if(v.length>0)return f;return null}if(f instanceof C.Z){if(0===f.paths.length)return null;for(const v of f.paths)if(v.length>0)return f;return null}return f instanceof I.Z?0===f.points.length?null:f:f instanceof G.Z?"NaN"===f.xmin||null===f.xmin||isNaN(f.xmin)?null:f:null}function ht(f,v){if(!f||!f.domain)return v;let R=null,se=null;if("string"===f.field.type||"esriFieldTypeString"===f.field.type)R=Qe(v);else{if(null==v)return null;if(""===v)return v;R=Fe(v)}for(let ie=0;ie<f.domain.codedValues.length;ie++){const Ae=f.domain.codedValues[ie];Ae.code===R&&(se=Ae)}return null===se?Qe(v):se.name}function xt(f,v){if(!f||!f.domain)return v;let R=null;const se=Qe(v);for(let ie=0;ie<f.domain.codedValues.length;ie++){const Ae=f.domain.codedValues[ie];Ae.name===se&&(R=Ae)}return null===R?v:R.code}function st(f,v,R=null,se=null){if(!v||!v.fields)return null;let ie,Ae,Ne=null;for(let we=0;we<v.fields.length;we++){const Ue=v.fields[we];Ue.name.toLowerCase()===f.toString().toLowerCase()&&(Ne=Ue)}if(null===Ne)throw new u.aV(null,u.rH.FieldNotFound,null,{key:f});if(null===se&&R&&v.typeIdField)se=R.hasField(v.typeIdField)?R.field(v.typeIdField):null;else if(v.typeIdField&&null!==se){let we=!1;for(const Ue of v.types||[])if(se===Ue.id){we=!0;break}if(!we)for(const Ue of v.types||[])if(se===Ue.name){se=Ue.id,we=!0;break}we||(se=null,R&&v.typeIdField&&(se=R.hasField(v.typeIdField)?R.field(v.typeIdField):null))}return null!=se&&v.types.some(we=>we.id===se&&(ie=we.domains?.[Ne.name],ie&&"inherited"===ie.type&&(ie=kt(Ne.name,v),Ae=!0),!0)),Ae||ie||(ie=kt(f,v)),{field:Ne,domain:ie}}function kt(f,v){let R;return v.fields.some(se=>(se.name.toLowerCase()===f.toLowerCase()&&(R=se.domain),!!R)),R}function qe(f,v){v||(v={}),"function"==typeof v&&(v={cmp:v});const R="boolean"==typeof v.cycles&&v.cycles,se=v.cmp&&(ie=v.cmp,function(Ne){return function(we,Ue){return ie({key:we,value:Ne[we]},{key:Ue,value:Ne[Ue]})}});var ie;const Ae=[];return function Ne(we){if(we?.toJSON&&"function"==typeof we.toJSON&&(we=we.toJSON()),void 0===we)return;if("number"==typeof we)return isFinite(we)?""+we:"null";if("object"!=typeof we)return JSON.stringify(we);let Ue,nt;if(Array.isArray(we)){for(nt="[",Ue=0;Ue<we.length;Ue++)Ue&&(nt+=","),nt+=Ne(we[Ue])||"null";return nt+"]"}if(null===we)return"null";if(Ae.includes(we)){if(R)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Ut=Ae.push(we)-1,Wt=Object.keys(we).sort(se?.(we));for(nt="",Ue=0;Ue<Wt.length;Ue++){const Jt=Wt[Ue],$t=Ne(we[Jt]);$t&&(nt&&(nt+=","),nt+=JSON.stringify(Jt)+":"+$t)}return Ae.splice(Ut,1),"{"+nt+"}"}(f)}function Lt(f){if(null===f)return null;const v=[];for(const R of f)v.push(R?.arcadeDeclaredClass&&"esri.arcade.Feature"===R.arcadeDeclaredClass?R.geometry():R);return v}function ut(f,v){if(!(v instanceof m.Z))throw new u.aV(null,u.rH.InvalidParameter,null);f.push(v.hasZ?v.hasM?[v.x,v.y,v.z,v.m]:[v.x,v.y,v.z]:[v.x,v.y])}function Et(f,v){if(Se(f)||Be(f)){let R=!1,se=!1,ie=[],Ae=v;if(Se(f)){for(const Ne of f)ut(ie,Ne);ie.length>0&&(Ae=f[0].spatialReference,R=f[0].hasZ,se=f[0].hasM)}else if(f instanceof $.Z)ie=f._elements,ie.length>0&&(R=f._hasZ,se=f._hasM,Ae=f.get(0).spatialReference);else{if(!Be(f))throw new u.aV(null,u.rH.InvalidParameter,null);for(const Ne of f.toArray())ut(ie,Ne);ie.length>0&&(Ae=f.get(0).spatialReference,R=!0===f.get(0).hasZ,se=!0===f.get(0).hasM)}return 0===ie.length?null:((0,l.bu)(ie)||(ie=ie.slice(0).reverse()),new h.Z({rings:[ie],spatialReference:Ae,hasZ:R,hasM:se}))}return f}function St(f,v){if(Se(f)||Be(f)){let R=!1,se=!1,ie=[],Ae=v;if(Se(f)){for(const Ne of f)ut(ie,Ne);ie.length>0&&(Ae=f[0].spatialReference,R=!0===f[0].hasZ,se=!0===f[0].hasM)}else if(f instanceof $.Z)ie=f._elements,ie.length>0&&(R=f._hasZ,se=f._hasM,Ae=f.get(0).spatialReference);else if(Be(f)){for(const Ne of f.toArray())ut(ie,Ne);ie.length>0&&(Ae=f.get(0).spatialReference,R=!0===f.get(0).hasZ,se=!0===f.get(0).hasM)}return 0===ie.length?null:new C.Z({paths:[ie],spatialReference:Ae,hasZ:R,hasM:se})}return f}function mt(f,v){if(Se(f)||Be(f)){let R=!1,se=!1,ie=[],Ae=v;if(Se(f)){for(const Ne of f)ut(ie,Ne);ie.length>0&&(Ae=f[0].spatialReference,R=!0===f[0].hasZ,se=!0===f[0].hasM)}else if(f instanceof $.Z)ie=f._elements,ie.length>0&&(R=f._hasZ,se=f._hasM,Ae=f.get(0).spatialReference);else if(Be(f)){for(const Ne of f.toArray())ut(ie,Ne);ie.length>0&&(Ae=f.get(0).spatialReference,R=!0===f.get(0).hasZ,se=!0===f.get(0).hasM)}return 0===ie.length?null:new I.Z({points:ie,spatialReference:Ae,hasZ:R,hasM:se})}return f}function Ct(f,v=!1){const R=[];if(null===f)return R;if(!0===Se(f)){for(let se=0;se<f.length;se++){const ie=Qe(f[se]);""===ie&&!0!==v||R.push(ie)}return R}if(f instanceof k.Z){for(let se=0;se<f.length();se++){const ie=Qe(f.get(se));""===ie&&!0!==v||R.push(ie)}return R}if(J(f)){const se=Qe(f);return""===se&&!0!==v||R.push(se),R}return[]}let Ge=0;function Ft(f){return Ge++,Ge%100==0?(Ge=0,new Promise(v=>{setTimeout(()=>{v(f)},0)})):f}function b(f,v,R){switch(R){case"&":return f&v;case"|":return f|v;case"^":return f^v;case"<<":return f<<v;case">>":return f>>v;case">>>":return f>>>v}}function F(f,v=null){return null==f?null:_e(f)||Te(f)||ue(f)?f:f instanceof N.Z?!0===v?.keepGeometryType?f:f.toJSON():f instanceof k.Z?f.toArray().map(R=>F(R,v)):f instanceof Array?f.map(R=>F(R,v)):Ve(f)?f:ve(f)?f.toJSDate():He(f)?f.toString():Oe(f)?f.toJSDate():null!==f&&"object"==typeof f&&void 0!==f.castAsJson?f.castAsJson(v):null}function w(f,v,R,se,ie){return A.apply(this,arguments)}function A(){return(A=(0,U.Z)(function*(f,v,R,se,ie){const Ae=yield S(f,v,R);ie[se]=Ae})).apply(this,arguments)}function S(f){return ee.apply(this,arguments)}function ee(){return(ee=(0,U.Z)(function*(f,v=null,R=null){if(f instanceof k.Z&&(f=f.toArray()),null==f)return null;if(J(f)||f instanceof N.Z||Ve(f)||ve(f))return F(f,R);if(f instanceof Array){const se=[],ie=[];for(const Ae of f)null===Ae||J(Ae)||Ae instanceof N.Z||Ve(Ae)||ve(Ae)?ie.push(F(Ae,R)):(ie.push(null),se.push(w(Ae,v,R,ie.length-1,ie)));return se.length>0&&(yield Promise.all(se)),ie}return null!==f&&"object"==typeof f&&void 0!==f.castAsJsonAsync?f.castAsJsonAsync(v,R):null})).apply(this,arguments)}function O(f){return K(f)?f.parent:f}function K(f){return f&&"declaredClass"in f&&"esri.layers.support.SubtypeSublayer"===f.declaredClass}function re(f){return f&&"declaredClass"in f&&"esri.layers.SubtypeGroupLayer"===f.declaredClass}function ce(f,v,R){const se=O(f.fullSchema());return null!==se&&se.fields?st(v,se,f,R):null}function ke(f){const v=O(f.fullSchema());return null===v?null:v.fields&&v.typeIdField?{subtypeField:v.typeIdField,subtypes:v.types?v.types.map(R=>({name:R.name,code:R.id})):[]}:null}function oe(f,v,R,se){const ie=O(f.fullSchema());if(null===ie||!ie.fields)return null;const Ae=st(v,ie,f,se);if(void 0===R)try{R=f.field(v)}catch{return null}return ht(Ae,R)}function lt(f,v,R,se){const ie=O(f.fullSchema());if(null===ie||!ie.fields)return null;if(void 0===R){try{R=f.field(v)}catch{return null}return R}return xt(st(v,ie,f,se),R)}function le(f){return f?.timeZone??"system"}function Bt(f){const v=O(f.fullSchema());if(null===v||!v.fields)return null;const R=[];for(const se of v.fields)R.push((0,Y.Sh)(se));return{objectIdField:v.objectIdField,globalIdField:v.globalIdField??"",geometryType:void 0===Y.q2[v.geometryType]?"":Y.q2[v.geometryType],fields:R}}function Ke(f,v){return"system"===f&&(f=Z.iG.systemTimeZoneCanonicalName),{version:Mt,engineVersion:E.i8,timeZone:f,spatialReference:v instanceof _.Z?v.toJSON():v,application:P.default.applicationName??"",engine:"web",locale:(0,D.Kd)()}}const Mt="1.24",Zt=Object.freeze(Object.defineProperty({__proto__:null,ImplicitResult:T,ImplicitResultE:y,ReturnResult:H,ReturnResultE:j,absRound:at,arcadeVersion:Mt,autoCastArrayOfPointsToMultiPoint:mt,autoCastArrayOfPointsToPolygon:Et,autoCastArrayOfPointsToPolyline:St,autoCastFeatureToGeometry:Lt,binaryOperator:b,breakResult:ne,castAsJson:F,castAsJsonAsync:S,continueResult:de,defaultExecutingContext:Ke,defaultTimeZone:le,defaultUndefined:X,equalityTest:dt,featureDomainCodeLookup:lt,featureDomainValueLookup:oe,featureFullDomain:ce,featureSchema:Bt,featureSubtypes:ke,fixNullGeometry:yt,fixSpatialReference:tt,formatDate:Dt,formatNumber:vt,generateUUID:gt,getDomain:st,getDomainCode:xt,getDomainValue:ht,getType:he,greaterThanLessThan:It,isArray:Se,isBoolean:_e,isDate:ve,isDateOnly:Oe,isDictionary:Le,isFeature:Me,isFeatureSet:it,isFeatureSetCollection:et,isFunctionParameter:xe,isGeometry:Ie,isImmutableArray:Be,isInteger:Ye,isJsDate:Ve,isModule:be,isNumber:Te,isObject:At,isSimpleType:J,isString:ue,isSubtypeGrouplayer:re,isSubtypeSublayer:K,isTime:He,multiReplace:ge,pcCheck:wt,stableStringify:qe,standardiseDateFormat:bt,tick:Ft,toBoolean:ze,toDate:Pe,toNumber:Fe,toNumberArray:Tt,toString:Qe,toStringArray:Ct,toStringExplicit:ft,voidOperation:z},Symbol.toStringTag,{value:"Module"}))},51937:(Re,ye,B)=>{B.d(ye,{Qc:()=>Y,WU:()=>g,lt:()=>$});var U=B(72578),P=B(55829);const E={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function Z(N=(0,P.Kd)()){let I=(N=N.toLowerCase())in E;if(!I){const _=N.split("-");_.length>1&&_[0]in E&&(N=_[0],I=!0),I||(N="en")}const[m,h,C="#,##0.###"]=E[N];return{decimal:m,group:h,pattern:C}}function g(N,I){const m=Z((I={...I}).locale);I.customs=m;const h=I.pattern||m.pattern;return isNaN(N)||Math.abs(N)===1/0?null:function Q(N,I,m){const h=(m=m||{}).customs.group,C=m.customs.decimal,_=I.split(";"),l=_[0];if((I=_[N<0?1:0]||"-"+l).includes("%"))N*=100;else if(I.includes("\u2030"))N*=1e3;else{if(I.includes("\xa4"))throw new Error("currency notation not supported");if(I.includes("E"))throw new Error("exponential notation not supported")}const D=u,V=l.match(D);if(!V)throw new Error("unable to find a number expression in pattern: "+I);return!1===m.fractional&&(m.places=0),I.replace(D,function k(N,I,m){!0===(m=m||{}).places&&(m.places=0),m.places===1/0&&(m.places=6);const h=I.split("."),C="string"==typeof m.places&&m.places.indexOf(",");let _=m.places;C?_=m.places.substring(C+1):+_>=0||(_=(h[1]||[]).length),m.round<0||(N=Number(N.toFixed(Number(_))));const l=String(Math.abs(N)).split("."),D=l[1]||"";if(h[1]||m.places){C&&(m.places=m.places.substring(0,C));const ne=void 0!==m.places?m.places:h[1]&&h[1].lastIndexOf("0")+1;+ne>D.length&&(l[1]=D.padEnd(Number(ne),"0")),+_<D.length&&(l[1]=D.substr(0,Number(_)))}else l[1]&&l.pop();const V=h[0].replace(",","");let j=V.indexOf("0");-1!==j&&(j=V.length-j,j>l[0].length&&(l[0]=l[0].padStart(j,"0")),V.includes("#")||(l[0]=l[0].substr(l[0].length-j)));let y,T,H=h[0].lastIndexOf(",");if(-1!==H){y=h[0].length-H-1;const ne=h[0].substr(0,H);H=ne.lastIndexOf(","),-1!==H&&(T=ne.length-H-1)}const z=[];for(let ne=l[0];ne;){const de=ne.length-y;z.push(de>0?ne.substr(de):ne),ne=de>0?ne.slice(0,de):"",T&&(y=T,T=void 0)}return l[0]=z.reverse().join(m.group||","),l.join(m.decimal||".")}(N,V[0],{decimal:C,group:h,places:m.places,round:m.round}))}(N,h,I)}const u=/[#0,]*[#0](?:\.0*#*)?/;function $(N){const I=Z((N=N||{}).locale),m=N.pattern||I.pattern,h=I.group,C=I.decimal;let _=1;if(m.includes("%"))_/=100;else if(m.includes("\u2030"))_/=1e3;else if(m.includes("\xa4"))throw new Error("currency notation not supported");const l=m.split(";");return 1===l.length&&l.push("-"+l[0]),{regexp:ae(l,V=>(V="(?:"+(0,U.Qs)(V,".")+")").replace(u,j=>{const y={signed:!1,separator:N.strict?h:[h,""],fractional:N.fractional,decimal:C,exponent:!1},T=j.split(".");let H=N.places;1===T.length&&1!==_&&(T[1]="###"),1===T.length||0===H?y.fractional=!1:(void 0===H&&(H=N.pattern?T[1].lastIndexOf("0")+1:1/0),H&&null==N.fractional&&(y.fractional=!0),!N.places&&+H<T[1].length&&(H+=","+T[1].length),y.places=H);const z=T[0].split(",");return z.length>1&&(y.groupSize=z.pop().length,z.length>1&&(y.groupSize2=z.pop().length)),"("+function L(N){"places"in(N=N||{})||(N.places=1/0),"string"!=typeof N.decimal&&(N.decimal="."),"fractional"in N&&!String(N.places).startsWith("0")||(N.fractional=[!0,!1]),"exponent"in N||(N.exponent=[!0,!1]),"eSigned"in N||(N.eSigned=[!0,!1]);const I=q(N),m=ae(N.fractional,C=>{let _="";return C&&0!==N.places&&(_="\\"+N.decimal,N.places===1/0?_="(?:"+_+"\\d+)?":_+="\\d{"+N.places+"}"),_},!0);let h=I+m;return m&&(h="(?:(?:"+h+")|(?:"+m+"))"),h+ae(N.exponent,C=>C?"([eE]"+q({signed:N.eSigned})+")":"")}(y)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:h,decimal:C,factor:_}}function Y(N,I){const m=$(I),h=new RegExp("^"+m.regexp+"$").exec(N);if(!h)return NaN;let C=h[1];if(!h[1]){if(!h[2])return NaN;C=h[2],m.factor*=-1}return C=C.replaceAll(new RegExp("["+m.group+"\\s\\xa0]","g"),"").replace(m.decimal,"."),Number(C)*m.factor}function q(N){return"signed"in(N=N||{})||(N.signed=[!0,!1]),"separator"in N?"groupSize"in N||(N.groupSize=3):N.separator="",ae(N.signed,I=>I?"[-+]":"",!0)+ae(N.separator,I=>{if(!I)return"(?:\\d+)";" "===(I=(0,U.Qs)(I))?I="\\s":"\xa0"===I&&(I="\\s\\xa0");const m=N.groupSize,h=N.groupSize2;if(h){const C="(?:0|[1-9]\\d{0,"+(h-1)+"}(?:["+I+"]\\d{"+h+"})*["+I+"]\\d{"+m+"})";return m-h>0?"(?:"+C+"|(?:0|[1-9]\\d{0,"+(m-1)+"}))":C}return"(?:0|[1-9]\\d{0,"+(m-1)+"}(?:["+I+"]\\d{"+m+"})*)"},!0)}const ae=(N,I,m)=>{if(!(N instanceof Array))return I(N);const h=[];for(let C=0;C<N.length;C++)h.push(I(N[C]));return G(h.join("|"),!!m)},G=(N,I)=>"("+(I?"?:":"")+N+")"},34025:(Re,ye,B)=>{B.r(ye),B.d(ye,{Dictionary:()=>g.Z,arcade:()=>Gr,arcadeFeature:()=>Q.Z,convertFeatureLayerToFeatureSet:()=>ui,convertJsonToArcade:()=>ci,convertMapToFeatureSetCollection:()=>li,convertServiceUrlToWorkspace:()=>si,createExecContext:()=>Qr,createFeature:()=>Xr,createFunction:()=>Yr,createSyntaxTree:()=>Ht,dependsOnView:()=>ii,enableFeatureSetOperations:()=>hi,enableGeometryOperations:()=>fi,evalSyntaxTree:()=>ei,executeAsyncFunction:()=>ni,executeFunction:()=>ti,extractFieldNames:()=>ri,getArcadeType:()=>$r,getViewInfo:()=>oi,hasGeometryFunctions:()=>yi,hasGeometryOperations:()=>Ei,hasVariable:()=>ai,loadScriptDependencies:()=>di,updateExecContext:()=>qr}),B(2189);var P=B(15861),E=B(31816),Z=B(66224),g=B(70430),u=B(53570),Q=B(860),k=B(59243),c=B(89018),$=B(42442),Y=B(16049),L=B(26484),q=B(96479),ae=B(26152),G=B(25137),N=B(29673),I=B(49602),m=B(26894),h=B(32184),C=B(12628),_=B(85039),l=B(5391),D=B(64222),V=B(40637);let j=null;function y(a){return 0===ae.i8.indexOf("4.")?l.Z.fromExtent(a):new l.Z({spatialReference:a.spatialReference,rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]})}function H(a,i){if("polygon"!==a.type&&"polyline"!==a.type&&"extent"!==a.type)return 0;let o=1;(a.spatialReference.vcsWkid||a.spatialReference.latestVcsWkid)&&(o=(0,N._R)(a.spatialReference)/(0,I.c9)(a.spatialReference));let s=0;if("polyline"===a.type)for(const x of a.paths)for(let M=1;M<x.length;M++)s+=(0,N.AW)(x[M],x[M-1],o);else if("polygon"===a.type)for(const x of a.rings){for(let M=1;M<x.length;M++)s+=(0,N.AW)(x[M],x[M-1],o);(x[0][0]!==x[x.length-1][0]||x[0][1]!==x[x.length-1][1]||void 0!==x[0][2]&&x[0][2]!==x[x.length-1][2])&&(s+=(0,N.AW)(x[0],x[x.length-1],o))}else"extent"===a.type&&(s+=2*(0,N.AW)([a.xmin,a.ymin,0],[a.xmax,a.ymin,0],o),s+=2*(0,N.AW)([a.xmin,a.ymin,0],[a.xmin,a.ymax,0],o),s*=2,s+=4*Math.abs((0,c.H)(a.zmax,0)*o-(0,c.H)(a.zmin,0)*o));const d=new D.Z({hasZ:!1,hasM:!1,spatialReference:a.spatialReference,paths:[[0,0],[0,s]]});return j.planarLength(d,i)}function z(a,i){function o(s,d,x){if((0,c.E)(x,2,2,s,d),!(x[0]instanceof h.Z&&x[1]instanceof h.Z||x[0]instanceof h.Z&&null===x[1]||x[1]instanceof h.Z&&null===x[0]||null===x[0]&&null===x[1]))throw new u.aV(s,u.rH.InvalidParameter,d)}a.disjoint=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null===p[0]||null===p[1]||j.disjoint(p[0],p[1])))},a.intersects=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null!==p[0]&&null!==p[1]&&j.intersects(p[0],p[1])))},a.touches=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null!==p[0]&&null!==p[1]&&j.touches(p[0],p[1])))},a.crosses=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null!==p[0]&&null!==p[1]&&j.crosses(p[0],p[1])))},a.within=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null!==p[0]&&null!==p[1]&&j.within(p[0],p[1])))},a.contains=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null!==p[0]&&null!==p[1]&&j.contains(p[0],p[1])))},a.overlaps=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null!==p[0]&&null!==p[1]&&j.overlaps(p[0],p[1])))},a.equals=function(s,d){return i(s,d,(x,M,p)=>((0,c.E)(p,2,2,s,d),p[0]===p[1]||(p[0]instanceof h.Z&&p[1]instanceof h.Z?j.equals(p[0],p[1]):((0,c.k)(p[0])&&(0,c.k)(p[1])||(0,c.n)(p[0])&&(0,c.n)(p[1])||!(!(0,c.m)(p[0])||!(0,c.m)(p[1])))&&p[0].equals(p[1]))))},a.relate=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,3,3,s,d),p[0]instanceof h.Z&&p[1]instanceof h.Z)return j.relate(p[0],p[1],(0,c.j)(p[2]));if(p[0]instanceof h.Z&&null===p[1]||p[1]instanceof h.Z&&null===p[0]||null===p[0]&&null===p[1])return!1;throw new u.aV(s,u.rH.InvalidParameter,d)})},a.intersection=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null===p[0]||null===p[1]?null:j.intersect(p[0],p[1])))},a.union=function(s,d){return i(s,d,(x,M,p)=>{const W=[];if(0===(p=(0,c.F)(p)).length)throw new u.aV(s,u.rH.WrongNumberOfParameters,d);if(1===p.length)if((0,c.o)(p[0])){const te=(0,c.F)(p[0]);for(let De=0;De<te.length;De++)if(null!==te[De]){if(!(te[De]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);W.push(te[De])}}else{if(!(0,c.q)(p[0])){if(p[0]instanceof h.Z)return(0,c.A)((0,G.r1)(p[0]),s.spatialReference);if(null===p[0])return null;throw new u.aV(s,u.rH.InvalidParameter,d)}{const te=(0,c.F)(p[0].toArray());for(let De=0;De<te.length;De++)if(null!==te[De]){if(!(te[De]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);W.push(te[De])}}}else for(let te=0;te<p.length;te++)if(null!==p[te]){if(!(p[te]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);W.push(p[te])}return 0===W.length?null:j.union(W)})},a.difference=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null!==p[0]&&null===p[1]?(0,G.r1)(p[0]):null===p[0]?null:j.difference(p[0],p[1])))},a.symmetricdifference=function(s,d){return i(s,d,(x,M,p)=>(p=(0,c.F)(p),o(s,d,p),null===p[0]&&null===p[1]?null:null===p[0]?(0,G.r1)(p[1]):null===p[1]?(0,G.r1)(p[0]):j.symmetricDifference(p[0],p[1])))},a.clip=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,2,s,d),!(p[1]instanceof m.Z)&&null!==p[1])throw new u.aV(s,u.rH.InvalidParameter,d);if(null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return null===p[1]?null:j.clip(p[0],p[1])})},a.cut=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,2,s,d),!(p[1]instanceof D.Z)&&null!==p[1])throw new u.aV(s,u.rH.InvalidParameter,d);if(null===p[0])return[];if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return null===p[1]?[(0,G.r1)(p[0])]:j.cut(p[0],p[1])})},a.area=function(s,d){return i(s,d,(x,M,p)=>{if((0,c.E)(p,1,2,s,d),null===(p=(0,c.F)(p))[0])return 0;if((0,c.o)(p[0])||(0,c.q)(p[0])){const W=(0,c.G)(p[0],s.spatialReference);return null===W?0:j.planarArea(W,(0,G.EI)((0,c.H)(p[1],-1)))}if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return j.planarArea(p[0],(0,G.EI)((0,c.H)(p[1],-1)))})},a.areageodetic=function(s,d){return i(s,d,(x,M,p)=>{if((0,c.E)(p,1,2,s,d),null===(p=(0,c.F)(p))[0])return 0;if((0,c.o)(p[0])||(0,c.q)(p[0])){const W=(0,c.G)(p[0],s.spatialReference);return null===W?0:j.geodesicArea(W,(0,G.EI)((0,c.H)(p[1],-1)))}if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return j.geodesicArea(p[0],(0,G.EI)((0,c.H)(p[1],-1)))})},a.length=function(s,d){return i(s,d,(x,M,p)=>{if((0,c.E)(p,1,2,s,d),null===(p=(0,c.F)(p))[0])return 0;if((0,c.o)(p[0])||(0,c.q)(p[0])){const W=(0,c.J)(p[0],s.spatialReference);return null===W?0:j.planarLength(W,(0,G.Lz)((0,c.H)(p[1],-1)))}if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return j.planarLength(p[0],(0,G.Lz)((0,c.H)(p[1],-1)))})},a.length3d=function(s,d){return i(s,d,(x,M,p)=>{if((0,c.E)(p,1,2,s,d),null===(p=(0,c.F)(p))[0])return 0;if((0,c.o)(p[0])||(0,c.q)(p[0])){const W=(0,c.J)(p[0],s.spatialReference);return null===W?0:!0===W.hasZ?H(W,(0,G.Lz)((0,c.H)(p[1],-1))):j.planarLength(W,(0,G.Lz)((0,c.H)(p[1],-1)))}if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return!0===p[0].hasZ?H(p[0],(0,G.Lz)((0,c.H)(p[1],-1))):j.planarLength(p[0],(0,G.Lz)((0,c.H)(p[1],-1)))})},a.lengthgeodetic=function(s,d){return i(s,d,(x,M,p)=>{if((0,c.E)(p,1,2,s,d),null===(p=(0,c.F)(p))[0])return 0;if((0,c.o)(p[0])||(0,c.q)(p[0])){const W=(0,c.J)(p[0],s.spatialReference);return null===W?0:j.geodesicLength(W,(0,G.Lz)((0,c.H)(p[1],-1)))}if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return j.geodesicLength(p[0],(0,G.Lz)((0,c.H)(p[1],-1)))})},a.distance=function(s,d){return i(s,d,(x,M,p)=>{p=(0,c.F)(p),(0,c.E)(p,2,3,s,d);let W=p[0];((0,c.o)(p[0])||(0,c.q)(p[0]))&&(W=(0,c.K)(p[0],s.spatialReference));let te=p[1];if(((0,c.o)(p[1])||(0,c.q)(p[1]))&&(te=(0,c.K)(p[1],s.spatialReference)),!(W instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);if(!(te instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return j.distance(W,te,(0,G.Lz)((0,c.H)(p[2],-1)))})},a.distancegeodetic=function(s,d){return i(s,d,(x,M,p)=>{p=(0,c.F)(p),(0,c.E)(p,2,3,s,d);const W=p[0],te=p[1];if(!(W instanceof _.Z))throw new u.aV(s,u.rH.InvalidParameter,d);if(!(te instanceof _.Z))throw new u.aV(s,u.rH.InvalidParameter,d);const De=new D.Z({paths:[],spatialReference:W.spatialReference});return De.addPath([W,te]),j.geodesicLength(De,(0,G.Lz)((0,c.H)(p[2],-1)))})},a.densify=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,3,s,d),null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);const W=(0,c.g)(p[1]);if(isNaN(W))throw new u.aV(s,u.rH.InvalidParameter,d);if(W<=0)throw new u.aV(s,u.rH.InvalidParameter,d);return p[0]instanceof l.Z||p[0]instanceof D.Z?j.densify(p[0],W,(0,G.Lz)((0,c.H)(p[2],-1))):p[0]instanceof m.Z?j.densify(y(p[0]),W,(0,G.Lz)((0,c.H)(p[2],-1))):p[0]})},a.densifygeodetic=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,3,s,d),null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);const W=(0,c.g)(p[1]);if(isNaN(W))throw new u.aV(s,u.rH.InvalidParameter,d);if(W<=0)throw new u.aV(s,u.rH.InvalidParameter,d);return p[0]instanceof l.Z||p[0]instanceof D.Z?j.geodesicDensify(p[0],W,(0,G.Lz)((0,c.H)(p[2],-1))):p[0]instanceof m.Z?j.geodesicDensify(y(p[0]),W,(0,G.Lz)((0,c.H)(p[2],-1))):p[0]})},a.generalize=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,4,s,d),null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);const W=(0,c.g)(p[1]);if(isNaN(W))throw new u.aV(s,u.rH.InvalidParameter,d);return j.generalize(p[0],W,(0,c.h)((0,c.H)(p[2],!0)),(0,G.Lz)((0,c.H)(p[3],-1)))})},a.buffer=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,3,s,d),null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);const W=(0,c.g)(p[1]);if(isNaN(W))throw new u.aV(s,u.rH.InvalidParameter,d);return 0===W?(0,G.r1)(p[0]):j.buffer(p[0],W,(0,G.Lz)((0,c.H)(p[2],-1)))})},a.buffergeodetic=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,3,s,d),null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);const W=(0,c.g)(p[1]);if(isNaN(W))throw new u.aV(s,u.rH.InvalidParameter,d);return 0===W?(0,G.r1)(p[0]):j.geodesicBuffer(p[0],W,(0,G.Lz)((0,c.H)(p[2],-1)))})},a.offset=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,6,s,d),null===p[0])return null;if(!(p[0]instanceof l.Z||p[0]instanceof D.Z))throw new u.aV(s,u.rH.InvalidParameter,d);const W=(0,c.g)(p[1]);if(isNaN(W))throw new u.aV(s,u.rH.InvalidParameter,d);const te=(0,c.g)((0,c.H)(p[4],10));if(isNaN(te))throw new u.aV(s,u.rH.InvalidParameter,d);const De=(0,c.g)((0,c.H)(p[5],0));if(isNaN(De))throw new u.aV(s,u.rH.InvalidParameter,d);return j.offset(p[0],W,(0,G.Lz)((0,c.H)(p[2],-1)),(0,c.j)((0,c.H)(p[3],"round")).toLowerCase(),te,De)})},a.rotate=function(s,d){return i(s,d,(x,M,p)=>{p=(0,c.F)(p),(0,c.E)(p,2,3,s,d);let W=p[0];if(null===W)return null;if(!(W instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);W instanceof m.Z&&(W=l.Z.fromExtent(W));const te=(0,c.g)(p[1]);if(isNaN(te))throw new u.aV(s,u.rH.InvalidParameter,d);const De=(0,c.H)(p[2],null);if(null===De)return j.rotate(W,te);if(De instanceof _.Z)return j.rotate(W,te,De);throw new u.aV(s,u.rH.InvalidParameter,d)})},a.centroid=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,1,1,s,d),null===p[0])return null;let W=p[0];if(((0,c.o)(p[0])||(0,c.q)(p[0]))&&(W=(0,c.K)(p[0],s.spatialReference)),null===W)return null;if(!(W instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return W instanceof _.Z?(0,c.A)((0,G.r1)(p[0]),s.spatialReference):W instanceof l.Z?W.centroid:W instanceof D.Z?(0,N.s9)(W):W instanceof C.Z?(0,N.Ay)(W):W instanceof m.Z?W.center:null})},a.multiparttosinglepart=function(s,d){return i(s,d,(x,M,p)=>{p=(0,c.F)(p),(0,c.E)(p,1,1,s,d);const W=[];if(null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);if(p[0]instanceof _.Z)return[(0,c.A)((0,G.r1)(p[0]),s.spatialReference)];if(p[0]instanceof m.Z)return[(0,c.A)((0,G.r1)(p[0]),s.spatialReference)];const te=j.simplify(p[0]);if(te instanceof l.Z){const De=[],Ee=[];for(let me=0;me<te.rings.length;me++)if(te.isClockwise(te.rings[me])){const Ze=(0,V.im)({rings:[te.rings[me]],hasZ:!0===te.hasZ,hasM:!0===te.hasM,spatialReference:te.spatialReference.toJSON()});De.push(Ze)}else Ee.push({ring:te.rings[me],pt:te.getPoint(me,0)});for(let me=0;me<Ee.length;me++)for(let Ze=0;Ze<De.length;Ze++)if(De[Ze].contains(Ee[me].pt)){De[Ze].addRing(Ee[me].ring);break}return De}if(te instanceof D.Z){const De=[];for(let Ee=0;Ee<te.paths.length;Ee++){const me=(0,V.im)({paths:[te.paths[Ee]],hasZ:!0===te.hasZ,hasM:!0===te.hasM,spatialReference:te.spatialReference.toJSON()});De.push(me)}return De}if(p[0]instanceof C.Z){const De=(0,c.A)((0,G.r1)(p[0]),s.spatialReference);for(let Ee=0;Ee<De.points.length;Ee++)W.push(De.getPoint(Ee));return W}return null})},a.issimple=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,1,1,s,d),null===p[0])return!0;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return j.isSimple(p[0])})},a.simplify=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,1,1,s,d),null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return j.simplify(p[0])})},a.convexhull=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,1,1,s,d),null===p[0])return null;if(!(p[0]instanceof h.Z))throw new u.aV(s,u.rH.InvalidParameter,d);return j.convexHull(p[0])})},a.nearestcoordinate=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,2,s,d),!(p[0]instanceof h.Z||null===p[0]))throw new u.aV(s,u.rH.InvalidParameter,d);if(!(p[1]instanceof _.Z||null===p[1]))throw new u.aV(s,u.rH.InvalidParameter,d);if(null===p[0]||null===p[1])return null;const W=j.nearestCoordinate(p[0],p[1]);return null===W||W.isEmpty?null:g.Z.convertObjectToArcadeDictionary({coordinate:W.coordinate,distance:W.distance},(0,c.L)(s),!1,!0)})},a.nearestvertex=function(s,d){return i(s,d,(x,M,p)=>{if(p=(0,c.F)(p),(0,c.E)(p,2,2,s,d),!(p[0]instanceof h.Z||null===p[0]))throw new u.aV(s,u.rH.InvalidParameter,d);if(!(p[1]instanceof _.Z||null===p[1]))throw new u.aV(s,u.rH.InvalidParameter,d);if(null===p[0]||null===p[1])return null;const W=j.nearestVertex(p[0],p[1]);return null===W||W.isEmpty?null:g.Z.convertObjectToArcadeDictionary({coordinate:W.coordinate,distance:W.distance},(0,c.L)(s),!1,!0)})}}var ne=B(89325),de=B(18780),ge=B(40801),xe=B(79412),be=B(43814);function he(a,i,o){try{return o(a,null,i.arguments)}catch(s){throw s}}function ue(a,i){try{switch(i.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclarator":return function gt(a,i){let o=null===i.init?null:ue(a,i.init);o===c.x&&(o=null);const s=i.id.name.toLowerCase();if(Ve(s),null!==a.localScope){if(void 0!==a.localScope[s])return"lscope['"+s+"']="+o+"; ";if(void 0!==a.localScope._SymbolsMap[s])return"lscope['"+a.localScope._SymbolsMap[s]+"']="+o+"; ";{const x=je(a);return a.localScope._SymbolsMap[s]=x,a.mangleMap[s]=x,"lscope['"+x+"']="+o+"; "}}if(void 0!==a.globalScope[s])return"gscope['"+s+"']="+o+"; ";if(void 0!==a.globalScope._SymbolsMap[s])return"gscope['"+a.globalScope._SymbolsMap[s]+"']="+o+"; ";if(a.undeclaredGlobalsInFunctions.has(s)){const x=a.undeclaredGlobalsInFunctions.get(s).manglename;return a.globalScope._SymbolsMap[s]=x,a.mangleMap[s]=x,a.undeclaredGlobalsInFunctions.delete(s),"gscope[lang.setAssig('"+x+"', runtimeCtx)]="+o+"; "}const d=je(a);return a.globalScope._SymbolsMap[s]=d,a.mangleMap[s]=d,"gscope['"+d+"']="+o+"; "}(a,i);case"VariableDeclaration":return function at(a,i){const o=[];for(let s=0;s<i.declarations.length;s++)o.push(ue(a,i.declarations[s]));return o.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(a,i);case"BlockStatement":case"Program":return ve(a,i);case"FunctionDeclaration":return function wt(a,i){const o=i.id.name.toLowerCase();Ve(o);let s="",d=!1;void 0!==a.globalScope[o]?s=o:void 0!==a.globalScope._SymbolsMap[o]?s=a.globalScope._SymbolsMap[o]:a.undeclaredGlobalsInFunctions.has(o)?(s=a.undeclaredGlobalsInFunctions.get(o).manglename,a.globalScope._SymbolsMap[o]=s,a.mangleMap[o]=s,a.undeclaredGlobalsInFunctions.delete(o),d=!0):(s=je(a),a.globalScope._SymbolsMap[o]=s,a.mangleMap[o]=s);const x={isAsync:a.isAsync,console:a.console,exports:a.exports,undeclaredGlobalsInFunctions:a.undeclaredGlobalsInFunctions,customfunctions:a.customfunctions,moduleFactory:a.moduleFactory,moduleFactoryMap:a.moduleFactoryMap,libraryResolver:a.libraryResolver,lrucache:a.lrucache,interceptor:a.interceptor,services:a.services,symbols:a.symbols,mangleMap:a.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:a.depthCounter,globalScope:a.globalScope};let M="new lang.UserDefinedCompiledFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";for(let p=0;p<i.params.length;p++){const W=i.params[p].name.toLowerCase();Ve(W);const te=je(a);x.localScope._SymbolsMap[W]=te,x.mangleMap[W]=te,M+="lscope['"+te+"']=arguments["+p.toString()+"];\n"}return!0===a.isAsync?(M+="return lang.__awaiter(this, void 0, void 0, function* () {\n",M+=ve(x,i.body)+"\n return lastStatement; ",M+="});  }",M+=", runtimeCtx),"+i.params.length+")",M+="\n lastStatement = lc.voidOperation; \n"):(M+=ve(x,i.body)+"\n return lastStatement; }, runtimeCtx),"+i.params.length+")",M+="\n lastStatement = lc.voidOperation; \n"),d?"gscope[lang.setAssig('"+s+"', runtimeCtx)]="+M:"gscope['"+s+"']="+M}(a,i);case"ImportDeclaration":return function He(a,i){const o=i.specifiers[0].local.name.toLowerCase();Ve(o);const s=a.libraryResolver?.loadLibrary(o),d=je(a);void 0===a.moduleFactory[s.uri]&&(a.moduleFactory[s.uri]=function F(a,i,o=!1){const s={isAsync:o,moduleFactory:i.moduleFactory,moduleFactoryMap:{},libraryResolver:new Z.s(null,a.loadedModules),globalScope:xt(i.vars,o?tt:Pe,i.customfunctions),customfunctions:i.customfunctions,localScope:null,mangleMap:{},undeclaredGlobalsInFunctions:new Map,depthCounter:{depth:1},exports:{},console:mt,lrucache:i.lrucache,timeZone:i.timeZone??null,interceptor:i.interceptor,services:i.services,symbols:{symbolCounter:0}};let d=ue(s,a);""===d&&(d="lc.voidOperation; ");let x="";x=o?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+d+"\n return lastStatement; }); } \n yield mainBody(); \n return this.prepareModule(runtimeCtx); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+d+"\n return lastStatement; } \n mainBody(); \n return this.prepareModule(runtimeCtx); ";const M=s.moduleFactory,p=s.moduleFactoryMap,W=s.exports,te={};for(const Ee in W)te[Ee]=void 0!==s.mangleMap[Ee]?s.mangleMap[Ee]:Ee;const De={lc:c.w,lang:St,mangles:s.mangleMap,prepareModule:Ee=>new b(Ee),prepare(Ee,me){let Ze=Ee.spatialReference;null==Ze&&(Ze=new be.Z({wkid:102100}));const rt=st(Ee.vars,Ee.customfunctions,me,Ee.timeZone);return{localStack:[],isAsync:me,exports:W,exportmangle:te,gdefs:{},moduleFactory:M,moduleFactoryMap:p,moduleSingletons:Ee.moduleSingletons,mangleMap:this.mangles,spatialReference:Ze,globalScope:rt,abortSignal:null==Ee.abortSignal?{aborted:!1}:Ee.abortSignal,localScope:null,services:Ee.services,console:Ee.console??mt,lrucache:Ee.lrucache,timeZone:Ee.timeZone??null,interceptor:Ee.interceptor,symbols:{symbolCounter:0},depthCounter:Ee.depthCounter}}};return new Function("context","spatialReference",x).bind(De)}(s.syntax,{interceptor:a.interceptor,services:a.services,moduleFactory:a.moduleFactory,lrucache:a.lrucache,timeZone:a.timeZone??null,libraryResolver:a.libraryResolver,customfunctions:a.customfunctions,vars:{}},a.isAsync)),a.moduleFactoryMap[d]=s.uri;let x="";if(x=a.isAsync?"(yield lang.loadModule('"+d+"', runtimeCtx) ); ":"lang.loadModule('"+d+"', runtimeCtx); ",void 0!==a.globalScope[o])return"gscope['"+o+"']="+x;if(void 0!==a.globalScope._SymbolsMap[o])return"gscope['"+a.globalScope._SymbolsMap[o]+"']="+x;let M="";return a.undeclaredGlobalsInFunctions.has(o)?(M=a.undeclaredGlobalsInFunctions.get(o).manglename,a.undeclaredGlobalsInFunctions.delete(o)):M=je(a),a.globalScope._SymbolsMap[o]=M,a.mangleMap[o]=M,"gscope[lang.setAssig('"+M+"', runtimeCtx)]="+x}(a,i);case"ExportNamedDeclaration":return function At(a,i){const o=ue(a,i.declaration);if("FunctionDeclaration"===i.declaration.type)a.exports[i.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===i.declaration.type)for(const s of i.declaration.declarations)a.exports[s.id.name.toLowerCase()]="variable";return o}(a,i);case"ReturnStatement":return function Oe(a,i){return null===i.argument?"return lc.voidOperation":"return "+ue(a,i.argument)}(a,i);case"IfStatement":return Be(a,i);case"ExpressionStatement":return function Le(a,i){return"AssignmentExpression"===i.expression.type?"lastStatement = lc.voidOperation; "+ue(a,i.expression)+"; \n ":"lastStatement = "+ue(a,i.expression)+"; "}(a,i);case"AssignmentExpression":return function it(a,i){const o=ue(a,i.right);let s=null,d="";if("MemberExpression"===i.left.type)return s=ue(a,i.left.object),!0===i.left.computed?d=ue(a,i.left.property):(d="'"+i.left.property.name+"'",Ve(i.left.property.name)),"lang.assignmember("+s+","+d+",'"+i.operator+"',"+o+")";if(s=i.left.name.toLowerCase(),Ve(s),null!==a.localScope){if(void 0!==a.localScope[s])return"lscope['"+s+"']=lang.assign("+o+",'"+i.operator+"', lscope['"+s+"'])";if(void 0!==a.localScope._SymbolsMap[s])return"lscope['"+a.localScope._SymbolsMap[s]+"']=lang.assign("+o+",'"+i.operator+"', lscope['"+a.localScope._SymbolsMap[s]+"'])"}if(void 0!==a.globalScope[s])return"gscope['"+s+"']=lang.assign("+o+",'"+i.operator+"', gscope['"+s+"'])";if(void 0!==a.globalScope._SymbolsMap[s])return"gscope['"+a.globalScope._SymbolsMap[s]+"']=lang.assign("+o+",'"+i.operator+"', gscope['"+a.globalScope._SymbolsMap[s]+"'])";if(null!==a.localScope){if(a.undeclaredGlobalsInFunctions.has(s))return"gscope[lang.chkAssig('"+a.undeclaredGlobalsInFunctions.get(s).manglename+"',runtimeCtx)]=lang.assign("+o+",'"+i.operator+"', gscope['"+a.undeclaredGlobalsInFunctions.get(s).manglename+"'])";const x={manglename:je(a),node:i.argument};return a.undeclaredGlobalsInFunctions.set(s,x),"gscope[lang.chkAssig('"+x.manglename+"',runtimeCtx)]=lang.assign("+o+",'"+i.operator+"', gscope['"+x.manglename+"'])"}throw new u.aV(a,u.rH.InvalidIdentifier,i)}(a,i);case"UpdateExpression":return function Se(a,i){let o=null,s="";if("MemberExpression"===i.argument.type)return o=ue(a,i.argument.object),!0===i.argument.computed?s=ue(a,i.argument.property):(s="'"+i.argument.property.name+"'",Ve(i.argument.property.name)),"lang.memberupdate("+o+","+s+",'"+i.operator+"',"+i.prefix+")";if(o=i.argument.name.toLowerCase(),Ve(o),null!==a.localScope){if(void 0!==a.localScope[o])return"lang.update(lscope, '"+o+"','"+i.operator+"',"+i.prefix+")";if(void 0!==a.localScope._SymbolsMap[o])return"lang.update(lscope, '"+a.localScope._SymbolsMap[o]+"','"+i.operator+"',"+i.prefix+")"}if(void 0!==a.globalScope[o])return"lang.update(gscope, '"+o+"','"+i.operator+"',"+i.prefix+")";if(void 0!==a.globalScope._SymbolsMap[o])return"lang.update(gscope, '"+a.globalScope._SymbolsMap[o]+"','"+i.operator+"',"+i.prefix+")";if(null!==a.localScope){if(a.undeclaredGlobalsInFunctions.has(o))return"lang.update(gscope,lang.chkAssig( '"+a.undeclaredGlobalsInFunctions.get(o).manglename+"',runtimeCtx),'"+i.operator+"',"+i.prefix+")";const d={manglename:je(a),node:i.argument};return a.undeclaredGlobalsInFunctions.set(o,d),"lang.update(gscope, lang.chkAssig('"+d.manglename+"',runtimeCtx),'"+i.operator+"',"+i.prefix+")"}throw new u.aV(a,u.rH.InvalidIdentifier,i)}(a,i);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"TemplateLiteral":return function pe(a,i){try{const o=[];let s=0;for(const d of i.quasis)o.push(d.value?JSON.stringify(d.value.cooked):JSON.stringify("")),!1===d.tail&&(o.push(i.expressions[s]?"lang.castString(lang.aCheck("+ue(a,i.expressions[s])+", 'TemplateLiteral'))":""),s++);return"(["+o.join(",")+"]).join('')"}catch(o){throw o}}(a,i);case"TemplateElement":return JSON.stringify(i.value?i.value.cooked:"");case"ForStatement":return function Ie(a,i){let o="lastStatement = lc.voidOperation; \n";null!==i.init&&(o+=ue(a,i.init)+"; ");const s=ze(a),d=ze(a);return o+="var "+s+" = true; ",o+="\n do { ",null!==i.update&&(o+=" if ("+s+"===false) {\n "+ue(a,i.update)+"  \n}\n "+s+"=false; \n"),null!==i.test&&(o+="var "+d+" = "+ue(a,i.test)+"; ",o+="if ("+d+"===false) { break; } else if ("+d+"!==true) { lang.error('"+u.rH.BooleanConditionRequired+"');   }\n"),o+=ue(a,i.body),null!==i.update&&(o+="\n "+ue(a,i.update)),o+="\n"+s+" = true; \n} while(true);  lastStatement = lc.voidOperation; ",o}(a,i);case"ForInStatement":return function Ye(a,i){const o=ze(a),s=ze(a),d=ze(a);let x="var "+o+" = "+ue(a,i.right)+";\n";"VariableDeclaration"===i.left.type&&(x+=ue(a,i.left));let M="VariableDeclaration"===i.left.type?i.left.declarations[0].id.name:i.left.name;M=M.toLowerCase(),Ve(M);let p="";null!==a.localScope&&(void 0!==a.localScope[M]?p="lscope['"+M+"']":void 0!==a.localScope._SymbolsMap[M]&&(p="lscope['"+a.localScope._SymbolsMap[M]+"']"));let W="";if(""===p)if(void 0!==a.globalScope[M])p="gscope['"+M+"']";else if(void 0!==a.globalScope._SymbolsMap[M])p="gscope['"+a.globalScope._SymbolsMap[M]+"']";else if(null!==a.localScope)if(a.undeclaredGlobalsInFunctions.has(M))p="gscope['"+a.undeclaredGlobalsInFunctions.get(M).manglename+"']",W=a.undeclaredGlobalsInFunctions.get(M).manglename;else{const te={manglename:je(a),node:i.left};a.undeclaredGlobalsInFunctions.set(M,te),p="gscope['"+te.manglename+"']",W=te.manglename}return W&&(x+="lang.chkAssig('"+W+"',runtimeCtx); \n"),x+="if ("+o+"===null) {  lastStatement = lc.voidOperation; }\n ",x+="else if (lc.isArray("+o+") || lc.isString("+o+")) {",x+="var "+s+"="+o+".length; \n",x+="for(var "+d+"=0; "+d+"<"+s+"; "+d+"++) {\n",x+=p+"="+d+";\n",x+=ue(a,i.body),x+="\n}\n",x+=" lastStatement = lc.voidOperation; \n",x+=" \n}\n",x+="else if (lc.isImmutableArray("+o+")) {",x+="var "+s+"="+o+".length(); \n",x+="for(var "+d+"=0; "+d+"<"+s+"; "+d+"++) {\n",x+=p+"="+d+";\n",x+=ue(a,i.body),x+="\n}\n",x+=" lastStatement = lc.voidOperation; \n",x+=" \n}\n",x+="else if (( "+o+" instanceof lang.Dictionary) || ( "+o+" instanceof lang.Feature)) {",x+="var "+s+"="+o+".keys(); \n",x+="for(var "+d+"=0; "+d+"<"+s+".length; "+d+"++) {\n",x+=p+"="+s+"["+d+"];\n",x+=ue(a,i.body),x+="\n}\n",x+=" lastStatement = lc.voidOperation; \n",x+=" \n}\n",a.isAsync&&(x+="else if (lc.isFeatureSet("+o+")) {",x+="var "+s+"="+o+".iterator(runtimeCtx.abortSignal); \n",x+="for(var "+d+"=lang. graphicToFeature( yield "+s+".next(),"+o+", runtimeCtx); "+d+"!=null; "+d+"=lang. graphicToFeature( yield "+s+".next(),"+o+", runtimeCtx)) {\n",x+=p+"="+d+";\n",x+=ue(a,i.body),x+="\n}\n",x+=" lastStatement = lc.voidOperation; \n",x+=" \n}\n"),x+="else { lastStatement = lc.voidOperation; } \n",x}(a,i);case"WhileStatement":return function Me(a,i){let o="lastStatement = lc.voidOperation; \n";const s=ze(a);return o+=`\n  var ${s} = true;\n    do {\n      ${s} = ${ue(a,i.test)};\n      if (${s}==false) {\n        break;\n      }\n      if (${s}!==true) {\n        lang.error('${u.rH.BooleanConditionRequired}');\n      }\n      ${ue(a,i.body)}\n    }\n    while (${s} !== false);\n    lastStatement = lc.voidOperation;\n  `,o}(a,i);case"Identifier":return function Qe(a,i){try{const o=i.name.toLowerCase();if(Ve(o),null!==a.localScope){if(void 0!==a.localScope[o])return"lscope['"+o+"']";if(void 0!==a.localScope._SymbolsMap[o])return"lscope['"+a.localScope._SymbolsMap[o]+"']"}if(void 0!==a.globalScope[o])return"gscope['"+o+"']";if(void 0!==a.globalScope._SymbolsMap[o])return"gscope['"+a.globalScope._SymbolsMap[o]+"']";if(null!==a.localScope){if(a.undeclaredGlobalsInFunctions.has(o))return"gscope[lang.chkAssig('"+a.undeclaredGlobalsInFunctions.get(o).manglename+"',runtimeCtx)]";const s={manglename:je(a),node:i.argument};return a.undeclaredGlobalsInFunctions.set(o,s),"gscope[lang.chkAssig('"+s.manglename+"',runtimeCtx)]"}throw new u.OF(a,u.rH.InvalidIdentifier,i)}catch(o){throw o}}(a,i);case"MemberExpression":return function vt(a,i){try{let o;return!0===i.computed?o=ue(a,i.property):(o="'"+i.property.name+"'",Ve(i.property.name)),"lang.member("+ue(a,i.object)+","+o+")"}catch(o){throw o}}(a,i);case"Literal":return null==i.value?"null":JSON.stringify(i.value);case"CallExpression":return function Tt(a,i){try{if("MemberExpression"===i.callee.type){let d;!0===i.callee.computed?d=ue(a,i.callee.property):(d="'"+i.callee.property.name+"'",Ve(i.callee.property.name));let x="[";for(let M=0;M<i.arguments.length;M++)M>0&&(x+=", "),x+=ue(a,i.arguments[M]);return x+="]",a.isAsync?"(yield lang.callModuleFunction("+ue(a,i.callee.object)+","+x+","+d+",runtimeCtx))":"lang.callModuleFunction("+ue(a,i.callee.object)+","+x+","+d+",runtimeCtx)"}if("Identifier"!==i.callee.type)throw new u.OF(a,u.rH.FunctionNotFound,i);const o=i.callee.name.toLowerCase();if("iif"===o)return function ft(a,i){try{if(3!==i.arguments.length)throw new u.OF(a,u.rH.WrongNumberOfParameters,i);const o=ze(a);return`${a.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${o} = ${ue(a,i.arguments[0])};\n\n        if (${o} === true) {\n          return  ${ue(a,i.arguments[1])};\n        }\n        else if (${o} === false) {\n          return ${ue(a,i.arguments[2])};\n        }\n        else {\n          lang.error('ExecutionErrorCodes.BooleanConditionRequired');\n        }\n      ${a.isAsync?"})}()))":"}()"}`}catch(o){throw o}}(a,i);if("when"===o)return function Xe(a,i){try{if(i.arguments.length<3)throw new u.OF(a,u.rH.WrongNumberOfParameters,i);if(i.arguments.length%2==0)throw new u.OF(a,u.rH.WrongNumberOfParameters,i);const o=ze(a);let s="var ";for(let d=0;d<i.arguments.length-1;d+=2)s+=`${o} = lang.mustBoolean(${ue(a,i.arguments[d])}, runtimeCtx);\n      if (${o} === true ) {\n        return ${ue(a,i.arguments[d+1])}\n      }\n`;return`${a.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        ${s}\n        return ${ue(a,i.arguments[i.arguments.length-1])}\n        ${a.isAsync?"})}()))":"}()"}`}catch(o){throw o}}(a,i);if("decode"===o)return function Fe(a,i){try{if(i.arguments.length<2)throw new u.OF(a,u.rH.WrongNumberOfParameters,i);if(2===i.arguments.length)return`(${ue(a,i.arguments[1])})`;if((i.arguments.length-1)%2==0)throw new u.OF(a,u.rH.WrongNumberOfParameters,i);const o=ze(a),s=ze(a);let d="var ";for(let x=1;x<i.arguments.length-1;x+=2)d+=`${s} = ${ue(a,i.arguments[x])};\n      if (lang.binary(${s}, ${o}, "==") === true ) {\n        return ${ue(a,i.arguments[x+1])}\n      }\n`;return`${a.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${o} = ${ue(a,i.arguments[0])};\n        ${d}\n        return ${ue(a,i.arguments[i.arguments.length-1])}\n        ${a.isAsync?"})}()))":"}()"}`}catch(o){throw o}}(a,i);let s="";if(null!==a.localScope&&(void 0!==a.localScope[o]?s="lscope['"+o+"']":void 0!==a.localScope._SymbolsMap[o]&&(s="lscope['"+a.localScope._SymbolsMap[o]+"']")),""===s)if(void 0!==a.globalScope[o])s="gscope['"+o+"']";else if(void 0!==a.globalScope._SymbolsMap[o])s="gscope['"+a.globalScope._SymbolsMap[o]+"']";else if(null!==a.localScope)if(a.undeclaredGlobalsInFunctions.has(o))s="gscope[lang.chkAssig('"+a.undeclaredGlobalsInFunctions.get(o).manglename+"',runtimeCtx)]";else{const d={manglename:je(a),node:i.argument};a.undeclaredGlobalsInFunctions.set(o,d),s="gscope[lang.chkAssig('"+d.manglename+"',runtimeCtx)]"}if(""!==s){let d="[";for(let x=0;x<i.arguments.length;x++)x>0&&(d+=", "),d+=ue(a,i.arguments[x]);return d+="]",a.isAsync?"(yield lang.callfunc("+s+","+d+",runtimeCtx) )":"lang.callfunc("+s+","+d+",runtimeCtx)"}throw new u.OF(a,u.rH.FunctionNotFound,i)}catch(o){throw o}}(a,i);case"UnaryExpression":return function Dt(a,i){try{return"lang.unary("+ue(a,i.argument)+",'"+i.operator+"')"}catch(o){throw o}}(a,i);case"BinaryExpression":return function It(a,i){try{return"lang.binary("+ue(a,i.left)+","+ue(a,i.right)+",'"+i.operator+"')"}catch(o){throw o}}(a,i);case"LogicalExpression":return function dt(a,i){try{if("AssignmentExpression"===i.left.type||"UpdateExpression"===i.left.type)throw new u.OF(a,u.rH.LogicalExpressionOnlyBoolean,i);if("AssignmentExpression"===i.right.type||"UpdateExpression"===i.right.type)throw new u.OF(a,u.rH.LogicalExpressionOnlyBoolean,i);if("&&"===i.operator||"||"===i.operator)return"(lang.logicalCheck("+ue(a,i.left)+") "+i.operator+" lang.logicalCheck("+ue(a,i.right)+"))";throw new u.OF(null,u.rH.LogicExpressionOrAnd,null)}catch(o){throw o}}(a,i);case"ArrayExpression":return function bt(a,i){try{const o=[];for(let s=0;s<i.elements.length;s++)o.push("Literal"===i.elements[s].type?ue(a,i.elements[s]):"lang.aCheck("+ue(a,i.elements[s])+",'ArrayExpression')");return"["+o.join(",")+"]"}catch(o){throw o}}(a,i);case"ObjectExpression":return function _e(a,i){let o="lang.dictionary([";for(let s=0;s<i.properties.length;s++){const d=i.properties[s];Ve(d.key.name),s>0&&(o+=","),o+="lang.strCheck("+("Identifier"===d.key.type?"'"+d.key.name+"'":ue(a,d.key))+",'ObjectExpression'),lang.aCheck("+ue(a,d.value)+", 'ObjectExpression')"}return o+="])",o}(a,i);case"Property":return function Te(a,i){throw new u.OF(a,u.rH.NeverReach,i)}(a,i);case"Array":throw new u.OF(a,u.rH.NeverReach,i);default:throw new u.OF(a,u.rH.Unrecognized,i)}}catch(o){throw o}}function et(a,i){return"BlockStatement"===i.type?ue(a,i):"ReturnStatement"===i.type||"BreakStatement"===i.type||"ContinueStatement"===i.type?ue(a,i)+"; ":"UpdateExpression"===i.type?"lastStatement = "+ue(a,i)+"; ":"ExpressionStatement"===i.type?ue(a,i):"ObjectExpression"===i.type?"lastStatement = "+ue(a,i)+"; ":ue(a,i)+"; "}function Be(a,i){if("AssignmentExpression"===i.test.type||"UpdateExpression"===i.test.type)throw new u.OF(a,u.rH.BooleanConditionRequired,i);return`if (lang.mustBoolean(${ue(a,i.test)}, runtimeCtx) === true) {\n    ${et(a,i.consequent)}\n  } `+(null!==i.alternate?"IfStatement"===i.alternate.type?" else "+Be(a,i.alternate):` else {\n      ${et(a,i.alternate)}\n    }\n`:" else {\n      lastStatement = lc.voidOperation;\n    }\n")}function ve(a,i){let o="";for(let s=0;s<i.body.length;s++)"EmptyStatement"!==i.body[s].type&&(o+="ReturnStatement"===i.body[s].type||"BreakStatement"===i.body[s].type||"ContinueStatement"===i.body[s].type?ue(a,i.body[s])+"; \n":"UpdateExpression"===i.body[s].type||"ObjectExpression"===i.body[s].type?"lastStatement = "+ue(a,i.body[s])+"; \n":ue(a,i.body[s])+" \n");return o}function Ve(a){if("iif"===a)throw new u.kq;if("decode"===a)throw new u.kq;if("when"===a)throw new u.kq}const Pe={};function je(a){return a.symbols.symbolCounter++,"_T"+a.symbols.symbolCounter.toString()}function ze(a){return a.symbols.symbolCounter++,"_Tvar"+a.symbols.symbolCounter.toString()}(0,L.r)(Pe,he),(0,ge.r)(Pe,he),(0,ne.r)(Pe,he),(0,q.r)(Pe,he),(0,de.r)(Pe,he),Pe.iif=function(a,i){try{return he(a,i,(o,s,d)=>{throw new u.aV(a,u.rH.Unrecognized,i)})}catch(o){throw o}},Pe.decode=function(a,i){try{return he(a,i,(o,s,d)=>{throw new u.aV(a,u.rH.Unrecognized,i)})}catch(o){throw o}},Pe.when=function(a,i){try{return he(a,i,(o,s,d)=>{throw new u.aV(a,u.rH.Unrecognized,i)})}catch(o){throw o}};const tt={};for(const a in Pe)tt[a]=new k.Bx(Pe[a]);z(Pe,he);for(const a in Pe)Pe[a]=new k.Bx(Pe[a]);const yt=function(){};yt.prototype=Pe;const ht=function(){};function xt(a,i,o){const s={};a||(a={}),o||(o={}),s._SymbolsMap={},s.textformatting=1,s.infinity=1,s.pi=1;for(const d in i)s[d]=1;for(const d in o)s[d]=1;for(const d in a)s[d]=1;return s}function st(a,i,o,s){const d=o?new ht:new yt;a||(a={}),i||(i={});const x=new g.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});x.immutable=!1,d._SymbolsMap={textformatting:1,infinity:1,pi:1},d.textformatting=x,d.infinity=Number.POSITIVE_INFINITY,d.pi=Math.PI;for(const M in i)d[M]=i[M],d._SymbolsMap[M]=1;for(const M in a)d._SymbolsMap[M]=1,d[M]=a[M]&&"esri.Graphic"===a[M].declaredClass?Q.Z.createFromGraphic(a[M],s??null):a[M];return d}function qe(a,i){const o={mode:i,compiled:!0,functions:{},signatures:[],standardFunction:he,standardFunctionAsync:he,evaluateIdentifier:ut};for(let s=0;s<a.length;s++)a[s].registerFunctions(o);if("sync"===i){for(const s in o.functions)Pe[s]=new k.Bx(o.functions[s]),yt.prototype[s]=Pe[s];for(let s=0;s<o.signatures.length;s++)(0,$.gW)(o.signatures[s],"sync")}else{for(const s in o.functions)tt[s]=new k.Bx(o.functions[s]),ht.prototype[s]=tt[s];for(let s=0;s<o.signatures.length;s++)(0,$.gW)(o.signatures[s],"async")}}function ut(a,i){const o=i.name;if("_SymbolsMap"===o)throw new u.aV(a,u.rH.InvalidIdentifier,null);if(a.localStack.length>0){if("_t"!==o.substr(0,2).toLowerCase()&&void 0!==a.localStack[a.localStack.length-1][o])return a.localStack[a.localStack.length-1][o];const d=a.mangleMap[o];if(void 0!==d&&void 0!==a.localStack[a.localStack.length-1][d])return a.localStack[a.localStack.length-1][d]}if("_t"!==o.substr(0,2).toLowerCase()&&void 0!==a.globalScope[o]||1===a.globalScope._SymbolsMap[o])return a.globalScope[o];const s=a.mangleMap[o];return void 0!==s?a.globalScope[s]:void 0}ht.prototype=tt,qe([Y.A],"sync"),qe([Y.A],"async");let Et=0;const St={error(a){throw new u.aV(null,a,null)},__awaiter:(a,i,o,s)=>new Promise((d,x)=>{function M(te){try{W(s.next(te))}catch(De){x(De)}}function p(te){try{W(s.throw(te))}catch(De){x(De)}}function W(te){te.done?d(te.value):te.value?.then?te.value.then(M,p):(Et++,Et%100==0?setTimeout(()=>{Et=0,M(te.value)},0):M(te.value))}W((s=s.apply(a,i||[])).next())}),functionDepthchecker:(a,i)=>function(){if(i.depthCounter.depth++,i.localStack.push([]),i.depthCounter.depth>64)throw new u.aV(null,u.rH.MaximumCallDepth,null);const o=a.apply(this,arguments);return(0,xe.y8)(o)?o.then(s=>(i.depthCounter.depth--,i.localStack.length=i.localStack.length-1,s)):(i.depthCounter.depth--,i.localStack.length=i.localStack.length-1,o)},chkAssig(a,i){if(void 0===i.gdefs[a])throw new u.aV(i,u.rH.InvalidIdentifier,null);return a},mustBoolean(a,i){if(!0===a||!1===a)return a;throw new u.aV(i,u.rH.BooleanConditionRequired,null)},setAssig:(a,i)=>(i.gdefs[a]=1,a),castString:a=>(0,c.j)(a),aCheck(a,i){if((0,c.i)(a))throw new u.aV(null,"ArrayExpression"===i?u.rH.NoFunctionInArray:"ObjectExpression"===i?u.rH.NoFunctionInDictionary:u.rH.NoFunctionInTemplateLiteral,null);return a===c.x?null:a},Dictionary:g.Z,Feature:Q.Z,UserDefinedCompiledFunction:class J extends k.Rm{constructor(i,o){super(),this.paramCount=o,this.fn=i}createFunction(i){return(...o)=>{if(o.length!==this.paramCount)throw new u.aV(i,u.rH.WrongNumberOfParameters,null);return this.fn(...o)}}call(i,o){return this.fn(...o.arguments)}marshalledCall(i,o,s,d){return d(i,o,(x,M,p)=>{p=p.map(te=>!(0,c.i)(te)||te instanceof k.Vg?te:(0,k.aq)(te,i,d));const W=this.call(s,{arguments:p});return(0,xe.y8)(W)?W.then(te=>(0,k.aq)(te,s,d)):W})}},dictionary(a){const i={},o=new Map;for(let d=0;d<a.length;d+=2){if((0,c.i)(a[d+1]))throw new u.aV(null,u.rH.NoFunctionInDictionary,null);if(!1===(0,c.c)(a[d]))throw new u.aV(null,u.rH.KeyMustBeString,null);let x=a[d].toString();const M=x.toLowerCase();o.has(M)?x=o.get(M):o.set(M,x),i[x]=a[d+1]===c.x?null:a[d+1]}const s=new g.Z(i);return s.immutable=!1,s},strCheck(a){if(!1===(0,c.c)(a))throw new u.aV(null,u.rH.KeyMustBeString,null);return a},unary(a,i){if((0,c.a)(a)){if("!"===i)return!a;if("-"===i)return-1*(0,c.g)(a);if("+"===i)return 1*(0,c.g)(a);if("~"===i)return~(0,c.g)(a);throw new u.aV(null,u.rH.UnsupportedUnaryOperator,null)}if("-"===i)return-1*(0,c.g)(a);if("+"===i)return 1*(0,c.g)(a);if("~"===i)return~(0,c.g)(a);throw new u.aV(null,u.rH.UnsupportedUnaryOperator,null)},logicalCheck(a){if(!1===(0,c.a)(a))throw new u.aV(null,u.rH.LogicExpressionOrAnd,null);return a},logical(a,i,o){if((0,c.a)(a)&&(0,c.a)(i))switch(o){case"||":return a||i;case"&&":return a&&i;default:throw new u.aV(null,u.rH.LogicExpressionOrAnd,null)}throw new u.aV(null,u.rH.LogicExpressionOrAnd,null)},binary(a,i,o){switch(o){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,c.D)((0,c.g)(a),(0,c.g)(i),o);case"==":case"=":return(0,c.C)(a,i);case"!=":return!(0,c.C)(a,i);case"<":case">":case"<=":case">=":return(0,c.B)(a,i,o);case"+":return(0,c.c)(a)||(0,c.c)(i)?(0,c.j)(a)+(0,c.j)(i):(0,c.g)(a)+(0,c.g)(i);case"-":return(0,c.g)(a)-(0,c.g)(i);case"*":return(0,c.g)(a)*(0,c.g)(i);case"/":return(0,c.g)(a)/(0,c.g)(i);case"%":return(0,c.g)(a)%(0,c.g)(i);default:throw new u.aV(null,u.rH.UnsupportedOperator,null)}},assign(a,i,o){switch(i){case"=":return a===c.x?null:a;case"/=":return(0,c.g)(o)/(0,c.g)(a);case"*=":return(0,c.g)(o)*(0,c.g)(a);case"-=":return(0,c.g)(o)-(0,c.g)(a);case"+=":return(0,c.c)(o)||(0,c.c)(a)?(0,c.j)(o)+(0,c.j)(a):(0,c.g)(o)+(0,c.g)(a);case"%=":return(0,c.g)(o)%(0,c.g)(a);default:throw new u.aV(null,u.rH.UnsupportedOperator,null)}},update(a,i,o,s){const d=(0,c.g)(a[i]);return a[i]="++"===o?d+1:d-1,!1===s?d:"++"===o?d+1:d-1},graphicToFeature:(a,i,o)=>null===a?null:Q.Z.createFromGraphicLikeObject(a.geometry,a.attributes,i,o.timeZone),memberupdate(a,i,o,s){let d;if((0,c.o)(a)){if(!(0,c.b)(i))throw new u.aV(null,u.rH.ArrayAccessorMustBeNumber,null);if(i<0&&(i=a.length+i),i<0||i>=a.length)throw new u.aV(null,u.rH.OutOfBounds,null);d=(0,c.g)(a[i]),a[i]="++"===o?d+1:d-1}else if(a instanceof g.Z){if(!1===(0,c.c)(i))throw new u.aV(null,u.rH.KeyAccessorMustBeString,null);if(!0!==a.hasField(i))throw new u.aV(null,u.rH.FieldNotFound,null,{key:i});d=(0,c.g)(a.field(i)),a.setField(i,"++"===o?d+1:d-1)}else if((0,c.r)(a)){if(!1===(0,c.c)(i))throw new u.aV(null,u.rH.KeyAccessorMustBeString,null);if(!0!==a.hasField(i))throw new u.aV(null,u.rH.FieldNotFound,null);d=(0,c.g)(a.field(i)),a.setField(i,"++"===o?d+1:d-1)}else{if((0,c.q)(a))throw new u.aV(null,u.rH.Immutable,null);if(!(a instanceof b))throw new u.aV(null,u.rH.InvalidIdentifier,null);if(!1===(0,c.c)(i))throw new u.aV(null,u.rH.ModuleAccessorMustBeString,null);if(!0!==a.hasGlobal(i))throw new u.aV(null,u.rH.ModuleExportNotFound,null);d=(0,c.g)(a.global(i)),a.setGlobal(i,"++"===o?d+1:d-1)}return!1===s?d:"++"===o?d+1:d-1},assignmember(a,i,o,s){if((0,c.o)(a)){if(!(0,c.b)(i))throw new u.aV(null,u.rH.ArrayAccessorMustBeNumber,null);if(i<0&&(i=a.length+i),i<0||i>a.length)throw new u.aV(null,u.rH.OutOfBounds,null);if(i===a.length){if("="!==o)throw new u.aV(null,u.rH.OutOfBounds,null);a[i]=this.assign(s,o,a[i])}else a[i]=this.assign(s,o,a[i])}else if(a instanceof g.Z){if(!1===(0,c.c)(i))throw new u.aV(null,u.rH.KeyAccessorMustBeString,null);if(!0===a.hasField(i))a.setField(i,this.assign(s,o,a.field(i)));else{if("="!==o)throw new u.aV(null,u.rH.FieldNotFound,null);a.setField(i,this.assign(s,o,null))}}else if((0,c.r)(a)){if(!1===(0,c.c)(i))throw new u.aV(null,u.rH.KeyAccessorMustBeString,null);if(!0===a.hasField(i))a.setField(i,this.assign(s,o,a.field(i)));else{if("="!==o)throw new u.aV(null,u.rH.FieldNotFound,null);a.setField(i,this.assign(s,o,null))}}else{if((0,c.q)(a))throw new u.aV(null,u.rH.Immutable,null);if(!(a instanceof b))throw new u.aV(null,u.rH.InvalidIdentifier,null);if(!1===(0,c.c)(i))throw new u.aV(null,u.rH.ModuleAccessorMustBeString,null);if(!a.hasGlobal(i))throw new u.aV(null,u.rH.ModuleExportNotFound,null);a.setGlobal(i,this.assign(s,o,a.global(i)))}},member(a,i){if(null===a)throw new u.aV(null,u.rH.MemberOfNull,null);if(a instanceof g.Z||(0,c.r)(a)){if((0,c.c)(i))return a.field(i);throw new u.aV(null,u.rH.InvalidMemberAccessKey,null)}if(a instanceof h.Z){if((0,c.c)(i))return(0,q.Z)(a,i,null,null);throw new u.aV(null,u.rH.InvalidMemberAccessKey,null)}if((0,c.o)(a)){if((0,c.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=a.length+i),i>=a.length||i<0)throw new u.aV(null,u.rH.OutOfBounds,null);return a[i]}throw new u.aV(null,u.rH.InvalidMemberAccessKey,null)}if((0,c.c)(a)){if((0,c.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=a.length+i),i>=a.length||i<0)throw new u.aV(null,u.rH.OutOfBounds,null);return a[i]}throw new u.aV(null,u.rH.InvalidMemberAccessKey,null)}if((0,c.q)(a)){if((0,c.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=a.length()+i),i>=a.length()||i<0)throw new u.aV(null,u.rH.OutOfBounds,null);return a.get(i)}throw new u.aV(null,u.rH.InvalidMemberAccessKey,null)}if(a instanceof b){if((0,c.c)(i))return a.global(i);throw new u.aV(null,u.rH.InvalidMemberAccessKey,null)}throw new u.aV(null,u.rH.InvalidMemberAccessKey,null)},callfunc:(a,i,o)=>a.call(o,{arguments:i,preparsed:!0}),loadModule(a,i){const o=i.moduleFactoryMap[a];if(i.moduleSingletons[o])return i.moduleSingletons[o];const s=i.moduleFactory[o]({vars:{},moduleSingletons:i.moduleSingletons,depthCounter:i.depthCounter,console:i.console,abortSignal:i.abortSignal,isAsync:i.isAsync,services:i.services,lrucache:i.lrucache,timeZone:i.timeZone??null,interceptor:i.interceptor},i.spatialReference);return i.moduleSingletons[o]=s,s},callModuleFunction(a,i,o,s){if(!(a instanceof b))throw new u.aV(null,u.rH.FunctionNotFound,null);const d=a.global(o);if(!1===(0,c.i)(d))throw new u.aV(null,u.rH.CallNonFunction,null);return d.call(s,{preparsed:!0,arguments:i})}};function mt(a){console.log(a)}function Ct(a,i,o=!1){null===i&&(i={vars:{},customfunctions:{}});let s=null;a.usesModules&&(s=new Z.s(null,a.loadedModules));const d={isAsync:o,globalScope:xt(i.vars,o?tt:Pe,i.customfunctions),moduleFactory:{},moduleFactoryMap:{},undeclaredGlobalsInFunctions:new Map,customfunctions:i.customfunctions,libraryResolver:s,localScope:null,mangleMap:{},depthCounter:{depth:1},exports:{},console:mt,lrucache:i.lrucache,timeZone:i.timeZone??null,interceptor:i.interceptor,services:i.services,symbols:{symbolCounter:0}};let x=ue(d,a);""===x&&(x="lc.voidOperation; "),d.undeclaredGlobalsInFunctions.size>0&&d.undeclaredGlobalsInFunctions.forEach(me=>{throw new u.OF(i,u.rH.InvalidIdentifier,me.node)});let M="";M=o?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+x+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+x+"\n return lastStatement; } \n return this.postProcess(mainBody()); ";const p=d.moduleFactory,W=d.moduleFactoryMap,te=d.exports,De={};for(const me in te)De[me]=void 0!==d.mangleMap[me]?d.mangleMap[me]:me;const Ee={lc:c.w,lang:St,mangles:d.mangleMap,postProcess(me){if(me instanceof c.R&&(me=me.value),me instanceof c.I&&(me=me.value),me===c.x&&(me=null),me===c.y)throw new u.aV(null,u.rH.IllegalResult,null);if(me===c.z)throw new u.aV(null,u.rH.IllegalResult,null);if((0,c.i)(me))throw new u.aV(null,u.rH.IllegalResult,null);return me},prepare(me,Ze){let rt=me.spatialReference;null==rt&&(rt=be.Z.WebMercator);const Ot=st(me.vars,me.customfunctions,Ze,me.timeZone);return{localStack:[],isAsync:Ze,moduleFactory:p,moduleFactoryMap:W,mangleMap:this.mangles,moduleSingletons:{},exports:te,gdefs:{},exportmangle:De,spatialReference:rt,globalScope:Ot,abortSignal:null==me.abortSignal?{aborted:!1}:me.abortSignal,localScope:null,services:me.services,console:me.console??mt,lrucache:me.lrucache,timeZone:me.timeZone??null,interceptor:me.interceptor,symbols:{symbolCounter:0},depthCounter:{depth:1}}}};return new Function("context","spatialReference",M).bind(Ee)}function Ft(){return(Ft=(0,P.Z)(function*(){return qe([yield B.e(6212).then(B.bind(B,56212))],"async"),!0})).apply(this,arguments)}class b extends E.P{constructor(i){super(null),this.moduleContext=i}hasGlobal(i){return void 0===this.moduleContext.exports[i]&&(i=i.toLowerCase()),void 0!==this.moduleContext.exports[i]}setGlobal(i,o){const s=this.moduleContext.globalScope,d=i.toLowerCase();if((0,c.i)(o))throw new u.aV(null,u.rH.AssignModuleFunction,null);s[this.moduleContext.exportmangle[d]]=o}global(i){const o=this.moduleContext.globalScope;i=i.toLowerCase();const s=o[this.moduleContext.exportmangle[i]];if(void 0===s)throw new u.aV(null,u.rH.InvalidIdentifier,null);if((0,c.i)(s)&&!(s instanceof k.Vg)){const d=new k.Vg;return d.fn=s,d.parameterEvaluator=he,d.context=this.moduleContext,o[this.moduleContext.exportmangle[i]]=d,d}return s}}var A,S,a,w=B(66476);(a=A||(A={})).Break="break",a.Continue="continue",a.Else="else",a.False="false",a.For="for",a.From="from",a.Function="function",a.If="if",a.Import="import",a.Export="export",a.In="in",a.Null="null",a.Return="return",a.True="true",a.Var="var",a.While="while",function(a){a.AssignmentExpression="AssignmentExpression",a.ArrayExpression="ArrayExpression",a.BlockComment="BlockComment",a.BlockStatement="BlockStatement",a.BinaryExpression="BinaryExpression",a.BreakStatement="BreakStatement",a.CallExpression="CallExpression",a.ContinueStatement="ContinueStatement",a.EmptyStatement="EmptyStatement",a.ExpressionStatement="ExpressionStatement",a.ExportNamedDeclaration="ExportNamedDeclaration",a.ExportSpecifier="ExportSpecifier",a.ForStatement="ForStatement",a.ForInStatement="ForInStatement",a.FunctionDeclaration="FunctionDeclaration",a.Identifier="Identifier",a.IfStatement="IfStatement",a.ImportDeclaration="ImportDeclaration",a.ImportDefaultSpecifier="ImportDefaultSpecifier",a.LineComment="LineComment",a.Literal="Literal",a.LogicalExpression="LogicalExpression",a.MemberExpression="MemberExpression",a.ObjectExpression="ObjectExpression",a.Program="Program",a.Property="Property",a.ReturnStatement="ReturnStatement",a.TemplateElement="TemplateElement",a.TemplateLiteral="TemplateLiteral",a.UnaryExpression="UnaryExpression",a.UpdateExpression="UpdateExpression",a.VariableDeclaration="VariableDeclaration",a.VariableDeclarator="VariableDeclarator",a.WhileStatement="WhileStatement"}(S||(S={}));const ee=["++","--"],O=["-","+","!","~"],K=["=","/=","*=","%=","+=","-="],re=["||","&&"],ke={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10};var oe;!function(a){a[a.Unknown=0]="Unknown",a[a.BooleanLiteral=1]="BooleanLiteral",a[a.EOF=2]="EOF",a[a.Identifier=3]="Identifier",a[a.Keyword=4]="Keyword",a[a.NullLiteral=5]="NullLiteral",a[a.NumericLiteral=6]="NumericLiteral",a[a.Punctuator=7]="Punctuator",a[a.StringLiteral=8]="StringLiteral",a[a.Template=10]="Template"}(oe||(oe={}));const lt=["Unknown","Boolean","<end>","Identifier","Keyword","Null","Numeric","Punctuator","String","RegularExpression","Template"];var le;!function(a){a.InvalidModuleUri="InvalidModuleUri",a.ForInOfLoopInitializer="ForInOfLoopInitializer",a.IdentiferExpected="IdentiferExpected",a.InvalidEscapedReservedWord="InvalidEscapedReservedWord",a.InvalidExpression="InvalidExpression",a.InvalidFunctionIdentifier="InvalidFunctionIdentifier",a.InvalidHexEscapeSequence="InvalidHexEscapeSequence",a.InvalidLeftHandSideInAssignment="InvalidLeftHandSideInAssignment",a.InvalidLeftHandSideInForIn="InvalidLeftHandSideInForIn",a.InvalidTemplateHead="InvalidTemplateHead",a.InvalidVariableAssignment="InvalidVariableAssignment",a.KeyMustBeString="KeyMustBeString",a.NoFunctionInsideBlock="NoFunctionInsideBlock",a.NoFunctionInsideFunction="NoFunctionInsideFunction",a.ModuleExportRootOnly="ModuleExportRootOnly",a.ModuleImportRootOnly="ModuleImportRootOnly",a.PunctuatorExpected="PunctuatorExpected",a.TemplateOctalLiteral="TemplateOctalLiteral",a.UnexpectedBoolean="UnexpectedBoolean",a.UnexpectedEndOfScript="UnexpectedEndOfScript",a.UnexpectedIdentifier="UnexpectedIdentifier",a.UnexpectedKeyword="UnexpectedKeyword",a.UnexpectedNull="UnexpectedNull",a.UnexpectedNumber="UnexpectedNumber",a.UnexpectedPunctuator="UnexpectedPunctuator",a.UnexpectedString="UnexpectedString",a.UnexpectedTemplate="UnexpectedTemplate",a.UnexpectedToken="UnexpectedToken"}(le||(le={}));const Bt={[le.InvalidModuleUri]:"Module uri must be a text literal.",[le.ForInOfLoopInitializer]:"for-in loop variable declaration may not have an initializer.",[le.IdentiferExpected]:"'${value}' is an invalid identifier.",[le.InvalidEscapedReservedWord]:"Keyword cannot contain escaped characters.",[le.InvalidExpression]:"Invalid expression.",[le.InvalidFunctionIdentifier]:"'${value}' is an invalid function identifier.",[le.InvalidHexEscapeSequence]:"Invalid hexadecimal escape sequence.",[le.InvalidLeftHandSideInAssignment]:"Invalid left-hand side in assignment.",[le.InvalidLeftHandSideInForIn]:"Invalid left-hand side in for-in.",[le.InvalidTemplateHead]:"Invalid template structure.",[le.InvalidVariableAssignment]:"Invalid variable assignment.",[le.KeyMustBeString]:"Object property keys must be a word starting with a letter.",[le.NoFunctionInsideBlock]:"Functions cannot be declared inside of code blocks.",[le.NoFunctionInsideFunction]:"Functions cannot be declared inside another function.",[le.ModuleExportRootOnly]:"Module exports cannot be declared inside of code blocks.",[le.ModuleImportRootOnly]:"Module import cannot be declared inside of code blocks.",[le.PunctuatorExpected]:"'${value}' expected.",[le.TemplateOctalLiteral]:"Octal literals are not allowed in template literals.",[le.UnexpectedBoolean]:"Unexpected boolean literal.",[le.UnexpectedEndOfScript]:"Unexpected end of Arcade expression.",[le.UnexpectedIdentifier]:"Unexpected identifier.",[le.UnexpectedKeyword]:"Unexpected keyword.",[le.UnexpectedNull]:"Unexpected null literal.",[le.UnexpectedNumber]:"Unexpected number.",[le.UnexpectedPunctuator]:"Unexpected ponctuator.",[le.UnexpectedString]:"Unexpected text literal.",[le.UnexpectedTemplate]:"Unexpected quasi '${value}'.",[le.UnexpectedToken]:"Unexpected token '${value}'."};class Ke extends Error{constructor({code:i,index:o,line:s,column:d,len:x=0,description:M,data:p}){super(`${M??i}`),this.declaredRootClass="esri.arcade.lib.parsingerror",this.name="ParsingError",this.code=i,this.index=o,this.line=s,this.column=d,this.len=x,this.data=p,this.description=M,this.range={start:{line:s,column:d-1},end:{line:s,column:d+x}},Error.captureStackTrace?.(this,Ke)}}function f(a){return a?.type===S.BlockStatement}function v(a){return a?.type===S.BlockComment}function ie(a){return a?.type===S.EmptyStatement}function qn(a){return a?.type===S.VariableDeclarator}function Yt(a,i){return!!i&&i.loc.end.line===a.loc.start.line&&i.loc.end.column<=a.loc.start.column}function yn(a,i){return a.range[0]>=i.range[0]&&a.range[1]<=i.range[1]}class er{constructor(){this.comments=[],this._nodeStack=[],this._newComments=[]}insertInnerComments(i){if(!f(i)||0!==i.body.length)return;const o=[];for(let s=this._newComments.length-1;s>=0;--s){const d=this._newComments[s];i.range[1]>=d.range[0]&&(o.unshift(d),this._newComments.splice(s,1))}o.length&&(i.innerComments=o)}attachTrailingComments(i){if(!i)return;const o=this._nodeStack[this._nodeStack.length-1];if(f(i)&&yn(o,i))for(let d=this._newComments.length-1;d>=0;--d){const x=this._newComments[d];yn(x,i)&&(o.trailingComments=[...o.trailingComments??[],x],this._newComments.splice(d,1))}let s=[];if(this._newComments.length>0)for(let d=this._newComments.length-1;d>=0;--d){const x=this._newComments[d];Yt(x,o)?(o.trailingComments=[...o.trailingComments??[],x],this._newComments.splice(d,1)):Yt(x,i)&&(s.unshift(x),this._newComments.splice(d,1))}o?.trailingComments&&Yt(o.trailingComments[0],i)&&(s=[...s,...o.trailingComments],delete o.trailingComments),s.length>0&&(i.trailingComments=s)}attachLeadingComments(i){if(!i)return;let o;for(;this._nodeStack.length>0;){const x=this._nodeStack[this._nodeStack.length-1];if(!(i.range[0]<=x.range[0]))break;o=x,this._nodeStack.pop()}const s=[],d=[];if(o){for(let x=(o.leadingComments?.length??0)-1;x>=0;--x){const M=o.leadingComments[x];i.range[0]>=M.range[1]?(s.unshift(M),o.leadingComments.splice(x,1)):qn(i)&&!v(M)&&(d.unshift(M),o.leadingComments.splice(x,1))}return 0===o.leadingComments?.length&&delete o.leadingComments,s.length&&(i.leadingComments=s),void(d.length&&(i.trailingComments=[...d,...i.trailingComments??[]]))}for(let x=this._newComments.length-1;x>=0;--x){const M=this._newComments[x];i.range[0]>=M.range[0]&&(s.unshift(M),this._newComments.splice(x,1))}s.length&&(i.leadingComments=s)}attachComments(i){if(function Mt(a){return a?.type===S.Program}(i)&&i.body.length>0){const o=this._nodeStack[this._nodeStack.length-1];return o?(o.trailingComments=[...o.trailingComments??[],...this._newComments],this._newComments.length=0,void this._nodeStack.pop()):(i.trailingComments=[...this._newComments],void(this._newComments.length=0))}this.attachTrailingComments(i),this.attachLeadingComments(i),this.insertInnerComments(i),this._nodeStack.push(i)}collectComment(i){this.comments.push(i),this._newComments.push(i)}}function Qt(a,i){const o=Bt[a];return i?o.replaceAll(/\${(.*?)}/g,(s,d)=>i[d]?.toString()??""):o}class tr{constructor(i=!1){this.tolerant=i,this.errors=[]}recordError(i){this.errors.push(i)}tolerate(i){if(!this.tolerant)throw i;this.recordError(i)}throwError(i){throw i.description=i.description??Qt(i.code,i.data),new Ke(i)}tolerateError(i){i.description=i.description??Qt(i.code,i.data);const o=new Ke(i);if(!this.tolerant)throw o;this.recordError(o)}}function xn(a,i){if(!a)throw new Error("ASSERT: "+i)}const En={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Ce={fromCodePoint:a=>a<65536?String.fromCharCode(a):String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+(a-65536&1023)),isWhiteSpace:a=>32===a||9===a||11===a||12===a||160===a||a>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(a),isLineTerminator:a=>10===a||13===a||8232===a||8233===a,isIdentifierStart:a=>36===a||95===a||a>=65&&a<=90||a>=97&&a<=122||92===a||a>=128&&En.NonAsciiIdentifierStart.test(Ce.fromCodePoint(a)),isIdentifierPart:a=>36===a||95===a||a>=65&&a<=90||a>=97&&a<=122||a>=48&&a<=57||92===a||a>=128&&En.NonAsciiIdentifierPart.test(Ce.fromCodePoint(a)),isDecimalDigit:a=>a>=48&&a<=57,isHexDigit:a=>a>=48&&a<=57||a>=65&&a<=70||a>=97&&a<=102,isOctalDigit:a=>a>=48&&a<=55};function Cn(a){return"0123456789abcdef".indexOf(a.toLowerCase())}function Xt(a){return"01234567".indexOf(a)}const _t=[[],[],[]];ee.forEach(a=>_t[a.length-1].push(a)),O.forEach(a=>_t[a.length-1].push(a)),re.forEach(a=>_t[a.length-1].push(a)),K.forEach(a=>_t[a.length-1].push(a)),["|","&",">>","<<",">>>","^","==","!=","<","<=",">",">=","+","-","*","/","%"].forEach(a=>_t[a.length-1].push(a));class nr{constructor(i,o){this.source=i,this.errorHandler=o,this._length=i.length,this.index=0,this.lineNumber=1,this.lineStart=0,this.curlyStack=[]}saveState(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}}restoreState(i){this.index=i.index,this.lineNumber=i.lineNumber,this.lineStart=i.lineStart,this.curlyStack=i.curlyStack}eof(){return this.index>=this._length}throwUnexpectedToken(i=le.UnexpectedToken){this.errorHandler.throwError({code:i,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})}tolerateUnexpectedToken(i=le.UnexpectedToken){this.errorHandler.tolerateError({code:i,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})}skipSingleLineComment(i){const o=[],s=this.index-i,d={start:{line:this.lineNumber,column:this.index-this.lineStart-i},end:{line:0,column:0}};for(;!this.eof();){const x=this.source.charCodeAt(this.index);if(++this.index,Ce.isLineTerminator(x))return d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart-1},o.push({multiLine:!1,start:s+i,end:this.index-1,range:[s,this.index-1],loc:d})),13===x&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,o}return d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},o.push({multiLine:!1,start:s+i,end:this.index,range:[s,this.index],loc:d})),o}skipMultiLineComment(){const i=[],o=this.index-2,s={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}};for(;!this.eof();){const d=this.source.charCodeAt(this.index);if(Ce.isLineTerminator(d))13===d&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===d){if(47===this.source.charCodeAt(this.index+1))return this.index+=2,s&&(s.end={line:this.lineNumber,column:this.index-this.lineStart},i.push({multiLine:!0,start:o+2,end:this.index-2,range:[o,this.index],loc:s})),i;++this.index}else++this.index}return s&&(s.end={line:this.lineNumber,column:this.index-this.lineStart},i.push({multiLine:!0,start:o+2,end:this.index,range:[o,this.index],loc:s})),this.tolerateUnexpectedToken(),i}scanComments(){let i=[];for(;!this.eof();){let o=this.source.charCodeAt(this.index);if(Ce.isWhiteSpace(o))++this.index;else if(Ce.isLineTerminator(o))++this.index,13===o&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index;else{if(47!==o)break;if(o=this.source.charCodeAt(this.index+1),47===o){this.index+=2;const s=this.skipSingleLineComment(2);i=[...i,...s]}else{if(42!==o)break;{this.index+=2;const s=this.skipMultiLineComment();i=[...i,...s]}}}}return i}isKeyword(i){switch((i=i.toLowerCase()).length){case 2:return i===A.If||i===A.In;case 3:return i===A.Var||i===A.For;case 4:return i===A.Else;case 5:return i===A.Break||i===A.While;case 6:return i===A.Return||i===A.Import||i===A.Export;case 8:return i===A.Function||i===A.Continue;default:return!1}}codePointAt(i){let o=this.source.charCodeAt(i);if(o>=55296&&o<=56319){const s=this.source.charCodeAt(i+1);s>=56320&&s<=57343&&(o=1024*(o-55296)+s-56320+65536)}return o}scanHexEscape(i){const o="u"===i?4:2;let s=0;for(let d=0;d<o;++d){if(this.eof()||!Ce.isHexDigit(this.source.charCodeAt(this.index)))return null;s=16*s+Cn(this.source[this.index++])}return String.fromCharCode(s)}scanUnicodeCodePointEscape(){let i=this.source[this.index],o=0;for("}"===i&&this.throwUnexpectedToken();!this.eof()&&(i=this.source[this.index++],Ce.isHexDigit(i.charCodeAt(0)));)o=16*o+Cn(i);return(o>1114111||"}"!==i)&&this.throwUnexpectedToken(),Ce.fromCodePoint(o)}getIdentifier(){const i=this.index++;for(;!this.eof();){const o=this.source.charCodeAt(this.index);if(92===o)return this.index=i,this.getComplexIdentifier();if(o>=55296&&o<57343)return this.index=i,this.getComplexIdentifier();if(!Ce.isIdentifierPart(o))break;++this.index}return this.source.slice(i,this.index)}getComplexIdentifier(){let i,o=this.codePointAt(this.index),s=Ce.fromCodePoint(o);for(this.index+=s.length,92===o&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(i=this.scanHexEscape("u"),null!==i&&"\\"!==i&&Ce.isIdentifierStart(i.charCodeAt(0))||this.throwUnexpectedToken()),s=i);!this.eof()&&(o=this.codePointAt(this.index),Ce.isIdentifierPart(o));)i=Ce.fromCodePoint(o),s+=i,this.index+=i.length,92===o&&(s=s.substring(0,s.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(i=this.scanHexEscape("u"),null!==i&&"\\"!==i&&Ce.isIdentifierPart(i.charCodeAt(0))||this.throwUnexpectedToken()),s+=i);return s}octalToDecimal(i){let o="0"!==i,s=Xt(i);return!this.eof()&&Ce.isOctalDigit(this.source.charCodeAt(this.index))&&(o=!0,s=8*s+Xt(this.source[this.index++]),"0123".includes(i)&&!this.eof()&&Ce.isOctalDigit(this.source.charCodeAt(this.index))&&(s=8*s+Xt(this.source[this.index++]))),{code:s,octal:o}}scanIdentifier(){let i;const o=this.index,s=92===this.source.charCodeAt(o)?this.getComplexIdentifier():this.getIdentifier();if(i=1===s.length?oe.Identifier:this.isKeyword(s)?oe.Keyword:s.toLowerCase()===A.Null?oe.NullLiteral:s.toLowerCase()===A.True||s.toLowerCase()===A.False?oe.BooleanLiteral:oe.Identifier,i!==oe.Identifier&&o+s.length!==this.index){const d=this.index;this.index=o,this.tolerateUnexpectedToken(le.InvalidEscapedReservedWord),this.index=d}return{type:i,value:s,lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}scanPunctuator(){const i=this.index;let o=this.source[this.index];switch(o){case"(":case"{":"{"===o&&this.curlyStack.push("{"),++this.index;break;case".":case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;case"}":++this.index,this.curlyStack.pop();break;default:for(let s=_t.length;s>0;s--)if(o=this.source.substring(this.index,this.index+s),_t[s-1].includes(o)){this.index+=s;break}}return this.index===i&&this.throwUnexpectedToken(),{type:oe.Punctuator,value:o,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanHexLiteral(i){let o="";for(;!this.eof()&&Ce.isHexDigit(this.source.charCodeAt(this.index));)o+=this.source[this.index++];return 0===o.length&&this.throwUnexpectedToken(),Ce.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:oe.NumericLiteral,value:parseInt("0x"+o,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanBinaryLiteral(i){let o="";for(;!this.eof();){const s=this.source[this.index];if("0"!==s&&"1"!==s)break;o+=this.source[this.index++]}if(0===o.length&&this.throwUnexpectedToken(),!this.eof()){const s=this.source.charCodeAt(this.index);(Ce.isIdentifierStart(s)||Ce.isDecimalDigit(s))&&this.throwUnexpectedToken()}return{type:oe.NumericLiteral,value:parseInt(o,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanOctalLiteral(i,o){let s="",d=!1;for(Ce.isOctalDigit(i.charCodeAt(0))?(d=!0,s="0"+this.source[this.index++]):++this.index;!this.eof()&&Ce.isOctalDigit(this.source.charCodeAt(this.index));)s+=this.source[this.index++];return d||0!==s.length||this.throwUnexpectedToken(),(Ce.isIdentifierStart(this.source.charCodeAt(this.index))||Ce.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:oe.NumericLiteral,value:parseInt(s,8),lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}scanNumericLiteral(){const i=this.index;let o=this.source[i];xn(Ce.isDecimalDigit(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point");let s="";if("."!==o){if(s=this.source[this.index++],o=this.source[this.index],"0"===s){if("x"===o||"X"===o)return++this.index,this.scanHexLiteral(i);if("b"===o||"B"===o)return++this.index,this.scanBinaryLiteral(i);if("o"===o||"O"===o)return this.scanOctalLiteral(o,i)}for(;Ce.isDecimalDigit(this.source.charCodeAt(this.index));)s+=this.source[this.index++];o=this.source[this.index]}if("."===o){for(s+=this.source[this.index++];Ce.isDecimalDigit(this.source.charCodeAt(this.index));)s+=this.source[this.index++];o=this.source[this.index]}if("e"===o||"E"===o)if(s+=this.source[this.index++],o=this.source[this.index],"+"!==o&&"-"!==o||(s+=this.source[this.index++]),Ce.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Ce.isDecimalDigit(this.source.charCodeAt(this.index));)s+=this.source[this.index++];else this.throwUnexpectedToken();return Ce.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:oe.NumericLiteral,value:parseFloat(s),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanStringLiteral(){const i=this.index;let o=this.source[i];xn("'"===o||'"'===o,"String literal must starts with a quote"),++this.index;let s=!1,d="";for(;!this.eof();){let x=this.source[this.index++];if(x===o){o="";break}if("\\"===x)if(x=this.source[this.index++],x&&Ce.isLineTerminator(x.charCodeAt(0)))++this.lineNumber,"\r"===x&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(x){case"u":if("{"===this.source[this.index])++this.index,d+=this.scanUnicodeCodePointEscape();else{const M=this.scanHexEscape(x);null===M&&this.throwUnexpectedToken(),d+=M}break;case"x":{const M=this.scanHexEscape(x);null===M&&this.throwUnexpectedToken(le.InvalidHexEscapeSequence),d+=M;break}case"n":d+="\n";break;case"r":d+="\r";break;case"t":d+="\t";break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;case"8":case"9":d+=x,this.tolerateUnexpectedToken();break;default:if(x&&Ce.isOctalDigit(x.charCodeAt(0))){const M=this.octalToDecimal(x);s=M.octal||s,d+=String.fromCharCode(M.code)}else d+=x}else{if(Ce.isLineTerminator(x.charCodeAt(0)))break;d+=x}}return""!==o&&(this.index=i,this.throwUnexpectedToken()),{type:oe.StringLiteral,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanTemplate(){let i="",o=!1;const s=this.index,d="`"===this.source[s];let x=!1,M=2;for(++this.index;!this.eof();){let p=this.source[this.index++];if("`"===p){M=1,x=!0,o=!0;break}if("$"!==p)if("\\"!==p)Ce.isLineTerminator(p.charCodeAt(0))?(++this.lineNumber,"\r"===p&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,i+="\n"):i+=p;else if(p=this.source[this.index++],Ce.isLineTerminator(p.charCodeAt(0)))++this.lineNumber,"\r"===p&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(p){case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"u":if("{"===this.source[this.index])++this.index,i+=this.scanUnicodeCodePointEscape();else{const W=this.index,te=this.scanHexEscape(p);null!==te?i+=te:(this.index=W,i+=p)}break;case"x":{const W=this.scanHexEscape(p);null===W&&this.throwUnexpectedToken(le.InvalidHexEscapeSequence),i+=W;break}case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:"0"===p?(Ce.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(le.TemplateOctalLiteral),i+="\0"):Ce.isOctalDigit(p.charCodeAt(0))?this.throwUnexpectedToken(le.TemplateOctalLiteral):i+=p}else{if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,o=!0;break}i+=p}}return o||this.throwUnexpectedToken(),d||this.curlyStack.pop(),{type:oe.Template,value:this.source.slice(s+1,this.index-M),cooked:i,head:d,tail:x,lineNumber:this.lineNumber,lineStart:this.lineStart,start:s,end:this.index}}lex(){if(this.eof())return{type:oe.EOF,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const i=this.source.charCodeAt(this.index);return Ce.isIdentifierStart(i)?this.scanIdentifier():40===i||41===i||59===i?this.scanPunctuator():39===i||34===i?this.scanStringLiteral():46===i?Ce.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():Ce.isDecimalDigit(i)?this.scanNumericLiteral():96===i||125===i&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():i>=55296&&i<57343&&Ce.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()}}var We,Nt;function Fn(a,i=0){let o=a.start-a.lineStart,s=a.lineNumber;return o<0&&(o+=i,s--),{index:a.start,line:s,column:o}}function An(a){return[{index:a.range[0],...a.loc.start},{index:a.range[1],...a.loc.end}]}function wn(a){return ke[a]??0}(function(a){a[a.None=0]="None",a[a.Function=1]="Function",a[a.IfClause=2]="IfClause",a[a.ForLoop=4]="ForLoop",a[a.WhileLoop=8]="WhileLoop"})(We||(We={})),function(a){a[a.AsObject=0]="AsObject",a[a.Automatic=1]="Automatic"}(Nt||(Nt={}));class rr{constructor(i,o={},s){this.delegate=s,this.hasLineTerminator=!1,this.options={tokens:"boolean"==typeof o.tokens&&o.tokens,comments:"boolean"==typeof o.comments&&o.comments,tolerant:"boolean"==typeof o.tolerant&&o.tolerant},this.options.comments&&(this.commentHandler=new er),this.errorHandler=new tr(this.options.tolerant),this.scanner=new nr(i,this.errorHandler),this.context={isAssignmentTarget:!1,blockContext:We.None,curlyParsingType:Nt.AsObject},this.rawToken={type:oe.EOF,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.endMarker={index:0,line:this.scanner.lineNumber,column:0},this.readNextRawToken(),this.endMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}throwIfInvalidType(i,o,{validTypes:s,invalidTypes:d}){s?.some(x=>i.type===x)||d?.some(x=>i.type===x)&&this.throwError(le.InvalidExpression,o)}throwError(i,o,s=this.endMarker){const{index:d,line:x,column:M}=o;this.errorHandler.throwError({code:i,index:d,line:x,column:M+1,len:s.index-d-1})}tolerateError(i,o){throw new Error("######################################### !!!")}unexpectedTokenError(i={}){const{rawToken:o}=i;let s,{code:d,data:x}=i;if(o){if(!d)switch(o.type){case oe.EOF:d=le.UnexpectedEndOfScript;break;case oe.Identifier:d=le.UnexpectedIdentifier;break;case oe.NumericLiteral:d=le.UnexpectedNumber;break;case oe.StringLiteral:d=le.UnexpectedString;break;case oe.Template:d=le.UnexpectedTemplate}s=o.value.toString()}else s="ILLEGAL";d=d??le.UnexpectedToken,x||(x={value:s});const M=Qt(d,x);if(o)return new Ke({code:d,index:o.start,line:o.lineNumber,column:o.start-o.lineStart+1,len:o.end-o.start-1,data:x,description:M});const{index:p,line:W}=this.endMarker;return new Ke({code:d,index:p,line:W,column:this.endMarker.column+1,data:x,description:M})}throwUnexpectedToken(i={}){throw i.rawToken=i.rawToken??this.rawToken,this.unexpectedTokenError(i)}collectComments(i){const{commentHandler:o}=this;o&&i.length&&i.forEach(s=>{const d={type:s.multiLine?S.BlockComment:S.LineComment,value:this.getSourceValue(s),range:s.range,loc:s.loc};o.collectComment(d)})}peekAhead(i){const s=this.scanner.saveState(),d=i.call(this,()=>(this.scanner.scanComments(),this.scanner.lex()));return this.scanner.restoreState(s),d}getSourceValue(i){return this.scanner.source.slice(i.start,i.end)}convertToToken(i){return{type:lt[i.type],value:this.getSourceValue(i),range:[i.start,i.end],loc:{start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}}}readNextRawToken(){this.endMarker.index=this.scanner.index,this.endMarker.line=this.scanner.lineNumber,this.endMarker.column=this.scanner.index-this.scanner.lineStart;const i=this.rawToken;this.collectComments(this.scanner.scanComments()),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart),this.rawToken=this.scanner.lex(),this.hasLineTerminator=i.lineNumber!==this.rawToken.lineNumber,this.options.tokens&&this.rawToken.type!==oe.EOF&&this.tokens.push(this.convertToToken(this.rawToken))}captureStartMarker(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}}getItemLocation(i){return{range:[i.index,this.endMarker.index],loc:{start:{line:i.line,column:i.column},end:{line:this.endMarker.line,column:this.endMarker.column}}}}finalize(i){return(this.delegate||this.commentHandler)&&(this.commentHandler?.attachComments(i),this.delegate?.(i)),i}expectPunctuator(i){const o=this.rawToken;this.matchPunctuator(i)?this.readNextRawToken():this.throwUnexpectedToken({rawToken:o,code:le.PunctuatorExpected,data:{value:i}})}expectKeyword(i){this.rawToken.type!==oe.Keyword||this.rawToken.value.toLowerCase()!==i?this.throwUnexpectedToken({rawToken:this.rawToken}):this.readNextRawToken()}expectContextualKeyword(i){this.rawToken.type!==oe.Identifier||this.rawToken.value.toLowerCase()!==i?this.throwUnexpectedToken({rawToken:this.rawToken}):this.readNextRawToken()}matchKeyword(i){return this.rawToken.type===oe.Keyword&&this.rawToken.value.toLowerCase()===i}matchContextualKeyword(i){return this.rawToken.type===oe.Identifier&&this.rawToken.value===i}matchPunctuator(i){return this.rawToken.type===oe.Punctuator&&this.rawToken.value===i}getMatchingPunctuator(i){if("string"==typeof i&&(i=i.split("")),this.rawToken.type===oe.Punctuator&&i?.length)return i.find(this.matchPunctuator,this)}isolateCoverGrammar(i){const o=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;const s=i.call(this);return this.context.isAssignmentTarget=o,s}inheritCoverGrammar(i){const o=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;const s=i.call(this);return this.context.isAssignmentTarget=this.context.isAssignmentTarget&&o,s}withBlockContext(i,o){const s=this.context.blockContext;this.context.blockContext=this.context.blockContext|i;const d=this.context.curlyParsingType;this.context.curlyParsingType=Nt.Automatic;const x=o.call(this);return this.context.blockContext=s,this.context.curlyParsingType=d,x}consumeSemicolon(){if(this.matchPunctuator(";"))this.readNextRawToken();else if(!this.hasLineTerminator)return this.rawToken.type===oe.EOF||this.matchPunctuator("}")?(this.endMarker.index=this.startMarker.index,this.endMarker.line=this.startMarker.line,void(this.endMarker.column=this.startMarker.column)):void this.throwUnexpectedToken({rawToken:this.rawToken})}parsePrimaryExpression(){const i=this.captureStartMarker(),o=this.rawToken;switch(o.type){case oe.Identifier:return this.readNextRawToken(),this.finalize({type:S.Identifier,name:o.value,...this.getItemLocation(i)});case oe.NumericLiteral:case oe.StringLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:S.Literal,value:o.value,raw:this.getSourceValue(o),isString:"string"==typeof o.value,...this.getItemLocation(i)});case oe.BooleanLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:S.Literal,value:o.value.toLowerCase()===A.True,raw:this.getSourceValue(o),isString:!1,...this.getItemLocation(i)});case oe.NullLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:S.Literal,value:null,raw:this.getSourceValue(o),isString:!1,...this.getItemLocation(i)});case oe.Template:return this.parseTemplateLiteral();case oe.Punctuator:switch(o.value){case"(":return this.inheritCoverGrammar(this.parseGroupExpression);case"[":return this.inheritCoverGrammar(this.parseArrayInitializer);case"{":return this.inheritCoverGrammar(this.parseObjectExpression);default:return this.throwUnexpectedToken({rawToken:this.rawToken})}case oe.Keyword:return this.context.isAssignmentTarget=!1,this.throwUnexpectedToken({rawToken:this.rawToken});default:return this.throwUnexpectedToken({rawToken:this.rawToken})}}parseArrayInitializer(){const i=this.captureStartMarker();this.expectPunctuator("[");const o=[];for(;!this.matchPunctuator("]");){const s=this.captureStartMarker();this.matchPunctuator(",")?(this.readNextRawToken(),this.throwError(le.InvalidExpression,s)):(o.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.matchPunctuator("]")||this.expectPunctuator(","))}return this.expectPunctuator("]"),this.finalize({type:S.ArrayExpression,elements:o,...this.getItemLocation(i)})}parseObjectPropertyKey(){const i=this.captureStartMarker(),o=this.rawToken;switch(o.type){case oe.StringLiteral:return this.readNextRawToken(),this.finalize({type:S.Literal,value:o.value,raw:this.getSourceValue(o),isString:!0,...this.getItemLocation(i)});case oe.Identifier:case oe.BooleanLiteral:case oe.NullLiteral:case oe.Keyword:return this.readNextRawToken(),this.finalize({type:S.Identifier,name:o.value,...this.getItemLocation(i)});default:this.throwError(le.KeyMustBeString,i)}}parseObjectProperty(){const i=this.rawToken,o=this.captureStartMarker(),s=this.parseObjectPropertyKey();let d=!1,x=null;return this.matchPunctuator(":")?(this.readNextRawToken(),x=this.inheritCoverGrammar(this.parseAssignmentExpression)):i.type===oe.Identifier?(d=!0,x=this.finalize({type:S.Identifier,name:i.value,...this.getItemLocation(o)})):this.throwUnexpectedToken({rawToken:this.rawToken}),this.finalize({type:S.Property,kind:"init",key:s,value:x,shorthand:d,...this.getItemLocation(o)})}parseObjectExpression(){const i=this.captureStartMarker();this.expectPunctuator("{");const o=[];for(;!this.matchPunctuator("}");)o.push(this.parseObjectProperty()),this.matchPunctuator("}")||this.expectPunctuator(",");return this.expectPunctuator("}"),this.finalize({type:S.ObjectExpression,properties:o,...this.getItemLocation(i)})}parseTemplateElement(i=!1){const o=this.rawToken;o.type!==oe.Template&&this.throwUnexpectedToken({rawToken:o}),i&&!o.head&&this.throwUnexpectedToken({code:le.InvalidTemplateHead,rawToken:o});const s=this.captureStartMarker();this.readNextRawToken();const{value:d,cooked:x,tail:M}=o,p=this.finalize({type:S.TemplateElement,value:{raw:d,cooked:x},tail:M,...this.getItemLocation(s)});return p.loc.start.column++,p.loc.end.column=p.loc.end.column-(M?1:2),p}parseTemplateLiteral(){const i=this.captureStartMarker(),o=[],s=[];let d=this.parseTemplateElement(!0);for(s.push(d);!d.tail;)o.push(this.parseExpression()),d=this.parseTemplateElement(),s.push(d);return this.finalize({type:S.TemplateLiteral,quasis:s,expressions:o,...this.getItemLocation(i)})}parseGroupExpression(){this.expectPunctuator("(");const i=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.expectPunctuator(")"),i}parseArguments(){this.expectPunctuator("(");const i=[];if(!this.matchPunctuator(")"))for(;;){const o=this.isolateCoverGrammar(this.parseAssignmentExpression);if(i.push(o),this.matchPunctuator(")")||(this.expectPunctuator(","),this.matchPunctuator(")")))break}return this.expectPunctuator(")"),i}parseMemberName(){const i=this.rawToken,o=this.captureStartMarker();return this.readNextRawToken(),i.type!==oe.NullLiteral&&i.type!==oe.Identifier&&i.type!==oe.Keyword&&i.type!==oe.BooleanLiteral&&this.throwUnexpectedToken({rawToken:i}),this.finalize({type:S.Identifier,name:i.value,...this.getItemLocation(o)})}parseLeftHandSideExpression(){const i=this.captureStartMarker();let o=this.inheritCoverGrammar(this.parsePrimaryExpression);const s=this.captureStartMarker();let d;for(;d=this.getMatchingPunctuator("([.");)switch(d){case"(":{this.context.isAssignmentTarget=!1,o.type!==S.Identifier&&o.type!==S.MemberExpression&&this.throwError(le.IdentiferExpected,i,s);const x=this.parseArguments();o=this.finalize({type:S.CallExpression,callee:o,arguments:x,...this.getItemLocation(i)});continue}case"[":{this.context.isAssignmentTarget=!0,this.expectPunctuator("[");const x=this.isolateCoverGrammar(this.parseExpression);this.expectPunctuator("]"),o=this.finalize({type:S.MemberExpression,computed:!0,object:o,property:x,...this.getItemLocation(i)});continue}case".":{this.context.isAssignmentTarget=!0,this.expectPunctuator(".");const x=this.parseMemberName();o=this.finalize({type:S.MemberExpression,computed:!1,object:o,property:x,...this.getItemLocation(i)});continue}}return o}parseUpdateExpression(){const i=this.captureStartMarker();let o=this.getMatchingPunctuator(ee);if(o){this.readNextRawToken();const M=this.captureStartMarker(),p=this.inheritCoverGrammar(this.parseUnaryExpression);return p.type!==S.Identifier&&p.type!==S.MemberExpression&&p.type!==S.CallExpression&&this.throwError(le.InvalidExpression,M),this.context.isAssignmentTarget||this.tolerateError(le.InvalidLeftHandSideInAssignment,i),this.context.isAssignmentTarget=!1,this.finalize({type:S.UpdateExpression,operator:o,argument:p,prefix:!0,...this.getItemLocation(i)})}const s=this.captureStartMarker(),d=this.inheritCoverGrammar(this.parseLeftHandSideExpression),x=this.captureStartMarker();return this.hasLineTerminator?d:(o=this.getMatchingPunctuator(ee),o?(d.type!==S.Identifier&&d.type!==S.MemberExpression&&this.throwError(le.InvalidExpression,s,x),this.context.isAssignmentTarget||this.tolerateError(le.InvalidLeftHandSideInAssignment,i),this.readNextRawToken(),this.context.isAssignmentTarget=!1,this.finalize({type:S.UpdateExpression,operator:o,argument:d,prefix:!1,...this.getItemLocation(i)})):d)}parseUnaryExpression(){const i=this.getMatchingPunctuator(O);if(i){const o=this.captureStartMarker();this.readNextRawToken();const s=this.inheritCoverGrammar(this.parseUnaryExpression);return this.context.isAssignmentTarget=!1,this.finalize({type:S.UnaryExpression,operator:i,argument:s,prefix:!0,...this.getItemLocation(o)})}return this.parseUpdateExpression()}parseBinaryExpression(){const i=this.rawToken;let o=this.inheritCoverGrammar(this.parseUnaryExpression);if(this.rawToken.type!==oe.Punctuator)return o;const s=this.rawToken.value;let d=wn(s);if(0===d)return o;this.readNextRawToken(),this.context.isAssignmentTarget=!1;const x=[i,this.rawToken];let M=o,p=this.inheritCoverGrammar(this.parseUnaryExpression);const W=[M,s,p],te=[d];for(;this.rawToken.type===oe.Punctuator&&(d=wn(this.rawToken.value))>0;){for(;W.length>2&&d<=te[te.length-1];){p=W.pop();const me=W.pop();te.pop(),M=W.pop(),x.pop();const Ze=x[x.length-1],rt=Fn(Ze,Ze.lineStart);W.push(this.finalize(this.createBinaryOrLogicalExpression(rt,me,M,p)))}W.push(this.rawToken.value),te.push(d),x.push(this.rawToken),this.readNextRawToken(),W.push(this.inheritCoverGrammar(this.parseUnaryExpression))}let De=W.length-1;o=W[De];let Ee=x.pop();for(;De>1;){const me=x.pop();if(!me)break;const Ze=Ee?.lineStart,rt=Fn(me,Ze);o=this.finalize(this.createBinaryOrLogicalExpression(rt,W[De-1],W[De-2],o)),De-=2,Ee=me}return o}createBinaryOrLogicalExpression(i,o,s,d){const x=re.includes(o)?S.LogicalExpression:S.BinaryExpression;return x===S.BinaryExpression||(s.type!==S.AssignmentExpression&&s.type!==S.UpdateExpression||this.throwError(le.InvalidExpression,...An(s)),d.type!==S.AssignmentExpression&&d.type!==S.UpdateExpression||this.throwError(le.InvalidExpression,...An(s))),{type:x,operator:o,left:s,right:d,...this.getItemLocation(i)}}parseAssignmentExpression(){const i=this.captureStartMarker(),o=this.inheritCoverGrammar(this.parseBinaryExpression),s=this.captureStartMarker(),d=this.getMatchingPunctuator(K);if(!d)return o;o.type!==S.Identifier&&o.type!==S.MemberExpression&&this.throwError(le.InvalidExpression,i,s),this.context.isAssignmentTarget||this.tolerateError(le.InvalidLeftHandSideInAssignment,i),this.matchPunctuator("=")||(this.context.isAssignmentTarget=!1),this.readNextRawToken();const x=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize({type:S.AssignmentExpression,left:o,operator:d,right:x,...this.getItemLocation(i)})}parseExpression(){return this.isolateCoverGrammar(this.parseAssignmentExpression)}parseStatements(i){const o=[];for(;this.rawToken.type!==oe.EOF&&!this.matchPunctuator(i);){const s=this.parseStatementListItem();ie(s)||o.push(s)}return o}parseStatementListItem(){return this.context.isAssignmentTarget=!0,this.matchKeyword(A.Function)?this.parseFunctionDeclaration():this.matchKeyword(A.Export)?this.parseExportDeclaration():this.matchKeyword(A.Import)?this.parseImportDeclaration():this.parseStatement()}parseBlock(){const i=this.captureStartMarker();this.expectPunctuator("{");const o=this.parseStatements("}");return this.expectPunctuator("}"),this.finalize({type:S.BlockStatement,body:o,...this.getItemLocation(i)})}parseObjectStatement(){const i=this.captureStartMarker(),o=this.parseObjectExpression();return this.finalize({type:S.ExpressionStatement,expression:o,...this.getItemLocation(i)})}parseBlockOrObjectStatement(){return this.context.curlyParsingType===Nt.AsObject||this.peekAhead(i=>{let o=i();return(o.type===oe.Identifier||o.type===oe.StringLiteral)&&(o=i(),o.type===oe.Punctuator&&":"===o.value)})?this.parseObjectStatement():this.parseBlock()}parseIdentifier(){const i=this.rawToken;if(i.type!==oe.Identifier)return null;const o=this.captureStartMarker();return this.readNextRawToken(),this.finalize({type:S.Identifier,name:i.value,...this.getItemLocation(o)})}parseVariableDeclarator(){const i=this.captureStartMarker(),o=this.parseIdentifier();o||this.throwUnexpectedToken({code:le.IdentiferExpected});let s=null;if(this.matchPunctuator("=")){this.readNextRawToken();const d=this.rawToken;try{s=this.isolateCoverGrammar(this.parseAssignmentExpression)}catch{this.throwUnexpectedToken({rawToken:d,code:le.InvalidVariableAssignment})}}return this.finalize({type:S.VariableDeclarator,id:o,init:s,...this.getItemLocation(i)})}parseVariableDeclarationList(){const i=[this.parseVariableDeclarator()];for(;this.matchPunctuator(",");)this.readNextRawToken(),i.push(this.parseVariableDeclarator());return i}parseVariableDeclaration(){const i=this.captureStartMarker();this.expectKeyword(A.Var);const o=this.parseVariableDeclarationList();return this.consumeSemicolon(),this.finalize({type:S.VariableDeclaration,declarations:o,kind:"var",...this.getItemLocation(i)})}parseEmptyStatement(){const i=this.captureStartMarker();return this.expectPunctuator(";"),this.finalize({type:S.EmptyStatement,...this.getItemLocation(i)})}parseExpressionStatement(){const i=this.captureStartMarker(),o=this.parseExpression();return this.consumeSemicolon(),this.finalize({type:S.ExpressionStatement,expression:o,...this.getItemLocation(i)})}parseIfClause(){return this.withBlockContext(We.IfClause,this.parseStatement)}parseIfStatement(){const i=this.captureStartMarker();this.expectKeyword(A.If),this.expectPunctuator("(");const o=this.captureStartMarker(),s=this.parseExpression(),d=this.captureStartMarker();this.expectPunctuator(")"),s.type!==S.AssignmentExpression&&s.type!==S.UpdateExpression||this.throwError(le.InvalidExpression,o,d);const x=this.parseIfClause();let M=null;return this.matchKeyword(A.Else)&&(this.readNextRawToken(),M=this.parseIfClause()),this.finalize({type:S.IfStatement,test:s,consequent:x,alternate:M,...this.getItemLocation(i)})}parseWhileStatement(){const i=this.captureStartMarker();this.expectKeyword(A.While),this.expectPunctuator("(");const o=this.captureStartMarker(),s=this.parseExpression(),d=this.captureStartMarker();this.expectPunctuator(")"),s.type!==S.AssignmentExpression&&s.type!==S.UpdateExpression||this.throwError(le.InvalidExpression,o,d);const x=this.withBlockContext(We.WhileLoop,this.parseStatement);return this.finalize({type:S.WhileStatement,test:s,body:x,...this.getItemLocation(i)})}parseForStatement(){let i=null,o=null,s=null,d=null,x=null;const M=this.captureStartMarker();if(this.expectKeyword(A.For),this.expectPunctuator("("),this.matchPunctuator(";"))this.readNextRawToken();else if(this.matchKeyword(A.Var)){const W=this.captureStartMarker();this.readNextRawToken();const te=this.parseVariableDeclarationList();1===te.length&&this.matchKeyword(A.In)?(te[0].init&&this.throwError(le.ForInOfLoopInitializer,W),d=this.finalize({type:S.VariableDeclaration,declarations:te,kind:"var",...this.getItemLocation(W)}),this.readNextRawToken(),x=this.parseExpression()):(this.matchKeyword(A.In)&&this.throwError(le.InvalidLeftHandSideInForIn,W),i=this.finalize({type:S.VariableDeclaration,declarations:te,kind:"var",...this.getItemLocation(W)}),this.expectPunctuator(";"))}else{const W=this.context.isAssignmentTarget,te=this.captureStartMarker();i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.matchKeyword(A.In)?(this.context.isAssignmentTarget||this.tolerateError(le.InvalidLeftHandSideInForIn,te),i.type!==S.Identifier&&this.throwError(le.InvalidLeftHandSideInForIn,te),this.readNextRawToken(),d=i,x=this.parseExpression(),i=null):(this.context.isAssignmentTarget=W,this.expectPunctuator(";"))}d||(this.matchPunctuator(";")||(o=this.isolateCoverGrammar(this.parseExpression)),this.expectPunctuator(";"),this.matchPunctuator(")")||(s=this.isolateCoverGrammar(this.parseExpression))),this.expectPunctuator(")");const p=this.withBlockContext(We.ForLoop,()=>this.isolateCoverGrammar(this.parseStatement));return this.finalize(d&&x?{type:S.ForInStatement,left:d,right:x,body:p,...this.getItemLocation(M)}:{type:S.ForStatement,init:i,test:o,update:s,body:p,...this.getItemLocation(M)})}parseContinueStatement(){const i=this.captureStartMarker();return this.expectKeyword(A.Continue),this.consumeSemicolon(),this.finalize({type:S.ContinueStatement,...this.getItemLocation(i)})}parseBreakStatement(){const i=this.captureStartMarker();return this.expectKeyword(A.Break),this.consumeSemicolon(),this.finalize({type:S.BreakStatement,...this.getItemLocation(i)})}parseReturnStatement(){const i=this.captureStartMarker();this.expectKeyword(A.Return);const o=(this.matchPunctuator(";")||this.matchPunctuator("}")||this.hasLineTerminator||this.rawToken.type===oe.EOF)&&this.rawToken.type!==oe.StringLiteral&&this.rawToken.type!==oe.Template?null:this.parseExpression();return this.consumeSemicolon(),this.finalize({type:S.ReturnStatement,argument:o,...this.getItemLocation(i)})}parseStatement(){switch(this.rawToken.type){case oe.BooleanLiteral:case oe.NullLiteral:case oe.NumericLiteral:case oe.StringLiteral:case oe.Template:case oe.Identifier:return this.parseExpressionStatement();case oe.Punctuator:return"{"===this.rawToken.value?this.parseBlockOrObjectStatement():"("===this.rawToken.value?this.parseExpressionStatement():";"===this.rawToken.value?this.parseEmptyStatement():this.parseExpressionStatement();case oe.Keyword:switch(this.rawToken.value.toLowerCase()){case A.Break:return this.parseBreakStatement();case A.Continue:return this.parseContinueStatement();case A.For:return this.parseForStatement();case A.Function:return this.parseFunctionDeclaration();case A.If:return this.parseIfStatement();case A.Return:return this.parseReturnStatement();case A.Var:return this.parseVariableDeclaration();case A.While:return this.parseWhileStatement();default:return this.parseExpressionStatement()}default:return this.throwUnexpectedToken({rawToken:this.rawToken})}}parseFormalParameters(){const i=[];if(this.expectPunctuator("("),!this.matchPunctuator(")"))for(;this.rawToken.type!==oe.EOF;){const o=this.parseIdentifier();if(o||this.throwUnexpectedToken({rawToken:this.rawToken,code:le.IdentiferExpected}),i.push(o),this.matchPunctuator(")")||(this.expectPunctuator(","),this.matchPunctuator(")")))break}return this.expectPunctuator(")"),i}parseFunctionDeclaration(){(this.context.blockContext&We.Function)===We.Function&&this.throwUnexpectedToken({code:le.NoFunctionInsideFunction}),(this.context.blockContext&We.WhileLoop)!==We.WhileLoop&&(this.context.blockContext&We.IfClause)!==We.IfClause||this.throwUnexpectedToken({code:le.NoFunctionInsideBlock});const i=this.captureStartMarker();this.expectKeyword(A.Function);const o=this.parseIdentifier();o||this.throwUnexpectedToken({code:le.InvalidFunctionIdentifier});const s=this.parseFormalParameters(),d=this.context.blockContext;this.context.blockContext=this.context.blockContext|We.Function;const x=this.parseBlock();return this.context.blockContext=d,this.finalize({type:S.FunctionDeclaration,id:o,params:s,body:x,...this.getItemLocation(i)})}parseScript(){const i=this.captureStartMarker(),o=this.parseStatements(),s=this.finalize({type:S.Program,body:o,...this.getItemLocation(i)});return this.options.tokens&&(s.tokens=this.tokens),this.options.tolerant&&(s.errors=this.errorHandler.errors),s}parseExportDeclaration(){this.context.blockContext!==We.None&&this.throwUnexpectedToken({code:le.ModuleExportRootOnly});let i=null;const o=this.captureStartMarker();return this.expectKeyword(A.Export),this.matchKeyword(A.Var)?i=this.parseVariableDeclaration():this.matchKeyword("function")?i=this.parseFunctionDeclaration():this.throwUnexpectedToken({code:le.InvalidExpression}),this.finalize({type:S.ExportNamedDeclaration,declaration:i,specifiers:[],source:null,...this.getItemLocation(o)})}parseModuleSpecifier(){const i=this.captureStartMarker(),o=this.rawToken;if(o.type===oe.StringLiteral)return this.readNextRawToken(),this.finalize({type:S.Literal,value:o.value,raw:this.getSourceValue(o),isString:!0,...this.getItemLocation(i)});this.throwError(le.InvalidModuleUri,i)}parseDefaultSpecifier(){const i=this.captureStartMarker(),o=this.parseIdentifier();return o||this.throwUnexpectedToken({code:le.IdentiferExpected}),this.finalize({type:S.ImportDefaultSpecifier,local:o,...this.getItemLocation(i)})}parseImportDeclaration(){this.context.blockContext!==We.None&&this.throwUnexpectedToken({code:le.ModuleImportRootOnly});const i=this.captureStartMarker();this.expectKeyword(A.Import);const o=this.parseDefaultSpecifier();this.expectContextualKeyword(A.From);const s=this.parseModuleSpecifier();return this.finalize({type:S.ImportDeclaration,specifiers:[o],source:s,...this.getItemLocation(i)})}}function Vt(a,i=[]){const o=function ir(a,i,o){return new rr(a,i,o).parseScript()}(a);if(null==o.body)throw new Ke({index:0,line:0,column:0,data:null,description:"",code:le.InvalidExpression});return o.loadedModules={},(0,$.dN)(o,i),o}class Gt{constructor(i){const o=this;o._keys=[],o._values=[],o.length=0,i&&i.forEach(s=>{o.set(s[0],s[1])})}entries(){return[].slice.call(this.keys().map((i,o)=>[i,this._values[o]]))}keys(){return[].slice.call(this._keys)}values(){return[].slice.call(this._values)}has(i){return this._keys.includes(i)}get(i){const o=this._keys.indexOf(i);return o>-1?this._values[o]:null}deepGet(i){if(!i?.length)return null;const o=(s,d)=>null==s?null:d.length?o(s instanceof Gt?s.get(d[0]):s[d[0]],d.slice(1)):s;return o(this.get(i[0]),i.slice(1))}set(i,o){const s=this,d=this._keys.indexOf(i);return d>-1?s._values[d]=o:(s._keys.push(i),s._values.push(o),s.length=s._values.length),this}sortedSet(i,o,s,d){const x=this,M=this._keys.length,p=s||0,W=void 0!==d?d:M-1;if(0===M)return x._keys.push(i),x._values.push(o),x;if(i===this._keys[p])return this._values.splice(p,0,o),this;if(i===this._keys[W])return this._values.splice(W,0,o),this;if(i>this._keys[W])return this._keys.splice(W+1,0,i),this._values.splice(W+1,0,o),this;if(i<this._keys[p])return this._values.splice(p,0,o),this._keys.splice(p,0,i),this;if(p>=W)return this;const te=p+Math.floor((W-p)/2);return i<this._keys[te]?this.sortedSet(i,o,p,te-1):i>this._keys[te]?this.sortedSet(i,o,te+1,W):this}size(){return this.length}clear(){const i=this;return i._keys.length=i.length=i._values.length=0,this}delete(i){const o=this,s=o._keys.indexOf(i);return s>-1&&(o._keys.splice(s,1),o._values.splice(s,1),o.length=o._keys.length,!0)}forEach(i){this._keys.forEach((o,s)=>{i(this._values[s],o,s)})}map(i){return this.keys().map((o,s)=>i(this._values[s],o,s))}filter(i){const o=this;return o._keys.forEach((s,d)=>{!1===i(o._values[d],s,d)&&o.delete(s)}),this}clone(){return new Gt(this.entries())}}class vn{constructor(i=20){this._maxEntries=i,this._values=new Gt}delete(i){this._values.has(i)&&this._values.delete(i)}get(i){let o=null;return this._values.has(i)&&(o=this._values.get(i),this._values.delete(i),this._values.set(i,o)),o}put(i,o){if(this._values.size()>=this._maxEntries){const s=this._values.keys()[0];this._values.delete(s)}this._values.set(i,o)}}var bn=B(61018);class Je{constructor(i){this.portalUri=i}normalizeModuleUri(i){const o=/^[a-z0-9A-Z]+(@[0-9]+\.[0-9]+\.[0-9]+)?([\?|\/].*)?$/gi,s=/(?<portalurl>.+)\/home\/item\.html\?id\=(?<itemid>.+)$/gi,d=/(?<portalurl>.+)\/sharing\/rest\/content\/users\/[a-zA-Z0-9]+\/items\/(?<itemid>.+)$/gi,x=/(?<portalurl>.+)\/sharing\/rest\/content\/items\/(?<itemid>.+)$/gi,M=/(?<itemid>.*)@(?<versionstring>[0-9]+\.[0-9]+\.[0-9]+)([\?|\/].*)?$/gi;if(i.startsWith("portal+")){let p=i.substring(7),W="",te=p,De=!1;for(const Ze of[s,x,d]){const rt=Ze.exec(p);if(null!==rt){const Ot=rt.groups;te=Ot.itemid,W=Ot.portalurl,De=!0;break}}if(!1===De){if(!o.test(p))throw new u.Tu(u.TD.UnsupportedUriProtocol,{uri:i});te=p,W=this.portalUri}te.includes("/")&&(te=te.split("/")[0]),te.includes("?")&&(te=te.split("?")[0]);let Ee="current";const me=M.exec(te);if(null!==me){const Ze=me.groups;te=Ze.itemid,Ee=Ze.versionstring}return p=new bn.Z({url:W}).restUrl+"/content/items/"+te+"/resources/"+Ee+".arc",{url:p,scheme:"portal",uri:"PO:"+p}}if(i.startsWith("mock")){if("mock"===i)return{url:"",scheme:"mock",data:'\n      export var hello = 1;\n      export function helloWorld() {\n          return "Hello World " + hello;\n      }\n  ',uri:"mock"};const p=i.replace("mock:","");if(void 0!==Je.mocks[p])return{url:"",scheme:"mock",data:Je.mocks[p],uri:i}}throw new u.Tu(u.TD.UnrecognizedUri,{uri:i})}fetchModule(i){var o=this;return(0,P.Z)(function*(){const s=Je.cachedModules.getFromCache(i.uri);if(s)return s;const d=o.fetchSource(i);Je.cachedModules.addToCache(i.uri,d);let x=null;try{x=yield d}catch(M){throw Je.cachedModules.removeFromCache(i.uri),M}return x})()}fetchSource(i){return(0,P.Z)(function*(){if("portal"===i.scheme){const o=yield(0,w.Z)(i.url,{responseType:"text",query:{}});if(o.data)return Vt(o.data,[])}if("mock"===i.scheme)return Vt(i.data??"",[]);throw new u.Tu(u.TD.UnsupportedUriProtocol)})()}static create(i){return new Je(i)}static getDefault(){return this._default??(Je._default=Je._moduleResolverFactory())}static set moduleResolverClass(i){this._moduleResolverFactory=i,this._default=null}}Je.mocks={},Je.cachedModules=new class ar{constructor(i=20){this._maxEntries=i,this._cache=new vn(this._maxEntries)}clear(){this._cache=new vn(this._maxEntries)}addToCache(i,o){this._cache.put(i,o)}removeFromCache(i){this._cache.delete(i)}getFromCache(i){return this._cache.get(i)}}(30),Je._default=null,Je._moduleResolverFactory=()=>{const a=bn.Z.getDefault();return new Je(a.url)};class or extends k.Rm{constructor(i,o){super(),this.definition=null,this.context=null,this.definition=i,this.context=o}createFunction(i){return(...o)=>{const s={spatialReference:this.context.spatialReference,console:this.context.console,services:this.context.services,timeZone:this.context.timeZone??null,lrucache:this.context.lrucache,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:i.depthCounter.depth+1},globalScope:this.context.globalScope};if(s.depthCounter.depth>64)throw new u.aV(i,u.rH.MaximumCallDepth,null);return qt(this.definition,s,o,null)}}call(i,o){return ct(i,o,(s,d,x)=>{const M={spatialReference:i.spatialReference,services:i.services,globalScope:i.globalScope,depthCounter:{depth:i.depthCounter.depth+1},libraryResolver:i.libraryResolver,exports:i.exports,timeZone:i.timeZone??null,console:i.console,lrucache:i.lrucache,interceptor:i.interceptor,localScope:{}};if(M.depthCounter.depth>64)throw new u.aV(i,u.rH.MaximumCallDepth,o);return qt(this.definition,M,x,o)})}marshalledCall(i,o,s,d){return d(i,o,(x,M,p)=>{const W={spatialReference:i.spatialReference,globalScope:s.globalScope,services:i.services,depthCounter:{depth:i.depthCounter.depth+1},libraryResolver:i.libraryResolver,exports:i.exports,console:i.console,timeZone:i.timeZone??null,lrucache:i.lrucache,interceptor:i.interceptor,localScope:{}};return p=p.map(te=>!(0,c.i)(te)||te instanceof k.Vg?te:(0,k.aq)(te,i,d)),(0,k.aq)(qt(this.definition,W,p,o),s,d)})}}class Pt extends E.P{constructor(i){super(i)}global(i){const o=this.executingContext.globalScope[i.toLowerCase()];if(o.valueset||(o.value=fe(this.executingContext,o.node),o.valueset=!0),(0,c.i)(o.value)&&!(o.value instanceof k.Vg)){const s=new k.Vg;s.fn=o.value,s.parameterEvaluator=ct,s.context=this.executingContext,o.value=s}return o.value}setGlobal(i,o){if((0,c.i)(o))throw new u.aV(null,u.rH.AssignModuleFunction,null);this.executingContext.globalScope[i.toLowerCase()]={value:o,valueset:!0,node:null}}hasGlobal(i){return void 0===this.executingContext.exports[i]&&(i=i.toLowerCase()),void 0!==this.executingContext.exports[i]}loadModule(i){let o=i.spatialReference;null==o&&(o=new be.Z({wkid:102100})),this.moduleScope=Bn({},i.customfunctions,i.timeZone),this.executingContext={spatialReference:o,globalScope:this.moduleScope,localScope:null,libraryResolver:new Z.s(i.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},services:i.services,console:i.console??Mn,timeZone:i.timeZone??null,lrucache:i.lrucache,interceptor:i.interceptor,depthCounter:{depth:1}},fe(this.executingContext,this.source.syntax)}}function ct(a,i,o){try{return!0===i.preparsed?o(a,null,i.arguments):o(a,i,function Sn(a,i){const o=[];for(let s=0;s<i.arguments.length;s++)o.push(fe(a,i.arguments[s]));return o}(a,i))}catch(s){throw s}}function fe(a,i){try{switch(i?.type){case"EmptyStatement":return c.x;case"VariableDeclarator":return function Ar(a,i){let o=null===i.init?null:fe(a,i.init);if(o===c.x&&(o=null),"Identifier"!==i.id.type)throw new u.aV(a,u.rH.InvalidIdentifier,i);const s=i.id.name.toLowerCase();return null!=a.localScope?a.localScope[s]={value:o,valueset:!0,node:i.init}:a.globalScope[s]={value:o,valueset:!0,node:i.init},c.x}(a,i);case"VariableDeclaration":return function Fr(a,i){for(let o=0;o<i.declarations.length;o++)fe(a,i.declarations[o]);return c.x}(a,i);case"ImportDeclaration":return function Er(a,i){const o=i.specifiers[0].local.name.toLowerCase(),s=a.libraryResolver.loadLibrary(o);let d=null;return a.libraryResolver._moduleSingletons?.has(s.uri)?d=a.libraryResolver._moduleSingletons.get(s.uri):(d=new Pt(s),d.loadModule(a),a.libraryResolver._moduleSingletons?.set(s.uri,d)),a.globalScope[o]={value:d,valueset:!0,node:i},c.x}(a,i);case"ExportNamedDeclaration":return function Cr(a,i){if(fe(a,i.declaration),"FunctionDeclaration"===i.declaration.type)a.exports[i.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===i.declaration.type)for(const o of i.declaration.declarations)a.exports[o.id.name.toLowerCase()]="variable";return c.x}(a,i);case"BlockStatement":case"Program":return function Dr(a,i){let o=c.x;for(let s=0;s<i.body.length;s++)if(o=fe(a,i.body[s]),o instanceof c.R||o===c.y||o===c.z)return o;return o}(a,i);case"FunctionDeclaration":return function xr(a,i){const o=i.id.name.toLowerCase();return a.globalScope[o]={valueset:!0,node:null,value:new or(i,a)},c.x}(a,i);case"ReturnStatement":return function yr(a,i){if(null===i.argument)return new c.R(c.x);const o=fe(a,i.argument);return new c.R(o)}(a,i);case"IfStatement":return function gr(a,i){const o=fe(a,i.test);if(!0===o)return fe(a,i.consequent);if(!1===o)return null!==i.alternate?fe(a,i.alternate):c.x;throw new u.aV(a,u.rH.BooleanConditionRequired,i)}(a,i);case"ExpressionStatement":return function pr(a,i){if("AssignmentExpression"===i.expression.type||"UpdateExpression"===i.expression.type)return fe(a,i.expression);if("CallExpression"===i.expression.type){const o=fe(a,i.expression);return o===c.x?c.x:new c.I(o)}{const o=fe(a,i.expression);return o===c.x?c.x:new c.I(o)}}(a,i);case"AssignmentExpression":return function mr(a,i){let o=null,s="";if("MemberExpression"===i.left.type){if(o=fe(a,i.left.object),!0===i.left.computed)s=fe(a,i.left.property);else{if("Identifier"!==i.left.property.type)throw new u.aV(a,u.rH.InvalidIdentifier,i);s=i.left.property.name}const x=fe(a,i.right);if((0,c.o)(o)){if(!(0,c.b)(s))throw new u.aV(a,u.rH.ArrayAccessorMustBeNumber,i);if(s<0&&(s=o.length+s),s<0||s>o.length)throw new u.aV(a,u.rH.OutOfBounds,i);if(s===o.length){if("="!==i.operator)throw new u.aV(a,u.rH.OutOfBounds,i);o[s]=pt(x,i.operator,o[s],i,a)}else o[s]=pt(x,i.operator,o[s],i,a)}else if(o instanceof g.Z){if(!1===(0,c.c)(s))throw new u.aV(a,u.rH.KeyAccessorMustBeString,i);if(!0===o.hasField(s))o.setField(s,pt(x,i.operator,o.field(s),i,a));else{if("="!==i.operator)throw new u.aV(a,u.rH.FieldNotFound,i,{key:s});o.setField(s,pt(x,i.operator,null,i,a))}}else if((0,c.r)(o)){if(!1===(0,c.c)(s))throw new u.aV(a,u.rH.KeyAccessorMustBeString,i);if(!0===o.hasField(s))o.setField(s,pt(x,i.operator,o.field(s),i,a));else{if("="!==i.operator)throw new u.aV(a,u.rH.FieldNotFound,i,{key:s});o.setField(s,pt(x,i.operator,null,i,a))}}else{if((0,c.q)(o))throw new u.aV(a,u.rH.Immutable,i);if(!(o instanceof Pt))throw new u.aV(a,u.rH.InvalidIdentifier,i);if(!1===(0,c.c)(s))throw new u.aV(a,u.rH.ModuleAccessorMustBeString,i);if(!0!==o.hasGlobal(s))throw new u.aV(a,u.rH.ModuleExportNotFound,i);o.setGlobal(s,pt(x,i.operator,o.global(s),i,a))}return c.x}o=i.left.name.toLowerCase();const d=fe(a,i.right);if(null!=a.localScope&&void 0!==a.localScope[o])return a.localScope[o]={value:pt(d,i.operator,a.localScope[o].value,i,a),valueset:!0,node:i.right},c.x;if(void 0!==a.globalScope[o])return a.globalScope[o]={value:pt(d,i.operator,a.globalScope[o].value,i,a),valueset:!0,node:i.right},c.x;throw new u.aV(a,u.rH.InvalidIdentifier,i)}(a,i);case"UpdateExpression":return function hr(a,i){let o,s=null,d="";if("MemberExpression"===i.argument.type){if(s=fe(a,i.argument.object),!0===i.argument.computed?d=fe(a,i.argument.property):"Identifier"===i.argument.property.type&&(d=i.argument.property.name),(0,c.o)(s)){if(!(0,c.b)(d))throw new u.aV(a,u.rH.ArrayAccessorMustBeNumber,i);if(d<0&&(d=s.length+d),d<0||d>=s.length)throw new u.aV(a,u.rH.OutOfBounds,i);o=(0,c.g)(s[d]),s[d]="++"===i.operator?o+1:o-1}else if(s instanceof g.Z){if(!1===(0,c.c)(d))throw new u.aV(a,u.rH.KeyAccessorMustBeString,i);if(!0!==s.hasField(d))throw new u.aV(a,u.rH.FieldNotFound,i);o=(0,c.g)(s.field(d)),s.setField(d,"++"===i.operator?o+1:o-1)}else if((0,c.r)(s)){if(!1===(0,c.c)(d))throw new u.aV(a,u.rH.KeyAccessorMustBeString,i);if(!0!==s.hasField(d))throw new u.aV(a,u.rH.FieldNotFound,i);o=(0,c.g)(s.field(d)),s.setField(d,"++"===i.operator?o+1:o-1)}else{if((0,c.q)(s))throw new u.aV(a,u.rH.Immutable,i);if(!(s instanceof Pt))throw new u.aV(a,u.rH.InvalidParameter,i);if(!1===(0,c.c)(d))throw new u.aV(a,u.rH.ModuleAccessorMustBeString,i);if(!0!==s.hasGlobal(d))throw new u.aV(a,u.rH.ModuleExportNotFound,i);o=(0,c.g)(s.global(d)),s.setGlobal(d,"++"===i.operator?o+1:o-1)}return!1===i.prefix?o:"++"===i.operator?o+1:o-1}if(s="Identifier"===i.argument.type?i.argument.name.toLowerCase():"",!s)throw new u.aV(a,u.rH.InvalidIdentifier,i);if(null!=a.localScope&&void 0!==a.localScope[s])return o=(0,c.g)(a.localScope[s].value),a.localScope[s]={value:"++"===i.operator?o+1:o-1,valueset:!0,node:i},!1===i.prefix?o:"++"===i.operator?o+1:o-1;if(void 0!==a.globalScope[s])return o=(0,c.g)(a.globalScope[s].value),a.globalScope[s]={value:"++"===i.operator?o+1:o-1,valueset:!0,node:i},!1===i.prefix?o:"++"===i.operator?o+1:o-1;throw new u.aV(a,u.rH.InvalidIdentifier,i)}(a,i);case"BreakStatement":return c.y;case"ContinueStatement":return c.z;case"TemplateElement":return function Ir(a,i){return i.value?i.value.cooked:""}(0,i);case"TemplateLiteral":return function Br(a,i){let o="",s=0;for(const d of i.quasis)o+=d.value?d.value.cooked:"",!1===d.tail&&(o+=i.expressions[s]?(0,c.j)(Tr(fe(a,i.expressions[s]),a,i)):"",s++);return o}(a,i);case"ForStatement":return function cr(a,i){null!==i.init&&fe(a,i.init);const o={testResult:!0,lastAction:c.x};do{fr(a,i,o)}while(!0===o.testResult);return o.lastAction instanceof c.R?o.lastAction:c.x}(a,i);case"ForInStatement":return function lr(a,i){const o=fe(a,i.right);"VariableDeclaration"===i.left.type&&fe(a,i.left);let s=null,d="";if("VariableDeclaration"===i.left.type){const x=i.left.declarations[0].id;"Identifier"===x.type&&(d=x.name)}else"Identifier"===i.left.type&&(d=i.left.name);if(!d)throw new u.aV(a,u.rH.InvalidIdentifier,i);if(d=d.toLowerCase(),null!=a.localScope&&void 0!==a.localScope[d]&&(s=a.localScope[d]),null===s&&void 0!==a.globalScope[d]&&(s=a.globalScope[d]),null===s)throw new u.aV(a,u.rH.InvalidIdentifier,i);if((0,c.o)(o)||(0,c.c)(o)){const x=o.length;for(let M=0;M<x;M++){s.value=M;const p=fe(a,i.body);if(p===c.y)break;if(p instanceof c.R)return p}return c.x}if((0,c.q)(o)){for(let x=0;x<o.length();x++){s.value=x;const M=fe(a,i.body);if(M===c.y)break;if(M instanceof c.R)return M}return c.x}if(!(o instanceof g.Z||(0,c.r)(o)))return c.x;{const x=o.keys();for(let M=0;M<x.length;M++){s.value=x[M];const p=fe(a,i.body);if(p===c.y)break;if(p instanceof c.R)return p}}}(a,i);case"WhileStatement":return function dr(a,i){const o={testResult:!0,lastAction:c.x};if(o.testResult=fe(a,i.test),!1===o.testResult)return c.x;if(!0!==o.testResult)throw new u.aV(a,u.rH.BooleanConditionRequired,i);for(;!0===o.testResult&&(o.lastAction=fe(a,i.body),o.lastAction!==c.y)&&!(o.lastAction instanceof c.R);)if(o.testResult=fe(a,i.test),!0!==o.testResult&&!1!==o.testResult)throw new u.aV(a,u.rH.BooleanConditionRequired,i);return o.lastAction instanceof c.R?o.lastAction:c.x}(a,i);case"Identifier":return _n(a,i);case"MemberExpression":return function wr(a,i){try{const o=fe(a,i.object);if(null===o)throw new u.aV(a,u.rH.MemberOfNull,i);if(!1===i.computed){if("Identifier"===i.property.type){if(o instanceof g.Z||(0,c.r)(o))return o.field(i.property.name);if(o instanceof h.Z)return(0,q.Z)(o,i.property.name,i,a);if(o instanceof Pt){if(!o.hasGlobal(i.property.name))throw new u.aV(a,u.rH.InvalidIdentifier,i);return o.global(i.property.name)}}throw new u.aV(a,u.rH.InvalidMemberAccessKey,i)}{let s=fe(a,i.property);if(o instanceof g.Z||(0,c.r)(o)){if((0,c.c)(s))return o.field(s);throw new u.aV(a,u.rH.InvalidMemberAccessKey,i)}if(o instanceof Pt){if((0,c.c)(s))return o.global(s);throw new u.aV(a,u.rH.InvalidMemberAccessKey,i)}if(o instanceof h.Z){if((0,c.c)(s))return(0,q.Z)(o,s,i,a);throw new u.aV(a,u.rH.InvalidMemberAccessKey,i)}if((0,c.o)(o)){if((0,c.b)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=o.length+s),s>=o.length||s<0)throw new u.aV(a,u.rH.OutOfBounds,i);return o[s]}throw new u.aV(a,u.rH.InvalidMemberAccessKey,i)}if((0,c.c)(o)){if((0,c.b)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=o.length+s),s>=o.length||s<0)throw new u.aV(a,u.rH.OutOfBounds,i);return o[s]}throw new u.aV(a,u.rH.InvalidMemberAccessKey,i)}if((0,c.q)(o)){if((0,c.b)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=o.length()+s),s>=o.length()||s<0)throw new u.aV(a,u.rH.OutOfBounds,i);return o.get(s)}throw new u.aV(a,u.rH.InvalidMemberAccessKey,i)}throw new u.aV(a,u.rH.InvalidMemberAccessKey,i)}}catch(o){throw o}}(a,i);case"Literal":return i.value;case"CallExpression":return function Mr(a,i){try{if("MemberExpression"===i.callee.type){const o=fe(a,i.callee.object);if(!(o instanceof Pt))throw new u.aV(a,u.rH.FunctionNotFound,i);const s=!1===i.callee.computed?i.callee.property.name:fe(a,i.callee.property);if(!o.hasGlobal(s))throw new u.aV(a,u.rH.FunctionNotFound,i);const d=o.global(s);if(!(0,c.i)(d))throw new u.aV(a,u.rH.CallNonFunction,i);return d.call(a,i)}if("Identifier"!==i.callee.type)throw new u.aV(a,u.rH.FunctionNotFound,i);if(null!=a.localScope&&void 0!==a.localScope[i.callee.name.toLowerCase()]){const o=a.localScope[i.callee.name.toLowerCase()];if((0,c.i)(o.value))return o.value.call(a,i);throw new u.aV(a,u.rH.CallNonFunction,i)}if(void 0!==a.globalScope[i.callee.name.toLowerCase()]){const o=a.globalScope[i.callee.name.toLowerCase()];if((0,c.i)(o.value))return o.value.call(a,i);throw new u.aV(a,u.rH.CallNonFunction,i)}throw new u.aV(a,u.rH.FunctionNotFound,i)}catch(o){throw o}}(a,i);case"UnaryExpression":return function vr(a,i){try{const o=fe(a,i.argument);if((0,c.a)(o)){if("!"===i.operator)return!o;if("-"===i.operator)return-1*(0,c.g)(o);if("+"===i.operator)return 1*(0,c.g)(o);if("~"===i.operator)return~(0,c.g)(o);throw new u.aV(a,u.rH.UnsupportedUnaryOperator,i)}if("~"===i.operator)return~(0,c.g)(o);if("-"===i.operator)return-1*(0,c.g)(o);if("+"===i.operator)return 1*(0,c.g)(o);throw new u.aV(a,u.rH.UnsupportedUnaryOperator,i)}catch(o){throw o}}(a,i);case"BinaryExpression":return function Sr(a,i){try{const o=[fe(a,i.left),fe(a,i.right)],s=o[0],d=o[1];switch(i.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,c.D)((0,c.g)(s),(0,c.g)(d),i.operator);case"==":return(0,c.C)(s,d);case"!=":return!(0,c.C)(s,d);case"<":case">":case"<=":case">=":return(0,c.B)(s,d,i.operator);case"+":return(0,c.c)(s)||(0,c.c)(d)?(0,c.j)(s)+(0,c.j)(d):(0,c.g)(s)+(0,c.g)(d);case"-":return(0,c.g)(s)-(0,c.g)(d);case"*":return(0,c.g)(s)*(0,c.g)(d);case"/":return(0,c.g)(s)/(0,c.g)(d);case"%":return(0,c.g)(s)%(0,c.g)(d);default:throw new u.aV(a,u.rH.UnsupportedOperator,i)}}catch(o){throw o}}(a,i);case"LogicalExpression":return function _r(a,i){try{const o=fe(a,i.left);if((0,c.a)(o))switch(i.operator){case"||":if(!0===o)return o;{const s=fe(a,i.right);if((0,c.a)(s))return s;throw new u.aV(a,u.rH.LogicExpressionOrAnd,i)}case"&&":if(!1===o)return o;{const s=fe(a,i.right);if((0,c.a)(s))return s;throw new u.aV(a,u.rH.LogicExpressionOrAnd,i)}default:throw new u.aV(a,u.rH.LogicExpressionOrAnd,i)}throw new u.aV(a,u.rH.LogicalExpressionOnlyBoolean,i)}catch(o){throw o}}(a,i);case"ArrayExpression":return function br(a,i){try{const o=[];for(let s=0;s<i.elements.length;s++){const d=fe(a,i.elements[s]);if((0,c.i)(d))throw new u.aV(a,u.rH.NoFunctionInArray,i);o.push(d===c.x?null:d)}return o}catch(o){throw o}}(a,i);case"ObjectExpression":return function sr(a,i){const o={},s=new Map;for(let x=0;x<i.properties.length;x++){const M=fe(a,i.properties[x]);if((0,c.i)(M.value))throw new u.aV(a,u.rH.NoFunctionInDictionary,i);if(!1===(0,c.c)(M.key))throw new u.aV(a,u.rH.KeyMustBeString,i);let p=M.key.toString();const W=p.toLowerCase();s.has(W)?p=s.get(W):s.set(W,p),o[p]=M.value===c.x?null:M.value}const d=new g.Z(o);return d.immutable=!1,d}(a,i);case"Property":return function ur(a,i){return{key:"Identifier"===i.key.type?i.key.name:fe(a,i.key),value:fe(a,i.value)}}(a,i);default:throw new u.aV(a,u.rH.Unrecognized,i)}}catch(o){throw(0,u.VO)(a,i,o)}}function fr(a,i,o){if(null!==i.test){if(o.testResult=fe(a,i.test),!1===o.testResult)return;if(!0!==o.testResult)throw new u.aV(a,u.rH.BooleanConditionRequired,i)}o.lastAction=fe(a,i.body),o.lastAction!==c.y?o.lastAction instanceof c.R?o.testResult=!1:null!==i.update&&fe(a,i.update):o.testResult=!1}function pt(a,i,o,s,d){switch(i){case"=":return a===c.x?null:a;case"/=":return(0,c.g)(o)/(0,c.g)(a);case"*=":return(0,c.g)(o)*(0,c.g)(a);case"-=":return(0,c.g)(o)-(0,c.g)(a);case"+=":return(0,c.c)(o)||(0,c.c)(a)?(0,c.j)(o)+(0,c.j)(a):(0,c.g)(o)+(0,c.g)(a);case"%=":return(0,c.g)(o)%(0,c.g)(a);default:throw new u.aV(d,u.rH.UnsupportedOperator,s)}}function Tr(a,i,o){if((0,c.i)(a))throw new u.aV(i,u.rH.NoFunctionInTemplateLiteral,o);return a}function _n(a,i){let o;try{const s=i.name.toLowerCase();if(null!=a.localScope&&void 0!==a.localScope[s])return o=a.localScope[s],!0===o.valueset||(o.value=fe(a,o.node),o.valueset=!0),o.value;if(void 0!==a.globalScope[s])return o=a.globalScope[s],!0===o.valueset||(o.value=fe(a,o.node),o.valueset=!0),o.value;throw new u.aV(a,u.rH.InvalidIdentifier,i)}catch(s){throw s}}const $e={};function In(a,i,o,s){try{const d=i.arguments,x=fe(a,d[o]);if((0,c.C)(x,s))return fe(a,d[o+1]);{const M=d.length-o;return 1===M?fe(a,d[o]):2===M?null:3===M?fe(a,d[o+2]):In(a,i,o+2,s)}}catch(d){throw d}}function Tn(a,i,o,s){try{const d=i.arguments;if(!0===s)return fe(a,d[o+1]);if(d.length-o==3)return fe(a,d[o+2]);{const x=fe(a,d[o+2]);if(!1===(0,c.a)(x))throw new u.aV(a,u.rH.BooleanConditionRequired,d[o+2]);return Tn(a,i,o+2,x)}}catch(d){throw d}}function qt(a,i,o,s){try{const d=a.body;if(o.length!==a.params.length)throw new u.aV(i,u.rH.WrongNumberOfParameters,s);if(null!=i.localScope)for(let M=0;M<o.length;M++)i.localScope[a.params[M].name.toLowerCase()]={value:o[M],valueset:!0,node:null};const x=fe(i,d);if(x instanceof c.R)return x.value;if(x===c.y)throw new u.aV(i,u.rH.UnexpectedToken,s);if(x===c.z)throw new u.aV(i,u.rH.UnexpectedToken,s);return x instanceof c.I?x.value:x}catch(d){throw d}}(0,L.r)($e,ct),(0,ge.r)($e,ct),(0,ne.r)($e,ct),(0,q.r)($e,ct),(0,de.r)($e,ct),z($e,ct),$e.iif=function(a,i){try{const o=i.arguments;(0,c.E)(null===o?[]:o,3,3,a,i);const s=fe(a,o[0]);if(!1===(0,c.a)(s))throw new u.aV(a,u.rH.BooleanConditionRequired,i);return fe(a,!0===s?o[1]:o[2])}catch(o){throw o}},$e.decode=function(a,i){try{const o=i.arguments;if(o.length<2)throw new u.aV(a,u.rH.WrongNumberOfParameters,i);if(2===o.length)return fe(a,o[1]);if((o.length-1)%2==0)throw new u.aV(a,u.rH.WrongNumberOfParameters,i);return In(a,i,1,fe(a,o[0]))}catch(o){throw o}},$e.when=function(a,i){try{const o=i.arguments;if(o.length<3)throw new u.aV(a,u.rH.WrongNumberOfParameters,i);if(o.length%2==0)throw new u.aV(a,u.rH.WrongNumberOfParameters,i);const s=fe(a,o[0]);if(!1===(0,c.a)(s))throw new u.aV(a,u.rH.BooleanConditionRequired,o[0]);return Tn(a,i,0,s)}catch(o){throw o}};for(const a in $e)$e[a]={value:new k.Bx($e[a]),valueset:!0,node:null};const Rt=function(){};function Bn(a,i,o){const s=new Rt;a||(a={}),i||(i={});const d=new g.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});d.immutable=!1,s.textformatting={value:d,valueset:!0,node:null};for(const x in i)s[x]={value:new k.Bx(i[x]),native:!0,valueset:!0,node:null};for(const x in a)s[x]=a[x]&&"esri.Graphic"===a[x].declaredClass?{value:Q.Z.createFromGraphic(a[x],o),valueset:!0,node:null}:{value:a[x],valueset:!0,node:null};return s}function Mn(a){console.log(a)}function Pn(a){const i={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:ct,evaluateIdentifier:_n};for(let o=0;o<a.length;o++)a[o].registerFunctions(i);for(const o in i.functions)$e[o]={value:new k.Bx(i.functions[o]),valueset:!0,node:null},Rt.prototype[o]=$e[o];for(let o=0;o<i.signatures.length;o++)(0,$.gW)(i.signatures[o],"sync")}function en(a,i){let o=i.spatialReference;null==o&&(o=new be.Z({wkid:102100}));let s=null;a.usesModules&&(s=new Z.s(new Map,a.loadedModules));const d={spatialReference:o,globalScope:Bn(i.vars,i.customfunctions,i.timeZone),localScope:null,services:i.services??null,exports:{},libraryResolver:s,console:i.console??Mn,timeZone:i.timeZone??null,lrucache:i.lrucache,interceptor:i.interceptor,depthCounter:{depth:1}};let x=fe(d,a);if(x instanceof c.R&&(x=x.value),x instanceof c.I&&(x=x.value),x===c.x&&(x=null),x===c.y)throw new u.aV(d,u.rH.IllegalResult,null);if(x===c.z)throw new u.aV(d,u.rH.IllegalResult,null);if((0,c.i)(x))throw new u.aV(d,u.rH.IllegalResult,null);return x}Rt.prototype=$e,Rt.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},Rt.prototype.pi={value:Math.PI,valueset:!0,node:null},Pn([Y.A]);var On=B(14007),Pr=B(51172);const Or=new Set(["feature","angle","bearing","centroid","envelopeintersects","extent","geometry","isselfintersecting","ringisclockwise"]);let kn=!1,Ln=!1,ot=null,tn=[];function Nn(a,i){if(!0===i.useAsync||!0===a.isAsync)return function kr(a,i){if(null===ot)throw new u.aV(null,u.rH.AsyncNotEnabled,null);if((0,On.Z)("esri-csp-restrictions"))return function(o){return ot.executeScript(a,o)};try{return Ct(a,i,!0)}catch(o){if("esri.arcade.arcadeuncompilableerror"===o.declaredRootClass)return function(s){return ot.executeScript(a,s)};throw o}}(a,i);if((0,On.Z)("esri-csp-restrictions"))return function(o){return en(a,o)};try{return Ct(a,i)}catch(o){if("esri.arcade.arcadeuncompilableerror"===o.declaredRootClass)return function(s){return en(a,s)};throw o}}function nn(a,i=[]){return Vt(a,i)}function rn(a,i){if(!0===i.useAsync||!0===a.isAsync){if(null===ot)throw new u.aV(null,u.rH.AsyncNotEnabled,null);return ot.executeScript(a,i)}return en(a,i)}function jt(a,i){return(0,$.bV)(a,i)}function Rn(a){return(0,$.Kq)(a)}function zt(a,i=[]){return void 0===a.usesGeometry&&(0,$.dN)(a,i),!0===a.usesGeometry}let an=null;function on(){return an||(an=Hn(),an)}function Hn(){return sn.apply(this,arguments)}function sn(){return sn=(0,P.Z)(function*(){const a=yield Promise.all([B.e(9465),B.e(8592),B.e(4994)]).then(B.bind(B,34994));return Ln=!0,function T(a){j=a}(a),!0}),sn.apply(this,arguments)}let un=null;function ln(){return null!==un||(un=Zn()),un}function Zn(){return cn.apply(this,arguments)}function cn(){return cn=(0,P.Z)(function*(){yield function Ge(){return Ft.apply(this,arguments)}(),ot=yield Promise.all([B.e(6212),B.e(4485)]).then(B.bind(B,14485));for(const a of tn)ot.extend(a),qe(a,"async");return tn=null,!0}),cn.apply(this,arguments)}function Un(){return kn}function Vn(){return!!ot}function Gn(){return Ln}let dn=null;function fn(){return dn||(dn=jn(),dn)}function jn(){return hn.apply(this,arguments)}function hn(){return hn=(0,P.Z)(function*(){yield ln();const[a,i,o,s,d]=yield Promise.all([Promise.all([B.e(5904),B.e(2784),B.e(5367),B.e(6663),B.e(710)]).then(B.bind(B,20710)),Promise.all([B.e(5904),B.e(2784),B.e(5367),B.e(6663),B.e(710),B.e(3108)]).then(B.bind(B,53108)),Promise.all([B.e(5904),B.e(5367),B.e(3599)]).then(B.bind(B,93599)),Promise.all([B.e(5904),B.e(6596)]).then(B.bind(B,26596)),B.e(4598).then(B.bind(B,4598))]);return $n=a,ot.extend([i,o,s,d]),qe([i,o,s,d],"async"),kn=!0,!0}),hn.apply(this,arguments)}function zn(a,i=[]){return void 0===a.usesFeatureSet&&(0,$.dN)(a,i),!0===a.usesFeatureSet}function Kn(a,i){return mn.apply(this,arguments)}function mn(){return mn=(0,P.Z)(function*(a,i,o=[],s=!1,d=null){return pn(new Set,a,i,o,s,d)}),mn.apply(this,arguments)}function pn(a,i,o){return gn.apply(this,arguments)}function gn(){return gn=(0,P.Z)(function*(a,i,o,s=[],d=!1,x=null){const M="string"==typeof i?nn(i):i,p=[];return M&&(!1===Gn()&&(zt(M)||d)&&p.push(on()),!1===Vn()&&(!0===M.isAsync||o)&&p.push(ln()),!1===Un()&&(zn(M)||function Ur(a,i){if(i){for(const o of i)if(jt(a,o))return!0;return!1}return!1}(M,s))&&p.push(fn())),p.length&&(yield Promise.all(p)),yield Wn(a,M,x,o,d),!0}),gn.apply(this,arguments)}function Wn(a,i){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,P.Z)(function*(a,i,o=null,s=!1,d=!1){const x=(0,$.x5)(i);null===o&&x.length>0&&(o=Je.getDefault()),i.loadedModules={};for(const M of x){(0,Pr.O3)(o);const p=o.normalizeModuleUri(M.source);if(a.has(p.uri))throw new u.aV(null,u.rH.CircularModules,null);a.add(p.uri);const W=yield o.fetchModule(p);yield pn(a,W,s,[],d,o),a.delete(p.uri),W.isAsync&&(i.isAsync=!0),W.usesFeatureSet&&(i.usesFeatureSet=!0),W.usesGeometry&&(i.usesGeometry=!0),i.loadedModules[M.libname]={uri:p.uri,script:W}}}),Dn.apply(this,arguments)}function Jn(a){if(zt(a))return!0;const i=(0,$.Vf)(a);let o=!1;for(let s=0;s<i.length;s++)if(Or.has(i[s])){o=!0;break}return o}let $n=null;function Kt(){return $n}const Gr=Object.freeze(Object.defineProperty({__proto__:null,_loadScriptDependenciesImpl:pn,compileScript:Nn,enableAsyncSupport:ln,enableAsyncSupportImpl:Zn,enableFeatureSetSupport:fn,enableFeatureSetSupportImpl:jn,enableGeometrySupport:on,enableGeometrySupportImpl:Hn,executeScript:rn,extend:function Lr(a){Pn(a),qe(a,"sync"),null===ot?tn.push(a):(qe(a,"async"),ot.extend(a))},extractExpectedFieldLiterals:Rn,extractFieldLiterals:function Hr(a,i=!1){return void 0===i&&(i=!1),(0,$.mb)(a)},featureSetUtils:Kt,isAsyncEnabled:Vn,isFeatureSetSupportEnabled:Un,isGeometryEnabled:Gn,loadDependentModules:Wn,loadScriptDependencies:Kn,parseAndExecuteScript:function Nr(a,i,o=[]){return rn(Vt(a,o),i)},parseScript:nn,referencesFunction:function Rr(a,i){return(0,$.w8)(a,i)},referencesMember:jt,scriptIsAsync:function Zr(a,i=[]){return void 0===a.isAsync&&(0,$.dN)(a,i),!0===a.isAsync},scriptTouchesGeometry:Jn,scriptUsesFeatureSet:zn,scriptUsesGeometryEngine:zt,scriptUsesModules:function Vr(a,i=[]){return void 0===a.usesModules&&(0,$.dN)(a,i),!0===a.usesModules}},Symbol.toStringTag,{value:"Module"}));var jr=B(34222),zr=B(88781),Kr=B(81429);const Yn=/^\$(feature|aggregatedFeatures)\./i,Wr={vars:{$feature:"any",$view:"any"},spatialReference:null};function Jr(a){return a.replaceAll(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function $r(a){return null==a?null:(0,c.o)(a)||(0,c.q)(a)?"array":(0,c.k)(a)?"date":(0,c.c)(a)?"text":(0,c.a)(a)?"boolean":(0,c.b)(a)?"number":a instanceof g.Z?"dictionary":(0,c.r)(a)?"feature":a instanceof _.Z?"point":a instanceof l.Z?"polygon":a instanceof D.Z?"polyline":a instanceof C.Z?"multipoint":a instanceof m.Z?"extent":a instanceof zr.u?"dateOnly":a instanceof Kr.n?"time":(0,c.u)(a)?"featureSet":(0,c.s)(a)?"featureSetCollection":null}function Ht(a){if(!a)return null;try{return nn(a)}catch{}return null}function Yr(a,i){const o="string"==typeof a?Ht(a):a;if(!o)return null;try{return Nn(o,i=i||(0,jr.d9)(Wr))}catch{}return null}function Qr(a,i,o){return{vars:{$feature:null==a?new Q.Z:Q.Z.createFromGraphic(a,o),$view:i?.view},spatialReference:i?.sr,timeZone:o??null}}function Xr(a,i,o){return Q.Z.createFromGraphicLikeObject(i,a,o,null)}function qr(a,i){null!=a.vars&&(a.vars.$feature=i)}function ei(a,i){let o;try{o=rn(a,i)}catch{o=null}return o}function ti(a,i){let o;try{o=a?a(i):null}catch{o=null}return o}function ni(a,i){try{return a?a(i):Promise.resolve(null)}catch{return Promise.resolve(null)}}function ri(a,i){if(!a)return[];const o="string"==typeof a?Ht(a):a;if(!o)return[];const s=Rn(o);let d=new Array;s.forEach(M=>{Yn.test(M)&&(M=M.replace(Yn,""),d.push(M))});const x=d.filter(M=>M.includes("*"));return d=d.filter(M=>!x.includes(M)),i&&x.forEach(M=>{const p=new RegExp(`^${M.split(/\*+/).map(Jr).join(".*")}$`,"i");i.forEach(W=>p.test(W)?d.push(W):null)}),[...new Set(d.sort())]}function ii(a){return jt(a,"$view")}function ai(a,i){return!!a&&jt(a,i)}function oi(a){if(a&&(null!=a.spatialReference||null!=a.scale&&null!=a.viewingMode))return{view:a.viewingMode&&null!=a.scale?new g.Z({viewingMode:a.viewingMode,scale:a.scale}):null,sr:a.spatialReference}}function si({url:a,spatialReference:i,lrucache:o,interceptor:s}){const d=Kt();return d?d.createFeatureSetCollectionFromService(a,i,o,s):null}function ui({layer:a,spatialReference:i,outFields:o,returnGeometry:s,lrucache:d,interceptor:x}){if(null===a)return null;const M=Kt();return M?M.constructFeatureSet(a,i,o,s??!0,d,x):null}function li(a){if(null===a?.map)return null;const i=Kt();return i?i.createFeatureSetCollectionFromMap(a.map,a.spatialReference,a.lrucache,a.interceptor):null}function ci(a,i){return g.Z.convertJsonToArcade(a,i)}function di(a,i,o=[]){return Kn(a,i,o)}function fi(){return on()}function hi(){return fn()}function Qn(a,i){if(!a)return!1;if("string"==typeof a)return i(a);const o=a;if(function mi(a){return"simple"===a.type||"class-breaks"===a.type||"unique-value"===a.type||"dot-density"===a.type||"dictionary"===a.type||"pie-chart"===a.type}(o)){if("dot-density"===o.type){const x=o.attributes?.some(M=>i(M.valueExpression));if(x)return x}const s=o.visualVariables,d=!!s&&s.some(x=>{let M=i(x.valueExpression);return"size"===x.type&&(Xn(x.minSize)&&(M=M||i(x.minSize.valueExpression)),Xn(x.maxSize)&&(M=M||i(x.maxSize.valueExpression))),M});return!(!("valueExpression"in o)||!i(o.valueExpression))||d}if(function pi(a){return"esri.layers.support.LabelClass"===a.declaredClass}(o)){const s=o.labelExpressionInfo?.expression;return!(!s||!i(s))||!1}return!!function gi(a){return"esri.PopupTemplate"===a.declaredClass}(o)&&(!!o.expressionInfos&&o.expressionInfos.some(s=>i(s.expression))||Array.isArray(o.content)&&o.content.some(s=>"expression"===s.type&&i(s.expressionInfo?.expression)))}function Di(a){const i=Ht(a);return!!i&&Jn(i)}function yi(a){return Qn(a,Di)}function xi(a){const i=Ht(a);return!!i&&zt(i)}function Ei(a){return Qn(a,xi)}function Xn(a){return a&&"esri.renderers.visualVariables.SizeVariable"===a.declaredClass}}}]);