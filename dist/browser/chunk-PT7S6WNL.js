import{d as T}from"./chunk-XDTDVCGP.js";import{r as E}from"./chunk-465DRXTW.js";import{g as u}from"./chunk-ESDYQQXO.js";var H={remove:()=>{}};function l(e){return e?{remove(){e&&(e(),e=void 0)}}:H}function D(e){e.forEach(t=>t?.remove())}function U(e){return l(()=>D(e))}function x(e){return{setTimeout:(t,r)=>{let n=e.setTimeout(t,r);return l(()=>e.clearTimeout(n))}}}var g=x(globalThis);function P(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function M(e,t,r){if(!P(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){let n=t.slice();for(let o of n)e.addEventListener(o,r);return l(()=>{for(let o of n)e.removeEventListener(o,r)})}return e.addEventListener(t,r),l(()=>e.removeEventListener(t,r))}function h(e,t,r){if(!P(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);let n=M(e,t,o=>{n.remove(),r.call(e,o)});return n}var O={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function W({key:e}){return O[e]||e}function c(e="Aborted"){return new E("AbortError",e)}function j(e,t="Aborted"){if(C(e))throw c(t)}function m(e){return e!=null?"aborted"in e?e:e.signal:e}function C(e){let t=m(e);return t!=null&&t.aborted}function X(e){if(b(e))throw e}function Y(e){if(!b(e))throw e}function v(e,t){let r=m(e);if(r!=null){if(!r.aborted)return h(r,"abort",()=>t());t()}}function Z(e,t){let r=m(e);if(r!=null)return j(r),h(r,"abort",()=>t(c()))}function _(e,t){return m(t)==null?e:new Promise((r,n)=>{let o=v(t,()=>n(c())),i=()=>{o=T(o)};e.then(i,i),e.then(r,n)})}function b(e){return e?.name==="AbortError"}function ee(e){return u(this,null,function*(){try{return yield e}catch(t){if(!b(t))throw t;return}})}function S(e){return u(this,null,function*(){if(!e)return;if(typeof e.forEach!="function"){let r=Object.keys(e),n=r.map(a=>e[a]),o=yield S(n),i={};return r.map((a,f)=>i[a]=o[f]),i}let t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,o)=>{let i=r[o];return i.status==="fulfilled"?{promise:n,value:i.value}:{promise:n,error:i.reason}}))})}function te(e){return u(this,null,function*(){return(yield S(e)).filter(t=>!!t.value).map(t=>t.value)})}function re(e){return u(this,null,function*(){return(yield Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)})}function ne(e){return u(this,null,function*(){return(yield Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)})}function I(e,t=void 0,r){let n=new AbortController;return v(r,()=>n.abort()),new Promise((o,i)=>{let a=setTimeout(()=>{a=0,o(t)},e);v(n,()=>{a&&(clearTimeout(a),i(c()))})})}function R(e){return e&&typeof e.then=="function"}function k(e){return R(e)?e:Promise.resolve(e)}function oe(e,t=-1){let r,n,o,i,a=null,f=(...w)=>{if(r){n=w,i&&i.reject(c()),i=L();let s=i.promise;if(a){let p=a;a=null,p.abort()}return s}if(o=i||L(),i=null,t>0){let s=new AbortController;r=k(e(...w,s.signal));let p=r;I(t).then(()=>{r===p&&(i?s.abort():a=s)})}else r=1,r=k(e(...w));let y=()=>{let s=n;n=o=r=a=null,s!=null&&f(...s)},A=r,d=o;return A.then(y,y),A.then(d.resolve,d.reject),d.promise};return f}function L(){let e,t,r=new Promise((o,i)=>{e=o,t=i}),n=o=>{e(o)};return n.resolve=o=>e(o),n.reject=o=>t(o),n.timeout=(o,i)=>g.setTimeout(()=>n.reject(i),o),n.promise=r,n}function ie(e){return u(this,null,function*(){yield Promise.resolve(),j(e)})}export{l as a,U as b,g as c,P as d,M as e,h as f,W as g,c as h,j as i,C as j,X as k,Y as l,v as m,Z as n,_ as o,b as p,ee as q,S as r,te as s,re as t,ne as u,I as v,R as w,k as x,oe as y,L as z,ie as A};
