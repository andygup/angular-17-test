import{a as m}from"./chunk-HZAVPHHR.js";import"./chunk-4CWFI3RM.js";import{a as l,b as p,c as f}from"./chunk-YQRTHGFD.js";import"./chunk-U62SHMHB.js";import"./chunk-55ESOXMJ.js";import"./chunk-BCREO4Q5.js";import"./chunk-EJ3VIBAJ.js";import"./chunk-4LHUJTP5.js";import"./chunk-NBRBW7H5.js";import"./chunk-6QIKBCPR.js";import"./chunk-AHKJJNRE.js";import"./chunk-HBTOKQC5.js";import"./chunk-A52LT7YB.js";import"./chunk-CZPMRK53.js";import"./chunk-2BBIRZVO.js";import"./chunk-WQAXQD4X.js";import"./chunk-IUPUERVS.js";import{$ as u}from"./chunk-XF4NUYV7.js";import"./chunk-FNDPIYNC.js";import"./chunk-WMYPRHRR.js";import"./chunk-IAMDMFZ7.js";import"./chunk-53MWZ23O.js";import"./chunk-PT7S6WNL.js";import"./chunk-XDTDVCGP.js";import"./chunk-JPDAKIWT.js";import"./chunk-465DRXTW.js";import"./chunk-AC62Z3FX.js";import{a as n,b as g,g as y}from"./chunk-ESDYQQXO.js";function G(a,e,o){return y(this,null,function*(){let t=p(a),r=e.toJSON();r.traceLocations=JSON.stringify(e.traceLocations),e.resultTypes&&(r.resultTypes=JSON.stringify(e.resultTypes));let s=l(t.query,n({query:f(g(n({},r),{f:"json"}))},o)),c=`${t.path}/trace`;return u(c,s).then(i=>d(i,e.outSpatialReference))})}function N(a,e,o){return y(this,null,function*(){let t=p(a),r=e.toJSON();r.traceLocations=JSON.stringify(e.traceLocations),e.resultTypes&&(r.resultTypes=JSON.stringify(e.resultTypes));let s=l(t.query,n({query:f(g(n({},r),{async:!0,f:"json"}))},o)),c=`${t.path}/trace`,{data:i}=yield u(c,s);return i.statusUrl})}function d(a,e){let{data:o}=a,t=m.fromJSON(o.traceResults);return t.aggregatedGeometry&&e&&(t.aggregatedGeometry.line&&(t.aggregatedGeometry.line.spatialReference=e.clone()),t.aggregatedGeometry.multipoint&&(t.aggregatedGeometry.multipoint.spatialReference=e.clone()),t.aggregatedGeometry.polygon&&(t.aggregatedGeometry.polygon.spatialReference=e.clone())),t}export{N as submitTraceJob,G as trace};
