import{a as V}from"./chunk-VUIPMUPQ.js";import"./chunk-KHV2VDNY.js";import{a as S}from"./chunk-FYB33PIO.js";import{a as _,b as T}from"./chunk-6WWQ4Y2G.js";import"./chunk-FJMWXCU4.js";import"./chunk-6GLCEHEN.js";import"./chunk-22K5GEMV.js";import"./chunk-YFMEPRZQ.js";import"./chunk-HTQH2YLG.js";import"./chunk-IOMUCP7J.js";import"./chunk-UEH4FZMX.js";import"./chunk-5ZJSZISC.js";import"./chunk-X77FZHE2.js";import"./chunk-XKOINRUM.js";import"./chunk-EVB25YXG.js";import"./chunk-Z7J4BCLI.js";import"./chunk-BYXBJQAS.js";import"./chunk-BSIXRBVK.js";import"./chunk-H2E4J3PF.js";import"./chunk-G7TZLWYD.js";import"./chunk-N77PCW3L.js";import"./chunk-IGGE7N7W.js";import"./chunk-WF6JACCV.js";import"./chunk-ICBFZ75C.js";import"./chunk-UYKZ3CEC.js";import"./chunk-Y5K4QJZR.js";import"./chunk-5WNLDCIP.js";import"./chunk-N3KNLXBG.js";import"./chunk-PLCDSZE2.js";import"./chunk-NTXQ55BD.js";import"./chunk-EKY6QR7N.js";import"./chunk-VK2CQJOC.js";import"./chunk-TTUUVT2M.js";import"./chunk-AUIMNX4Y.js";import"./chunk-N57AFEUK.js";import"./chunk-N7PHAMWX.js";import"./chunk-JV7BL2Y3.js";import"./chunk-VGW7YJZ7.js";import"./chunk-HX3FHHCG.js";import"./chunk-ZOOQQO74.js";import"./chunk-SHAZ7EU7.js";import"./chunk-NKBP5F7I.js";import"./chunk-EEYJPINK.js";import"./chunk-BZEC7TCW.js";import"./chunk-MBI4IOAA.js";import"./chunk-GIHBFCPM.js";import"./chunk-W5OI4BJ2.js";import"./chunk-TKTKGUCU.js";import"./chunk-G7LWVLCX.js";import"./chunk-M3GEY4SR.js";import"./chunk-7QY3BMVN.js";import"./chunk-4HXOVZYF.js";import"./chunk-U2QVIRVP.js";import"./chunk-VXOK76QV.js";import"./chunk-FYZRIMPP.js";import"./chunk-IRJFYPO2.js";import"./chunk-2UWML3DK.js";import"./chunk-WKOJXXCZ.js";import"./chunk-MNLP6AEE.js";import"./chunk-RH6QQ4K6.js";import"./chunk-WSUW6W66.js";import"./chunk-RZU6EEB3.js";import"./chunk-XFFNQH2H.js";import"./chunk-VL6L3PH6.js";import{d}from"./chunk-EGQHBYFL.js";import"./chunk-UULYHJV4.js";import"./chunk-LGUXUFJ7.js";import{a as m}from"./chunk-KZREEH45.js";import"./chunk-BGARZEEH.js";import"./chunk-B3I4XIHJ.js";import"./chunk-6EFGHIXX.js";import"./chunk-DZ3DW7ED.js";import"./chunk-3XRT3SNQ.js";import{a as b}from"./chunk-YEFTRNE3.js";import"./chunk-5OGCWDP4.js";import"./chunk-JBJTQF7V.js";import"./chunk-CN5O6E6T.js";import{n as u}from"./chunk-4KJ462UD.js";import"./chunk-HSB35X5B.js";import"./chunk-IFUI4HFB.js";import"./chunk-JOOJSGLF.js";import"./chunk-MYELF7MV.js";import"./chunk-MS3ZOARX.js";import"./chunk-KCKP7FIY.js";import"./chunk-BQABCLW6.js";import"./chunk-HTB4QCFJ.js";import"./chunk-7K4WIBFN.js";import"./chunk-Z77VHNI3.js";import"./chunk-LMIKL5PS.js";import"./chunk-OKLB3DLR.js";import"./chunk-DWZPFSNU.js";import"./chunk-MCIUWLYC.js";import"./chunk-EEZEB3RB.js";import"./chunk-45GFWXQC.js";import"./chunk-AUVYUYNK.js";import"./chunk-PUCLHWWW.js";import"./chunk-DMYB246F.js";import"./chunk-YEFC7M4L.js";import"./chunk-C7M5MSEL.js";import"./chunk-HPJ6EQFO.js";import"./chunk-ZOTIMGGE.js";import"./chunk-7UQPY7PH.js";import"./chunk-OHIIU6WS.js";import"./chunk-RCWJNG4Z.js";import"./chunk-VVAIF23J.js";import"./chunk-O5K35OSE.js";import"./chunk-D6LLE2YP.js";import"./chunk-I3S324BU.js";import"./chunk-O5IGEGOS.js";import"./chunk-2UDQ3IWX.js";import"./chunk-MXH75ZNY.js";import"./chunk-PQKTT6AH.js";import"./chunk-OM24DGCK.js";import"./chunk-YQRTHGFD.js";import"./chunk-EDSVJRYE.js";import"./chunk-TQYOVOJO.js";import"./chunk-QAVDKCSH.js";import"./chunk-H2AOS66Z.js";import"./chunk-VGGNZXSE.js";import"./chunk-YH4Z47PR.js";import"./chunk-CJJRHJ2S.js";import"./chunk-574KRDZU.js";import"./chunk-ZWFVPWKA.js";import"./chunk-JOYABHZZ.js";import"./chunk-IEXZWAIE.js";import"./chunk-VDN3XKL2.js";import"./chunk-SVEGZVCP.js";import"./chunk-AQ74ANSJ.js";import"./chunk-SAOUSUZE.js";import"./chunk-6MGDEI2H.js";import"./chunk-QSGARGRB.js";import"./chunk-SREKDU6P.js";import"./chunk-IXIJFOEL.js";import"./chunk-QZ4L25WE.js";import"./chunk-4ATIL3QV.js";import"./chunk-WUM4JBII.js";import"./chunk-URUYU25U.js";import"./chunk-3S2DT2SI.js";import"./chunk-7PPV2CP7.js";import"./chunk-U62SHMHB.js";import"./chunk-55ESOXMJ.js";import"./chunk-BCREO4Q5.js";import"./chunk-EJ3VIBAJ.js";import"./chunk-4LHUJTP5.js";import"./chunk-NBRBW7H5.js";import{a,g as p}from"./chunk-CBOFHDSC.js";import"./chunk-HB7BVTLV.js";import"./chunk-WZKL6OPG.js";import"./chunk-WF37UVOV.js";import"./chunk-UZQ577CU.js";import{b as w}from"./chunk-FC3MPJI4.js";import"./chunk-5ETRXDS4.js";import"./chunk-QDNKD3H5.js";import"./chunk-B4PK7RBX.js";import"./chunk-6J4Y65BV.js";import"./chunk-RXHILZH7.js";import"./chunk-URPCXPAW.js";import"./chunk-KBFIYTBH.js";import"./chunk-PEPXQ7N3.js";import"./chunk-VU5W7W6Y.js";import"./chunk-6QIKBCPR.js";import"./chunk-AHKJJNRE.js";import"./chunk-HBTOKQC5.js";import"./chunk-A52LT7YB.js";import"./chunk-CZPMRK53.js";import"./chunk-IDSF2RZ6.js";import"./chunk-2BBIRZVO.js";import"./chunk-WQAXQD4X.js";import"./chunk-IUPUERVS.js";import"./chunk-XF4NUYV7.js";import"./chunk-FNDPIYNC.js";import"./chunk-WMYPRHRR.js";import{R as f}from"./chunk-IAMDMFZ7.js";import{a as g}from"./chunk-53MWZ23O.js";import"./chunk-PT7S6WNL.js";import"./chunk-XDTDVCGP.js";import"./chunk-JPDAKIWT.js";import"./chunk-465DRXTW.js";import"./chunk-AC62Z3FX.js";import{g as c}from"./chunk-ESDYQQXO.js";var y=class extends _(T){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}hitTest(e,t){return c(this,null,function*(){if(!this.graphicsViews.length)return null;let s=this.layer;return this.graphicsViews.reverse().flatMap(r=>{let i=this._popupTemplates.get(r),l=r.hitTest(e);for(let o of l)o.layer=s,o.sourceLayer=s,o.popupTemplate=i;return l}).map(r=>({type:"graphic",graphic:r,layer:s,mapPoint:e}))})}update(e){if(this.graphicsViews)for(let t of this.graphicsViews)t.processUpdate(e)}attach(){this.addAttachHandles([a(()=>this.layer?.featureCollections,e=>{this._clear();for(let{popupInfo:t,featureSet:s,layerDefinition:r}of e){let i=b.fromJSON(s),l=new w(i.features),o=r.drawingInfo,v=t?u.fromJSON(t):null,n=d(o.renderer),h=new S({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:l,renderer:n,container:new V(this.view.featuresTilingScheme)});this._graphicsViewMap[i.geometryType]=h,this._popupTemplates.set(h,v),i.geometryType!=="polygon"||this.layer.polygonSymbol?i.geometryType!=="polyline"||this.layer.lineSymbol?i.geometryType!=="point"||this.layer.pointSymbol||(this.layer.pointSymbol=n.symbol):this.layer.lineSymbol=n.symbol:this.layer.polygonSymbol=n.symbol,this.graphicsViews.push(h),this.container.addChild(h.container)}},p),a(()=>this.layer?.polygonSymbol,e=>{this._graphicsViewMap.polygon.renderer=new m({symbol:e})},p),a(()=>this.layer?.lineSymbol,e=>{this._graphicsViewMap.polyline.renderer=new m({symbol:e})},p),a(()=>this.layer?.pointSymbol,e=>{this._graphicsViewMap.point.renderer=new m({symbol:e})},p)])}detach(){this._clear()}moveStart(){}moveEnd(){}viewChange(){for(let e of this.graphicsViews)e.viewChange()}_clear(){this.container.removeAllChildren();for(let e of this.graphicsViews)e.destroy();this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}};y=g([f("esri.views.2d.layers.GeoRSSLayerView2D")],y);var R=y;export{R as default};
