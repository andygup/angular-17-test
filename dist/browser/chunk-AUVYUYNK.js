import{b as y}from"./chunk-FC3MPJI4.js";import{K as g}from"./chunk-WMYPRHRR.js";import{b}from"./chunk-IAMDMFZ7.js";var j=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function m(t){return t instanceof g}function V(t){return t instanceof y?Object.keys(t.items):m(t)?b(t).keys():t?Object.keys(t):[]}function p(t,n){return t instanceof y?t.items[n]:t[n]}function P(t,n){return!(!Array.isArray(t)||!Array.isArray(n))&&t.length!==n.length}function c(t){return t?t.declaredClass:null}function D(t,n){let o=t.diff;if(o&&typeof o=="function")return o(t,n);let i=V(t),l=V(n);if(i.length===0&&l.length===0)return;if(!i.length||!l.length||P(t,n))return{type:"complete",oldValue:t,newValue:n};let s=l.filter(e=>!i.includes(e)),w=i.filter(e=>!l.includes(e)),d=i.filter(e=>l.includes(e)&&p(t,e)!==p(n,e)).concat(s,w).sort(),h=c(t);if(h&&j.has(h)&&d.length)return{type:"complete",oldValue:t,newValue:n};let a,A=m(t)&&m(n);for(let e of d){let r=p(t,e),f=p(n,e),u;if((A||typeof r!="function"&&typeof f!="function")&&r!==f&&(r!=null||f!=null)){if(o&&o[e]&&typeof o[e]=="function")u=o[e]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;u={type:"complete",oldValue:r,newValue:f}}else u=typeof r=="object"&&typeof f=="object"&&c(r)===c(f)?D(r,f):{type:"complete",oldValue:r,newValue:f};u!=null&&(a!=null?a.diff[e]=u:a={type:"partial",diff:{[e]:u}})}}return a}function k(t,n){if(t==null)return!1;let o=n.split("."),i=t;for(let l of o){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{let s=i.diff[l];if(!s)return!1;i=s}}return!0}function T(t,n){for(let o of n)if(k(t,o))return!0;return!1}function v(t,n){if(typeof t!="function"&&typeof n!="function"&&(t!=null||n!=null))return t==null||n==null||typeof t=="object"&&typeof n=="object"&&c(t)!==c(n)?{type:"complete",oldValue:t,newValue:n}:D(t,n)}export{k as a,T as b,v as c};
