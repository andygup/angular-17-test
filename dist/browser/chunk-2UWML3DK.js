import{a as s,b as a,d as E}from"./chunk-MNLP6AEE.js";var l,u;function F(t){let e=E(t);for(;e.length>1;){let n=_(e.shift());if(n.available)return n}return _(e.shift())}function _(t){switch(t){case s.WEBGL1:return g();case s.WEBGL2:return m()}}function g(){return l||(l=B()),l}function m(){return u||(u=T()),u}var o=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}},i=class extends o{constructor(){super(...arguments),this.type=s.WEBGL1}},p=class extends o{constructor(){super(...arguments),this.type=s.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}};function x(t,e){if(t===s.WEBGL1&&typeof WebGLRenderingContext>"u"||t===s.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;let n=document.createElement("canvas");if(!n)return null;let r=a(n,t,{failIfMajorPerformanceCaveat:!0});if(r==null&&(r=a(n,t),r!=null&&(e.majorPerformanceCaveat=!0)),r==null)return r;if(t===s.WEBGL1){let d=r.getParameter(r.VERSION),c=d?.match(/^WebGL\s+([\d.]*)/);if(c){let h=parseFloat(c[1]);e.available=h>=.94}}else e.available=!0;e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;let f=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);return f&&(e.supportsHighPrecisionFragment=f.precision>0),r}function B(){let t=new i,e=x(s.WEBGL1,t);return e==null||(t.supportsElementIndexUint=e.getExtension("OES_element_index_uint")!==null,t.supportsStandardDerivatives=e.getExtension("OES_standard_derivatives")!==null,t.supportsInstancedArrays=e.getExtension("ANGLE_instanced_arrays")!==null,t.supportsTextureFloat=e.getExtension("OES_texture_float")!==null,t.supportsTextureHalfFloat=e.getExtension("OES_texture_half_float")!==null,t.supportsColorBufferFloat=e.getExtension("WEBGL_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=e.getExtension("EXT_color_buffer_half_float")!==null),t}function T(){let t=new p,e=x(s.WEBGL2,t);return e==null||(t.supportsColorBufferFloat=e.getExtension("EXT_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||e.getExtension("EXT_color_buffer_half_float")!==null),t}export{F as a};
