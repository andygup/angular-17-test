var p=new Float64Array(2),B=new Float64Array(2);var k="0123456789bcdefghjkmnpqrstuvwxyz";function b(e){return k[e]}function w(e){return(e[0]+e[1])/2}function G(e,r,s){return e[0]=r,e[1]=s,e}function v(e,r){let s=w(e),a=r,t=!r;e[0]=t*e[0]+a*s,e[1]=t*s+a*e[1]}function X(e,r){let s=r>w(e);return v(e,s),s}function x(e,r){let s=-90,a=90,t=-180,c=180;for(let f=0;f<r;f++){let o=Math.ceil((f+1)/2),d=Math.floor((f+1)/2),u=1-f%2,g=30-(3*o+2*d),l=30-(2*o+3*d),h=3*u+2*(1-u),n=2*u+3*(1-u),i=3*u+7*(1-u)<<l,y=(7*u+3*(1-u)<<g&e.geohashX)>>g,M=(i&e.geohashY)>>l;for(let A=h-1;A>=0;A--){let C=(t+c)/2,Y=y&1<<A?1:0;t=(1-Y)*t+Y*C,c=(1-Y)*C+Y*c}for(let A=n-1;A>=0;A--){let C=(s+a)/2,Y=M&1<<A?1:0;s=(1-Y)*s+Y*C,a=(1-Y)*C+Y*a}}return[t,s,c,a]}function F(e,r,s,a){a%2&&(a+=1);let t=0,c=0,f=-90,o=90,d=-180,u=180;for(let g=0;g<a/2;g++){for(let l=0;l<5;l++){let h=(d+u)/2,n=s>h?1:0;t|=n<<29-(l+5*g),d=(1-n)*d+n*h,u=(1-n)*h+n*u}for(let l=0;l<5;l++){let h=(f+o)/2,n=r>h?1:0;c|=n<<29-(l+5*g),f=(1-n)*f+n*h,o=(1-n)*h+n*o}}e.geohashX=t,e.geohashY=c}function j(e,r,s,a,t){t%2&&(t+=1);let c=0,f=0,o=-90,d=90,u=-180,g=180;for(let l=0;l<t/2;l++){for(let h=0;h<5;h++){let n=(u+g)/2,i=a>n?1:0;c|=i<<29-(h+5*l),u=(1-i)*u+i*n,g=(1-i)*n+i*g}for(let h=0;h<5;h++){let n=(o+d)/2,i=s>n?1:0;f|=i<<29-(h+5*l),o=(1-i)*o+i*n,d=(1-i)*n+i*d}}e[2*r]=c,e[2*r+1]=f}function m(e,r,s){let a="",t=G(p,-90,90),c=G(B,-180,180);for(let f=0;f<s;f++){let o=0;f%2?(o|=X(t,e)<<4,o|=X(c,r)<<3,o|=X(t,e)<<2,o|=X(c,r)<<1,o|=X(t,e)<<0):(o|=X(c,r)<<4,o|=X(t,e)<<3,o|=X(c,r)<<2,o|=X(t,e)<<1,o|=X(c,r)<<0),a+=b(o)}return a}export{x as a,F as b,j as c,m as d};
