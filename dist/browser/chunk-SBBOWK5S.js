import{A as d,B as T,C as x,H as E,a as e,l as C,o as A,z as S}from"./chunk-4LHUJTP5.js";import{a as O}from"./chunk-NBRBW7H5.js";var W=e(),Y=e(),Z=e(),$=e(),tt=e();function w(t=U){return[t[0],t[1],t[2],t[3]]}function z(t,r,s,a=w()){let c=s[0]-r[0],u=s[1]-r[1],n=s[2]-r[2],o=t[0]-r[0],f=t[1]-r[1],i=t[2]-r[2],M=u*i-n*f,m=n*o-c*i,h=c*f-u*o,l=M*M+m*m+h*h,p=Math.abs(l-1)>1e-5&&l>1e-12?1/Math.sqrt(l):1;return a[0]=M*p,a[1]=m*p,a[2]=h*p,a[3]=-(a[0]*t[0]+a[1]*t[1]+a[2]*t[2]),a}function D(t,r,s,a=0,c=Math.floor(s*(1/3)),u=Math.floor(s*(2/3))){if(s<3)return!1;r(F,a);let n=c,o=!1;for(;n<s-1&&!o;)r(N,n),n++,o=!E(F,N);if(!o)return!1;for(n=Math.max(n,u),o=!1;n<s&&!o;)r(P,n),n++,A(y,F,N),d(y,y),A(v,N,P),d(v,v),o=!E(F,P)&&!E(N,P)&&Math.abs(T(y,v))<R;return o?(z(F,N,P,t),!0):(a!==0||c!==1||u!==2)&&D(t,r,s,0,1,2)}var R=.99619469809,F=e(),N=e(),P=e(),y=e(),v=e();var dt=(()=>{let t=e();return(r,s,a)=>{let c=r,u=s;if(x(t,c,u),S(t)<O())return!1;d(t,t);let[n,o,f]=t,i=a.origin,M=Math.abs(n),m=Math.abs(o),h=Math.abs(f),[l,p,L]=c,[j,q,_]=u,I=r[3],g=s[3];return M>m&&M>h?(i[1]=(g*L-I*_)/n,i[2]=(I*q-g*p)/n):m>h?(i[0]=(I*_-g*L)/o,i[2]=(g*l-I*j)/o):(i[0]=(g*p-I*q)/f,i[1]=(I*j-g*l)/f),C(a.direction,t),!0}})();var U=[0,0,1,0],b;(function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"})(b||(b={}));var Ft=b.INFINITE_MIN|b.INFINITE_MAX,Pt=b.INFINITE_MAX;export{w as a,D as b};
