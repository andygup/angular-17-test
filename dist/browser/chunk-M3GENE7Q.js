import{l as L,m as h,x as C}from"./chunk-225WJVLD.js";var k="calciteInternalLabelClick",f="calciteInternalLabelConnected",E="calciteInternalLabelDisconnected",v="calcite-label",r=new WeakMap,i=new WeakMap,c=new WeakMap,b=new WeakMap,n=new WeakSet,m=e=>{let{id:t}=e,l=t&&L(e,{selector:`${v}[for="${t}"]`});if(l)return l;let s=h(e,v);return!s||w(s,e)?null:s};function w(e,t){let l,s="custom-element-ancestor-check",d=a=>{a.stopImmediatePropagation();let u=a.composedPath();l=u.slice(u.indexOf(t),u.indexOf(e))};return e.addEventListener(s,d,{once:!0}),t.dispatchEvent(new CustomEvent(s,{composed:!0,bubbles:!0})),e.removeEventListener(s,d),l.filter(a=>a!==t&&a!==e).filter(a=>a.tagName?.includes("-")).length>0}function D(e){let t=m(e.el);if(i.has(t)&&t===e.labelEl||!t&&n.has(e))return;let l=x.bind(e);if(t){e.labelEl=t;let s=r.get(t)||[];s.push(e),r.set(t,s.sort(M)),i.has(e.labelEl)||(i.set(e.labelEl,g),e.labelEl.addEventListener(k,g)),n.delete(e),document.removeEventListener(f,c.get(e)),b.set(e,l),document.addEventListener(E,l)}else n.has(e)||(l(),document.removeEventListener(E,b.get(e)))}function T(e){if(n.delete(e),document.removeEventListener(f,c.get(e)),document.removeEventListener(E,b.get(e)),c.delete(e),b.delete(e),!e.labelEl)return;let t=r.get(e.labelEl);t.length===1&&(e.labelEl.removeEventListener(k,i.get(e.labelEl)),i.delete(e.labelEl)),r.set(e.labelEl,t.filter(l=>l!==e).sort(M)),e.labelEl=null}function M(e,t){return C(e.el,t.el)?-1:1}function W(e){return e.label||e.labelEl?.textContent?.trim()||""}function g(e){let t=e.detail.sourceEvent.target,l=r.get(this),s=l.find(a=>a.el===t);if(l.includes(s))return;let o=l[0];o.disabled||o.onLabelClick(e)}function O(){n.has(this)&&D(this)}function x(){n.add(this);let e=c.get(this)||O.bind(this);c.set(this,e),document.addEventListener(f,e)}export{f as a,E as b,D as c,T as d,W as e};
