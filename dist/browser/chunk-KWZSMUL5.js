import{a as S}from"./chunk-U3QAV4TV.js";import{a as v,b as y,c}from"./chunk-YQRTHGFD.js";import{$ as u}from"./chunk-XF4NUYV7.js";import"./chunk-FNDPIYNC.js";import"./chunk-WMYPRHRR.js";import"./chunk-IAMDMFZ7.js";import"./chunk-53MWZ23O.js";import"./chunk-PT7S6WNL.js";import"./chunk-XDTDVCGP.js";import"./chunk-JPDAKIWT.js";import{r as g}from"./chunk-465DRXTW.js";import"./chunk-AC62Z3FX.js";import{a as o,b as a,g as m}from"./chunk-ESDYQQXO.js";function k(r,t,n){return m(this,null,function*(){let i=y(r),e=t.toJSON();t.validationSet&&(e.validationSet=JSON.stringify(t.validationSet));let d=a(o({},e),{returnEdits:!0,f:"json"}),l=c(o(o({},i.query),d)),s=v(l,a(o({},n),{method:"post"})),w=`${i.path}/validateNetworkTopology`,{data:N}=yield u(w,s),p=S.fromJSON(N);return p.serviceEdits=p.serviceEdits?.map(f=>({layerId:f.id,editedFeatures:f.editedFeatures}))??[],p})}function E(r,t,n){return m(this,null,function*(){if(!t.gdbVersion)throw new g("submit-validate-network-topology-job:missing-gdb-version","version is missing");let i=y(r),e=t.toJSON();t.validationSet&&(e.validationSet=JSON.stringify(t.validationSet));let d=v(i.query,a(o({query:c(a(o({},e),{returnEdits:!0,async:!0,f:"json"}))},n),{method:"post"})),l=`${i.path}/validateNetworkTopology`,{data:s}=yield u(l,d);return s?s.statusUrl:null})}export{E as submitValidateNetworkTopologyJob,k as validateNetworkTopology};
