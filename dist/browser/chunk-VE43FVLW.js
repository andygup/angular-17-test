import{a as n}from"./chunk-PZJU7G7R.js";import{h as l,i as m}from"./chunk-QSZTU4I5.js";import"./chunk-I7VAY2DR.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import{d as o}from"./chunk-WAZIXELF.js";import{a as y,b as i,g as u}from"./chunk-FBHJEXCM.js";import"./chunk-URUYU25U.js";import"./chunk-3S2DT2SI.js";import"./chunk-7PPV2CP7.js";import"./chunk-U62SHMHB.js";import"./chunk-55ESOXMJ.js";import"./chunk-BCREO4Q5.js";import"./chunk-EJ3VIBAJ.js";import"./chunk-4LHUJTP5.js";import"./chunk-NBRBW7H5.js";import"./chunk-V2KSICSA.js";import"./chunk-HB7BVTLV.js";import"./chunk-QDNKD3H5.js";import"./chunk-ARS6KN6E.js";import"./chunk-F72O5PVM.js";import"./chunk-B4PK7RBX.js";import"./chunk-6J4Y65BV.js";import"./chunk-RXHILZH7.js";import"./chunk-6QIKBCPR.js";import"./chunk-AHKJJNRE.js";import"./chunk-HBTOKQC5.js";import"./chunk-A52LT7YB.js";import"./chunk-CZPMRK53.js";import"./chunk-IDSF2RZ6.js";import"./chunk-2BBIRZVO.js";import"./chunk-WQAXQD4X.js";import"./chunk-IUPUERVS.js";import"./chunk-XF4NUYV7.js";import"./chunk-FNDPIYNC.js";import"./chunk-WMYPRHRR.js";import"./chunk-IAMDMFZ7.js";import"./chunk-53MWZ23O.js";import"./chunk-PT7S6WNL.js";import"./chunk-XDTDVCGP.js";import"./chunk-JPDAKIWT.js";import"./chunk-465DRXTW.js";import"./chunk-AC62Z3FX.js";import{g as t}from"./chunk-ESDYQQXO.js";var p="Group Layer",I="group-layer-save",R="group-layer-save-as",c=u.GROUP_LAYER_MAP;function v(e){return{isValid:e.type==="group",errorMessage:"Layer.type should be 'group'"}}function g(e){return{isValid:i(e,c),errorMessage:`Layer.portalItem.typeKeywords should have '${c}'`}}function f(e){let r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}function L(e,r){return t(this,null,function*(){r.title||=e.title,y(r,c)})}function A(e,r){return t(this,null,function*(){return l({layer:e,itemType:p,validateLayer:v,validateItem:g,createJSONContext:a=>o(a,e),createItemData:f,errorNamePrefix:I,saveResources:(a,s)=>t(this,null,function*(){return e.sourceIsPortalItem||(yield a.removeAllResources().catch(()=>{})),n(e.resourceReferences,s)})},r)})}function N(e,r,a){return t(this,null,function*(){return m({layer:e,itemType:p,validateLayer:v,createJSONContext:s=>o(s,e),createItemData:f,errorNamePrefix:R,newItem:r,setItemProperties:L,saveResources:(s,d)=>n(e.resourceReferences,d)},a)})}export{A as save,N as saveAs};
