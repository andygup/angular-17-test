import{a as y}from"./chunk-Y4SWPZQY.js";import{a as G}from"./chunk-DUAAYE7V.js";import{A as _,B as v,C as d,L as z,a as I,c as P}from"./chunk-4LHUJTP5.js";import{a as x,b as j,e as E,f as k,g as L,h as O,i as S,j as T,k as w,l as B,m as C,n as D,o as F}from"./chunk-NBRBW7H5.js";function K(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function X(n,a,e){e*=.5;let o=Math.sin(e);return n[0]=o*a[0],n[1]=o*a[1],n[2]=o*a[2],n[3]=Math.cos(e),n}function N(n,a){let e=2*Math.acos(a[3]),o=Math.sin(e/2);return o>x()?(n[0]=a[0]/o,n[1]=a[1]/o,n[2]=a[2]/o):(n[0]=1,n[1]=0,n[2]=0),e}function Y(n,a,e){let o=a[0],r=a[1],c=a[2],t=a[3],s=e[0],u=e[1],i=e[2],h=e[3];return n[0]=o*h+t*s+r*i-c*u,n[1]=r*h+t*u+c*s-o*i,n[2]=c*h+t*i+o*u-r*s,n[3]=t*h-o*s-r*u-c*i,n}function Q(n,a,e){e*=.5;let o=a[0],r=a[1],c=a[2],t=a[3],s=Math.sin(e),u=Math.cos(e);return n[0]=o*u+t*s,n[1]=r*u+c*s,n[2]=c*u-r*s,n[3]=t*u-o*s,n}function U(n,a,e){e*=.5;let o=a[0],r=a[1],c=a[2],t=a[3],s=Math.sin(e),u=Math.cos(e);return n[0]=o*u-c*s,n[1]=r*u+t*s,n[2]=c*u+o*s,n[3]=t*u-r*s,n}function V(n,a,e){e*=.5;let o=a[0],r=a[1],c=a[2],t=a[3],s=Math.sin(e),u=Math.cos(e);return n[0]=o*u+r*s,n[1]=r*u-o*s,n[2]=c*u+t*s,n[3]=t*u-c*s,n}function $(n,a){let e=a[0],o=a[1],r=a[2];return n[0]=e,n[1]=o,n[2]=r,n[3]=Math.sqrt(Math.abs(1-e*e-o*o-r*r)),n}function b(n,a,e,o){let r=a[0],c=a[1],t=a[2],s=a[3],u,i,h,f,l,m=e[0],p=e[1],q=e[2],g=e[3];return i=r*m+c*p+t*q+s*g,i<0&&(i=-i,m=-m,p=-p,q=-q,g=-g),1-i>x()?(u=Math.acos(i),h=Math.sin(u),f=Math.sin((1-o)*u)/h,l=Math.sin(o*u)/h):(f=1-o,l=o),n[0]=f*r+l*m,n[1]=f*c+l*p,n[2]=f*t+l*q,n[3]=f*s+l*g,n}function nn(n){let a=j,e=a(),o=a(),r=a(),c=Math.sqrt(1-e),t=Math.sqrt(e);return n[0]=c*Math.sin(2*Math.PI*o),n[1]=c*Math.cos(2*Math.PI*o),n[2]=t*Math.sin(2*Math.PI*r),n[3]=t*Math.cos(2*Math.PI*r),n}function an(n,a){let e=a[0],o=a[1],r=a[2],c=a[3],t=e*e+o*o+r*r+c*c,s=t?1/t:0;return n[0]=-e*s,n[1]=-o*s,n[2]=-r*s,n[3]=c*s,n}function on(n,a){return n[0]=-a[0],n[1]=-a[1],n[2]=-a[2],n[3]=a[3],n}function Z(n,a){let e=a[0]+a[4]+a[8],o;if(e>0)o=Math.sqrt(e+1),n[3]=.5*o,o=.5/o,n[0]=(a[5]-a[7])*o,n[1]=(a[6]-a[2])*o,n[2]=(a[1]-a[3])*o;else{let r=0;a[4]>a[0]&&(r=1),a[8]>a[3*r+r]&&(r=2);let c=(r+1)%3,t=(r+2)%3;o=Math.sqrt(a[3*r+r]-a[3*c+c]-a[3*t+t]+1),n[r]=.5*o,o=.5/o,n[3]=(a[3*c+t]-a[3*t+c])*o,n[c]=(a[3*c+r]+a[3*r+c])*o,n[t]=(a[3*t+r]+a[3*r+t])*o}return n}function rn(n,a,e,o){let r=.5*Math.PI/180;a*=r,e*=r,o*=r;let c=Math.sin(a),t=Math.cos(a),s=Math.sin(e),u=Math.cos(e),i=Math.sin(o),h=Math.cos(o);return n[0]=c*u*h-t*s*i,n[1]=t*s*h+c*u*i,n[2]=t*u*i-c*s*h,n[3]=t*u*h+c*s*i,n}function en(n){return"quat("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"}var cn=E,tn=k,sn=L,un=Y,hn=O,Mn=B,fn=C,H=S,ln=H,J=T,mn=J,A=w,pn=D,qn=F;function gn(n,a,e){let o=v(a,e);return o<-.999999?(d(M,dn,a),z(M)<1e-6&&d(M,bn,a),_(M,M),X(n,M,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(d(M,a,e),n[0]=M[0],n[1]=M[1],n[2]=M[2],n[3]=1+o,A(n,n))}var M=I(),dn=P(1,0,0),bn=P(0,1,0);function Pn(n,a,e,o,r,c){return b(R,a,r,c),b(W,e,o,c),b(n,R,W,2*c*(1-c)),n}var R=y(),W=y();function xn(n,a,e,o){let r=yn;return r[0]=e[0],r[3]=e[1],r[6]=e[2],r[1]=o[0],r[4]=o[1],r[7]=o[2],r[2]=-a[0],r[5]=-a[1],r[8]=-a[2],A(n,Z(n,r))}var yn=G(),En=Object.freeze(Object.defineProperty({__proto__:null,add:sn,calculateW:$,conjugate:on,copy:cn,dot:Mn,equals:qn,exactEquals:pn,fromEuler:rn,fromMat3:Z,getAxisAngle:N,identity:K,invert:an,len:ln,length:H,lerp:fn,mul:un,multiply:Y,normalize:A,random:nn,rotateX:Q,rotateY:U,rotateZ:V,rotationTo:gn,scale:hn,set:tn,setAxes:xn,setAxisAngle:X,slerp:b,sqlerp:Pn,sqrLen:mn,squaredLength:J,str:en},Symbol.toStringTag,{value:"Module"}));export{X as a,N as b,Y as c,on as d,rn as e,cn as f,pn as g};
