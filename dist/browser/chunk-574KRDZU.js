import{b as M}from"./chunk-AQ74ANSJ.js";import{b as g}from"./chunk-SAOUSUZE.js";import{a as i,c as h}from"./chunk-IXIJFOEL.js";function c(){let e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function P(e){let t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function T(e,t,r,o,n,I,J,R,v,Y,F,X,k,A,V,H){let s=new Float32Array(16);return s[0]=e,s[1]=t,s[2]=r,s[3]=o,s[4]=n,s[5]=I,s[6]=J,s[7]=R,s[8]=v,s[9]=Y,s[10]=F,s[11]=X,s[12]=k,s[13]=A,s[14]=V,s[15]=H,s}function j(e,t){return new Float32Array(e,t,16)}var z=c(),B=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:z,clone:P,create:c,createView:j,fromValues:T},Symbol.toStringTag,{value:"Module"}));var x=(e,t)=>{let r=i(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return h(r,r)},b=(e,t)=>{let r=i(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return h(r,r)},w=(e,t)=>{let r=1-t,o=i(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return h(o,o)},_=(e,t)=>{let r=Math.sin(t*Math.PI/180),o=Math.cos(t*Math.PI/180),n=i(e,.213+.787*o-.213*r,.715-.715*o-.715*r,.072-.072*o+.928*r,0,.213-.213*o+.143*r,.715+.285*o+.14*r,.072-.072*o-.283*r,0,.213-.213*o-.787*r,.715-.715*o+.715*r,.072+.928*o+.072*r,0,0,0,0,1);return h(n,n)},E=(e,t)=>{let r=1-2*t,o=i(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return h(o,o)},O=(e,t)=>{let r=i(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return h(r,r)},S=(e,t)=>{let r=1-t,o=i(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return h(o,o)};var f=class e{constructor(t,r,o){this.strength=t,this.radius=r,this.threshold=o,this.type="bloom"}interpolate(t,r,o){this.strength=a(t.strength,r.strength,o),this.radius=a(t.radius,r.radius,o),this.threshold=a(t.threshold,r.threshold,o)}clone(){return new e(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:u(this.radius),strength:this.strength,threshold:this.threshold}}},p=class e{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,o){this.radius=Math.round(a(t.radius,r.radius,o))}clone(){return new e(this.radius)}toJSON(){return{type:"blur",radius:u(this.radius)}}},l=class e{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,o){this.amount=a(t.amount,r.amount,o),this._updateMatrix()}clone(){return new e(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){let t=this._colorMatrix||c();switch(this.type){case"brightness":this._colorMatrix=x(t,this.amount);break;case"contrast":this._colorMatrix=b(t,this.amount);break;case"grayscale":this._colorMatrix=w(t,this.amount);break;case"invert":this._colorMatrix=E(t,this.amount);break;case"saturate":this._colorMatrix=O(t,this.amount);break;case"sepia":this._colorMatrix=S(t,this.amount)}}},d=class e{constructor(t,r,o,n){this.offsetX=t,this.offsetY=r,this.blurRadius=o,this.color=n,this.type="drop-shadow"}interpolate(t,r,o){this.offsetX=a(t.offsetX,r.offsetX,o),this.offsetY=a(t.offsetY,r.offsetY,o),this.blurRadius=a(t.blurRadius,r.blurRadius,o),this.color[0]=Math.round(a(t.color[0],r.color[0],o)),this.color[1]=Math.round(a(t.color[1],r.color[1],o)),this.color[2]=Math.round(a(t.color[2],r.color[2],o)),this.color[3]=a(t.color[3],r.color[3],o)}clone(){return new e(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){let t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:u(this.offsetX),yoffset:u(this.offsetY),blurRadius:u(this.blurRadius),color:t}}},m=class e{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,o){this.angle=a(t.angle,r.angle,o),this._updateMatrix()}clone(){return new e(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){let t=this._colorMatrix||c();this._colorMatrix=_(t,this.angle)}},y=class e{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,o){this.amount=a(t.amount,r.amount,o)}clone(){return new e(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function a(e,t,r){return e+(t-e)*r}function u(e){return Math.round(1e3*M(e))/1e3}function N(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new l(e.type,0);case"saturate":case"brightness":case"contrast":return new l(e.type,1);case"opacity":return new y(1);case"hue-rotate":return new m(0);case"blur":return new p(0);case"drop-shadow":return new d(0,0,0,[...g("transparent")]);case"bloom":return new f(0,0,1)}}function Z(e,t){let r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((o,n)=>o.type===r[n].type)}function $(e,t){let r=e.length>t.length?e:t,o=e.length>t.length?t:e;for(let n=o.length;n<r.length;n++)o.push(N(r[n]))}function tt(e){let t=e[0];return!!t&&"type"in t}export{f as a,p as b,l as c,d,m as e,y as f,Z as g,$ as h,tt as i};
