import{l as b,m as f}from"./chunk-225WJVLD.js";import{d as C}from"./chunk-RIZAJ3RX.js";var m="hidden-form-input";function E(e){return"checked"in e}var h=new WeakMap,F=new WeakSet;function R(e,t){if(f(t.parentElement,"[form]"))return!0;let n="calciteInternalFormComponentRegister",a=!1;return e.addEventListener(n,d=>{a=d.composedPath().some(u=>F.has(u)),d.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),a}function A(e){let{formEl:t}=e;return t?(t.requestSubmit(),!0):!1}function L(e){e.formEl?.reset()}function P(e){let{el:t,value:r}=e,n=y(e);if(!n||R(n,t))return;e.formEl=n,e.defaultValue=r,E(e)&&(e.defaultChecked=e.checked);let a=(e.onFormReset||H).bind(e);n.addEventListener("reset",a),h.set(e.el,a),F.add(t)}function y(e){let{el:t,form:r}=e;return r?b(t,{id:r}):f(t,"form")}function H(){if(E(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function V(e){let{el:t,formEl:r}=e;if(!r)return;let n=h.get(t);r.removeEventListener("reset",n),h.delete(t),e.formEl=null,F.delete(t)}var I=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},g=e=>e.removeEventListener("change",I);function w(e){let{el:t,formEl:r,name:n,value:a}=e,{ownerDocument:d}=t,u=t.querySelectorAll(`input[slot="${m}"]`);if(!r||!n){u.forEach(s=>{g(s),s.remove()});return}let c=Array.isArray(a)?a:[a],i=[],v=new Set;u.forEach(s=>{let o=c.find(S=>S==s.value);o!=null?(v.add(o),k(e,s,o)):i.push(s)});let l;c.forEach(s=>{if(v.has(s))return;let o=i.pop();o||(o=d.createElement("input"),o.slot=m),l||(l=d.createDocumentFragment()),l.append(o),o.addEventListener("change",I),k(e,o,s)}),l&&t.append(l),i.forEach(s=>{g(s),s.remove()})}function k(e,t,r){let{defaultValue:n,disabled:a,form:d,name:u,required:c}=e;t.defaultValue=n,t.disabled=a,t.name=u,t.required=c,t.tabIndex=-1,d?t.setAttribute("form",d):t.removeAttribute("form"),E(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?r||"on":""):t.value=r||"",e.syncHiddenFormInput?.(t)}var W=({component:e})=>(w(e),C("slot",{name:m}));export{A as a,L as b,P as c,y as d,V as e,W as f};
