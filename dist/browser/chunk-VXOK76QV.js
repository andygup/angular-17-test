import{a as g,b as y,c as I,d as q,e as p}from"./chunk-4ATIL3QV.js";var c=(u,n,t)=>[n,t],s=(u,n,t)=>[n,t,u[2]],f=(u,n,t)=>[n,t,u[2],u[3]];function C(u){return u?{originPosition:u.originPosition==="upper-left"?"upperLeft":u.originPosition==="lower-left"?"lowerLeft":u.originPosition,scale:u.tolerance?[u.tolerance,u.tolerance]:[1,1],translate:u.extent!=null?[u.extent.xmin,u.extent.ymax]:[0,0]}:null}function x({scale:u,translate:n},t){return Math.round((t-n[0])/u[0])}function z({scale:u,translate:n},t){return Math.round((n[1]-t)/u[1])}function h(u,n,t){let a=[],r,i,e,o;for(let m=0;m<t.length;m++){let l=t[m];m>0?(e=x(u,l[0]),o=z(u,l[1]),e===r&&o===i||(a.push(n(l,e-r,o-i)),r=e,i=o)):(r=x(u,l[0]),i=z(u,l[1]),a.push(n(l,r,i)))}return a.length>0?a:null}function T(u,n,t,a){return h(u,t?a?f:s:a?s:c,n)}function E(u,n,t,a){let r=[],i=t?a?f:s:a?s:c;for(let e=0;e<n.length;e++){let o=h(u,i,n[e]);o&&o.length>=3&&r.push(o)}return r.length?r:null}function A(u,n,t,a){let r=[],i=t?a?f:s:a?s:c;for(let e=0;e<n.length;e++){let o=h(u,i,n[e]);o&&o.length>=2&&r.push(o)}return r.length?r:null}function P({scale:u,translate:n},t){return t*u[0]+n[0]}function N({scale:u,translate:n},t){return n[1]-t*u[1]}function d(u,n,t){let a=new Array(t.length);if(!t.length)return a;let[r,i]=u.scale,e=P(u,t[0][0]),o=N(u,t[0][1]);a[0]=n(t[0],e,o);for(let m=1;m<t.length;m++){let l=t[m];e+=l[0]*r,o-=l[1]*i,a[m]=n(l,e,o)}return a}function M(u,n,t){let a=new Array(t.length);for(let r=0;r<t.length;r++)a[r]=d(u,n,t[r]);return a}function Y(u,n,t,a){return d(u,t?a?f:s:a?s:c,n)}function b(u,n,t,a){return M(u,t?a?f:s:a?s:c,n)}function B(u,n,t,a){return M(u,t?a?f:s:a?s:c,n)}function F(u,n,t,a,r){return n.xmin=x(u,t.xmin),n.ymin=z(u,t.ymin),n.xmax=x(u,t.xmax),n.ymax=z(u,t.ymax),n!==t&&(a&&(n.zmin=t.zmin,n.zmax=t.zmax),r&&(n.mmin=t.mmin,n.mmax=t.mmax)),n}function V(u,n,t,a,r){return n.points=T(u,t.points,a,r)??[],n}function _(u,n,t,a,r){return n.x=x(u,t.x),n.y=z(u,t.y),n!==t&&(a&&(n.z=t.z),r&&(n.m=t.m)),n}function Q(u,n,t,a,r){let i=E(u,t.rings,a,r);return i?(n.rings=i,n):null}function w(u,n,t,a,r){let i=A(u,t.paths,a,r);return i?(n.paths=i,n):null}function L(u,n){return u&&n?I(n)?_(u,{},n,!1,!1):q(n)?w(u,{},n,!1,!1):p(n)?Q(u,{},n,!1,!1):y(n)?V(u,{},n,!1,!1):g(n)?F(u,{},n,!1,!1):null:null}function O(u,n,t,a,r){return t!=null&&(n.points=Y(u,t.points,a,r)),n}function S(u,n,t,a,r){return t==null||(n.x=P(u,t.x),n.y=N(u,t.y),n!==t&&(a&&(n.z=t.z),r&&(n.m=t.m))),n}function R(u,n,t,a,r){return t!=null&&(n.rings=B(u,t.rings,a,r)),n}function X(u,n,t,a,r){return t!=null&&(n.paths=b(u,t.paths,a,r)),n}export{C as a,_ as b,L as c,O as d,S as e,R as f,X as g};
